(this["webpackJsonpdata-browser"]=this["webpackJsonpdata-browser"]||[]).push([[0],{148:function(e){e.exports=JSON.parse('{"dimensionIds":["COMUNE","COM","ITTER_107","ITTER107","REF_AREA"],"defaultFilterValue":"IT","labels":["Region","Province","Municipality"],"values":[{"id":"ITC1","name":"Piemonte","children":[{"id":"ITC11","name":"Torino","children":[{"id":"001001","name":"Agli\xe8"},{"id":"001002","name":"Airasca"},{"id":"001003","name":"Ala di Stura"},{"id":"001004","name":"Albiano d\'Ivrea"},{"id":"001005","name":"Alice Superiore"},{"id":"001006","name":"Almese"},{"id":"001007","name":"Alpette"},{"id":"001008","name":"Alpignano"},{"id":"001009","name":"Andezeno"},{"id":"001010","name":"Andrate"},{"id":"001011","name":"Angrogna"},{"id":"001012","name":"Arignano"},{"id":"001013","name":"Avigliana"},{"id":"001014","name":"Azeglio"},{"id":"001015","name":"Bairo"},{"id":"001016","name":"Balangero"},{"id":"001017","name":"Baldissero Canavese"},{"id":"001018","name":"Baldissero Torinese"},{"id":"001019","name":"Balme"},{"id":"001020","name":"Banchette"},{"id":"001021","name":"Barbania"},{"id":"001022","name":"Bardonecchia"},{"id":"001023","name":"Barone Canavese"},{"id":"001024","name":"Beinasco"},{"id":"001025","name":"Bibiana"},{"id":"001026","name":"Bobbio Pellice"},{"id":"001027","name":"Bollengo"},{"id":"001028","name":"Borgaro Torinese"},{"id":"001029","name":"Borgiallo"},{"id":"001030","name":"Borgofranco d\'Ivrea"},{"id":"001031","name":"Borgomasino"},{"id":"001032","name":"Borgone Susa"},{"id":"001033","name":"Bosconero"},{"id":"001034","name":"Brandizzo"},{"id":"001035","name":"Bricherasio"},{"id":"001036","name":"Brosso"},{"id":"001037","name":"Brozolo"},{"id":"001038","name":"Bruino"},{"id":"001039","name":"Brusasco"},{"id":"001040","name":"Bruzolo"},{"id":"001041","name":"Buriasco"},{"id":"001042","name":"Burolo"},{"id":"001043","name":"Busano"},{"id":"001044","name":"Bussoleno"},{"id":"001045","name":"Buttigliera Alta"},{"id":"001046","name":"Cafasse"},{"id":"001047","name":"Caluso"},{"id":"001048","name":"Cambiano"},{"id":"001049","name":"Campiglione Fenile"},{"id":"001050","name":"Candia Canavese"},{"id":"001051","name":"Candiolo"},{"id":"001052","name":"Canischio"},{"id":"001053","name":"Cantalupa"},{"id":"001054","name":"Cantoira"},{"id":"001055","name":"Caprie"},{"id":"001056","name":"Caravino"},{"id":"001057","name":"Carema"},{"id":"001058","name":"Carignano"},{"id":"001059","name":"Carmagnola"},{"id":"001060","name":"Casalborgone"},{"id":"001061","name":"Cascinette d\'Ivrea"},{"id":"001062","name":"Caselette"},{"id":"001063","name":"Caselle Torinese"},{"id":"001064","name":"Castagneto Po"},{"id":"001065","name":"Castagnole Piemonte"},{"id":"001066","name":"Castellamonte"},{"id":"001067","name":"Castelnuovo Nigra"},{"id":"001068","name":"Castiglione Torinese"},{"id":"001069","name":"Cavagnolo"},{"id":"001070","name":"Cavour"},{"id":"001071","name":"Cercenasco"},{"id":"001072","name":"Ceres"},{"id":"001073","name":"Ceresole Reale"},{"id":"001074","name":"Cesana Torinese"},{"id":"001075","name":"Chialamberto"},{"id":"001076","name":"Chianocco"},{"id":"001077","name":"Chiaverano"},{"id":"001078","name":"Chieri"},{"id":"001079","name":"Chiesanuova"},{"id":"001080","name":"Chiomonte"},{"id":"001081","name":"Chiusa di San Michele"},{"id":"001082","name":"Chivasso"},{"id":"001083","name":"Ciconio"},{"id":"001084","name":"Cintano"},{"id":"001085","name":"Cinzano"},{"id":"001086","name":"Ciri\xe8"},{"id":"001087","name":"Claviere"},{"id":"001088","name":"Coassolo Torinese"},{"id":"001089","name":"Coazze"},{"id":"001090","name":"Collegno"},{"id":"001091","name":"Colleretto Castelnuovo"},{"id":"001092","name":"Colleretto Giacosa"},{"id":"001093","name":"Condove"},{"id":"001094","name":"Corio"},{"id":"001095","name":"Cossano Canavese"},{"id":"001096","name":"Cuceglio"},{"id":"001097","name":"Cumiana"},{"id":"001098","name":"Cuorgn\xe8"},{"id":"001099","name":"Druento"},{"id":"001100","name":"Exilles"},{"id":"001101","name":"Favria"},{"id":"001102","name":"Feletto"},{"id":"001103","name":"Fenestrelle"},{"id":"001104","name":"Fiano"},{"id":"001105","name":"Fiorano Canavese"},{"id":"001106","name":"Foglizzo"},{"id":"001107","name":"Forno Canavese"},{"id":"001108","name":"Frassinetto"},{"id":"001109","name":"Front"},{"id":"001110","name":"Frossasco"},{"id":"001111","name":"Garzigliana"},{"id":"001112","name":"Gassino Torinese"},{"id":"001113","name":"Germagnano"},{"id":"001114","name":"Giaglione"},{"id":"001115","name":"Giaveno"},{"id":"001116","name":"Givoletto"},{"id":"001117","name":"Gravere"},{"id":"001118","name":"Groscavallo"},{"id":"001119","name":"Grosso"},{"id":"001120","name":"Grugliasco"},{"id":"001121","name":"Ingria"},{"id":"001122","name":"Inverso Pinasca"},{"id":"001123","name":"Isolabella"},{"id":"001124","name":"Issiglio"},{"id":"001125","name":"Ivrea"},{"id":"001126","name":"La Cassa"},{"id":"001127","name":"La Loggia"},{"id":"001128","name":"Lanzo Torinese"},{"id":"001129","name":"Lauriano"},{"id":"001130","name":"Leini"},{"id":"001131","name":"Lemie"},{"id":"001132","name":"Lessolo"},{"id":"001133","name":"Levone"},{"id":"001134","name":"Locana"},{"id":"001135","name":"Lombardore"},{"id":"001136","name":"Lombriasco"},{"id":"001137","name":"Loranz\xe8"},{"id":"001138","name":"Lugnacco"},{"id":"001139","name":"Luserna San Giovanni"},{"id":"001140","name":"Lusernetta"},{"id":"001141","name":"Lusigli\xe8"},{"id":"001142","name":"Macello"},{"id":"001143","name":"Maglione"},{"id":"001144","name":"Marentino"},{"id":"001145","name":"Massello"},{"id":"001146","name":"Mathi"},{"id":"001147","name":"Mattie"},{"id":"001148","name":"Mazz\xe8"},{"id":"001149","name":"Meana di Susa"},{"id":"001150","name":"Mercenasco"},{"id":"001151","name":"Meugliano"},{"id":"001152","name":"Mezzenile"},{"id":"001153","name":"Mombello di Torino"},{"id":"001154","name":"Mompantero"},{"id":"001155","name":"Monastero di Lanzo"},{"id":"001156","name":"Moncalieri"},{"id":"001157","name":"Moncenisio"},{"id":"001158","name":"Montaldo Torinese"},{"id":"001159","name":"Montalenghe"},{"id":"001160","name":"Montalto Dora"},{"id":"001161","name":"Montanaro"},{"id":"001162","name":"Monteu da Po"},{"id":"001163","name":"Moriondo Torinese"},{"id":"001164","name":"Nichelino"},{"id":"001165","name":"Noasca"},{"id":"001166","name":"Nole"},{"id":"001167","name":"Nomaglio"},{"id":"001168","name":"None"},{"id":"001169","name":"Novalesa"},{"id":"001170","name":"Oglianico"},{"id":"001171","name":"Orbassano"},{"id":"001172","name":"Orio Canavese"},{"id":"001173","name":"Osasco"},{"id":"001174","name":"Osasio"},{"id":"001175","name":"Oulx"},{"id":"001176","name":"Ozegna"},{"id":"001177","name":"Palazzo Canavese"},{"id":"001178","name":"Pancalieri"},{"id":"001179","name":"Parella"},{"id":"001180","name":"Pavarolo"},{"id":"001181","name":"Pavone Canavese"},{"id":"001182","name":"Pecco"},{"id":"001183","name":"Pecetto Torinese"},{"id":"001184","name":"Perosa Argentina"},{"id":"001185","name":"Perosa Canavese"},{"id":"001186","name":"Perrero"},{"id":"001187","name":"Pertusio"},{"id":"001188","name":"Pessinetto"},{"id":"001189","name":"Pianezza"},{"id":"001190","name":"Pinasca"},{"id":"001191","name":"Pinerolo"},{"id":"001192","name":"Pino Torinese"},{"id":"001193","name":"Piobesi Torinese"},{"id":"001194","name":"Piossasco"},{"id":"001195","name":"Piscina"},{"id":"001196","name":"Piverone"},{"id":"001197","name":"Poirino"},{"id":"001198","name":"Pomaretto"},{"id":"001199","name":"Pont-Canavese"},{"id":"001200","name":"Porte"},{"id":"001201","name":"Pragelato"},{"id":"001202","name":"Prali"},{"id":"001203","name":"Pralormo"},{"id":"001204","name":"Pramollo"},{"id":"001205","name":"Prarostino"},{"id":"001206","name":"Prascorsano"},{"id":"001207","name":"Pratiglione"},{"id":"001208","name":"Quagliuzzo"},{"id":"001209","name":"Quassolo"},{"id":"001210","name":"Quincinetto"},{"id":"001211","name":"Reano"},{"id":"001212","name":"Ribordone"},{"id":"001213","name":"Rivalba"},{"id":"001214","name":"Rivalta di Torino"},{"id":"001215","name":"Riva presso Chieri"},{"id":"001216","name":"Rivara"},{"id":"001217","name":"Rivarolo Canavese"},{"id":"001218","name":"Rivarossa"},{"id":"001219","name":"Rivoli"},{"id":"001220","name":"Robassomero"},{"id":"001221","name":"Rocca Canavese"},{"id":"001222","name":"Roletto"},{"id":"001223","name":"Romano Canavese"},{"id":"001224","name":"Ronco Canavese"},{"id":"001225","name":"Rondissone"},{"id":"001226","name":"Ror\xe0"},{"id":"001227","name":"Roure"},{"id":"001228","name":"Rosta"},{"id":"001229","name":"Rubiana"},{"id":"001230","name":"Rueglio"},{"id":"001231","name":"Salassa"},{"id":"001232","name":"Salbertrand"},{"id":"001233","name":"Salerano Canavese"},{"id":"001234","name":"Salza di Pinerolo"},{"id":"001235","name":"Samone"},{"id":"001236","name":"San Benigno Canavese"},{"id":"001237","name":"San Carlo Canavese"},{"id":"001238","name":"San Colombano Belmonte"},{"id":"001239","name":"San Didero"},{"id":"001240","name":"San Francesco al Campo"},{"id":"001241","name":"Sangano"},{"id":"001242","name":"San Germano Chisone"},{"id":"001243","name":"San Gillio"},{"id":"001244","name":"San Giorgio Canavese"},{"id":"001245","name":"San Giorio di Susa"},{"id":"001246","name":"San Giusto Canavese"},{"id":"001247","name":"San Martino Canavese"},{"id":"001248","name":"San Maurizio Canavese"},{"id":"001249","name":"San Mauro Torinese"},{"id":"001250","name":"San Pietro Val Lemina"},{"id":"001251","name":"San Ponso"},{"id":"001252","name":"San Raffaele Cimena"},{"id":"001253","name":"San Sebastiano da Po"},{"id":"001254","name":"San Secondo di Pinerolo"},{"id":"001255","name":"Sant\'Ambrogio di Torino"},{"id":"001256","name":"Sant\'Antonino di Susa"},{"id":"001257","name":"Santena"},{"id":"001258","name":"Sauze di Cesana"},{"id":"001259","name":"Sauze d\'Oulx"},{"id":"001260","name":"Scalenghe"},{"id":"001261","name":"Scarmagno"},{"id":"001262","name":"Sciolze"},{"id":"001263","name":"Sestriere"},{"id":"001264","name":"Settimo Rottaro"},{"id":"001265","name":"Settimo Torinese"},{"id":"001266","name":"Settimo Vittone"},{"id":"001267","name":"Sparone"},{"id":"001268","name":"Strambinello"},{"id":"001269","name":"Strambino"},{"id":"001270","name":"Susa"},{"id":"001271","name":"Tavagnasco"},{"id":"001272","name":"Torino"},{"id":"001273","name":"Torrazza Piemonte"},{"id":"001274","name":"Torre Canavese"},{"id":"001275","name":"Torre Pellice"},{"id":"001276","name":"Trana"},{"id":"001277","name":"Trausella"},{"id":"001278","name":"Traversella"},{"id":"001279","name":"Traves"},{"id":"001280","name":"Trofarello"},{"id":"001281","name":"Usseaux"},{"id":"001282","name":"Usseglio"},{"id":"001283","name":"Vaie"},{"id":"001284","name":"Val della Torre"},{"id":"001285","name":"Valgioie"},{"id":"001286","name":"Vallo Torinese"},{"id":"001287","name":"Valperga"},{"id":"001288","name":"Valprato Soana"},{"id":"001289","name":"Varisella"},{"id":"001290","name":"Vauda Canavese"},{"id":"001291","name":"Venaus"},{"id":"001292","name":"Venaria Reale"},{"id":"001293","name":"Verolengo"},{"id":"001294","name":"Verrua Savoia"},{"id":"001295","name":"Vestign\xe8"},{"id":"001296","name":"Vialfr\xe8"},{"id":"001297","name":"Vico Canavese"},{"id":"001298","name":"Vidracco"},{"id":"001299","name":"Vigone"},{"id":"001300","name":"Villafranca Piemonte"},{"id":"001301","name":"Villanova Canavese"},{"id":"001302","name":"Villarbasse"},{"id":"001303","name":"Villar Dora"},{"id":"001304","name":"Villareggia"},{"id":"001305","name":"Villar Focchiardo"},{"id":"001306","name":"Villar Pellice"},{"id":"001307","name":"Villar Perosa"},{"id":"001308","name":"Villastellone"},{"id":"001309","name":"Vinovo"},{"id":"001310","name":"Virle Piemonte"},{"id":"001311","name":"Vische"},{"id":"001312","name":"Vistrorio"},{"id":"001313","name":"Vi\xf9"},{"id":"001314","name":"Volpiano"},{"id":"001315","name":"Volvera"},{"id":"001316","name":"Mappano"},{"id":"001317","name":"Val di Chy"},{"id":"001318","name":"Valchiusa"}]},{"id":"ITC12","name":"Vercelli","children":[{"id":"002001","name":"Ailoche"},{"id":"002002","name":"Alagna Valsesia"},{"id":"002003","name":"Albano Vercellese"},{"id":"002004","name":"Alice Castello"},{"id":"002005","name":"Andorno Micca"},{"id":"002006","name":"Arborio"},{"id":"002007","name":"Asigliano Vercellese"},{"id":"002008","name":"Balmuccia"},{"id":"002009","name":"Balocco"},{"id":"002010","name":"Benna"},{"id":"002011","name":"Bianz\xe8"},{"id":"002012","name":"Biella"},{"id":"002013","name":"Bioglio"},{"id":"002014","name":"Boccioleto"},{"id":"002015","name":"Borgo d\'Ale"},{"id":"002016","name":"Borgosesia"},{"id":"002017","name":"Borgo Vercelli"},{"id":"002018","name":"Borriana"},{"id":"002019","name":"Breia"},{"id":"002020","name":"Brusnengo"},{"id":"002021","name":"Buronzo"},{"id":"002022","name":"Callabiana"},{"id":"002023","name":"Camandona"},{"id":"002024","name":"Camburzano"},{"id":"002025","name":"Campertogno"},{"id":"002026","name":"Campiglia Cervo"},{"id":"002027","name":"Candelo"},{"id":"002028","name":"Caprile"},{"id":"002029","name":"Carcoforo"},{"id":"002030","name":"Caresana"},{"id":"002031","name":"Caresanablot"},{"id":"002032","name":"Carisio"},{"id":"002033","name":"Casanova Elvo"},{"id":"002034","name":"Casapinta"},{"id":"002035","name":"San Giacomo Vercellese"},{"id":"002036","name":"Castelletto Cervo"},{"id":"002037","name":"Cavagli\xe0"},{"id":"002038","name":"Cellio"},{"id":"002039","name":"Cerreto Castello"},{"id":"002040","name":"Cerrione"},{"id":"002041","name":"Cervatto"},{"id":"002042","name":"Cigliano"},{"id":"002043","name":"Civiasco"},{"id":"002044","name":"Coggiola"},{"id":"002045","name":"Collobiano"},{"id":"002046","name":"Cossato"},{"id":"002047","name":"Costanzana"},{"id":"002048","name":"Cravagliana"},{"id":"002049","name":"Crescentino"},{"id":"002050","name":"Crevacuore"},{"id":"002051","name":"Crosa"},{"id":"002052","name":"Crova"},{"id":"002053","name":"Curino"},{"id":"002054","name":"Desana"},{"id":"002055","name":"Donato"},{"id":"002056","name":"Dorzano"},{"id":"002057","name":"Fobello"},{"id":"002058","name":"Fontanetto Po"},{"id":"002059","name":"Formigliana"},{"id":"002060","name":"Gaglianico"},{"id":"002061","name":"Gattinara"},{"id":"002062","name":"Ghislarengo"},{"id":"002063","name":"Gifflenga"},{"id":"002064","name":"Graglia"},{"id":"002065","name":"Greggio"},{"id":"002066","name":"Guardabosone"},{"id":"002067","name":"Lamporo"},{"id":"002068","name":"Lenta"},{"id":"002069","name":"Lessona"},{"id":"002070","name":"Lignana"},{"id":"002071","name":"Livorno Ferraris"},{"id":"002072","name":"Lozzolo"},{"id":"002073","name":"Magnano"},{"id":"002074","name":"Massazza"},{"id":"002075","name":"Masserano"},{"id":"002076","name":"Mezzana Mortigliengo"},{"id":"002077","name":"Miagliano"},{"id":"002078","name":"Mollia"},{"id":"002079","name":"Moncrivello"},{"id":"002080","name":"Mongrando"},{"id":"002081","name":"Mosso Santa Maria"},{"id":"002082","name":"Motta de\' Conti"},{"id":"002083","name":"Mottalciata"},{"id":"002084","name":"Muzzano"},{"id":"002085","name":"Netro"},{"id":"002086","name":"Occhieppo Inferiore"},{"id":"002087","name":"Occhieppo Superiore"},{"id":"002088","name":"Olcenengo"},{"id":"002089","name":"Oldenico"},{"id":"002090","name":"Palazzolo Vercellese"},{"id":"002091","name":"Pertengo"},{"id":"002092","name":"Pettinengo"},{"id":"002093","name":"Pezzana"},{"id":"002094","name":"Piatto"},{"id":"002095","name":"Piedicavallo"},{"id":"002096","name":"Pila"},{"id":"002097","name":"Piode"},{"id":"002098","name":"Pistolesa"},{"id":"002099","name":"Pollone"},{"id":"002100","name":"Ponderano"},{"id":"002101","name":"Portula"},{"id":"002102","name":"Postua"},{"id":"002103","name":"Pralungo"},{"id":"002104","name":"Prarolo"},{"id":"002105","name":"Pray"},{"id":"002106","name":"Quaregna"},{"id":"002107","name":"Quarona"},{"id":"002108","name":"Quinto Vercellese"},{"id":"002109","name":"Quittengo"},{"id":"002110","name":"Rassa"},{"id":"002111","name":"Rima San Giuseppe"},{"id":"002112","name":"Rimasco"},{"id":"002113","name":"Rimella"},{"id":"002114","name":"Riva Valdobbia"},{"id":"002115","name":"Rive"},{"id":"002116","name":"Roasio"},{"id":"002117","name":"Ronco Biellese"},{"id":"002118","name":"Ronsecco"},{"id":"002119","name":"Roppolo"},{"id":"002120","name":"Rosazza"},{"id":"002121","name":"Rossa"},{"id":"002122","name":"Rovasenda"},{"id":"002123","name":"Sabbia"},{"id":"002124","name":"Sagliano Micca"},{"id":"002125","name":"Sala Biellese"},{"id":"002126","name":"Salasco"},{"id":"002127","name":"Sali Vercellese"},{"id":"002128","name":"Saluggia"},{"id":"002129","name":"Salussola"},{"id":"002130","name":"Sandigliano"},{"id":"002131","name":"San Germano Vercellese"},{"id":"002132","name":"San Paolo Cervo"},{"id":"002133","name":"Santhi\xe0"},{"id":"002134","name":"Scopa"},{"id":"002135","name":"Scopello"},{"id":"002136","name":"Selve Marcone"},{"id":"002137","name":"Serravalle Sesia"},{"id":"002138","name":"Soprana"},{"id":"002139","name":"Sordevolo"},{"id":"002140","name":"Sostegno"},{"id":"002141","name":"Strona"},{"id":"002142","name":"Stroppiana"},{"id":"002143","name":"Tavigliano"},{"id":"002144","name":"Ternengo"},{"id":"002145","name":"Tollegno"},{"id":"002146","name":"Torrazzo"},{"id":"002147","name":"Tricerro"},{"id":"002148","name":"Trino"},{"id":"002149","name":"Trivero"},{"id":"002150","name":"Tronzano Vercellese"},{"id":"002151","name":"Valdengo"},{"id":"002152","name":"Valduggia"},{"id":"002153","name":"Vallanzengo"},{"id":"002154","name":"Valle Mosso"},{"id":"002155","name":"Valle San Nicolao"},{"id":"002156","name":"Varallo"},{"id":"002157","name":"Veglio"},{"id":"002158","name":"Vercelli"},{"id":"002159","name":"Verrone"},{"id":"002160","name":"Vigliano Biellese"},{"id":"002161","name":"Villa del Bosco"},{"id":"002162","name":"Villanova Biellese"},{"id":"002163","name":"Villarboit"},{"id":"002164","name":"Villata"},{"id":"002165","name":"Viverone"},{"id":"002166","name":"Vocca"},{"id":"002167","name":"Zimone"},{"id":"002168","name":"Zubiena"},{"id":"002169","name":"Zumaglia"},{"id":"002170","name":"Alto Sermenza"},{"id":"002171","name":"Cellio con Breia"}]},{"id":"ITC13","name":"Biella","children":[{"id":"096001","name":"Ailoche"},{"id":"096002","name":"Andorno Micca"},{"id":"096003","name":"Benna"},{"id":"096004","name":"Biella"},{"id":"096005","name":"Bioglio"},{"id":"096006","name":"Borriana"},{"id":"096007","name":"Brusnengo"},{"id":"096008","name":"Callabiana"},{"id":"096009","name":"Camandona"},{"id":"096010","name":"Camburzano"},{"id":"096011","name":"Campiglia Cervo"},{"id":"096012","name":"Candelo"},{"id":"096013","name":"Caprile"},{"id":"096014","name":"Casapinta"},{"id":"096015","name":"Castelletto Cervo"},{"id":"096016","name":"Cavagli\xe0\xa0"},{"id":"096017","name":"Cerreto Castello"},{"id":"096018","name":"Cerrione"},{"id":"096019","name":"Coggiola"},{"id":"096020","name":"Cossato"},{"id":"096021","name":"Crevacuore"},{"id":"096022","name":"Crosa"},{"id":"096023","name":"Curino"},{"id":"096024","name":"Donato"},{"id":"096025","name":"Dorzano"},{"id":"096026","name":"Gaglianico"},{"id":"096027","name":"Gifflenga"},{"id":"096028","name":"Graglia"},{"id":"096029","name":"Lessona"},{"id":"096030","name":"Magnano"},{"id":"096031","name":"Massazza"},{"id":"096032","name":"Masserano"},{"id":"096033","name":"Mezzana Mortigliengo"},{"id":"096034","name":"Miagliano"},{"id":"096035","name":"Mongrando"},{"id":"096036","name":"Mosso Santa Maria"},{"id":"096037","name":"Mottalciata"},{"id":"096038","name":"Muzzano"},{"id":"096039","name":"Netro"},{"id":"096040","name":"Occhieppo Inferiore"},{"id":"096041","name":"Occhieppo Superiore"},{"id":"096042","name":"Pettinengo"},{"id":"096043","name":"Piatto"},{"id":"096044","name":"Piedicavallo"},{"id":"096045","name":"Pistolesa"},{"id":"096046","name":"Pollone"},{"id":"096047","name":"Ponderano"},{"id":"096048","name":"Portula"},{"id":"096049","name":"Pralungo"},{"id":"096050","name":"Pray"},{"id":"096051","name":"Quaregna"},{"id":"096052","name":"Quittengo"},{"id":"096053","name":"Ronco Biellese"},{"id":"096054","name":"Roppolo"},{"id":"096055","name":"Rosazza"},{"id":"096056","name":"Sagliano Micca"},{"id":"096057","name":"Sala Biellese"},{"id":"096058","name":"Salussola"},{"id":"096059","name":"Sandigliano"},{"id":"096060","name":"San Paolo Cervo"},{"id":"096061","name":"Selve Marcone"},{"id":"096062","name":"Soprana"},{"id":"096063","name":"Sordevolo"},{"id":"096064","name":"Sostegno"},{"id":"096065","name":"Strona"},{"id":"096066","name":"Tavigliano"},{"id":"096067","name":"Ternengo"},{"id":"096068","name":"Tollegno"},{"id":"096069","name":"Torrazzo"},{"id":"096070","name":"Trivero"},{"id":"096071","name":"Valdengo"},{"id":"096072","name":"Vallanzengo"},{"id":"096073","name":"Valle Mosso"},{"id":"096074","name":"Valle San Nicolao"},{"id":"096075","name":"Veglio"},{"id":"096076","name":"Verrone"},{"id":"096077","name":"Vigliano Biellese"},{"id":"096078","name":"Villa del Bosco"},{"id":"096079","name":"Villanova Biellese"},{"id":"096080","name":"Viverone"},{"id":"096081","name":"Zimone"},{"id":"096082","name":"Zubiena"},{"id":"096083","name":"Zumaglia"},{"id":"096084","name":"Mosso"},{"id":"096085","name":"Lessona"},{"id":"096086","name":"Campiglia Cervo"},{"id":"096087","name":"Quaregna Cerreto"},{"id":"096088","name":"Valdilana"}]},{"id":"ITC14","name":"Verbano-Cusio-Ossola","children":[{"id":"103001","name":"Antrona Schieranco"},{"id":"103002","name":"Anzola d\'Ossola"},{"id":"103003","name":"Arizzano"},{"id":"103004","name":"Arola"},{"id":"103005","name":"Aurano"},{"id":"103006","name":"Baceno"},{"id":"103007","name":"Bannio Anzino"},{"id":"103008","name":"Baveno"},{"id":"103009","name":"Bee"},{"id":"103010","name":"Belgirate"},{"id":"103011","name":"Beura-Cardezza"},{"id":"103012","name":"Bognanco"},{"id":"103013","name":"Brovello-Carpugnino"},{"id":"103014","name":"Calasca-Castiglione"},{"id":"103015","name":"Cambiasca"},{"id":"103016","name":"Cannero Riviera"},{"id":"103017","name":"Cannobio"},{"id":"103018","name":"Caprezzo"},{"id":"103019","name":"Casale Corte Cerro"},{"id":"103020","name":"Cavaglio-Spoccia"},{"id":"103021","name":"Ceppo Morelli"},{"id":"103022","name":"Cesara"},{"id":"103023","name":"Cossogno"},{"id":"103024","name":"Craveggia"},{"id":"103025","name":"Crevoladossola"},{"id":"103026","name":"Crodo"},{"id":"103027","name":"Cursolo-Orasso"},{"id":"103028","name":"Domodossola"},{"id":"103029","name":"Druogno"},{"id":"103030","name":"Falmenta"},{"id":"103031","name":"Formazza"},{"id":"103032","name":"Germagno"},{"id":"103033","name":"Ghiffa"},{"id":"103034","name":"Gignese"},{"id":"103035","name":"Gravellona Toce"},{"id":"103036","name":"Gurro"},{"id":"103037","name":"Intragna"},{"id":"103038","name":"Loreglia"},{"id":"103039","name":"Macugnaga"},{"id":"103040","name":"Madonna del Sasso"},{"id":"103041","name":"Malesco"},{"id":"103042","name":"Masera"},{"id":"103043","name":"Massiola"},{"id":"103044","name":"Mergozzo"},{"id":"103045","name":"Miazzina"},{"id":"103046","name":"Montecrestese"},{"id":"103047","name":"Montescheno"},{"id":"103048","name":"Nonio"},{"id":"103049","name":"Oggebbio"},{"id":"103050","name":"Omegna"},{"id":"103051","name":"Ornavasso"},{"id":"103052","name":"Pallanzeno"},{"id":"103053","name":"Piedimulera"},{"id":"103054","name":"Pieve Vergonte"},{"id":"103055","name":"Premeno"},{"id":"103056","name":"Premia"},{"id":"103057","name":"Premosello-Chiovenda"},{"id":"103058","name":"Quarna Sopra"},{"id":"103059","name":"Quarna Sotto"},{"id":"103060","name":"Re"},{"id":"103061","name":"San Bernardino Verbano"},{"id":"103062","name":"Santa Maria Maggiore"},{"id":"103063","name":"Seppiana"},{"id":"103064","name":"Stresa"},{"id":"103065","name":"Toceno"},{"id":"103066","name":"Trarego Viggiona"},{"id":"103067","name":"Trasquera"},{"id":"103068","name":"Trontano"},{"id":"103069","name":"Valstrona"},{"id":"103070","name":"Vanzone con San Carlo"},{"id":"103071","name":"Varzo"},{"id":"103072","name":"Verbania"},{"id":"103073","name":"Viganella"},{"id":"103074","name":"Vignone"},{"id":"103075","name":"Villadossola"},{"id":"103076","name":"Villette"},{"id":"103077","name":"Vogogna"},{"id":"103078","name":"Borgomezzavalle"},{"id":"103079","name":"Valle Cannobina"}]},{"id":"ITC15","name":"Novara","children":[{"id":"003001","name":"Agrate Conturbia"},{"id":"003002","name":"Ameno"},{"id":"003003","name":"Antrona Schieranco"},{"id":"003004","name":"Anzola d\'Ossola"},{"id":"003005","name":"Arizzano"},{"id":"003006","name":"Armeno"},{"id":"003007","name":"Arola"},{"id":"003008","name":"Arona"},{"id":"003009","name":"Aurano"},{"id":"003010","name":"Baceno"},{"id":"003011","name":"Bannio Anzino"},{"id":"003012","name":"Barengo"},{"id":"003013","name":"Baveno"},{"id":"003014","name":"Bee"},{"id":"003015","name":"Belgirate"},{"id":"003016","name":"Bellinzago Novarese"},{"id":"003017","name":"Beura-Cardezza"},{"id":"003018","name":"Biandrate"},{"id":"003019","name":"Boca"},{"id":"003020","name":"Bognanco"},{"id":"003021","name":"Bogogno"},{"id":"003022","name":"Bolzano Novarese"},{"id":"003023","name":"Borgolavezzaro"},{"id":"003024","name":"Borgomanero"},{"id":"003025","name":"Borgo Ticino"},{"id":"003026","name":"Briga Novarese"},{"id":"003027","name":"Briona"},{"id":"003028","name":"Brovello-Carpugnino"},{"id":"003029","name":"Calasca-Castiglione"},{"id":"003030","name":"Caltignaga"},{"id":"003031","name":"Cambiasca"},{"id":"003032","name":"Cameri"},{"id":"003033","name":"Cannero Riviera"},{"id":"003034","name":"Cannobio"},{"id":"003035","name":"Caprezzo"},{"id":"003036","name":"Carpignano Sesia"},{"id":"003037","name":"Casalbeltrame"},{"id":"003038","name":"Casale Corte Cerro"},{"id":"003039","name":"Casaleggio Novara"},{"id":"003040","name":"Casalino"},{"id":"003041","name":"Casalvolone"},{"id":"003042","name":"Castellazzo Novarese"},{"id":"003043","name":"Castelletto sopra Ticino"},{"id":"003044","name":"Cavaglietto"},{"id":"003045","name":"Cavaglio d\'Agogna"},{"id":"003046","name":"Cavaglio-Spoccia"},{"id":"003047","name":"Cavallirio"},{"id":"003048","name":"Ceppo Morelli"},{"id":"003049","name":"Cerano"},{"id":"003050","name":"Cesara"},{"id":"003051","name":"Colazza"},{"id":"003052","name":"Comignago"},{"id":"003053","name":"Cossogno"},{"id":"003054","name":"Craveggia"},{"id":"003055","name":"Cressa"},{"id":"003056","name":"Crevoladossola"},{"id":"003057","name":"Crodo"},{"id":"003058","name":"Cureggio"},{"id":"003059","name":"Cursolo-Orasso"},{"id":"003060","name":"Divignano"},{"id":"003061","name":"Domodossola"},{"id":"003062","name":"Dormelletto"},{"id":"003063","name":"Druogno"},{"id":"003064","name":"Falmenta"},{"id":"003065","name":"Fara Novarese"},{"id":"003066","name":"Fontaneto d\'Agogna"},{"id":"003067","name":"Formazza"},{"id":"003068","name":"Galliate"},{"id":"003069","name":"Garbagna Novarese"},{"id":"003070","name":"Gargallo"},{"id":"003071","name":"Gattico"},{"id":"003072","name":"Germagno"},{"id":"003073","name":"Ghemme"},{"id":"003074","name":"Ghiffa"},{"id":"003075","name":"Gignese"},{"id":"003076","name":"Gozzano"},{"id":"003077","name":"Granozzo con Monticello"},{"id":"003078","name":"Gravellona Toce"},{"id":"003079","name":"Grignasco"},{"id":"003080","name":"Gurro"},{"id":"003081","name":"Intragna"},{"id":"003082","name":"Invorio"},{"id":"003083","name":"Landiona"},{"id":"003084","name":"Lesa"},{"id":"003085","name":"Loreglia"},{"id":"003086","name":"Macugnaga"},{"id":"003087","name":"Madonna del Sasso"},{"id":"003088","name":"Maggiora"},{"id":"003089","name":"Malesco"},{"id":"003090","name":"Mandello Vitta"},{"id":"003091","name":"Marano Ticino"},{"id":"003092","name":"Masera"},{"id":"003093","name":"Massino Visconti"},{"id":"003094","name":"Massiola"},{"id":"003095","name":"Meina"},{"id":"003096","name":"Mergozzo"},{"id":"003097","name":"Mezzomerico"},{"id":"003098","name":"Miasino"},{"id":"003099","name":"Miazzina"},{"id":"003100","name":"Momo"},{"id":"003101","name":"Montecrestese"},{"id":"003102","name":"Montescheno"},{"id":"003103","name":"Nebbiuno"},{"id":"003104","name":"Nibbiola"},{"id":"003105","name":"Nonio"},{"id":"003106","name":"Novara"},{"id":"003107","name":"Oggebbio"},{"id":"003108","name":"Oleggio"},{"id":"003109","name":"Oleggio Castello"},{"id":"003110","name":"Omegna"},{"id":"003111","name":"Ornavasso"},{"id":"003112","name":"Orta San Giulio"},{"id":"003113","name":"Pallanzeno"},{"id":"003114","name":"Paruzzaro"},{"id":"003115","name":"Pella"},{"id":"003116","name":"Pettenasco"},{"id":"003117","name":"Piedimulera"},{"id":"003118","name":"Pieve Vergonte"},{"id":"003119","name":"Pisano"},{"id":"003120","name":"Pogno"},{"id":"003121","name":"Pombia"},{"id":"003122","name":"Prato Sesia"},{"id":"003123","name":"Premeno"},{"id":"003124","name":"Premia"},{"id":"003125","name":"Premosello-Chiovenda"},{"id":"003126","name":"Quarna Sopra"},{"id":"003127","name":"Quarna Sotto"},{"id":"003128","name":"Re"},{"id":"003129","name":"Recetto"},{"id":"003130","name":"Romagnano Sesia"},{"id":"003131","name":"Romentino"},{"id":"003132","name":"San Bernardino Verbano"},{"id":"003133","name":"San Maurizio d\'Opaglio"},{"id":"003134","name":"San Nazzaro Sesia"},{"id":"003135","name":"San Pietro Mosezzo"},{"id":"003136","name":"Santa Maria Maggiore"},{"id":"003137","name":"Seppiana"},{"id":"003138","name":"Sillavengo"},{"id":"003139","name":"Sizzano"},{"id":"003140","name":"Soriso"},{"id":"003141","name":"Sozzago"},{"id":"003142","name":"Stresa"},{"id":"003143","name":"Suno"},{"id":"003144","name":"Terdobbiate"},{"id":"003145","name":"Toceno"},{"id":"003146","name":"Tornaco"},{"id":"003147","name":"Trarego Viggiona"},{"id":"003148","name":"Trasquera"},{"id":"003149","name":"Trecate"},{"id":"003150","name":"Trontano"},{"id":"003151","name":"Valstrona"},{"id":"003152","name":"Vanzone con San Carlo"},{"id":"003153","name":"Vaprio d\'Agogna"},{"id":"003154","name":"Varallo Pombia"},{"id":"003155","name":"Varzo"},{"id":"003156","name":"Verbania"},{"id":"003157","name":"Veruno"},{"id":"003158","name":"Vespolate"},{"id":"003159","name":"Vicolungo"},{"id":"003160","name":"Viganella"},{"id":"003161","name":"Vignone"},{"id":"003162","name":"Villadossola"},{"id":"003163","name":"Villette"},{"id":"003164","name":"Vinzaglio"},{"id":"003165","name":"Vogogna"},{"id":"003166","name":"Gattico-Veruno"}]},{"id":"ITC16","name":"Cuneo","children":[{"id":"004001","name":"Acceglio"},{"id":"004002","name":"Aisone"},{"id":"004003","name":"Alba"},{"id":"004004","name":"Albaretto della Torre"},{"id":"004005","name":"Alto"},{"id":"004006","name":"Argentera"},{"id":"004007","name":"Arguello"},{"id":"004008","name":"Bagnasco"},{"id":"004009","name":"Bagnolo Piemonte"},{"id":"004010","name":"Baldissero d\'Alba"},{"id":"004011","name":"Barbaresco"},{"id":"004012","name":"Barge"},{"id":"004013","name":"Barolo"},{"id":"004014","name":"Bastia Mondov\xec"},{"id":"004015","name":"Battifollo"},{"id":"004016","name":"Beinette"},{"id":"004017","name":"Bellino"},{"id":"004018","name":"Belvedere Langhe"},{"id":"004019","name":"Bene Vagienna"},{"id":"004020","name":"Benevello"},{"id":"004021","name":"Bergolo"},{"id":"004022","name":"Bernezzo"},{"id":"004023","name":"Bonvicino"},{"id":"004024","name":"Borgomale"},{"id":"004025","name":"Borgo San Dalmazzo"},{"id":"004026","name":"Bosia"},{"id":"004027","name":"Bossolasco"},{"id":"004028","name":"Boves"},{"id":"004029","name":"Bra"},{"id":"004030","name":"Briaglia"},{"id":"004031","name":"Briga Alta"},{"id":"004032","name":"Brondello"},{"id":"004033","name":"Brossasco"},{"id":"004034","name":"Busca"},{"id":"004035","name":"Camerana"},{"id":"004036","name":"Camo"},{"id":"004037","name":"Canale"},{"id":"004038","name":"Canosio"},{"id":"004039","name":"Caprauna"},{"id":"004040","name":"Caraglio"},{"id":"004041","name":"Caramagna Piemonte"},{"id":"004042","name":"Card\xe8"},{"id":"004043","name":"Carr\xf9"},{"id":"004044","name":"Cartignano"},{"id":"004045","name":"Casalgrasso"},{"id":"004046","name":"Castagnito"},{"id":"004047","name":"Casteldelfino"},{"id":"004048","name":"Castellar"},{"id":"004049","name":"Castelletto Stura"},{"id":"004050","name":"Castelletto Uzzone"},{"id":"004051","name":"Castellinaldo d\'Alba"},{"id":"004052","name":"Castellino Tanaro"},{"id":"004053","name":"Castelmagno"},{"id":"004054","name":"Castelnuovo di Ceva"},{"id":"004055","name":"Castiglione Falletto"},{"id":"004056","name":"Castiglione Tinella"},{"id":"004057","name":"Castino"},{"id":"004058","name":"Cavallerleone"},{"id":"004059","name":"Cavallermaggiore"},{"id":"004060","name":"Celle di Macra"},{"id":"004061","name":"Centallo"},{"id":"004062","name":"Ceresole Alba"},{"id":"004063","name":"Cerretto Langhe"},{"id":"004064","name":"Cervasca"},{"id":"004065","name":"Cervere"},{"id":"004066","name":"Ceva"},{"id":"004067","name":"Cherasco"},{"id":"004068","name":"Chiusa di Pesio"},{"id":"004069","name":"Cigli\xe8"},{"id":"004070","name":"Cissone"},{"id":"004071","name":"Clavesana"},{"id":"004072","name":"Corneliano d\'Alba"},{"id":"004073","name":"Cortemilia"},{"id":"004074","name":"Cossano Belbo"},{"id":"004075","name":"Costigliole Saluzzo"},{"id":"004076","name":"Cravanzana"},{"id":"004077","name":"Crissolo"},{"id":"004078","name":"Cuneo"},{"id":"004079","name":"Demonte"},{"id":"004080","name":"Diano d\'Alba"},{"id":"004081","name":"Dogliani"},{"id":"004082","name":"Dronero"},{"id":"004083","name":"Elva"},{"id":"004084","name":"Entracque"},{"id":"004085","name":"Envie"},{"id":"004086","name":"Farigliano"},{"id":"004087","name":"Faule"},{"id":"004088","name":"Feisoglio"},{"id":"004089","name":"Fossano"},{"id":"004090","name":"Frabosa Soprana"},{"id":"004091","name":"Frabosa Sottana"},{"id":"004092","name":"Frassino"},{"id":"004093","name":"Gaiola"},{"id":"004094","name":"Gambasca"},{"id":"004095","name":"Garessio"},{"id":"004096","name":"Genola"},{"id":"004097","name":"Gorzegno"},{"id":"004098","name":"Gottasecca"},{"id":"004099","name":"Govone"},{"id":"004100","name":"Grinzane Cavour"},{"id":"004101","name":"Guarene"},{"id":"004102","name":"Igliano"},{"id":"004103","name":"Isasca"},{"id":"004104","name":"Lagnasco"},{"id":"004105","name":"La Morra"},{"id":"004106","name":"Lequio Berria"},{"id":"004107","name":"Lequio Tanaro"},{"id":"004108","name":"Lesegno"},{"id":"004109","name":"Levice"},{"id":"004110","name":"Limone Piemonte"},{"id":"004111","name":"Lisio"},{"id":"004112","name":"Macra"},{"id":"004113","name":"Magliano Alfieri"},{"id":"004114","name":"Magliano Alpi"},{"id":"004115","name":"Mango"},{"id":"004116","name":"Manta"},{"id":"004117","name":"Marene"},{"id":"004118","name":"Margarita"},{"id":"004119","name":"Marmora"},{"id":"004120","name":"Marsaglia"},{"id":"004121","name":"Martiniana Po"},{"id":"004122","name":"Melle"},{"id":"004123","name":"Moiola"},{"id":"004124","name":"Mombarcaro"},{"id":"004125","name":"Mombasiglio"},{"id":"004126","name":"Monastero di Vasco"},{"id":"004127","name":"Monasterolo Casotto"},{"id":"004128","name":"Monasterolo di Savigliano"},{"id":"004129","name":"Monchiero"},{"id":"004130","name":"Mondov\xec"},{"id":"004131","name":"Monesiglio"},{"id":"004132","name":"Monforte d\'Alba"},{"id":"004133","name":"Mont\xe0"},{"id":"004134","name":"Montaldo di Mondov\xec"},{"id":"004135","name":"Montaldo Roero"},{"id":"004136","name":"Montanera"},{"id":"004137","name":"Montelupo Albese"},{"id":"004138","name":"Montemale di Cuneo"},{"id":"004139","name":"Monterosso Grana"},{"id":"004140","name":"Monteu Roero"},{"id":"004141","name":"Montezemolo"},{"id":"004142","name":"Monticello d\'Alba"},{"id":"004143","name":"Moretta"},{"id":"004144","name":"Morozzo"},{"id":"004145","name":"Murazzano"},{"id":"004146","name":"Murello"},{"id":"004147","name":"Narzole"},{"id":"004148","name":"Neive"},{"id":"004149","name":"Neviglie"},{"id":"004150","name":"Niella Belbo"},{"id":"004151","name":"Niella Tanaro"},{"id":"004152","name":"Novello"},{"id":"004153","name":"Nucetto"},{"id":"004154","name":"Oncino"},{"id":"004155","name":"Ormea"},{"id":"004156","name":"Ostana"},{"id":"004157","name":"Paesana"},{"id":"004158","name":"Pagno"},{"id":"004159","name":"Pamparato"},{"id":"004160","name":"Paroldo"},{"id":"004161","name":"Perletto"},{"id":"004162","name":"Perlo"},{"id":"004163","name":"Peveragno"},{"id":"004164","name":"Pezzolo Valle Uzzone"},{"id":"004165","name":"Pianfei"},{"id":"004166","name":"Piasco"},{"id":"004167","name":"Pietraporzio"},{"id":"004168","name":"Piobesi d\'Alba"},{"id":"004169","name":"Piozzo"},{"id":"004170","name":"Pocapaglia"},{"id":"004171","name":"Polonghera"},{"id":"004172","name":"Pontechianale"},{"id":"004173","name":"Pradleves"},{"id":"004174","name":"Prazzo"},{"id":"004175","name":"Priero"},{"id":"004176","name":"Priocca"},{"id":"004177","name":"Priola"},{"id":"004178","name":"Prunetto"},{"id":"004179","name":"Racconigi"},{"id":"004180","name":"Revello"},{"id":"004181","name":"Rifreddo"},{"id":"004182","name":"Rittana"},{"id":"004183","name":"Roaschia"},{"id":"004184","name":"Roascio"},{"id":"004185","name":"Robilante"},{"id":"004186","name":"Roburent"},{"id":"004187","name":"Roccabruna"},{"id":"004188","name":"Rocca Cigli\xe8"},{"id":"004189","name":"Rocca de\' Baldi"},{"id":"004190","name":"Roccaforte Mondov\xec"},{"id":"004191","name":"Roccasparvera"},{"id":"004192","name":"Roccavione"},{"id":"004193","name":"Rocchetta Belbo"},{"id":"004194","name":"Roddi"},{"id":"004195","name":"Roddino"},{"id":"004196","name":"Rodello"},{"id":"004197","name":"Rossana"},{"id":"004198","name":"Ruffia"},{"id":"004199","name":"Sale delle Langhe"},{"id":"004200","name":"Sale San Giovanni"},{"id":"004201","name":"Saliceto"},{"id":"004202","name":"Salmour"},{"id":"004203","name":"Saluzzo"},{"id":"004204","name":"Sambuco"},{"id":"004205","name":"Sampeyre"},{"id":"004206","name":"San Benedetto Belbo"},{"id":"004207","name":"San Damiano Macra"},{"id":"004208","name":"Sanfr\xe8"},{"id":"004209","name":"Sanfront"},{"id":"004210","name":"San Michele Mondov\xec"},{"id":"004211","name":"Sant\'Albano Stura"},{"id":"004212","name":"Santa Vittoria d\'Alba"},{"id":"004213","name":"Santo Stefano Belbo"},{"id":"004214","name":"Santo Stefano Roero"},{"id":"004215","name":"Savigliano"},{"id":"004216","name":"Scagnello"},{"id":"004217","name":"Scarnafigi"},{"id":"004218","name":"Serralunga d\'Alba"},{"id":"004219","name":"Serravalle Langhe"},{"id":"004220","name":"Sinio"},{"id":"004221","name":"Somano"},{"id":"004222","name":"Sommariva del Bosco"},{"id":"004223","name":"Sommariva Perno"},{"id":"004224","name":"Stroppo"},{"id":"004225","name":"Tarantasca"},{"id":"004226","name":"Torre Bormida"},{"id":"004227","name":"Torre Mondov\xec"},{"id":"004228","name":"Torre San Giorgio"},{"id":"004229","name":"Torresina"},{"id":"004230","name":"Treiso"},{"id":"004231","name":"Trezzo Tinella"},{"id":"004232","name":"Trinit\xe8"},{"id":"004233","name":"Valdieri"},{"id":"004234","name":"Valgrana"},{"id":"004235","name":"Valloriate"},{"id":"004236","name":"Valmala"},{"id":"004237","name":"Venasca"},{"id":"004238","name":"Verduno"},{"id":"004239","name":"Vernante"},{"id":"004240","name":"Verzuolo"},{"id":"004241","name":"Vezza d\'Alba"},{"id":"004242","name":"Vicoforte"},{"id":"004243","name":"Vignolo"},{"id":"004244","name":"Villafalletto"},{"id":"004245","name":"Villanova Mondov\xec"},{"id":"004246","name":"Villanova Solaro"},{"id":"004247","name":"Villar San Costanzo"},{"id":"004248","name":"Vinadio"},{"id":"004249","name":"Viola"},{"id":"004250","name":"Vottignasco"}]},{"id":"ITC17","name":"Asti","children":[{"id":"005001","name":"Agliano Terme"},{"id":"005002","name":"Albugnano"},{"id":"005003","name":"Antignano"},{"id":"005004","name":"Aramengo"},{"id":"005005","name":"Asti"},{"id":"005006","name":"Azzano d\'Asti"},{"id":"005007","name":"Baldichieri d\'Asti"},{"id":"005008","name":"Belveglio"},{"id":"005009","name":"Berzano di San Pietro"},{"id":"005010","name":"Bruno"},{"id":"005011","name":"Bubbio"},{"id":"005012","name":"Buttigliera d\'Asti"},{"id":"005013","name":"Calamandrana"},{"id":"005014","name":"Calliano"},{"id":"005015","name":"Calosso"},{"id":"005016","name":"Camerano Casasco"},{"id":"005017","name":"Canelli"},{"id":"005018","name":"Cantarana"},{"id":"005019","name":"Capriglio"},{"id":"005020","name":"Casorzo"},{"id":"005021","name":"Cassinasco"},{"id":"005022","name":"Castagnole delle Lanze"},{"id":"005023","name":"Castagnole Monferrato"},{"id":"005024","name":"Castel Boglione"},{"id":"005025","name":"Castell\'Alfero"},{"id":"005026","name":"Castellero"},{"id":"005027","name":"Castelletto Molina"},{"id":"005028","name":"Castello di Annone"},{"id":"005029","name":"Castelnuovo Belbo"},{"id":"005030","name":"Castelnuovo Calcea"},{"id":"005031","name":"Castelnuovo Don Bosco"},{"id":"005032","name":"Castel Rocchero"},{"id":"005033","name":"Cellarengo"},{"id":"005034","name":"Celle Enomondo"},{"id":"005035","name":"Cerreto d\'Asti"},{"id":"005036","name":"Cerro Tanaro"},{"id":"005037","name":"Cessole"},{"id":"005038","name":"Chiusano d\'Asti"},{"id":"005039","name":"Cinaglio"},{"id":"005040","name":"Cisterna d\'Asti"},{"id":"005041","name":"Coazzolo"},{"id":"005042","name":"Cocconato"},{"id":"005043","name":"Colcavagno"},{"id":"005044","name":"Corsione"},{"id":"005045","name":"Cortandone"},{"id":"005046","name":"Cortanze"},{"id":"005047","name":"Cortazzone"},{"id":"005048","name":"Cortiglione"},{"id":"005049","name":"Cossombrato"},{"id":"005050","name":"Costigliole d\'Asti"},{"id":"005051","name":"Cunico"},{"id":"005052","name":"Dusino San Michele"},{"id":"005053","name":"Ferrere"},{"id":"005054","name":"Fontanile"},{"id":"005055","name":"Frinco"},{"id":"005056","name":"Grana"},{"id":"005057","name":"Grazzano Badoglio"},{"id":"005058","name":"Incisa Scapaccino"},{"id":"005059","name":"Isola d\'Asti"},{"id":"005060","name":"Loazzolo"},{"id":"005061","name":"Maranzana"},{"id":"005062","name":"Maretto"},{"id":"005063","name":"Moasca"},{"id":"005064","name":"Mombaldone"},{"id":"005065","name":"Mombaruzzo"},{"id":"005066","name":"Mombercelli"},{"id":"005067","name":"Monale"},{"id":"005068","name":"Monastero Bormida"},{"id":"005069","name":"Moncalvo"},{"id":"005070","name":"Moncucco Torinese"},{"id":"005071","name":"Mongardino"},{"id":"005072","name":"Montabone"},{"id":"005073","name":"Montafia"},{"id":"005074","name":"Montaldo Scarampi"},{"id":"005075","name":"Montechiaro d\'Asti"},{"id":"005076","name":"Montegrosso d\'Asti"},{"id":"005077","name":"Montemagno"},{"id":"005078","name":"Montiglio"},{"id":"005079","name":"Moransengo"},{"id":"005080","name":"Nizza Monferrato"},{"id":"005081","name":"Olmo Gentile"},{"id":"005082","name":"Passerano Marmorito"},{"id":"005083","name":"Penango"},{"id":"005084","name":"Piea"},{"id":"005085","name":"Pino d\'Asti"},{"id":"005086","name":"Piov\xe0\xa0 Massaia"},{"id":"005087","name":"Portacomaro"},{"id":"005088","name":"Quaranti"},{"id":"005089","name":"Refrancore"},{"id":"005090","name":"Revigliasco d\'Asti"},{"id":"005091","name":"Roatto"},{"id":"005092","name":"Robella"},{"id":"005093","name":"Rocca d\'Arazzo"},{"id":"005094","name":"Roccaverano"},{"id":"005095","name":"Rocchetta Palafea"},{"id":"005096","name":"Rocchetta Tanaro"},{"id":"005097","name":"San Damiano d\'Asti"},{"id":"005098","name":"San Giorgio Scarampi"},{"id":"005099","name":"San Martino Alfieri"},{"id":"005100","name":"San Marzano Oliveto"},{"id":"005101","name":"San Paolo Solbrito"},{"id":"005102","name":"Scandeluzza"},{"id":"005103","name":"Scurzolengo"},{"id":"005104","name":"Serole"},{"id":"005105","name":"Sessame"},{"id":"005106","name":"Settime"},{"id":"005107","name":"Soglio"},{"id":"005108","name":"Tigliole"},{"id":"005109","name":"Tonco"},{"id":"005110","name":"Tonengo"},{"id":"005111","name":"Vaglio Serra"},{"id":"005112","name":"Valfenera"},{"id":"005113","name":"Vesime"},{"id":"005114","name":"Viale"},{"id":"005115","name":"Viarigi"},{"id":"005116","name":"Vigliano d\'Asti"},{"id":"005117","name":"Villafranca d\'Asti"},{"id":"005118","name":"Villanova d\'Asti"},{"id":"005119","name":"Villa San Secondo"},{"id":"005120","name":"Vinchio"},{"id":"005121","name":"Montiglio Monferrato"}]},{"id":"ITC18","name":"Alessandria","children":[{"id":"006001","name":"Acqui Terme"},{"id":"006002","name":"Albera Ligure"},{"id":"006003","name":"Alessandria"},{"id":"006004","name":"Alfiano Natta"},{"id":"006005","name":"Alice Bel Colle"},{"id":"006006","name":"Alluvioni Cambi\xf2"},{"id":"006007","name":"Altavilla Monferrato"},{"id":"006008","name":"Alzano Scrivia"},{"id":"006009","name":"Arquata Scrivia"},{"id":"006010","name":"Avolasca"},{"id":"006011","name":"Balzola"},{"id":"006012","name":"Basaluzzo"},{"id":"006013","name":"Bassignana"},{"id":"006014","name":"Belforte Monferrato"},{"id":"006015","name":"Bergamasco"},{"id":"006016","name":"Berzano di Tortona"},{"id":"006017","name":"Bistagno"},{"id":"006018","name":"Borghetto di Borbera"},{"id":"006019","name":"Borgoratto Alessandrino"},{"id":"006020","name":"Borgo San Martino"},{"id":"006021","name":"Bosco Marengo"},{"id":"006022","name":"Bosio"},{"id":"006023","name":"Bozzole"},{"id":"006024","name":"Brignano-Frascata"},{"id":"006025","name":"Cabella Ligure"},{"id":"006026","name":"Camagna Monferrato"},{"id":"006027","name":"Camino"},{"id":"006028","name":"Cantalupo Ligure"},{"id":"006029","name":"Capriata d\'Orba"},{"id":"006030","name":"Carbonara Scrivia"},{"id":"006031","name":"Carentino"},{"id":"006032","name":"Carezzano"},{"id":"006033","name":"Carpeneto"},{"id":"006034","name":"Carrega Ligure"},{"id":"006035","name":"Carrosio"},{"id":"006036","name":"Cartosio"},{"id":"006037","name":"Casal Cermelli"},{"id":"006038","name":"Casaleggio Boiro"},{"id":"006039","name":"Casale Monferrato"},{"id":"006040","name":"Casalnoceto"},{"id":"006041","name":"Casasco"},{"id":"006042","name":"Cassano Spinola"},{"id":"006043","name":"Cassine"},{"id":"006044","name":"Cassinelle"},{"id":"006045","name":"Castellania"},{"id":"006046","name":"Castellar Guidobono"},{"id":"006047","name":"Castellazzo Bormida"},{"id":"006048","name":"Castelletto d\'Erro"},{"id":"006049","name":"Castelletto d\'Orba"},{"id":"006050","name":"Castelletto Merli"},{"id":"006051","name":"Castelletto Monferrato"},{"id":"006052","name":"Castelnuovo Bormida"},{"id":"006053","name":"Castelnuovo Scrivia"},{"id":"006054","name":"Castelspina"},{"id":"006055","name":"Cavatore"},{"id":"006056","name":"Cella Monte"},{"id":"006057","name":"Cereseto"},{"id":"006058","name":"Cerreto Grue"},{"id":"006059","name":"Cerrina Monferrato"},{"id":"006060","name":"Coniolo"},{"id":"006061","name":"Conzano"},{"id":"006062","name":"Costa Vescovato"},{"id":"006063","name":"Cremolino"},{"id":"006064","name":"Cuccaro Monferrato"},{"id":"006065","name":"Denice"},{"id":"006066","name":"Dernice"},{"id":"006067","name":"Fabbrica Curone"},{"id":"006068","name":"Felizzano"},{"id":"006069","name":"Fraconalto"},{"id":"006070","name":"Francavilla Bisio"},{"id":"006071","name":"Frascaro"},{"id":"006072","name":"Frassinello Monferrato"},{"id":"006073","name":"Frassineto Po"},{"id":"006074","name":"Fresonara"},{"id":"006075","name":"Frugarolo"},{"id":"006076","name":"Fubine Monferrato"},{"id":"006077","name":"Gabiano"},{"id":"006078","name":"Gamalero"},{"id":"006079","name":"Garbagna"},{"id":"006080","name":"Gavazzana"},{"id":"006081","name":"Gavi"},{"id":"006082","name":"Giarole"},{"id":"006083","name":"Gremiasco"},{"id":"006084","name":"Grognardo"},{"id":"006085","name":"Grondona"},{"id":"006086","name":"Guazzora"},{"id":"006087","name":"Isola Sant\'Antonio"},{"id":"006088","name":"Lerma"},{"id":"006089","name":"Lu"},{"id":"006090","name":"Malvicino"},{"id":"006091","name":"Masio"},{"id":"006092","name":"Melazzo"},{"id":"006093","name":"Merana"},{"id":"006094","name":"Mirabello Monferrato"},{"id":"006095","name":"Molare"},{"id":"006096","name":"Molino dei Torti"},{"id":"006097","name":"Mombello Monferrato"},{"id":"006098","name":"Momperone"},{"id":"006099","name":"Moncestino"},{"id":"006100","name":"Mongiardino Ligure"},{"id":"006101","name":"Monleale"},{"id":"006102","name":"Montacuto"},{"id":"006103","name":"Montaldeo"},{"id":"006104","name":"Montaldo Bormida"},{"id":"006105","name":"Montecastello"},{"id":"006106","name":"Montechiaro d\'Acqui"},{"id":"006107","name":"Montegioco"},{"id":"006108","name":"Montemarzino"},{"id":"006109","name":"Morano sul Po"},{"id":"006110","name":"Morbello"},{"id":"006111","name":"Mornese"},{"id":"006112","name":"Morsasco"},{"id":"006113","name":"Murisengo"},{"id":"006114","name":"Novi Ligure"},{"id":"006115","name":"Occimiano"},{"id":"006116","name":"Odalengo Grande"},{"id":"006117","name":"Odalengo Piccolo"},{"id":"006118","name":"Olivola"},{"id":"006119","name":"Orsara Bormida"},{"id":"006120","name":"Ottiglio"},{"id":"006121","name":"Ovada"},{"id":"006122","name":"Oviglio"},{"id":"006123","name":"Ozzano Monferrato"},{"id":"006124","name":"Paderna"},{"id":"006125","name":"Pareto"},{"id":"006126","name":"Parodi Ligure"},{"id":"006127","name":"Pasturana"},{"id":"006128","name":"Pecetto di Valenza"},{"id":"006129","name":"Pietra Marazzi"},{"id":"006130","name":"Piovera"},{"id":"006131","name":"Pomaro Monferrato"},{"id":"006132","name":"Pontecurone"},{"id":"006133","name":"Pontestura"},{"id":"006134","name":"Ponti"},{"id":"006135","name":"Ponzano Monferrato"},{"id":"006136","name":"Ponzone"},{"id":"006137","name":"Pozzol Groppo"},{"id":"006138","name":"Pozzolo Formigaro"},{"id":"006139","name":"Prasco"},{"id":"006140","name":"Predosa"},{"id":"006141","name":"Quargnento"},{"id":"006142","name":"Quattordio"},{"id":"006143","name":"Ricaldone"},{"id":"006144","name":"Rivalta Bormida"},{"id":"006145","name":"Rivarone"},{"id":"006146","name":"Roccaforte Ligure"},{"id":"006147","name":"Rocca Grimalda"},{"id":"006148","name":"Rocchetta Ligure"},{"id":"006149","name":"Rosignano Monferrato"},{"id":"006150","name":"Sala Monferrato"},{"id":"006151","name":"Sale"},{"id":"006152","name":"San Cristoforo"},{"id":"006153","name":"San Giorgio Monferrato"},{"id":"006154","name":"San Salvatore Monferrato"},{"id":"006155","name":"San Sebastiano Curone"},{"id":"006156","name":"Sant\'Agata Fossili"},{"id":"006157","name":"Sardigliano"},{"id":"006158","name":"Sarezzano"},{"id":"006159","name":"Serralunga di Crea"},{"id":"006160","name":"Serravalle Scrivia"},{"id":"006161","name":"Sezzadio"},{"id":"006162","name":"Silvano d\'Orba"},{"id":"006163","name":"Solero"},{"id":"006164","name":"Solonghello"},{"id":"006165","name":"Spigno Monferrato"},{"id":"006166","name":"Spineto Scrivia"},{"id":"006167","name":"Stazzano"},{"id":"006168","name":"Strevi"},{"id":"006169","name":"Tagliolo Monferrato"},{"id":"006170","name":"Tassarolo"},{"id":"006171","name":"Terruggia"},{"id":"006172","name":"Terzo"},{"id":"006173","name":"Ticineto"},{"id":"006174","name":"Tortona"},{"id":"006175","name":"Treville"},{"id":"006176","name":"Trisobbio"},{"id":"006177","name":"Valenza"},{"id":"006178","name":"Valmacca"},{"id":"006179","name":"Vignale Monferrato"},{"id":"006180","name":"Vignole Borbera"},{"id":"006181","name":"Viguzzolo"},{"id":"006182","name":"Villadeati"},{"id":"006183","name":"Villalvernia"},{"id":"006184","name":"Villamiroglio"},{"id":"006185","name":"Villanova Monferrato"},{"id":"006186","name":"Villaromagnano"},{"id":"006187","name":"Visone"},{"id":"006188","name":"Volpedo"},{"id":"006189","name":"Volpeglino"},{"id":"006190","name":"Voltaggio"},{"id":"006191","name":"Cassano Spinola"},{"id":"006192","name":"Alluvioni Piovera"},{"id":"006193","name":"Lu e Cuccaro Monferrato"}]}]},{"id":"ITC2","name":"Valle d\'Aosta / Vall\xe9e d\'Aoste","children":[{"id":"ITC20","name":"Valle d\'Aosta / Vall\xe9e d\'Aoste","children":[{"id":"007001","name":"Allein"},{"id":"007002","name":"Antey-Saint-Andr\xe9"},{"id":"007003","name":"Aosta"},{"id":"007004","name":"Arnad"},{"id":"007005","name":"Arvier"},{"id":"007006","name":"Avise"},{"id":"007007","name":"Ayas"},{"id":"007008","name":"Aymavilles"},{"id":"007009","name":"Bard"},{"id":"007010","name":"Bionaz"},{"id":"007011","name":"Brissogne"},{"id":"007012","name":"Brusson"},{"id":"007013","name":"Challand-Saint-Anselme"},{"id":"007014","name":"Challand-Saint-Victor"},{"id":"007015","name":"Chambave"},{"id":"007016","name":"Chamois"},{"id":"007017","name":"Champdepraz"},{"id":"007018","name":"Champorcher"},{"id":"007019","name":"Charvensod"},{"id":"007020","name":"Chatillon"},{"id":"007021","name":"Cogne"},{"id":"007022","name":"Courmayeur"},{"id":"007023","name":"Donnas"},{"id":"007024","name":"Doues"},{"id":"007025","name":"Emar\xe8se"},{"id":"007026","name":"Etroubles"},{"id":"007027","name":"F\xe9nis"},{"id":"007028","name":"Fontainemore"},{"id":"007029","name":"Gaby"},{"id":"007030","name":"Gignod"},{"id":"007031","name":"Gressan"},{"id":"007032","name":"Gressoney-La-Trinit\xe8"},{"id":"007033","name":"Gressoney-Saint-Jean"},{"id":"007034","name":"H\xf4ne"},{"id":"007035","name":"Introd"},{"id":"007036","name":"Issime"},{"id":"007037","name":"Issogne"},{"id":"007038","name":"Joven\xe7an"},{"id":"007039","name":"La Magdeleine"},{"id":"007040","name":"La Salle"},{"id":"007041","name":"La Thuile"},{"id":"007042","name":"Lillianes"},{"id":"007043","name":"Montjovet"},{"id":"007044","name":"Morgex"},{"id":"007045","name":"Nus"},{"id":"007046","name":"Ollomont"},{"id":"007047","name":"Oyace"},{"id":"007048","name":"Perloz"},{"id":"007049","name":"Pollein"},{"id":"007050","name":"Pontboset"},{"id":"007051","name":"Pontey"},{"id":"007052","name":"Pont-Saint-Martin"},{"id":"007053","name":"Pr\xe9-Saint-Didier"},{"id":"007054","name":"Quart"},{"id":"007055","name":"Rhemes-Notre-Dame"},{"id":"007056","name":"Rhemes-Saint-Georges"},{"id":"007057","name":"Roisan"},{"id":"007058","name":"Saint-Christophe"},{"id":"007059","name":"Saint-Denis"},{"id":"007060","name":"Saint-Marcel"},{"id":"007061","name":"Saint-Nicolas"},{"id":"007062","name":"Saint-Oyen"},{"id":"007063","name":"Saint-Pierre"},{"id":"007064","name":"Saint-Rh\xe9my-en-Bosses"},{"id":"007065","name":"Saint-Vincent"},{"id":"007066","name":"Sarre"},{"id":"007067","name":"Torgnon"},{"id":"007068","name":"Valgrisenche"},{"id":"007069","name":"Valpelline"},{"id":"007070","name":"Valsavarenche"},{"id":"007071","name":"Valtournenche"},{"id":"007072","name":"Verrayes"},{"id":"007073","name":"Verr\xe8s"},{"id":"007074","name":"Villeneuve"}]}]},{"id":"ITC3","name":"Liguria","children":[{"id":"ITC31","name":"Imperia","children":[{"id":"008001","name":"Airole"},{"id":"008002","name":"Apricale"},{"id":"008003","name":"Aquila d\'Arroscia"},{"id":"008004","name":"Armo"},{"id":"008005","name":"Aurigo"},{"id":"008006","name":"Badalucco"},{"id":"008007","name":"Bajardo"},{"id":"008008","name":"Bordighera"},{"id":"008009","name":"Borghetto d\'Arroscia"},{"id":"008010","name":"Borgomaro"},{"id":"008011","name":"Camporosso"},{"id":"008012","name":"Caravonica"},{"id":"008013","name":"Carpasio"},{"id":"008014","name":"Castellaro"},{"id":"008015","name":"Castel Vittorio"},{"id":"008016","name":"Ceriana"},{"id":"008017","name":"Cervo"},{"id":"008018","name":"Cesio"},{"id":"008019","name":"Chiusanico"},{"id":"008020","name":"Chiusavecchia"},{"id":"008021","name":"Cipressa"},{"id":"008022","name":"Civezza"},{"id":"008023","name":"Cosio d\'Arroscia"},{"id":"008024","name":"Costarainera"},{"id":"008025","name":"Diano Arentino"},{"id":"008026","name":"Diano Castello"},{"id":"008027","name":"Diano Marina"},{"id":"008028","name":"Diano San Pietro"},{"id":"008029","name":"Dolceacqua"},{"id":"008030","name":"Dolcedo"},{"id":"008031","name":"Imperia"},{"id":"008032","name":"Isolabona"},{"id":"008033","name":"Lucinasco"},{"id":"008034","name":"Mendatica"},{"id":"008035","name":"Molini di Triora"},{"id":"008036","name":"Montalto Ligure"},{"id":"008037","name":"Montegrosso Pian Latte"},{"id":"008038","name":"Olivetta San Michele"},{"id":"008039","name":"Ospedaletti"},{"id":"008040","name":"Perinaldo"},{"id":"008041","name":"Pietrabruna"},{"id":"008042","name":"Pieve di Teco"},{"id":"008043","name":"Pigna"},{"id":"008044","name":"Pompeiana"},{"id":"008045","name":"Pontedassio"},{"id":"008046","name":"Pornassio"},{"id":"008047","name":"Prel\xe0\xa0"},{"id":"008048","name":"Ranzo"},{"id":"008049","name":"Rezzo"},{"id":"008050","name":"Riva Ligure"},{"id":"008051","name":"Rocchetta Nervina"},{"id":"008052","name":"San Bartolomeo al Mare"},{"id":"008053","name":"San Biagio della Cima"},{"id":"008054","name":"San Lorenzo al Mare"},{"id":"008055","name":"Sanremo"},{"id":"008056","name":"Santo Stefano al Mare"},{"id":"008057","name":"Seborga"},{"id":"008058","name":"Soldano"},{"id":"008059","name":"Taggia"},{"id":"008060","name":"Terzorio"},{"id":"008061","name":"Triora"},{"id":"008062","name":"Vallebona"},{"id":"008063","name":"Vallecrosia"},{"id":"008064","name":"Vasia"},{"id":"008065","name":"Ventimiglia"},{"id":"008066","name":"Vessalico"},{"id":"008067","name":"Villa Faraldi"},{"id":"008068","name":"Montalto Carpasio"}]},{"id":"ITC32","name":"Savona","children":[{"id":"009001","name":"Alassio"},{"id":"009002","name":"Albenga"},{"id":"009003","name":"Albissola Marina"},{"id":"009004","name":"Albisola Superiore"},{"id":"009005","name":"Altare"},{"id":"009006","name":"Andora"},{"id":"009007","name":"Arnasco"},{"id":"009008","name":"Balestrino"},{"id":"009009","name":"Bardineto"},{"id":"009010","name":"Bergeggi"},{"id":"009011","name":"Boissano"},{"id":"009012","name":"Borghetto Santo Spirito"},{"id":"009013","name":"Borgio Verezzi"},{"id":"009014","name":"Bormida"},{"id":"009015","name":"Cairo Montenotte"},{"id":"009016","name":"Calice Ligure"},{"id":"009017","name":"Calizzano"},{"id":"009018","name":"Carcare"},{"id":"009019","name":"Casanova Lerrone"},{"id":"009020","name":"Castelbianco"},{"id":"009021","name":"Castelvecchio di Rocca Barbena"},{"id":"009022","name":"Celle Ligure"},{"id":"009023","name":"Cengio"},{"id":"009024","name":"Ceriale"},{"id":"009025","name":"Cisano sul Neva"},{"id":"009026","name":"Cosseria"},{"id":"009027","name":"Dego"},{"id":"009028","name":"Erli"},{"id":"009029","name":"Finale Ligure"},{"id":"009030","name":"Garlenda"},{"id":"009031","name":"Giustenice"},{"id":"009032","name":"Giusvalla"},{"id":"009033","name":"Laigueglia"},{"id":"009034","name":"Loano"},{"id":"009035","name":"Magliolo"},{"id":"009036","name":"Mallare"},{"id":"009037","name":"Massimino"},{"id":"009038","name":"Millesimo"},{"id":"009039","name":"Mioglia"},{"id":"009040","name":"Murialdo"},{"id":"009041","name":"Nasino"},{"id":"009042","name":"Noli"},{"id":"009043","name":"Onzo"},{"id":"009044","name":"Orco Feglino"},{"id":"009045","name":"Ortovero"},{"id":"009046","name":"Osiglia"},{"id":"009047","name":"Pallare"},{"id":"009048","name":"Piana Crixia"},{"id":"009049","name":"Pietra Ligure"},{"id":"009050","name":"Plodio"},{"id":"009051","name":"Pontinvrea"},{"id":"009052","name":"Quiliano"},{"id":"009053","name":"Rialto"},{"id":"009054","name":"Roccavignale"},{"id":"009055","name":"Sassello"},{"id":"009056","name":"Savona"},{"id":"009057","name":"Spotorno"},{"id":"009058","name":"Stella"},{"id":"009059","name":"Stellanello"},{"id":"009060","name":"Testico"},{"id":"009061","name":"Toirano"},{"id":"009062","name":"Tovo San Giacomo"},{"id":"009063","name":"Urbe"},{"id":"009064","name":"Vado Ligure"},{"id":"009065","name":"Varazze"},{"id":"009066","name":"Vendone"},{"id":"009067","name":"Vezzi Portio"},{"id":"009068","name":"Villanova d\'Albenga"},{"id":"009069","name":"Zuccarello"}]},{"id":"ITC33","name":"Genova","children":[{"id":"010001","name":"Arenzano"},{"id":"010002","name":"Avegno"},{"id":"010003","name":"Bargagli"},{"id":"010004","name":"Bogliasco"},{"id":"010005","name":"Borzonasca"},{"id":"010006","name":"Busalla"},{"id":"010007","name":"Camogli"},{"id":"010008","name":"Campo Ligure"},{"id":"010009","name":"Campomorone"},{"id":"010010","name":"Carasco"},{"id":"010011","name":"Casarza Ligure"},{"id":"010012","name":"Casella"},{"id":"010013","name":"Castiglione Chiavarese"},{"id":"010014","name":"Ceranesi"},{"id":"010015","name":"Chiavari"},{"id":"010016","name":"Cicagna"},{"id":"010017","name":"Cogoleto"},{"id":"010018","name":"Cogorno"},{"id":"010019","name":"Coreglia Ligure"},{"id":"010020","name":"Crocefieschi"},{"id":"010021","name":"Davagna"},{"id":"010022","name":"Fascia"},{"id":"010023","name":"Favale di Malvaro"},{"id":"010024","name":"Fontanigorda"},{"id":"010025","name":"Genova"},{"id":"010026","name":"Gorreto"},{"id":"010027","name":"Isola del Cantone"},{"id":"010028","name":"Lavagna"},{"id":"010029","name":"Leivi"},{"id":"010030","name":"Lorsica"},{"id":"010031","name":"Lumarzo"},{"id":"010032","name":"Masone"},{"id":"010033","name":"Mele"},{"id":"010034","name":"Mezzanego"},{"id":"010035","name":"Mignanego"},{"id":"010036","name":"Moconesi"},{"id":"010037","name":"Moneglia"},{"id":"010038","name":"Montebruno"},{"id":"010039","name":"Montoggio"},{"id":"010040","name":"Ne"},{"id":"010041","name":"Neirone"},{"id":"010042","name":"Orero"},{"id":"010043","name":"Pieve Ligure"},{"id":"010044","name":"Portofino"},{"id":"010045","name":"Propata"},{"id":"010046","name":"Rapallo"},{"id":"010047","name":"Recco"},{"id":"010048","name":"Rezzoaglio"},{"id":"010049","name":"Ronco Scrivia"},{"id":"010050","name":"Rondanina"},{"id":"010051","name":"Rossiglione"},{"id":"010052","name":"Rovegno"},{"id":"010053","name":"San Colombano Certenoli"},{"id":"010054","name":"Santa Margherita Ligure"},{"id":"010055","name":"Sant\'Olcese"},{"id":"010056","name":"Santo Stefano d\'Aveto"},{"id":"010057","name":"Savignone"},{"id":"010058","name":"Serra Ricc\xf2"},{"id":"010059","name":"Sestri Levante"},{"id":"010060","name":"Sori"},{"id":"010061","name":"Tiglieto"},{"id":"010062","name":"Torriglia"},{"id":"010063","name":"Tribogna"},{"id":"010064","name":"Uscio"},{"id":"010065","name":"Valbrevenna"},{"id":"010066","name":"Vobbia"},{"id":"010067","name":"Zoagli"}]},{"id":"ITC34","name":"La Spezia","children":[{"id":"011001","name":"Ameglia"},{"id":"011002","name":"Arcola"},{"id":"011003","name":"Beverino"},{"id":"011004","name":"Bolano"},{"id":"011005","name":"Bonassola"},{"id":"011006","name":"Borghetto di Vara"},{"id":"011007","name":"Brugnato"},{"id":"011008","name":"Calice al Cornoviglio"},{"id":"011009","name":"Carro"},{"id":"011010","name":"Carrodano"},{"id":"011011","name":"Castelnuovo Magra"},{"id":"011012","name":"Deiva Marina"},{"id":"011013","name":"Follo"},{"id":"011014","name":"Framura"},{"id":"011015","name":"La Spezia"},{"id":"011016","name":"Lerici"},{"id":"011017","name":"Levanto"},{"id":"011018","name":"Maissana"},{"id":"011019","name":"Monterosso al Mare"},{"id":"011020","name":"Luni"},{"id":"011021","name":"Pignone"},{"id":"011022","name":"Portovenere"},{"id":"011023","name":"Ricc\xf2 del Golfo di Spezia"},{"id":"011024","name":"Riomaggiore"},{"id":"011025","name":"Rocchetta di Vara"},{"id":"011026","name":"Santo Stefano di Magra"},{"id":"011027","name":"Sarzana"},{"id":"011028","name":"Sesta Godano"},{"id":"011029","name":"Varese Ligure"},{"id":"011030","name":"Vernazza"},{"id":"011031","name":"Vezzano Ligure"},{"id":"011032","name":"Zignago"}]}]},{"id":"ITC4","name":"Lombardia","children":[{"id":"IT108","name":"Monza e della Brianza","children":[{"id":"108001","name":"Agrate Brianza"},{"id":"108002","name":"Aicurzio"},{"id":"108003","name":"Albiate"},{"id":"108004","name":"Arcore"},{"id":"108005","name":"Barlassina"},{"id":"108006","name":"Bellusco"},{"id":"108007","name":"Bernareggio"},{"id":"108008","name":"Besana in Brianza"},{"id":"108009","name":"Biassono"},{"id":"108010","name":"Bovisio-Masciago"},{"id":"108011","name":"Briosco"},{"id":"108012","name":"Brugherio"},{"id":"108013","name":"Burago di Molgora"},{"id":"108014","name":"Camparada"},{"id":"108015","name":"Carate Brianza"},{"id":"108016","name":"Carnate"},{"id":"108017","name":"Cavenago di Brianza"},{"id":"108018","name":"Ceriano Laghetto"},{"id":"108019","name":"Cesano Maderno"},{"id":"108020","name":"Cogliate"},{"id":"108021","name":"Concorezzo"},{"id":"108022","name":"Correzzana"},{"id":"108023","name":"Desio"},{"id":"108024","name":"Giussano"},{"id":"108025","name":"Lazzate"},{"id":"108026","name":"Lesmo"},{"id":"108027","name":"Limbiate"},{"id":"108028","name":"Lissone"},{"id":"108029","name":"Macherio"},{"id":"108030","name":"Meda"},{"id":"108031","name":"Mezzago"},{"id":"108032","name":"Misinto"},{"id":"108033","name":"Monza"},{"id":"108034","name":"Muggi\xf2"},{"id":"108035","name":"Nova Milanese"},{"id":"108036","name":"Ornago"},{"id":"108037","name":"Renate"},{"id":"108038","name":"Ronco Briantino"},{"id":"108039","name":"Seregno"},{"id":"108040","name":"Seveso"},{"id":"108041","name":"Sovico"},{"id":"108042","name":"Sulbiate"},{"id":"108043","name":"Triuggio"},{"id":"108044","name":"Usmate Velate"},{"id":"108045","name":"Varedo"},{"id":"108046","name":"Vedano al Lambro"},{"id":"108047","name":"Veduggio con Colzano"},{"id":"108048","name":"Verano Brianza"},{"id":"108049","name":"Villasanta"},{"id":"108050","name":"Vimercate"},{"id":"108051","name":"Busnago"},{"id":"108052","name":"Caponago"},{"id":"108053","name":"Cornate d\'Adda"},{"id":"108054","name":"Lentate sul Seveso"},{"id":"108055","name":"Roncello"}]},{"id":"ITC41","name":"Varese","children":[{"id":"012001","name":"Agra"},{"id":"012002","name":"Albizzate"},{"id":"012003","name":"Angera"},{"id":"012004","name":"Arcisate"},{"id":"012005","name":"Arsago Seprio"},{"id":"012006","name":"Azzate"},{"id":"012007","name":"Azzio"},{"id":"012008","name":"Barasso"},{"id":"012009","name":"Bardello"},{"id":"012010","name":"Bedero Valcuvia"},{"id":"012011","name":"Besano"},{"id":"012012","name":"Besnate"},{"id":"012013","name":"Besozzo"},{"id":"012014","name":"Biandronno"},{"id":"012015","name":"Bisuschio"},{"id":"012016","name":"Bodio Lomnago"},{"id":"012017","name":"Brebbia"},{"id":"012018","name":"Bregano"},{"id":"012019","name":"Brenta"},{"id":"012020","name":"Brezzo di Bedero"},{"id":"012021","name":"Brinzio"},{"id":"012022","name":"Brissago-Valtravaglia"},{"id":"012023","name":"Brunello"},{"id":"012024","name":"Brusimpiano"},{"id":"012025","name":"Buguggiate"},{"id":"012026","name":"Busto Arsizio"},{"id":"012027","name":"Cadegliano-Viconago"},{"id":"012028","name":"Cadrezzate"},{"id":"012029","name":"Cairate"},{"id":"012030","name":"Cantello"},{"id":"012031","name":"Caravate"},{"id":"012032","name":"Cardano al Campo"},{"id":"012033","name":"Carnago"},{"id":"012034","name":"Caronno Pertusella"},{"id":"012035","name":"Caronno Varesino"},{"id":"012036","name":"Casale Litta"},{"id":"012037","name":"Casalzuigno"},{"id":"012038","name":"Casciago"},{"id":"012039","name":"Casorate Sempione"},{"id":"012040","name":"Cassano Magnago"},{"id":"012041","name":"Cassano Valcuvia"},{"id":"012042","name":"Castellanza"},{"id":"012043","name":"Castello Cabiaglio"},{"id":"012044","name":"Castelseprio"},{"id":"012045","name":"Castelveccana"},{"id":"012046","name":"Castiglione Olona"},{"id":"012047","name":"Castronno"},{"id":"012048","name":"Cavaria con Premezzo"},{"id":"012049","name":"Cazzago Brabbia"},{"id":"012050","name":"Cislago"},{"id":"012051","name":"Cittiglio"},{"id":"012052","name":"Clivio"},{"id":"012053","name":"Cocquio-Trevisago"},{"id":"012054","name":"Comabbio"},{"id":"012055","name":"Comerio"},{"id":"012056","name":"Cremenaga"},{"id":"012057","name":"Crosio della Valle"},{"id":"012058","name":"Cuasso al Monte"},{"id":"012059","name":"Cugliate-Fabiasco"},{"id":"012060","name":"Cunardo"},{"id":"012061","name":"Curiglia con Monteviasco"},{"id":"012062","name":"Cuveglio"},{"id":"012063","name":"Cuvio"},{"id":"012064","name":"Daverio"},{"id":"012065","name":"Dumenza"},{"id":"012066","name":"Duno"},{"id":"012067","name":"Fagnano Olona"},{"id":"012068","name":"Ferno"},{"id":"012069","name":"Ferrera di Varese"},{"id":"012070","name":"Gallarate"},{"id":"012071","name":"Galliate Lombardo"},{"id":"012072","name":"Gavirate"},{"id":"012073","name":"Gazzada Schianno"},{"id":"012074","name":"Gemonio"},{"id":"012075","name":"Gerenzano"},{"id":"012076","name":"Germignaga"},{"id":"012077","name":"Golasecca"},{"id":"012078","name":"Gorla Maggiore"},{"id":"012079","name":"Gorla Minore"},{"id":"012080","name":"Gornate-Olona"},{"id":"012081","name":"Grantola"},{"id":"012082","name":"Inarzo"},{"id":"012083","name":"Induno Olona"},{"id":"012084","name":"Ispra"},{"id":"012085","name":"Jerago con Orago"},{"id":"012086","name":"Lavena Ponte Tresa"},{"id":"012087","name":"Laveno-Mombello"},{"id":"012088","name":"Leggiuno"},{"id":"012089","name":"Lonate Ceppino"},{"id":"012090","name":"Lonate Pozzolo"},{"id":"012091","name":"Lozza"},{"id":"012092","name":"Luino"},{"id":"012093","name":"Luvinate"},{"id":"012094","name":"Maccagno"},{"id":"012095","name":"Malgesso"},{"id":"012096","name":"Malnate"},{"id":"012097","name":"Marchirolo"},{"id":"012098","name":"Marnate"},{"id":"012099","name":"Marzio"},{"id":"012100","name":"Masciago Primo"},{"id":"012101","name":"Mercallo"},{"id":"012102","name":"Mesenzana"},{"id":"012103","name":"Montegrino Valtravaglia"},{"id":"012104","name":"Monvalle"},{"id":"012105","name":"Morazzone"},{"id":"012106","name":"Mornago"},{"id":"012107","name":"Oggiona con Santo Stefano"},{"id":"012108","name":"Olgiate Olona"},{"id":"012109","name":"Origgio"},{"id":"012110","name":"Orino"},{"id":"012111","name":"Osmate"},{"id":"012112","name":"Pino sulla Sponda del Lago Maggiore"},{"id":"012113","name":"Porto Ceresio"},{"id":"012114","name":"Porto Valtravaglia"},{"id":"012115","name":"Rancio Valcuvia"},{"id":"012116","name":"Ranco"},{"id":"012117","name":"Saltrio"},{"id":"012118","name":"Samarate"},{"id":"012119","name":"Saronno"},{"id":"012120","name":"Sesto Calende"},{"id":"012121","name":"Solbiate Arno"},{"id":"012122","name":"Solbiate Olona"},{"id":"012123","name":"Somma Lombardo"},{"id":"012124","name":"Sumirago"},{"id":"012125","name":"Taino"},{"id":"012126","name":"Ternate"},{"id":"012127","name":"Tradate"},{"id":"012128","name":"Travedona-Monate"},{"id":"012129","name":"Tronzano Lago Maggiore"},{"id":"012130","name":"Uboldo"},{"id":"012131","name":"Valganna"},{"id":"012132","name":"Varano Borghi"},{"id":"012133","name":"Varese"},{"id":"012134","name":"Vedano Olona"},{"id":"012135","name":"Veddasca"},{"id":"012136","name":"Venegono Inferiore"},{"id":"012137","name":"Venegono Superiore"},{"id":"012138","name":"Vergiate"},{"id":"012139","name":"Viggi\xf9"},{"id":"012140","name":"Vizzola Ticino"},{"id":"012141","name":"Sangiano"},{"id":"012142","name":"Maccagno con Pino e Veddasca"},{"id":"012143","name":"Cadrezzate con Osmate"}]},{"id":"ITC42","name":"Como","children":[{"id":"013001","name":"Abbadia Lariana"},{"id":"013002","name":"Airuno"},{"id":"013003","name":"Albavilla"},{"id":"013004","name":"Albese con Cassano"},{"id":"013005","name":"Albiolo"},{"id":"013006","name":"Alserio"},{"id":"013007","name":"Alzate Brianza"},{"id":"013008","name":"Annone di Brianza"},{"id":"013009","name":"Anzano del Parco"},{"id":"013010","name":"Appiano Gentile"},{"id":"013011","name":"Argegno"},{"id":"013012","name":"Arosio"},{"id":"013013","name":"Asso"},{"id":"013014","name":"Ballabio"},{"id":"013015","name":"Barni"},{"id":"013016","name":"Barzago"},{"id":"013017","name":"Barzan\xf2"},{"id":"013018","name":"Barzio"},{"id":"013019","name":"Bellagio"},{"id":"013020","name":"Bellano"},{"id":"013021","name":"Bene Lario"},{"id":"013022","name":"Beregazzo con Figliaro"},{"id":"013023","name":"Binago"},{"id":"013024","name":"Bizzarone"},{"id":"013025","name":"Blessagno"},{"id":"013026","name":"Blevio"},{"id":"013027","name":"Bosisio Parini"},{"id":"013028","name":"Bregnano"},{"id":"013029","name":"Brenna"},{"id":"013030","name":"Brienno"},{"id":"013031","name":"Brivio"},{"id":"013032","name":"Brunate"},{"id":"013033","name":"Bulciago"},{"id":"013034","name":"Bulgarograsso"},{"id":"013035","name":"Cabiate"},{"id":"013036","name":"Cadorago"},{"id":"013037","name":"Caglio"},{"id":"013038","name":"Cagno"},{"id":"013039","name":"Calco"},{"id":"013040","name":"Campione d\'Italia"},{"id":"013041","name":"Cant\xf9"},{"id":"013042","name":"Canzo"},{"id":"013043","name":"Capiago Intimiano"},{"id":"013044","name":"Carate Urio"},{"id":"013045","name":"Carbonate"},{"id":"013046","name":"Carimate"},{"id":"013047","name":"Carlazzo"},{"id":"013048","name":"Carugo"},{"id":"013049","name":"Casargo"},{"id":"013050","name":"Casasco d\'Intelvi"},{"id":"013051","name":"Casatenovo"},{"id":"013052","name":"Caslino d\'Erba"},{"id":"013053","name":"Casnate con Bernate"},{"id":"013054","name":"Cassago Brianza"},{"id":"013055","name":"Cassina Rizzardi"},{"id":"013056","name":"Cassina Valsassina"},{"id":"013057","name":"Castello di Brianza"},{"id":"013058","name":"Castelmarte"},{"id":"013059","name":"Castelnuovo Bozzente"},{"id":"013060","name":"Castiglione d\'Intelvi"},{"id":"013061","name":"Cavallasca"},{"id":"013062","name":"Cavargna"},{"id":"013063","name":"Cerano d\'Intelvi"},{"id":"013064","name":"Cermenate"},{"id":"013065","name":"Cernobbio"},{"id":"013066","name":"Cernusco Lombardone"},{"id":"013067","name":"Cesana Brianza"},{"id":"013068","name":"Cirimido"},{"id":"013069","name":"Civate"},{"id":"013070","name":"Civenna"},{"id":"013071","name":"Claino con Osteno"},{"id":"013072","name":"Colico"},{"id":"013073","name":"Colle Brianza"},{"id":"013074","name":"Colonno"},{"id":"013075","name":"Como"},{"id":"013076","name":"Consiglio di Rumo"},{"id":"013077","name":"Corrido"},{"id":"013078","name":"Cortenova"},{"id":"013079","name":"Costa Masnaga"},{"id":"013080","name":"Crandola Valsassina"},{"id":"013081","name":"Cremella"},{"id":"013082","name":"Cremeno"},{"id":"013083","name":"Cremia"},{"id":"013084","name":"Cucciago"},{"id":"013085","name":"Cusino"},{"id":"013086","name":"Dervio"},{"id":"013087","name":"Dizzasco"},{"id":"013088","name":"Dolzago"},{"id":"013089","name":"Domaso"},{"id":"013090","name":"Dongo"},{"id":"013091","name":"Dorio"},{"id":"013092","name":"Dosso del Liro"},{"id":"013093","name":"Drezzo"},{"id":"013094","name":"Ello"},{"id":"013095","name":"Erba"},{"id":"013096","name":"Esino Lario"},{"id":"013097","name":"Eupilio"},{"id":"013098","name":"Faggeto Lario"},{"id":"013099","name":"Faloppio"},{"id":"013100","name":"Fenegr\xf2"},{"id":"013101","name":"Figino Serenza"},{"id":"013102","name":"Fino Mornasco"},{"id":"013103","name":"Galbiate"},{"id":"013104","name":"Garbagnate Monastero"},{"id":"013105","name":"Garlate"},{"id":"013106","name":"Garzeno"},{"id":"013107","name":"Gera Lario"},{"id":"013108","name":"Germasino"},{"id":"013109","name":"Gironico"},{"id":"013110","name":"Grandate"},{"id":"013111","name":"Grandola ed Uniti"},{"id":"013112","name":"Gravedona"},{"id":"013113","name":"Griante"},{"id":"013114","name":"Guanzate"},{"id":"013115","name":"Imbersago"},{"id":"013116","name":"Introbio"},{"id":"013117","name":"Introzzo"},{"id":"013118","name":"Inverigo"},{"id":"013119","name":"Laglio"},{"id":"013120","name":"Laino"},{"id":"013121","name":"Lambrugo"},{"id":"013122","name":"Lanzo d\'Intelvi"},{"id":"013123","name":"Lasnigo"},{"id":"013124","name":"Lecco"},{"id":"013125","name":"Lenno"},{"id":"013126","name":"Lezzeno"},{"id":"013127","name":"Lierna"},{"id":"013128","name":"Limido Comasco"},{"id":"013129","name":"Lipomo"},{"id":"013130","name":"Livo"},{"id":"013131","name":"Locate Varesino"},{"id":"013132","name":"Lomagna"},{"id":"013133","name":"Lomazzo"},{"id":"013134","name":"Longone al Segrino"},{"id":"013135","name":"Luisago"},{"id":"013136","name":"Lurago d\'Erba"},{"id":"013137","name":"Lurago Marinone"},{"id":"013138","name":"Lurate Caccivio"},{"id":"013139","name":"Magreglio"},{"id":"013140","name":"Malgrate"},{"id":"013141","name":"Mandello del Lario"},{"id":"013142","name":"Margno"},{"id":"013143","name":"Mariano Comense"},{"id":"013144","name":"Maslianico"},{"id":"013145","name":"Menaggio"},{"id":"013146","name":"Merate"},{"id":"013147","name":"Merone"},{"id":"013148","name":"Mezzegra"},{"id":"013149","name":"Missaglia"},{"id":"013150","name":"Moggio"},{"id":"013151","name":"Molteno"},{"id":"013152","name":"Moltrasio"},{"id":"013153","name":"Monguzzo"},{"id":"013154","name":"Montano Lucino"},{"id":"013155","name":"Montemezzo"},{"id":"013156","name":"Monticello Brianza"},{"id":"013157","name":"Montorfano"},{"id":"013158","name":"Morterone"},{"id":"013159","name":"Mozzate"},{"id":"013160","name":"Musso"},{"id":"013161","name":"Nesso"},{"id":"013162","name":"Nibionno"},{"id":"013163","name":"Novedrate"},{"id":"013164","name":"Oggiono"},{"id":"013165","name":"Olgiate Comasco"},{"id":"013166","name":"Olgiate Molgora"},{"id":"013167","name":"Olginate"},{"id":"013168","name":"Oliveto Lario"},{"id":"013169","name":"Oltrona di San Mamette"},{"id":"013170","name":"Orsenigo"},{"id":"013171","name":"Osnago"},{"id":"013172","name":"Ossuccio"},{"id":"013173","name":"Paderno d\'Adda"},{"id":"013174","name":"Pagnona"},{"id":"013175","name":"Par\xe8"},{"id":"013176","name":"Parlasco"},{"id":"013177","name":"Pasturo"},{"id":"013178","name":"Peglio"},{"id":"013179","name":"Pellio Intelvi"},{"id":"013180","name":"Perego"},{"id":"013181","name":"Perledo"},{"id":"013182","name":"Pescate"},{"id":"013183","name":"Pianello del Lario"},{"id":"013184","name":"Pigra"},{"id":"013185","name":"Plesio"},{"id":"013186","name":"Pognana Lario"},{"id":"013187","name":"Ponna"},{"id":"013188","name":"Ponte Lambro"},{"id":"013189","name":"Porlezza"},{"id":"013190","name":"Premana"},{"id":"013191","name":"Primaluna"},{"id":"013192","name":"Proserpio"},{"id":"013193","name":"Pusiano"},{"id":"013194","name":"Ramponio Verna"},{"id":"013195","name":"Rezzago"},{"id":"013196","name":"Robbiate"},{"id":"013197","name":"Rodero"},{"id":"013198","name":"Rogeno"},{"id":"013199","name":"Ronago"},{"id":"013200","name":"Rovagnate"},{"id":"013201","name":"Rovellasca"},{"id":"013202","name":"Rovello Porro"},{"id":"013203","name":"Sala Comacina"},{"id":"013204","name":"San Bartolomeo Val Cavargna"},{"id":"013205","name":"San Fedele Intelvi"},{"id":"013206","name":"San Fermo della Battaglia"},{"id":"013207","name":"San Nazzaro Val Cavargna"},{"id":"013208","name":"Sant\'Abbondio"},{"id":"013209","name":"Santa Maria Ho\xe8"},{"id":"013210","name":"Santa Maria Rezzonico"},{"id":"013211","name":"Schignano"},{"id":"013212","name":"Senna Comasco"},{"id":"013213","name":"Sirone"},{"id":"013214","name":"Sirtori"},{"id":"013215","name":"Solbiate"},{"id":"013216","name":"Sorico"},{"id":"013217","name":"Sormano"},{"id":"013218","name":"Stazzona"},{"id":"013219","name":"Sueglio"},{"id":"013220","name":"Suello"},{"id":"013221","name":"Taceno"},{"id":"013222","name":"Tavernerio"},{"id":"013223","name":"Torno"},{"id":"013224","name":"Tremenico"},{"id":"013225","name":"Tremezzo"},{"id":"013226","name":"Trezzone"},{"id":"013227","name":"Turate"},{"id":"013228","name":"Uggiate-Trevano"},{"id":"013229","name":"Valbrona"},{"id":"013230","name":"Valgreghentino"},{"id":"013231","name":"Valmadrera"},{"id":"013232","name":"Valmorea"},{"id":"013233","name":"Val Rezzo"},{"id":"013234","name":"Valsolda"},{"id":"013235","name":"Varenna"},{"id":"013236","name":"Veleso"},{"id":"013237","name":"Vendrogno"},{"id":"013238","name":"Veniano"},{"id":"013239","name":"Vercana"},{"id":"013240","name":"Verderio Inferiore"},{"id":"013241","name":"Verderio Superiore"},{"id":"013242","name":"Vertemate con Minoprio"},{"id":"013243","name":"Vestreno"},{"id":"013244","name":"Vigan\xf2"},{"id":"013245","name":"Villa Guardia"},{"id":"013246","name":"Zelbio"},{"id":"013247","name":"Montevecchia"},{"id":"013248","name":"San Siro"},{"id":"013249","name":"Gravedona ed Uniti"},{"id":"013250","name":"Bellagio"},{"id":"013251","name":"Colverde"},{"id":"013252","name":"Tremezzina"},{"id":"013253","name":"Alta Valle Intelvi"},{"id":"013254","name":"Centro Valle Intelvi"},{"id":"013255","name":"Solbiate con Cagno"}]},{"id":"ITC43","name":"Lecco","children":[{"id":"097001","name":"Abbadia Lariana"},{"id":"097002","name":"Airuno"},{"id":"097003","name":"Annone di Brianza"},{"id":"097004","name":"Ballabio"},{"id":"097005","name":"Barzago"},{"id":"097006","name":"Barzan\xf2"},{"id":"097007","name":"Barzio"},{"id":"097008","name":"Bellano"},{"id":"097009","name":"Bosisio Parini"},{"id":"097010","name":"Brivio"},{"id":"097011","name":"Bulciago"},{"id":"097012","name":"Calco"},{"id":"097013","name":"Calolziocorte"},{"id":"097014","name":"Carenno"},{"id":"097015","name":"Casargo"},{"id":"097016","name":"Casatenovo"},{"id":"097017","name":"Cassago Brianza"},{"id":"097018","name":"Cassina Valsassina"},{"id":"097019","name":"Castello di Brianza"},{"id":"097020","name":"Cernusco Lombardone"},{"id":"097021","name":"Cesana Brianza"},{"id":"097022","name":"Civate"},{"id":"097023","name":"Colico"},{"id":"097024","name":"Colle Brianza"},{"id":"097025","name":"Cortenova"},{"id":"097026","name":"Costa Masnaga"},{"id":"097027","name":"Crandola Valsassina"},{"id":"097028","name":"Cremella"},{"id":"097029","name":"Cremeno"},{"id":"097030","name":"Dervio"},{"id":"097031","name":"Dolzago"},{"id":"097032","name":"Dorio"},{"id":"097033","name":"Ello"},{"id":"097034","name":"Erve"},{"id":"097035","name":"Esino Lario"},{"id":"097036","name":"Galbiate"},{"id":"097037","name":"Garbagnate Monastero"},{"id":"097038","name":"Garlate"},{"id":"097039","name":"Imbersago"},{"id":"097040","name":"Introbio"},{"id":"097041","name":"Introzzo"},{"id":"097042","name":"Lecco"},{"id":"097043","name":"Lierna"},{"id":"097044","name":"Lomagna"},{"id":"097045","name":"Malgrate"},{"id":"097046","name":"Mandello del Lario"},{"id":"097047","name":"Margno"},{"id":"097048","name":"Merate"},{"id":"097049","name":"Missaglia"},{"id":"097050","name":"Moggio"},{"id":"097051","name":"Molteno"},{"id":"097052","name":"Monte Marenzo"},{"id":"097053","name":"Montevecchia"},{"id":"097054","name":"Monticello Brianza"},{"id":"097055","name":"Morterone"},{"id":"097056","name":"Nibionno"},{"id":"097057","name":"Oggiono"},{"id":"097058","name":"Olgiate Molgora"},{"id":"097059","name":"Olginate"},{"id":"097060","name":"Oliveto Lario"},{"id":"097061","name":"Osnago"},{"id":"097062","name":"Paderno d\'Adda"},{"id":"097063","name":"Pagnona"},{"id":"097064","name":"Parlasco"},{"id":"097065","name":"Pasturo"},{"id":"097066","name":"Perego"},{"id":"097067","name":"Perledo"},{"id":"097068","name":"Pescate"},{"id":"097069","name":"Premana"},{"id":"097070","name":"Primaluna"},{"id":"097071","name":"Robbiate"},{"id":"097072","name":"Rogeno"},{"id":"097073","name":"Rovagnate"},{"id":"097074","name":"Santa Maria Ho\xe8"},{"id":"097075","name":"Sirone"},{"id":"097076","name":"Sirtori"},{"id":"097077","name":"Sueglio"},{"id":"097078","name":"Suello"},{"id":"097079","name":"Taceno"},{"id":"097080","name":"Torre de\' Busi"},{"id":"097081","name":"Tremenico"},{"id":"097082","name":"Valgreghentino"},{"id":"097083","name":"Valmadrera"},{"id":"097084","name":"Varenna"},{"id":"097085","name":"Vendrogno"},{"id":"097086","name":"Vercurago"},{"id":"097087","name":"Verderio Inferiore"},{"id":"097088","name":"Verderio Superiore"},{"id":"097089","name":"Vestreno"},{"id":"097090","name":"Vigan\xf2"},{"id":"097091","name":"Verderio"},{"id":"097092","name":"La Valletta Brianza"},{"id":"097093","name":"Valvarrone"}]},{"id":"ITC44","name":"Sondrio","children":[{"id":"014001","name":"Albaredo per San Marco"},{"id":"014002","name":"Albosaggia"},{"id":"014003","name":"Andalo Valtellino"},{"id":"014004","name":"Aprica"},{"id":"014005","name":"Ardenno"},{"id":"014006","name":"Bema"},{"id":"014007","name":"Berbenno di Valtellina"},{"id":"014008","name":"Bianzone"},{"id":"014009","name":"Bormio"},{"id":"014010","name":"Buglio in Monte"},{"id":"014011","name":"Caiolo"},{"id":"014012","name":"Campodolcino"},{"id":"014013","name":"Caspoggio"},{"id":"014014","name":"Castello dell\'Acqua"},{"id":"014015","name":"Castione Andevenno"},{"id":"014016","name":"Cedrasco"},{"id":"014017","name":"Cercino"},{"id":"014018","name":"Chiavenna"},{"id":"014019","name":"Chiesa in Valmalenco"},{"id":"014020","name":"Chiuro"},{"id":"014021","name":"Cino"},{"id":"014022","name":"Civo"},{"id":"014023","name":"Colorina"},{"id":"014024","name":"Cosio Valtellino"},{"id":"014025","name":"Dazio"},{"id":"014026","name":"Delebio"},{"id":"014027","name":"Dubino"},{"id":"014028","name":"Faedo Valtellino"},{"id":"014029","name":"Forcola"},{"id":"014030","name":"Fusine"},{"id":"014031","name":"Gerola Alta"},{"id":"014032","name":"Gordona"},{"id":"014033","name":"Grosio"},{"id":"014034","name":"Grosotto"},{"id":"014035","name":"Madesimo"},{"id":"014036","name":"Lanzada"},{"id":"014037","name":"Livigno"},{"id":"014038","name":"Lovero"},{"id":"014039","name":"Mantello"},{"id":"014040","name":"Mazzo di Valtellina"},{"id":"014041","name":"Mello"},{"id":"014042","name":"Menarola"},{"id":"014043","name":"Mese"},{"id":"014044","name":"Montagna in Valtellina"},{"id":"014045","name":"Morbegno"},{"id":"014046","name":"Novate Mezzola"},{"id":"014047","name":"Pedesina"},{"id":"014048","name":"Piantedo"},{"id":"014049","name":"Piateda"},{"id":"014050","name":"Piuro"},{"id":"014051","name":"Poggiridenti"},{"id":"014052","name":"Ponte in Valtellina"},{"id":"014053","name":"Postalesio"},{"id":"014054","name":"Prata Camportaccio"},{"id":"014055","name":"Rasura"},{"id":"014056","name":"Rogolo"},{"id":"014057","name":"Samolaco"},{"id":"014058","name":"San Giacomo Filippo"},{"id":"014059","name":"Sernio"},{"id":"014060","name":"Sondalo"},{"id":"014061","name":"Sondrio"},{"id":"014062","name":"Spriana"},{"id":"014063","name":"Talamona"},{"id":"014064","name":"Tartano"},{"id":"014065","name":"Teglio"},{"id":"014066","name":"Tirano"},{"id":"014067","name":"Torre di Santa Maria"},{"id":"014068","name":"Tovo di Sant\'Agata"},{"id":"014069","name":"Traona"},{"id":"014070","name":"Tresivio"},{"id":"014071","name":"Valdidentro"},{"id":"014072","name":"Valdisotto"},{"id":"014073","name":"Valfurva"},{"id":"014074","name":"Val Masino"},{"id":"014075","name":"Verceia"},{"id":"014076","name":"Vervio"},{"id":"014077","name":"Villa di Chiavenna"},{"id":"014078","name":"Villa di Tirano"}]},{"id":"ITC45","name":"Milano","children":[{"id":"015001","name":"Abbadia Cerreto"},{"id":"015002","name":"Abbiategrasso"},{"id":"015003","name":"Agrate Brianza"},{"id":"015004","name":"Aicurzio"},{"id":"015005","name":"Albairate"},{"id":"015006","name":"Albiate"},{"id":"015007","name":"Arconate"},{"id":"015008","name":"Arcore"},{"id":"015009","name":"Arese"},{"id":"015010","name":"Arluno"},{"id":"015011","name":"Assago"},{"id":"015012","name":"Bareggio"},{"id":"015013","name":"Barlassina"},{"id":"015014","name":"Basiano"},{"id":"015015","name":"Basiglio"},{"id":"015016","name":"Bellinzago Lombardo"},{"id":"015017","name":"Bellusco"},{"id":"015018","name":"Bernareggio"},{"id":"015019","name":"Bernate Ticino"},{"id":"015020","name":"Bertonico"},{"id":"015021","name":"Besana in Brianza"},{"id":"015022","name":"Besate"},{"id":"015023","name":"Biassono"},{"id":"015024","name":"Binasco"},{"id":"015025","name":"Boffalora d\'Adda"},{"id":"015026","name":"Boffalora sopra Ticino"},{"id":"015027","name":"Bollate"},{"id":"015028","name":"Borghetto Lodigiano"},{"id":"015029","name":"Borgo San Giovanni"},{"id":"015030","name":"Bovisio-Masciago"},{"id":"015031","name":"Brembio"},{"id":"015032","name":"Bresso"},{"id":"015033","name":"Briosco"},{"id":"015034","name":"Brugherio"},{"id":"015035","name":"Bubbiano"},{"id":"015036","name":"Buccinasco"},{"id":"015037","name":"Burago di Molgora"},{"id":"015038","name":"Buscate"},{"id":"015039","name":"Busnago"},{"id":"015040","name":"Bussero"},{"id":"015041","name":"Busto Garolfo"},{"id":"015042","name":"Calvignasco"},{"id":"015043","name":"Camairago"},{"id":"015044","name":"Cambiago"},{"id":"015045","name":"Camparada"},{"id":"015046","name":"Canegrate"},{"id":"015047","name":"Caponago"},{"id":"015048","name":"Carate Brianza"},{"id":"015049","name":"Carnate"},{"id":"015050","name":"Carpiano"},{"id":"015051","name":"Carugate"},{"id":"015052","name":"Casaletto Lodigiano"},{"id":"015053","name":"Casalmaiocco"},{"id":"015054","name":"Casalpusterlengo"},{"id":"015055","name":"Casarile"},{"id":"015056","name":"Caselle Landi"},{"id":"015057","name":"Caselle Lurani"},{"id":"015058","name":"Casorezzo"},{"id":"015059","name":"Cassano d\'Adda"},{"id":"015060","name":"Cassina de\' Pecchi"},{"id":"015061","name":"Cassinetta di Lugagnano"},{"id":"015062","name":"Castano Primo"},{"id":"015063","name":"Castelnuovo Bocca d\'Adda"},{"id":"015064","name":"Castiglione d\'Adda"},{"id":"015065","name":"Castiraga Vidardo"},{"id":"015066","name":"Cavacurta"},{"id":"015067","name":"Cavenago d\'Adda"},{"id":"015068","name":"Cavenago di Brianza"},{"id":"015069","name":"Ceriano Laghetto"},{"id":"015070","name":"Cernusco sul Naviglio"},{"id":"015071","name":"Cerro al Lambro"},{"id":"015072","name":"Cerro Maggiore"},{"id":"015073","name":"Cervignano d\'Adda"},{"id":"015074","name":"Cesano Boscone"},{"id":"015075","name":"Cesano Maderno"},{"id":"015076","name":"Cesate"},{"id":"015077","name":"Cinisello Balsamo"},{"id":"015078","name":"Cisliano"},{"id":"015079","name":"Codogno"},{"id":"015080","name":"Cogliate"},{"id":"015081","name":"Cologno Monzese"},{"id":"015082","name":"Colturano"},{"id":"015083","name":"Comazzo"},{"id":"015084","name":"Concorezzo"},{"id":"015085","name":"Corbetta"},{"id":"015086","name":"Cormano"},{"id":"015087","name":"Cornaredo"},{"id":"015088","name":"Cornate d\'Adda"},{"id":"015089","name":"Cornegliano Laudense"},{"id":"015090","name":"Corno Giovine"},{"id":"015091","name":"Cornovecchio"},{"id":"015092","name":"Correzzana"},{"id":"015093","name":"Corsico"},{"id":"015094","name":"Corte Palasio"},{"id":"015095","name":"Crespiatica"},{"id":"015096","name":"Cuggiono"},{"id":"015097","name":"Cusago"},{"id":"015098","name":"Cusano Milanino"},{"id":"015099","name":"Dairago"},{"id":"015100","name":"Desio"},{"id":"015101","name":"Dresano"},{"id":"015102","name":"Fombio"},{"id":"015103","name":"Gaggiano"},{"id":"015104","name":"Galgagnano"},{"id":"015105","name":"Garbagnate Milanese"},{"id":"015106","name":"Gessate"},{"id":"015107","name":"Giussano"},{"id":"015108","name":"Gorgonzola"},{"id":"015109","name":"Graffignana"},{"id":"015110","name":"Grezzago"},{"id":"015111","name":"Guardamiglio"},{"id":"015112","name":"Gudo Visconti"},{"id":"015113","name":"Inveruno"},{"id":"015114","name":"Inzago"},{"id":"015115","name":"Lacchiarella"},{"id":"015116","name":"Lainate"},{"id":"015117","name":"Lazzate"},{"id":"015118","name":"Legnano"},{"id":"015119","name":"Lentate sul Seveso"},{"id":"015120","name":"Lesmo"},{"id":"015121","name":"Limbiate"},{"id":"015122","name":"Liscate"},{"id":"015123","name":"Lissone"},{"id":"015124","name":"Livraga"},{"id":"015125","name":"Locate di Triulzi"},{"id":"015126","name":"Lodi"},{"id":"015127","name":"Lodi Vecchio"},{"id":"015128","name":"Maccastorna"},{"id":"015129","name":"Macherio"},{"id":"015130","name":"Magenta"},{"id":"015131","name":"Magnago"},{"id":"015132","name":"Mairago"},{"id":"015133","name":"Maleo"},{"id":"015134","name":"Marcallo con Casone"},{"id":"015135","name":"Marudo"},{"id":"015136","name":"Masate"},{"id":"015137","name":"Massalengo"},{"id":"015138","name":"Meda"},{"id":"015139","name":"Mediglia"},{"id":"015140","name":"Melegnano"},{"id":"015141","name":"Meleti"},{"id":"015142","name":"Melzo"},{"id":"015143","name":"Merlino"},{"id":"015144","name":"Mesero"},{"id":"015145","name":"Mezzago"},{"id":"015146","name":"Milano"},{"id":"015147","name":"Misinto"},{"id":"015148","name":"Montanaso Lombardo"},{"id":"015149","name":"Monza"},{"id":"015150","name":"Morimondo"},{"id":"015151","name":"Motta Visconti"},{"id":"015152","name":"Muggi\xf2"},{"id":"015153","name":"Mulazzano"},{"id":"015154","name":"Nerviano"},{"id":"015155","name":"Nosate"},{"id":"015156","name":"Nova Milanese"},{"id":"015157","name":"Novate Milanese"},{"id":"015158","name":"Noviglio"},{"id":"015159","name":"Opera"},{"id":"015160","name":"Orio Litta"},{"id":"015161","name":"Ornago"},{"id":"015162","name":"Ospedaletto Lodigiano"},{"id":"015163","name":"Ossago Lodigiano"},{"id":"015164","name":"Ossona"},{"id":"015165","name":"Ozzero"},{"id":"015166","name":"Paderno Dugnano"},{"id":"015167","name":"Pantigliate"},{"id":"015168","name":"Parabiago"},{"id":"015169","name":"Paullo"},{"id":"015170","name":"Pero"},{"id":"015171","name":"Peschiera Borromeo"},{"id":"015172","name":"Pessano con Bornago"},{"id":"015173","name":"Pieve Emanuele"},{"id":"015174","name":"Pieve Fissiraga"},{"id":"015175","name":"Pioltello"},{"id":"015176","name":"Pogliano Milanese"},{"id":"015177","name":"Pozzo d\'Adda"},{"id":"015178","name":"Pozzuolo Martesana"},{"id":"015179","name":"Pregnana Milanese"},{"id":"015180","name":"Renate"},{"id":"015181","name":"Rescaldina"},{"id":"015182","name":"Rho"},{"id":"015183","name":"Robecchetto con Induno"},{"id":"015184","name":"Robecco sul Naviglio"},{"id":"015185","name":"Rodano"},{"id":"015186","name":"Roncello"},{"id":"015187","name":"Ronco Briantino"},{"id":"015188","name":"Rosate"},{"id":"015189","name":"Rozzano"},{"id":"015190","name":"Salerano sul Lambro"},{"id":"015191","name":"San Colombano al Lambro"},{"id":"015192","name":"San Donato Milanese"},{"id":"015193","name":"San Fiorano"},{"id":"015194","name":"San Giorgio su Legnano"},{"id":"015195","name":"San Giuliano Milanese"},{"id":"015196","name":"San Martino in Strada"},{"id":"015197","name":"San Rocco al Porto"},{"id":"015198","name":"Sant\'Angelo Lodigiano"},{"id":"015199","name":"Santo Stefano Lodigiano"},{"id":"015200","name":"Santo Stefano Ticino"},{"id":"015201","name":"San Vittore Olona"},{"id":"015202","name":"San Zenone al Lambro"},{"id":"015203","name":"Secugnago"},{"id":"015204","name":"Sedriano"},{"id":"015205","name":"Segrate"},{"id":"015206","name":"Senago"},{"id":"015207","name":"Senna Lodigiana"},{"id":"015208","name":"Seregno"},{"id":"015209","name":"Sesto San Giovanni"},{"id":"015210","name":"Settala"},{"id":"015211","name":"Settimo Milanese"},{"id":"015212","name":"Seveso"},{"id":"015213","name":"Solaro"},{"id":"015214","name":"Somaglia"},{"id":"015215","name":"Sordio"},{"id":"015216","name":"Sovico"},{"id":"015217","name":"Sulbiate"},{"id":"015218","name":"Terranova dei Passerini"},{"id":"015219","name":"Trezzano Rosa"},{"id":"015220","name":"Trezzano sul Naviglio"},{"id":"015221","name":"Trezzo sull\'Adda"},{"id":"015222","name":"Tribiano"},{"id":"015223","name":"Triuggio"},{"id":"015224","name":"Truccazzano"},{"id":"015225","name":"Turano Lodigiano"},{"id":"015226","name":"Turbigo"},{"id":"015227","name":"Usmate Velate"},{"id":"015228","name":"Valera Fratta"},{"id":"015229","name":"Vanzago"},{"id":"015230","name":"Vaprio d\'Adda"},{"id":"015231","name":"Varedo"},{"id":"015232","name":"Vedano al Lambro"},{"id":"015233","name":"Veduggio con Colzano"},{"id":"015234","name":"Verano Brianza"},{"id":"015235","name":"Vermezzo"},{"id":"015236","name":"Vernate"},{"id":"015237","name":"Vignate"},{"id":"015238","name":"Villanova del Sillaro"},{"id":"015239","name":"Villasanta"},{"id":"015240","name":"Tavazzano con Villavesco"},{"id":"015241","name":"Vimercate"},{"id":"015242","name":"Vimodrone"},{"id":"015243","name":"Vittuone"},{"id":"015244","name":"Vizzolo Predabissi"},{"id":"015245","name":"Zelo Buon Persico"},{"id":"015246","name":"Zelo Surrigone"},{"id":"015247","name":"Zibido San Giacomo"},{"id":"015248","name":"Villa Cortese"},{"id":"015249","name":"Vanzaghello"},{"id":"015250","name":"Baranzate"},{"id":"015251","name":"Vermezzo con Zelo"}]},{"id":"ITC46","name":"Bergamo","children":[{"id":"016001","name":"Adrara San Martino"},{"id":"016002","name":"Adrara San Rocco"},{"id":"016003","name":"Albano Sant\'Alessandro"},{"id":"016004","name":"Albino"},{"id":"016005","name":"Alm\xe8"},{"id":"016006","name":"Almenno San Bartolomeo"},{"id":"016007","name":"Almenno San Salvatore"},{"id":"016008","name":"Alzano Lombardo"},{"id":"016009","name":"Ambivere"},{"id":"016010","name":"Antegnate"},{"id":"016011","name":"Arcene"},{"id":"016012","name":"Ardesio"},{"id":"016013","name":"Arzago d\'Adda"},{"id":"016014","name":"Averara"},{"id":"016015","name":"Aviatico"},{"id":"016016","name":"Azzano San Paolo"},{"id":"016017","name":"Azzone"},{"id":"016018","name":"Bagnatica"},{"id":"016019","name":"Barbata"},{"id":"016020","name":"Bariano"},{"id":"016021","name":"Barzana"},{"id":"016022","name":"Bedulita"},{"id":"016023","name":"Berbenno"},{"id":"016024","name":"Bergamo"},{"id":"016025","name":"Berzo San Fermo"},{"id":"016026","name":"Bianzano"},{"id":"016027","name":"Blello"},{"id":"016028","name":"Bolgare"},{"id":"016029","name":"Boltiere"},{"id":"016030","name":"Bonate Sopra"},{"id":"016031","name":"Bonate Sotto"},{"id":"016032","name":"Borgo di Terzo"},{"id":"016033","name":"Bossico"},{"id":"016034","name":"Bottanuco"},{"id":"016035","name":"Bracca"},{"id":"016036","name":"Branzi"},{"id":"016037","name":"Brembate"},{"id":"016038","name":"Brembate di Sopra"},{"id":"016039","name":"Brembilla"},{"id":"016040","name":"Brignano Gera d\'Adda"},{"id":"016041","name":"Brumano"},{"id":"016042","name":"Brusaporto"},{"id":"016043","name":"Calcinate"},{"id":"016044","name":"Calcio"},{"id":"016045","name":"Calolziocorte"},{"id":"016046","name":"Calusco d\'Adda"},{"id":"016047","name":"Calvenzano"},{"id":"016048","name":"Camerata Cornello"},{"id":"016049","name":"Canonica d\'Adda"},{"id":"016050","name":"Capizzone"},{"id":"016051","name":"Capriate San Gervasio"},{"id":"016052","name":"Caprino Bergamasco"},{"id":"016053","name":"Caravaggio"},{"id":"016054","name":"Carenno"},{"id":"016055","name":"Carobbio degli Angeli"},{"id":"016056","name":"Carona"},{"id":"016057","name":"Carvico"},{"id":"016058","name":"Casazza"},{"id":"016059","name":"Casirate d\'Adda"},{"id":"016060","name":"Casnigo"},{"id":"016061","name":"Cassiglio"},{"id":"016062","name":"Castelli Calepio"},{"id":"016063","name":"Castel Rozzone"},{"id":"016064","name":"Castione della Presolana"},{"id":"016065","name":"Castro"},{"id":"016066","name":"Cavernago"},{"id":"016067","name":"Cazzano Sant\'Andrea"},{"id":"016068","name":"Cenate Sopra"},{"id":"016069","name":"Cenate Sotto"},{"id":"016070","name":"Cene"},{"id":"016071","name":"Cerete"},{"id":"016072","name":"Chignolo d\'Isola"},{"id":"016073","name":"Chiuduno"},{"id":"016074","name":"Cisano Bergamasco"},{"id":"016075","name":"Ciserano"},{"id":"016076","name":"Cividate al Piano"},{"id":"016077","name":"Clusone"},{"id":"016078","name":"Colere"},{"id":"016079","name":"Cologno al Serio"},{"id":"016080","name":"Colzate"},{"id":"016081","name":"Comun Nuovo"},{"id":"016082","name":"Corna Imagna"},{"id":"016083","name":"Cortenuova"},{"id":"016084","name":"Costa di Mezzate"},{"id":"016085","name":"Costa Valle Imagna"},{"id":"016086","name":"Costa Volpino"},{"id":"016087","name":"Covo"},{"id":"016088","name":"Credaro"},{"id":"016089","name":"Curno"},{"id":"016090","name":"Cusio"},{"id":"016091","name":"Dalmine"},{"id":"016092","name":"Dossena"},{"id":"016093","name":"Endine Gaiano"},{"id":"016094","name":"Entratico"},{"id":"016095","name":"Erve"},{"id":"016096","name":"Fara Gera d\'Adda"},{"id":"016097","name":"Fara Olivana con Sola"},{"id":"016098","name":"Filago"},{"id":"016099","name":"Fino del Monte"},{"id":"016100","name":"Fiorano al Serio"},{"id":"016101","name":"Fontanella"},{"id":"016102","name":"Fonteno"},{"id":"016103","name":"Foppolo"},{"id":"016104","name":"Foresto Sparso"},{"id":"016105","name":"Fornovo San Giovanni"},{"id":"016106","name":"Fuipiano Valle Imagna"},{"id":"016107","name":"Gandellino"},{"id":"016108","name":"Gandino"},{"id":"016109","name":"Gandosso"},{"id":"016110","name":"Gaverina Terme"},{"id":"016111","name":"Gazzaniga"},{"id":"016112","name":"Gerosa"},{"id":"016113","name":"Ghisalba"},{"id":"016114","name":"Gorlago"},{"id":"016115","name":"Gorle"},{"id":"016116","name":"Gorno"},{"id":"016117","name":"Grassobbio"},{"id":"016118","name":"Gromo"},{"id":"016119","name":"Grone"},{"id":"016120","name":"Grumello del Monte"},{"id":"016121","name":"Isola di Fondra"},{"id":"016122","name":"Isso"},{"id":"016123","name":"Lallio"},{"id":"016124","name":"Leffe"},{"id":"016125","name":"Lenna"},{"id":"016126","name":"Levate"},{"id":"016127","name":"Locatello"},{"id":"016128","name":"Lovere"},{"id":"016129","name":"Lurano"},{"id":"016130","name":"Luzzana"},{"id":"016131","name":"Madone"},{"id":"016132","name":"Mapello"},{"id":"016133","name":"Martinengo"},{"id":"016134","name":"Mezzoldo"},{"id":"016135","name":"Misano di Gera d\'Adda"},{"id":"016136","name":"Moio de\' Calvi"},{"id":"016137","name":"Monasterolo del Castello"},{"id":"016138","name":"Monte Marenzo"},{"id":"016139","name":"Montello"},{"id":"016140","name":"Morengo"},{"id":"016141","name":"Mornico al Serio"},{"id":"016142","name":"Mozzanica"},{"id":"016143","name":"Mozzo"},{"id":"016144","name":"Nembro"},{"id":"016145","name":"Olmo al Brembo"},{"id":"016146","name":"Oltre il Colle"},{"id":"016147","name":"Oltressenda Alta"},{"id":"016148","name":"Oneta"},{"id":"016149","name":"Onore"},{"id":"016150","name":"Orio al Serio"},{"id":"016151","name":"Ornica"},{"id":"016152","name":"Osio Sopra"},{"id":"016153","name":"Osio Sotto"},{"id":"016154","name":"Pagazzano"},{"id":"016155","name":"Paladina"},{"id":"016156","name":"Palazzago"},{"id":"016157","name":"Palosco"},{"id":"016158","name":"Parre"},{"id":"016159","name":"Parzanica"},{"id":"016160","name":"Pedrengo"},{"id":"016161","name":"Peia"},{"id":"016162","name":"Pianico"},{"id":"016163","name":"Piario"},{"id":"016164","name":"Piazza Brembana"},{"id":"016165","name":"Piazzatorre"},{"id":"016166","name":"Piazzolo"},{"id":"016167","name":"Pognano"},{"id":"016168","name":"Ponte Nossa"},{"id":"016169","name":"Ponteranica"},{"id":"016170","name":"Ponte San Pietro"},{"id":"016171","name":"Pontida"},{"id":"016172","name":"Pontirolo Nuovo"},{"id":"016173","name":"Pradalunga"},{"id":"016174","name":"Predore"},{"id":"016175","name":"Premolo"},{"id":"016176","name":"Presezzo"},{"id":"016177","name":"Pumenengo"},{"id":"016178","name":"Ranica"},{"id":"016179","name":"Ranzanico"},{"id":"016180","name":"Riva di Solto"},{"id":"016182","name":"Rogno"},{"id":"016183","name":"Romano di Lombardia"},{"id":"016184","name":"Roncobello"},{"id":"016185","name":"Roncola"},{"id":"016186","name":"Rota d\'Imagna"},{"id":"016187","name":"Rovetta"},{"id":"016188","name":"San Giovanni Bianco"},{"id":"016189","name":"San Paolo d\'Argon"},{"id":"016190","name":"San Pellegrino Terme"},{"id":"016191","name":"Santa Brigida"},{"id":"016192","name":"Sant\'Omobono Terme"},{"id":"016193","name":"Sarnico"},{"id":"016194","name":"Scanzorosciate"},{"id":"016195","name":"Schilpario"},{"id":"016196","name":"Sedrina"},{"id":"016197","name":"Selvino"},{"id":"016198","name":"Seriate"},{"id":"016199","name":"Serina"},{"id":"016200","name":"Solto Collina"},{"id":"016201","name":"Songavazzo"},{"id":"016202","name":"Sorisole"},{"id":"016203","name":"Sotto il Monte Giovanni XXIII"},{"id":"016204","name":"Sovere"},{"id":"016205","name":"Spinone al Lago"},{"id":"016206","name":"Spirano"},{"id":"016207","name":"Stezzano"},{"id":"016208","name":"Strozza"},{"id":"016209","name":"Suisio"},{"id":"016210","name":"Taleggio"},{"id":"016211","name":"Tavernola Bergamasca"},{"id":"016212","name":"Telgate"},{"id":"016213","name":"Terno d\'Isola"},{"id":"016214","name":"Torre Boldone"},{"id":"016215","name":"Torre de\' Busi"},{"id":"016216","name":"Torre de\' Roveri"},{"id":"016217","name":"Torre Pallavicina"},{"id":"016218","name":"Trescore Balneario"},{"id":"016219","name":"Treviglio"},{"id":"016220","name":"Treviolo"},{"id":"016221","name":"Ubiale Clanezzo"},{"id":"016222","name":"Urgnano"},{"id":"016223","name":"Valbondione"},{"id":"016224","name":"Valbrembo"},{"id":"016225","name":"Valgoglio"},{"id":"016226","name":"Valleve"},{"id":"016227","name":"Valnegra"},{"id":"016228","name":"Valsecca"},{"id":"016229","name":"Valtorta"},{"id":"016230","name":"Vedeseta"},{"id":"016231","name":"Vercurago"},{"id":"016232","name":"Verdellino"},{"id":"016233","name":"Verdello"},{"id":"016234","name":"Vertova"},{"id":"016235","name":"Viadanica"},{"id":"016236","name":"Vigano San Martino"},{"id":"016237","name":"Vigolo"},{"id":"016238","name":"Villa d\'Adda"},{"id":"016239","name":"Villa d\'Alm\xe8"},{"id":"016240","name":"Villa di Serio"},{"id":"016241","name":"Villa d\'Ogna"},{"id":"016242","name":"Villongo"},{"id":"016243","name":"Vilminore di Scalve"},{"id":"016244","name":"Zandobbio"},{"id":"016245","name":"Zanica"},{"id":"016246","name":"Zogno"},{"id":"016247","name":"Costa Serina"},{"id":"016248","name":"Algua"},{"id":"016249","name":"Cornalba"},{"id":"016250","name":"Medolago"},{"id":"016251","name":"Solza"},{"id":"016252","name":"Sant\'Omobono Terme"},{"id":"016253","name":"Val Brembilla"}]},{"id":"ITC47","name":"Brescia","children":[{"id":"017001","name":"Acquafredda"},{"id":"017002","name":"Adro"},{"id":"017003","name":"Agnosine"},{"id":"017004","name":"Alfianello"},{"id":"017005","name":"Anfo"},{"id":"017006","name":"Angolo Terme"},{"id":"017007","name":"Artogne"},{"id":"017008","name":"Azzano Mella"},{"id":"017009","name":"Bagnolo Mella"},{"id":"017010","name":"Bagolino"},{"id":"017011","name":"Barbariga"},{"id":"017012","name":"Barghe"},{"id":"017013","name":"Bassano Bresciano"},{"id":"017014","name":"Bedizzole"},{"id":"017015","name":"Berlingo"},{"id":"017016","name":"Berzo Demo"},{"id":"017017","name":"Berzo Inferiore"},{"id":"017018","name":"Bienno"},{"id":"017019","name":"Bione"},{"id":"017020","name":"Borgo San Giacomo"},{"id":"017021","name":"Borgosatollo"},{"id":"017022","name":"Borno"},{"id":"017023","name":"Botticino"},{"id":"017024","name":"Bovegno"},{"id":"017025","name":"Bovezzo"},{"id":"017026","name":"Brandico"},{"id":"017027","name":"Braone"},{"id":"017028","name":"Breno"},{"id":"017029","name":"Brescia"},{"id":"017030","name":"Brione"},{"id":"017031","name":"Caino"},{"id":"017032","name":"Calcinato"},{"id":"017033","name":"Calvagese della Riviera"},{"id":"017034","name":"Calvisano"},{"id":"017035","name":"Capo di Ponte"},{"id":"017036","name":"Capovalle"},{"id":"017037","name":"Capriano del Colle"},{"id":"017038","name":"Capriolo"},{"id":"017039","name":"Carpenedolo"},{"id":"017040","name":"Castegnato"},{"id":"017041","name":"Castelcovati"},{"id":"017042","name":"Castel Mella"},{"id":"017043","name":"Castenedolo"},{"id":"017044","name":"Casto"},{"id":"017045","name":"Castrezzato"},{"id":"017046","name":"Cazzago San Martino"},{"id":"017047","name":"Cedegolo"},{"id":"017048","name":"Cellatica"},{"id":"017049","name":"Cerveno"},{"id":"017050","name":"Ceto"},{"id":"017051","name":"Cevo"},{"id":"017052","name":"Chiari"},{"id":"017053","name":"Cigole"},{"id":"017054","name":"Cimbergo"},{"id":"017055","name":"Cividate Camuno"},{"id":"017056","name":"Coccaglio"},{"id":"017057","name":"Collebeato"},{"id":"017058","name":"Collio"},{"id":"017059","name":"Cologne"},{"id":"017060","name":"Comezzano-Cizzago"},{"id":"017061","name":"Concesio"},{"id":"017062","name":"Corte Franca"},{"id":"017063","name":"Corteno Golgi"},{"id":"017064","name":"Corzano"},{"id":"017065","name":"Darfo Boario Terme"},{"id":"017066","name":"Dello"},{"id":"017067","name":"Desenzano del Garda"},{"id":"017068","name":"Edolo"},{"id":"017069","name":"Erbusco"},{"id":"017070","name":"Esine"},{"id":"017071","name":"Fiesse"},{"id":"017072","name":"Flero"},{"id":"017073","name":"Gambara"},{"id":"017074","name":"Gardone Riviera"},{"id":"017075","name":"Gardone Val Trompia"},{"id":"017076","name":"Gargnano"},{"id":"017077","name":"Gavardo"},{"id":"017078","name":"Ghedi"},{"id":"017079","name":"Gianico"},{"id":"017080","name":"Gottolengo"},{"id":"017081","name":"Gussago"},{"id":"017082","name":"Idro"},{"id":"017083","name":"Incudine"},{"id":"017084","name":"Irma"},{"id":"017085","name":"Iseo"},{"id":"017086","name":"Isorella"},{"id":"017087","name":"Lavenone"},{"id":"017088","name":"Leno"},{"id":"017089","name":"Limone sul Garda"},{"id":"017090","name":"Lodrino"},{"id":"017091","name":"Lograto"},{"id":"017092","name":"Lonato del Garda"},{"id":"017093","name":"Longhena"},{"id":"017094","name":"Losine"},{"id":"017095","name":"Lozio"},{"id":"017096","name":"Lumezzane"},{"id":"017097","name":"Maclodio"},{"id":"017098","name":"Magasa"},{"id":"017099","name":"Mairano"},{"id":"017100","name":"Malegno"},{"id":"017101","name":"Malonno"},{"id":"017102","name":"Manerba del Garda"},{"id":"017103","name":"Manerbio"},{"id":"017104","name":"Marcheno"},{"id":"017105","name":"Marmentino"},{"id":"017106","name":"Marone"},{"id":"017107","name":"Mazzano"},{"id":"017108","name":"Milzano"},{"id":"017109","name":"Moniga del Garda"},{"id":"017110","name":"Monno"},{"id":"017111","name":"Monte Isola"},{"id":"017112","name":"Monticelli Brusati"},{"id":"017113","name":"Montichiari"},{"id":"017114","name":"Montirone"},{"id":"017115","name":"Mura"},{"id":"017116","name":"Muscoline"},{"id":"017117","name":"Nave"},{"id":"017118","name":"Niardo"},{"id":"017119","name":"Nuvolento"},{"id":"017120","name":"Nuvolera"},{"id":"017121","name":"Odolo"},{"id":"017122","name":"Offlaga"},{"id":"017123","name":"Ome"},{"id":"017124","name":"Ono San Pietro"},{"id":"017125","name":"Orzinuovi"},{"id":"017126","name":"Orzivecchi"},{"id":"017127","name":"Ospitaletto"},{"id":"017128","name":"Ossimo"},{"id":"017129","name":"Padenghe sul Garda"},{"id":"017130","name":"Paderno Franciacorta"},{"id":"017131","name":"Paisco Loveno"},{"id":"017132","name":"Paitone"},{"id":"017133","name":"Palazzolo sull\'Oglio"},{"id":"017134","name":"Paratico"},{"id":"017135","name":"Paspardo"},{"id":"017136","name":"Passirano"},{"id":"017137","name":"Pavone del Mella"},{"id":"017138","name":"San Paolo"},{"id":"017139","name":"Pertica Alta"},{"id":"017140","name":"Pertica Bassa"},{"id":"017141","name":"Pezzaze"},{"id":"017142","name":"Pian Camuno"},{"id":"017143","name":"Pisogne"},{"id":"017144","name":"Polaveno"},{"id":"017145","name":"Polpenazze del Garda"},{"id":"017146","name":"Pompiano"},{"id":"017147","name":"Poncarale"},{"id":"017148","name":"Ponte di Legno"},{"id":"017149","name":"Pontevico"},{"id":"017150","name":"Pontoglio"},{"id":"017151","name":"Pozzolengo"},{"id":"017152","name":"Pralboino"},{"id":"017153","name":"Preseglie"},{"id":"017154","name":"Prestine"},{"id":"017155","name":"Prevalle"},{"id":"017156","name":"Provaglio d\'Iseo"},{"id":"017157","name":"Provaglio Val Sabbia"},{"id":"017158","name":"Puegnago sul Garda"},{"id":"017159","name":"Quinzano d\'Oglio"},{"id":"017160","name":"Remedello"},{"id":"017161","name":"Rezzato"},{"id":"017162","name":"Roccafranca"},{"id":"017163","name":"Rodengo Saiano"},{"id":"017164","name":"Ro\xe8 Volciano"},{"id":"017165","name":"Roncadelle"},{"id":"017166","name":"Rovato"},{"id":"017167","name":"Rudiano"},{"id":"017168","name":"Sabbio Chiese"},{"id":"017169","name":"Sale Marasino"},{"id":"017170","name":"Sal\xf2"},{"id":"017171","name":"San Felice del Benaco"},{"id":"017172","name":"San Gervasio Bresciano"},{"id":"017173","name":"San Zeno Naviglio"},{"id":"017174","name":"Sarezzo"},{"id":"017175","name":"Saviore dell\'Adamello"},{"id":"017176","name":"Sellero"},{"id":"017177","name":"Seniga"},{"id":"017178","name":"Serle"},{"id":"017179","name":"Sirmione"},{"id":"017180","name":"Soiano del Lago"},{"id":"017181","name":"Sonico"},{"id":"017182","name":"Sulzano"},{"id":"017183","name":"Tavernole sul Mella"},{"id":"017184","name":"Tem\xf9"},{"id":"017185","name":"Tignale"},{"id":"017186","name":"Torbole Casaglia"},{"id":"017187","name":"Toscolano-Maderno"},{"id":"017188","name":"Travagliato"},{"id":"017189","name":"Tremosine sul Garda"},{"id":"017190","name":"Trenzano"},{"id":"017191","name":"Treviso Bresciano"},{"id":"017192","name":"Urago d\'Oglio"},{"id":"017193","name":"Vallio Terme"},{"id":"017194","name":"Valvestino"},{"id":"017195","name":"Verolanuova"},{"id":"017196","name":"Verolavecchia"},{"id":"017197","name":"Vestone"},{"id":"017198","name":"Vezza d\'Oglio"},{"id":"017199","name":"Villa Carcina"},{"id":"017200","name":"Villachiara"},{"id":"017201","name":"Villanuova sul Clisi"},{"id":"017202","name":"Vione"},{"id":"017203","name":"Visano"},{"id":"017204","name":"Vobarno"},{"id":"017205","name":"Zone"},{"id":"017206","name":"Piancogno"}]},{"id":"ITC48","name":"Pavia","children":[{"id":"018001","name":"Alagna"},{"id":"018002","name":"Albaredo Arnaboldi"},{"id":"018003","name":"Albonese"},{"id":"018004","name":"Albuzzano"},{"id":"018005","name":"Arena Po"},{"id":"018006","name":"Badia Pavese"},{"id":"018007","name":"Bagnaria"},{"id":"018008","name":"Barbianello"},{"id":"018009","name":"Bascap\xe8"},{"id":"018010","name":"Bastida de\' Dossi"},{"id":"018011","name":"Bastida Pancarana"},{"id":"018012","name":"Battuda"},{"id":"018013","name":"Belgioioso"},{"id":"018014","name":"Bereguardo"},{"id":"018015","name":"Borgarello"},{"id":"018016","name":"Borgo Priolo"},{"id":"018017","name":"Borgoratto Mormorolo"},{"id":"018018","name":"Borgo San Siro"},{"id":"018019","name":"Bornasco"},{"id":"018020","name":"Bosnasco"},{"id":"018021","name":"Brallo di Pregola"},{"id":"018022","name":"Breme"},{"id":"018023","name":"Bressana Bottarone"},{"id":"018024","name":"Broni"},{"id":"018025","name":"Calvignano"},{"id":"018026","name":"Campospinoso"},{"id":"018027","name":"Candia Lomellina"},{"id":"018028","name":"Canevino"},{"id":"018029","name":"Canneto Pavese"},{"id":"018030","name":"Carbonara al Ticino"},{"id":"018031","name":"Casanova Lonati"},{"id":"018032","name":"Casatisma"},{"id":"018033","name":"Casei Gerola"},{"id":"018034","name":"Casorate Primo"},{"id":"018035","name":"Cassolnovo"},{"id":"018036","name":"Castana"},{"id":"018037","name":"Casteggio"},{"id":"018038","name":"Castelletto di Branduzzo"},{"id":"018039","name":"Castello d\'Agogna"},{"id":"018040","name":"Castelnovetto"},{"id":"018041","name":"Cava Manara"},{"id":"018042","name":"Cecima"},{"id":"018043","name":"Ceranova"},{"id":"018044","name":"Ceretto Lomellina"},{"id":"018045","name":"Cergnago"},{"id":"018046","name":"Certosa di Pavia"},{"id":"018047","name":"Cervesina"},{"id":"018048","name":"Chignolo Po"},{"id":"018049","name":"Cigognola"},{"id":"018050","name":"Cilavegna"},{"id":"018051","name":"Codevilla"},{"id":"018052","name":"Confienza"},{"id":"018053","name":"Copiano"},{"id":"018054","name":"Corana"},{"id":"018055","name":"Cornale"},{"id":"018056","name":"Corteolona"},{"id":"018057","name":"Corvino San Quirico"},{"id":"018058","name":"Costa de\' Nobili"},{"id":"018059","name":"Cozzo"},{"id":"018060","name":"Cura Carpignano"},{"id":"018061","name":"Dorno"},{"id":"018062","name":"Ferrera Erbognone"},{"id":"018063","name":"Filighera"},{"id":"018064","name":"Fortunago"},{"id":"018065","name":"Frascarolo"},{"id":"018066","name":"Galliavola"},{"id":"018067","name":"Gambarana"},{"id":"018068","name":"Gambol\xf2"},{"id":"018069","name":"Garlasco"},{"id":"018070","name":"Genzone"},{"id":"018071","name":"Gerenzago"},{"id":"018072","name":"Giussago"},{"id":"018073","name":"Godiasco Salice Terme"},{"id":"018074","name":"Golferenzo"},{"id":"018075","name":"Gravellona Lomellina"},{"id":"018076","name":"Gropello Cairoli"},{"id":"018077","name":"Inverno e Monteleone"},{"id":"018078","name":"Landriano"},{"id":"018079","name":"Langosco"},{"id":"018080","name":"Lardirago"},{"id":"018081","name":"Linarolo"},{"id":"018082","name":"Lirio"},{"id":"018083","name":"Lomello"},{"id":"018084","name":"Lungavilla"},{"id":"018085","name":"Magherno"},{"id":"018086","name":"Marcignago"},{"id":"018087","name":"Marzano"},{"id":"018088","name":"Mede"},{"id":"018089","name":"Menconico"},{"id":"018090","name":"Mezzana Bigli"},{"id":"018091","name":"Mezzana Rabattone"},{"id":"018092","name":"Mezzanino"},{"id":"018093","name":"Miradolo Terme"},{"id":"018094","name":"Montalto Pavese"},{"id":"018095","name":"Montebello della Battaglia"},{"id":"018096","name":"Montecalvo Versiggia"},{"id":"018097","name":"Montescano"},{"id":"018098","name":"Montesegale"},{"id":"018099","name":"Monticelli Pavese"},{"id":"018100","name":"Mont\xf9 Beccaria"},{"id":"018101","name":"Mornico Losana"},{"id":"018102","name":"Mortara"},{"id":"018103","name":"Nicorvo"},{"id":"018104","name":"Olevano di Lomellina"},{"id":"018105","name":"Oliva Gessi"},{"id":"018106","name":"Ottobiano"},{"id":"018107","name":"Palestro"},{"id":"018108","name":"Pancarana"},{"id":"018109","name":"Parona"},{"id":"018110","name":"Pavia"},{"id":"018111","name":"Pietra de\' Giorgi"},{"id":"018112","name":"Pieve Albignola"},{"id":"018113","name":"Pieve del Cairo"},{"id":"018114","name":"Pieve Porto Morone"},{"id":"018115","name":"Pinarolo Po"},{"id":"018116","name":"Pizzale"},{"id":"018117","name":"Ponte Nizza"},{"id":"018118","name":"Portalbera"},{"id":"018119","name":"Rea"},{"id":"018120","name":"Redavalle"},{"id":"018121","name":"Retorbido"},{"id":"018122","name":"Rivanazzano Terme"},{"id":"018123","name":"Robbio"},{"id":"018124","name":"Robecco Pavese"},{"id":"018125","name":"Rocca de\' Giorgi"},{"id":"018126","name":"Rocca Susella"},{"id":"018127","name":"Rognano"},{"id":"018128","name":"Romagnese"},{"id":"018129","name":"Roncaro"},{"id":"018130","name":"Rosasco"},{"id":"018131","name":"Rovescala"},{"id":"018132","name":"Ruino"},{"id":"018133","name":"San Cipriano Po"},{"id":"018134","name":"San Damiano al Colle"},{"id":"018135","name":"San Genesio ed Uniti"},{"id":"018136","name":"San Giorgio di Lomellina"},{"id":"018137","name":"San Martino Siccomario"},{"id":"018138","name":"Sannazzaro de\' Burgondi"},{"id":"018139","name":"Santa Cristina e Bissone"},{"id":"018140","name":"Santa Giuletta"},{"id":"018141","name":"Sant\'Alessio con Vialone"},{"id":"018142","name":"Santa Margherita di Staffora"},{"id":"018143","name":"Santa Maria della Versa"},{"id":"018144","name":"Sant\'Angelo Lomellina"},{"id":"018145","name":"San Zenone al Po"},{"id":"018146","name":"Sartirana Lomellina"},{"id":"018147","name":"Scaldasole"},{"id":"018148","name":"Semiana"},{"id":"018149","name":"Silvano Pietra"},{"id":"018150","name":"Siziano"},{"id":"018151","name":"Sommo"},{"id":"018152","name":"Spessa"},{"id":"018153","name":"Stradella"},{"id":"018154","name":"Suardi"},{"id":"018155","name":"Torrazza Coste"},{"id":"018156","name":"Torre Beretti e Castellaro"},{"id":"018157","name":"Torre d\'Arese"},{"id":"018158","name":"Torre de\' Negri"},{"id":"018159","name":"Torre d\'Isola"},{"id":"018160","name":"Torrevecchia Pia"},{"id":"018161","name":"Torricella Verzate"},{"id":"018162","name":"Travac\xf2 Siccomario"},{"id":"018163","name":"Trivolzio"},{"id":"018164","name":"Tromello"},{"id":"018165","name":"Trovo"},{"id":"018166","name":"Val di Nizza"},{"id":"018167","name":"Valeggio"},{"id":"018168","name":"Valle Lomellina"},{"id":"018169","name":"Valle Salimbene"},{"id":"018170","name":"Valverde"},{"id":"018171","name":"Varzi"},{"id":"018172","name":"Velezzo Lomellina"},{"id":"018173","name":"Vellezzo Bellini"},{"id":"018174","name":"Verretto"},{"id":"018175","name":"Verrua Po"},{"id":"018176","name":"Vidigulfo"},{"id":"018177","name":"Vigevano"},{"id":"018178","name":"Villa Biscossi"},{"id":"018179","name":"Villanova d\'Ardenghi"},{"id":"018180","name":"Villanterio"},{"id":"018181","name":"Vistarino"},{"id":"018182","name":"Voghera"},{"id":"018183","name":"Volpara"},{"id":"018184","name":"Zavattarello"},{"id":"018185","name":"Zeccone"},{"id":"018186","name":"Zeme"},{"id":"018187","name":"Zenevredo"},{"id":"018188","name":"Zerbo"},{"id":"018189","name":"Zerbol\xf2"},{"id":"018190","name":"Zinasco"},{"id":"018191","name":"Cornale e Bastida"},{"id":"018192","name":"Corteolona e Genzone"},{"id":"018193","name":"Colli Verdi"}]},{"id":"ITC49","name":"Lodi","children":[{"id":"098001","name":"Abbadia Cerreto"},{"id":"098002","name":"Bertonico"},{"id":"098003","name":"Boffalora d\'Adda"},{"id":"098004","name":"Borghetto Lodigiano"},{"id":"098005","name":"Borgo San Giovanni"},{"id":"098006","name":"Brembio"},{"id":"098007","name":"Camairago"},{"id":"098008","name":"Casaletto Lodigiano"},{"id":"098009","name":"Casalmaiocco"},{"id":"098010","name":"Casalpusterlengo"},{"id":"098011","name":"Caselle Landi"},{"id":"098012","name":"Caselle Lurani"},{"id":"098013","name":"Castelnuovo Bocca d\'Adda"},{"id":"098014","name":"Castiglione d\'Adda"},{"id":"098015","name":"Castiraga Vidardo"},{"id":"098016","name":"Cavacurta"},{"id":"098017","name":"Cavenago d\'Adda"},{"id":"098018","name":"Cervignano d\'Adda"},{"id":"098019","name":"Codogno"},{"id":"098020","name":"Comazzo"},{"id":"098021","name":"Cornegliano Laudense"},{"id":"098022","name":"Corno Giovine"},{"id":"098023","name":"Cornovecchio"},{"id":"098024","name":"Corte Palasio"},{"id":"098025","name":"Crespiatica"},{"id":"098026","name":"Fombio"},{"id":"098027","name":"Galgagnano"},{"id":"098028","name":"Graffignana"},{"id":"098029","name":"Guardamiglio"},{"id":"098030","name":"Livraga"},{"id":"098031","name":"Lodi"},{"id":"098032","name":"Lodi Vecchio"},{"id":"098033","name":"Maccastorna"},{"id":"098034","name":"Mairago"},{"id":"098035","name":"Maleo"},{"id":"098036","name":"Marudo"},{"id":"098037","name":"Massalengo"},{"id":"098038","name":"Meleti"},{"id":"098039","name":"Merlino"},{"id":"098040","name":"Montanaso Lombardo"},{"id":"098041","name":"Mulazzano"},{"id":"098042","name":"Orio Litta"},{"id":"098043","name":"Ospedaletto Lodigiano"},{"id":"098044","name":"Ossago Lodigiano"},{"id":"098045","name":"Pieve Fissiraga"},{"id":"098046","name":"Salerano sul Lambro"},{"id":"098047","name":"San Fiorano"},{"id":"098048","name":"San Martino in Strada"},{"id":"098049","name":"San Rocco al Porto"},{"id":"098050","name":"Sant\'Angelo Lodigiano"},{"id":"098051","name":"Santo Stefano Lodigiano"},{"id":"098052","name":"Secugnago"},{"id":"098053","name":"Senna Lodigiana"},{"id":"098054","name":"Somaglia"},{"id":"098055","name":"Sordio"},{"id":"098056","name":"Tavazzano con Villavesco"},{"id":"098057","name":"Terranova dei Passerini"},{"id":"098058","name":"Turano Lodigiano"},{"id":"098059","name":"Valera Fratta"},{"id":"098060","name":"Villanova del Sillaro"},{"id":"098061","name":"Zelo Buon Persico"},{"id":"098062","name":"Castelgerundo"}]},{"id":"ITC4A","name":"Cremona","children":[{"id":"019001","name":"Acquanegra Cremonese"},{"id":"019002","name":"Agnadello"},{"id":"019003","name":"Annicco"},{"id":"019004","name":"Azzanello"},{"id":"019005","name":"Bagnolo Cremasco"},{"id":"019006","name":"Bonemerse"},{"id":"019007","name":"Bordolano"},{"id":"019008","name":"Ca\' d\'Andrea"},{"id":"019009","name":"Calvatone"},{"id":"019010","name":"Camisano"},{"id":"019011","name":"Campagnola Cremasca"},{"id":"019012","name":"Capergnanica"},{"id":"019013","name":"Cappella Cantone"},{"id":"019014","name":"Cappella de\' Picenardi"},{"id":"019015","name":"Capralba"},{"id":"019016","name":"Casalbuttano ed Uniti"},{"id":"019017","name":"Casale Cremasco-Vidolasco"},{"id":"019018","name":"Casaletto Ceredano"},{"id":"019019","name":"Casaletto di Sopra"},{"id":"019020","name":"Casaletto Vaprio"},{"id":"019021","name":"Casalmaggiore"},{"id":"019022","name":"Casalmorano"},{"id":"019023","name":"Casteldidone"},{"id":"019024","name":"Castel Gabbiano"},{"id":"019025","name":"Castelleone"},{"id":"019026","name":"Castelverde"},{"id":"019027","name":"Castelvisconti"},{"id":"019028","name":"Cella Dati"},{"id":"019029","name":"Chieve"},{"id":"019030","name":"Cicognolo"},{"id":"019031","name":"Cingia de\' Botti"},{"id":"019032","name":"Corte de\' Cortesi con Cignone"},{"id":"019033","name":"Corte de\' Frati"},{"id":"019034","name":"Credera Rubbiano"},{"id":"019035","name":"Crema"},{"id":"019036","name":"Cremona"},{"id":"019037","name":"Cremosano"},{"id":"019038","name":"Crotta d\'Adda"},{"id":"019039","name":"Cumignano sul Naviglio"},{"id":"019040","name":"Derovere"},{"id":"019041","name":"Dovera"},{"id":"019042","name":"Drizzona"},{"id":"019043","name":"Fiesco"},{"id":"019044","name":"Formigara"},{"id":"019045","name":"Gabbioneta-Binanuova"},{"id":"019046","name":"Gadesco-Pieve Delmona"},{"id":"019047","name":"Genivolta"},{"id":"019048","name":"Gerre de\' Caprioli"},{"id":"019049","name":"Gombito"},{"id":"019050","name":"Grontardo"},{"id":"019051","name":"Grumello Cremonese ed Uniti"},{"id":"019052","name":"Gussola"},{"id":"019053","name":"Isola Dovarese"},{"id":"019054","name":"Izano"},{"id":"019055","name":"Madignano"},{"id":"019056","name":"Malagnino"},{"id":"019057","name":"Martignana di Po"},{"id":"019058","name":"Monte Cremasco"},{"id":"019059","name":"Montodine"},{"id":"019060","name":"Moscazzano"},{"id":"019061","name":"Motta Baluffi"},{"id":"019062","name":"Offanengo"},{"id":"019063","name":"Olmeneta"},{"id":"019064","name":"Ostiano"},{"id":"019065","name":"Paderno Ponchielli"},{"id":"019066","name":"Palazzo Pignano"},{"id":"019067","name":"Pandino"},{"id":"019068","name":"Persico Dosimo"},{"id":"019069","name":"Pescarolo ed Uniti"},{"id":"019070","name":"Pessina Cremonese"},{"id":"019071","name":"Piadena"},{"id":"019072","name":"Pianengo"},{"id":"019073","name":"Pieranica"},{"id":"019074","name":"Pieve d\'Olmi"},{"id":"019075","name":"Pieve San Giacomo"},{"id":"019076","name":"Pizzighettone"},{"id":"019077","name":"Pozzaglio ed Uniti"},{"id":"019078","name":"Quintano"},{"id":"019079","name":"Ricengo"},{"id":"019080","name":"Ripalta Arpina"},{"id":"019081","name":"Ripalta Cremasca"},{"id":"019082","name":"Ripalta Guerina"},{"id":"019083","name":"Rivarolo del Re ed Uniti"},{"id":"019084","name":"Rivolta d\'Adda"},{"id":"019085","name":"Robecco d\'Oglio"},{"id":"019086","name":"Romanengo"},{"id":"019087","name":"Salvirola"},{"id":"019088","name":"San Bassano"},{"id":"019089","name":"San Daniele Po"},{"id":"019090","name":"San Giovanni in Croce"},{"id":"019091","name":"San Martino del Lago"},{"id":"019092","name":"Scandolara Ravara"},{"id":"019093","name":"Scandolara Ripa d\'Oglio"},{"id":"019094","name":"Sergnano"},{"id":"019095","name":"Sesto ed Uniti"},{"id":"019096","name":"Solarolo Rainerio"},{"id":"019097","name":"Soncino"},{"id":"019098","name":"Soresina"},{"id":"019099","name":"Sospiro"},{"id":"019100","name":"Spinadesco"},{"id":"019101","name":"Spineda"},{"id":"019102","name":"Spino d\'Adda"},{"id":"019103","name":"Stagno Lombardo"},{"id":"019104","name":"Ticengo"},{"id":"019105","name":"Torlino Vimercati"},{"id":"019106","name":"Tornata"},{"id":"019107","name":"Torre de\' Picenardi"},{"id":"019108","name":"Torricella del Pizzo"},{"id":"019109","name":"Trescore Cremasco"},{"id":"019110","name":"Trigolo"},{"id":"019111","name":"Vaiano Cremasco"},{"id":"019112","name":"Vailate"},{"id":"019113","name":"Vescovato"},{"id":"019114","name":"Volongo"},{"id":"019115","name":"Voltido"},{"id":"019116","name":"Piadena Drizzona"}]},{"id":"ITC4B","name":"Mantova","children":[{"id":"020001","name":"Acquanegra sul Chiese"},{"id":"020002","name":"Asola"},{"id":"020003","name":"Bagnolo San Vito"},{"id":"020004","name":"Bigarello"},{"id":"020005","name":"Borgoforte"},{"id":"020006","name":"Borgofranco sul Po"},{"id":"020007","name":"Bozzolo"},{"id":"020008","name":"Canneto sull\'Oglio"},{"id":"020009","name":"Carbonara di Po"},{"id":"020010","name":"Casalmoro"},{"id":"020011","name":"Casaloldo"},{"id":"020012","name":"Casalromano"},{"id":"020013","name":"Castelbelforte"},{"id":"020014","name":"Castel d\'Ario"},{"id":"020015","name":"Castel Goffredo"},{"id":"020016","name":"Castellucchio"},{"id":"020017","name":"Castiglione delle Stiviere"},{"id":"020018","name":"Cavriana"},{"id":"020019","name":"Ceresara"},{"id":"020020","name":"Commessaggio"},{"id":"020021","name":"Curtatone"},{"id":"020022","name":"Dosolo"},{"id":"020023","name":"Felonica"},{"id":"020024","name":"Gazoldo degli Ippoliti"},{"id":"020025","name":"Gazzuolo"},{"id":"020026","name":"Goito"},{"id":"020027","name":"Gonzaga"},{"id":"020028","name":"Guidizzolo"},{"id":"020029","name":"Magnacavallo"},{"id":"020030","name":"Mantova"},{"id":"020031","name":"Marcaria"},{"id":"020032","name":"Mariana Mantovana"},{"id":"020033","name":"Marmirolo"},{"id":"020034","name":"Medole"},{"id":"020035","name":"Moglia"},{"id":"020036","name":"Monzambano"},{"id":"020037","name":"Motteggiana"},{"id":"020038","name":"Ostiglia"},{"id":"020039","name":"Pegognaga"},{"id":"020040","name":"Pieve di Coriano"},{"id":"020041","name":"Piubega"},{"id":"020042","name":"Poggio Rusco"},{"id":"020043","name":"Pomponesco"},{"id":"020044","name":"Ponti sul Mincio"},{"id":"020045","name":"Porto Mantovano"},{"id":"020046","name":"Quingentole"},{"id":"020047","name":"Quistello"},{"id":"020048","name":"Redondesco"},{"id":"020049","name":"Revere"},{"id":"020050","name":"Rivarolo Mantovano"},{"id":"020051","name":"Rodigo"},{"id":"020052","name":"Roncoferraro"},{"id":"020053","name":"Roverbella"},{"id":"020054","name":"Sabbioneta"},{"id":"020055","name":"San Benedetto Po"},{"id":"020056","name":"San Giacomo delle Segnate"},{"id":"020057","name":"San Giorgio di Mantova"},{"id":"020058","name":"San Giovanni del Dosso"},{"id":"020059","name":"San Martino dall\'Argine"},{"id":"020060","name":"Schivenoglia"},{"id":"020061","name":"Sermide e Felonica"},{"id":"020062","name":"Serravalle a Po"},{"id":"020063","name":"Solferino"},{"id":"020064","name":"Sustinente"},{"id":"020065","name":"Suzzara"},{"id":"020066","name":"Viadana"},{"id":"020067","name":"Villa Poma"},{"id":"020068","name":"Villimpenta"},{"id":"020069","name":"Virgilio"},{"id":"020070","name":"Volta Mantovana"},{"id":"020071","name":"Borgo Virgilio"},{"id":"020072","name":"Borgo Mantovano"},{"id":"020073","name":"Borgocarbonara"}]}]},{"id":"ITD3","name":"Veneto","children":[{"id":"ITD31","name":"Verona","children":[{"id":"023001","name":"Affi"},{"id":"023002","name":"Albaredo d\'Adige"},{"id":"023003","name":"Angiari"},{"id":"023004","name":"Arcole"},{"id":"023005","name":"Badia Calavena"},{"id":"023006","name":"Bardolino"},{"id":"023007","name":"Belfiore"},{"id":"023008","name":"Bevilacqua"},{"id":"023009","name":"Bonavigo"},{"id":"023010","name":"Boschi Sant\'Anna"},{"id":"023011","name":"Bosco Chiesanuova"},{"id":"023012","name":"Bovolone"},{"id":"023013","name":"Brentino Belluno"},{"id":"023014","name":"Brenzone sul Garda"},{"id":"023015","name":"Bussolengo"},{"id":"023016","name":"Buttapietra"},{"id":"023017","name":"Caldiero"},{"id":"023018","name":"Caprino Veronese"},{"id":"023019","name":"Casaleone"},{"id":"023020","name":"Castagnaro"},{"id":"023021","name":"Castel d\'Azzano"},{"id":"023022","name":"Castelnuovo del Garda"},{"id":"023023","name":"Cavaion Veronese"},{"id":"023024","name":"Cazzano di Tramigna"},{"id":"023025","name":"Cerea"},{"id":"023026","name":"Cerro Veronese"},{"id":"023027","name":"Cologna Veneta"},{"id":"023028","name":"Colognola ai Colli"},{"id":"023029","name":"Concamarise"},{"id":"023030","name":"Costermano sul Garda"},{"id":"023031","name":"Dolc\xe8"},{"id":"023032","name":"Erb\xe8"},{"id":"023033","name":"Erbezzo"},{"id":"023034","name":"Ferrara di Monte Baldo"},{"id":"023035","name":"Fumane"},{"id":"023036","name":"Garda"},{"id":"023037","name":"Gazzo Veronese"},{"id":"023038","name":"Grezzana"},{"id":"023039","name":"Illasi"},{"id":"023040","name":"Isola della Scala"},{"id":"023041","name":"Isola Rizza"},{"id":"023042","name":"Lavagno"},{"id":"023043","name":"Lazise"},{"id":"023044","name":"Legnago"},{"id":"023045","name":"Malcesine"},{"id":"023046","name":"Marano di Valpolicella"},{"id":"023047","name":"Mezzane di Sotto"},{"id":"023048","name":"Minerbe"},{"id":"023049","name":"Montecchia di Crosara"},{"id":"023050","name":"Monteforte d\'Alpone"},{"id":"023051","name":"Mozzecane"},{"id":"023052","name":"Negrar"},{"id":"023053","name":"Nogara"},{"id":"023054","name":"Nogarole Rocca"},{"id":"023055","name":"Oppeano"},{"id":"023056","name":"Pal\xf9"},{"id":"023057","name":"Pastrengo"},{"id":"023058","name":"Pescantina"},{"id":"023059","name":"Peschiera del Garda"},{"id":"023060","name":"Povegliano Veronese"},{"id":"023061","name":"Pressana"},{"id":"023062","name":"Rivoli Veronese"},{"id":"023063","name":"Ronc\xe0\xa0"},{"id":"023064","name":"Ronco all\'Adige"},{"id":"023065","name":"Roverchiara"},{"id":"023066","name":"Roveredo di Gu\xe0\xa0"},{"id":"023067","name":"Rover\xe8 Veronese"},{"id":"023068","name":"Salizzole"},{"id":"023069","name":"San Bonifacio"},{"id":"023070","name":"San Giovanni Ilarione"},{"id":"023071","name":"San Giovanni Lupatoto"},{"id":"023072","name":"Sanguinetto"},{"id":"023073","name":"San Martino Buon Albergo"},{"id":"023074","name":"San Mauro di Saline"},{"id":"023075","name":"San Pietro di Morubio"},{"id":"023076","name":"San Pietro in Cariano"},{"id":"023077","name":"Sant\'Ambrogio di Valpolicella"},{"id":"023078","name":"Sant\'Anna d\'Alfaedo"},{"id":"023079","name":"San Zeno di Montagna"},{"id":"023080","name":"Selva di Progno"},{"id":"023081","name":"Soave"},{"id":"023082","name":"Sommacampagna"},{"id":"023083","name":"Sona"},{"id":"023084","name":"Sorg\xe0\xa0"},{"id":"023085","name":"Terrazzo"},{"id":"023086","name":"Torri del Benaco"},{"id":"023087","name":"Tregnago"},{"id":"023088","name":"Trevenzuolo"},{"id":"023089","name":"Valeggio sul Mincio"},{"id":"023090","name":"Velo Veronese"},{"id":"023091","name":"Verona"},{"id":"023092","name":"Veronella"},{"id":"023093","name":"Vestenanova"},{"id":"023094","name":"Vigasio"},{"id":"023095","name":"Villa Bartolomea"},{"id":"023096","name":"Villafranca di Verona"},{"id":"023097","name":"Zevio"},{"id":"023098","name":"Zimella"}]},{"id":"ITD32","name":"Vicenza","children":[{"id":"024001","name":"Agugliaro"},{"id":"024002","name":"Albettone"},{"id":"024003","name":"Alonte"},{"id":"024004","name":"Altavilla Vicentina"},{"id":"024005","name":"Altissimo"},{"id":"024006","name":"Arcugnano"},{"id":"024007","name":"Arsiero"},{"id":"024008","name":"Arzignano"},{"id":"024009","name":"Asiago"},{"id":"024010","name":"Asigliano Veneto"},{"id":"024011","name":"Barbarano Vicentino"},{"id":"024012","name":"Bassano del Grappa"},{"id":"024013","name":"Bolzano Vicentino"},{"id":"024014","name":"Breganze"},{"id":"024015","name":"Brendola"},{"id":"024016","name":"Bressanvido"},{"id":"024017","name":"Brogliano"},{"id":"024018","name":"Caldogno"},{"id":"024019","name":"Caltrano"},{"id":"024020","name":"Calvene"},{"id":"024021","name":"Camisano Vicentino"},{"id":"024022","name":"Campiglia dei Berici"},{"id":"024023","name":"Campolongo sul Brenta"},{"id":"024024","name":"Carr\xe8"},{"id":"024025","name":"Cartigliano"},{"id":"024026","name":"Cassola"},{"id":"024027","name":"Castegnero"},{"id":"024028","name":"Castelgomberto"},{"id":"024029","name":"Chiampo"},{"id":"024030","name":"Chiuppano"},{"id":"024031","name":"Cismon del Grappa"},{"id":"024032","name":"Cogollo del Cengio"},{"id":"024033","name":"Conco"},{"id":"024034","name":"Cornedo Vicentino"},{"id":"024035","name":"Costabissara"},{"id":"024036","name":"Creazzo"},{"id":"024037","name":"Crespadoro"},{"id":"024038","name":"Dueville"},{"id":"024039","name":"Enego"},{"id":"024040","name":"Fara Vicentino"},{"id":"024041","name":"Foza"},{"id":"024042","name":"Gallio"},{"id":"024043","name":"Gambellara"},{"id":"024044","name":"Gambugliano"},{"id":"024045","name":"Grancona"},{"id":"024046","name":"Grisignano di Zocco"},{"id":"024047","name":"Grumolo delle Abbadesse"},{"id":"024048","name":"Isola Vicentina"},{"id":"024049","name":"Laghi"},{"id":"024050","name":"Lastebasse"},{"id":"024051","name":"Longare"},{"id":"024052","name":"Lonigo"},{"id":"024053","name":"Lugo di Vicenza"},{"id":"024054","name":"Lusiana"},{"id":"024055","name":"Malo"},{"id":"024056","name":"Marano Vicentino"},{"id":"024057","name":"Marostica"},{"id":"024058","name":"Mason Vicentino"},{"id":"024059","name":"Molvena"},{"id":"024060","name":"Montebello Vicentino"},{"id":"024061","name":"Montecchio Maggiore"},{"id":"024062","name":"Montecchio Precalcino"},{"id":"024063","name":"Monte di Malo"},{"id":"024064","name":"Montegalda"},{"id":"024065","name":"Montegaldella"},{"id":"024066","name":"Monteviale"},{"id":"024067","name":"Monticello Conte Otto"},{"id":"024068","name":"Montorso Vicentino"},{"id":"024069","name":"Mossano"},{"id":"024070","name":"Mussolente"},{"id":"024071","name":"Nanto"},{"id":"024072","name":"Nogarole Vicentino"},{"id":"024073","name":"Nove"},{"id":"024074","name":"Noventa Vicentina"},{"id":"024075","name":"Orgiano"},{"id":"024076","name":"Pedemonte"},{"id":"024077","name":"Pianezze"},{"id":"024078","name":"Piovene Rocchette"},{"id":"024079","name":"Pojana Maggiore"},{"id":"024080","name":"Posina"},{"id":"024081","name":"Pove del Grappa"},{"id":"024082","name":"Pozzoleone"},{"id":"024083","name":"Quinto Vicentino"},{"id":"024084","name":"Recoaro Terme"},{"id":"024085","name":"Roana"},{"id":"024086","name":"Romano d\'Ezzelino"},{"id":"024087","name":"Ros\xe0\xa0"},{"id":"024088","name":"Rossano Veneto"},{"id":"024089","name":"Rotzo"},{"id":"024090","name":"Salcedo"},{"id":"024091","name":"Sandrigo"},{"id":"024092","name":"San Germano dei Berici"},{"id":"024093","name":"San Nazario"},{"id":"024094","name":"San Pietro Mussolino"},{"id":"024095","name":"Santorso"},{"id":"024096","name":"San Vito di Leguzzano"},{"id":"024097","name":"Sarcedo"},{"id":"024098","name":"Sarego"},{"id":"024099","name":"Schiavon"},{"id":"024100","name":"Schio"},{"id":"024101","name":"Solagna"},{"id":"024102","name":"Sossano"},{"id":"024103","name":"Sovizzo"},{"id":"024104","name":"Tezze sul Brenta"},{"id":"024105","name":"Thiene"},{"id":"024106","name":"Tonezza del Cimone"},{"id":"024107","name":"Torrebelvicino"},{"id":"024108","name":"Torri di Quartesolo"},{"id":"024110","name":"Trissino"},{"id":"024111","name":"Valdagno"},{"id":"024112","name":"Valdastico"},{"id":"024113","name":"Valli del Pasubio"},{"id":"024114","name":"Valstagna"},{"id":"024115","name":"Velo d\'Astico"},{"id":"024116","name":"Vicenza"},{"id":"024117","name":"Villaga"},{"id":"024118","name":"Villaverla"},{"id":"024119","name":"Zan\xe8"},{"id":"024120","name":"Zermeghedo"},{"id":"024121","name":"Zovencedo"},{"id":"024122","name":"Zugliano"},{"id":"024123","name":"Val Liona"},{"id":"024124","name":"Barbarano Mossano"},{"id":"024125","name":"Valbrenta"},{"id":"024126","name":"Colceresa"},{"id":"024127","name":"Lusiana Conco"}]},{"id":"ITD33","name":"Belluno","children":[{"id":"025001","name":"Agordo"},{"id":"025002","name":"Alano di Piave"},{"id":"025003","name":"Alleghe"},{"id":"025004","name":"Arsi\xe8"},{"id":"025005","name":"Auronzo di Cadore"},{"id":"025006","name":"Belluno"},{"id":"025007","name":"Borca di Cadore"},{"id":"025008","name":"Calalzo di Cadore"},{"id":"025009","name":"Castellavazzo"},{"id":"025010","name":"Cencenighe Agordino"},{"id":"025011","name":"Cesiomaggiore"},{"id":"025012","name":"Chies d\'Alpago"},{"id":"025013","name":"Cibiana di Cadore"},{"id":"025014","name":"Colle Santa Lucia"},{"id":"025015","name":"Comelico Superiore"},{"id":"025016","name":"Cortina d\'Ampezzo"},{"id":"025017","name":"Danta di Cadore"},{"id":"025018","name":"Domegge di Cadore"},{"id":"025019","name":"Falcade"},{"id":"025020","name":"Farra d\'Alpago"},{"id":"025021","name":"Feltre"},{"id":"025022","name":"Fonzaso"},{"id":"025023","name":"Canale d\'Agordo"},{"id":"025024","name":"Forno di Zoldo"},{"id":"025025","name":"Gosaldo"},{"id":"025026","name":"Lamon"},{"id":"025027","name":"La Valle Agordina"},{"id":"025028","name":"Lentiai"},{"id":"025029","name":"Limana"},{"id":"025030","name":"Livinallongo del Col di Lana"},{"id":"025031","name":"Longarone"},{"id":"025032","name":"Lorenzago di Cadore"},{"id":"025033","name":"Lozzo di Cadore"},{"id":"025034","name":"Mel"},{"id":"025035","name":"Ospitale di Cadore"},{"id":"025036","name":"Pedavena"},{"id":"025037","name":"Perarolo di Cadore"},{"id":"025038","name":"Pieve d\'Alpago"},{"id":"025039","name":"Pieve di Cadore"},{"id":"025040","name":"Ponte nelle Alpi"},{"id":"025041","name":"Puos d\'Alpago"},{"id":"025042","name":"Quero"},{"id":"025043","name":"Rivamonte Agordino"},{"id":"025044","name":"Rocca Pietore"},{"id":"025045","name":"San Gregorio nelle Alpi"},{"id":"025046","name":"San Nicol\xf2 di Comelico"},{"id":"025047","name":"San Pietro di Cadore"},{"id":"025048","name":"Santa Giustina"},{"id":"025049","name":"San Tomaso Agordino"},{"id":"025050","name":"Santo Stefano di Cadore"},{"id":"025051","name":"San Vito di Cadore"},{"id":"025052","name":"Sappada"},{"id":"025053","name":"Sedico"},{"id":"025054","name":"Selva di Cadore"},{"id":"025055","name":"Seren del Grappa"},{"id":"025056","name":"Sospirolo"},{"id":"025057","name":"Soverzene"},{"id":"025058","name":"Sovramonte"},{"id":"025059","name":"Taibon Agordino"},{"id":"025060","name":"Tambre"},{"id":"025061","name":"Trichiana"},{"id":"025062","name":"Vallada Agordina"},{"id":"025063","name":"Valle di Cadore"},{"id":"025064","name":"Vas"},{"id":"025065","name":"Vigo di Cadore"},{"id":"025066","name":"Vodo Cadore"},{"id":"025067","name":"Voltago Agordino"},{"id":"025068","name":"Zoldo Alto"},{"id":"025069","name":"Zopp\xe8 di Cadore"},{"id":"025070","name":"Quero Vas"},{"id":"025071","name":"Longarone"},{"id":"025072","name":"Alpago"},{"id":"025073","name":"Val di Zoldo"},{"id":"025074","name":"Borgo Valbelluna"}]},{"id":"ITD34","name":"Treviso","children":[{"id":"026001","name":"Altivole"},{"id":"026002","name":"Arcade"},{"id":"026003","name":"Asolo"},{"id":"026004","name":"Borso del Grappa"},{"id":"026005","name":"Breda di Piave"},{"id":"026006","name":"Caerano di San Marco"},{"id":"026007","name":"Cappella Maggiore"},{"id":"026008","name":"Carbonera"},{"id":"026009","name":"Casale sul Sile"},{"id":"026010","name":"Casier"},{"id":"026011","name":"Castelcucco"},{"id":"026012","name":"Castelfranco Veneto"},{"id":"026013","name":"Castello di Godego"},{"id":"026014","name":"Cavaso del Tomba"},{"id":"026015","name":"Cessalto"},{"id":"026016","name":"Chiarano"},{"id":"026017","name":"Cimadolmo"},{"id":"026018","name":"Cison di Valmarino"},{"id":"026019","name":"Codogn\xe8"},{"id":"026020","name":"Colle Umberto"},{"id":"026021","name":"Conegliano"},{"id":"026022","name":"Cordignano"},{"id":"026023","name":"Cornuda"},{"id":"026024","name":"Crespano del Grappa"},{"id":"026025","name":"Crocetta del Montello"},{"id":"026026","name":"Farra di Soligo"},{"id":"026027","name":"Follina"},{"id":"026028","name":"Fontanelle"},{"id":"026029","name":"Fonte"},{"id":"026030","name":"Fregona"},{"id":"026031","name":"Gaiarine"},{"id":"026032","name":"Giavera del Montello"},{"id":"026033","name":"Godega di Sant\'Urbano"},{"id":"026034","name":"Gorgo al Monticano"},{"id":"026035","name":"Istrana"},{"id":"026036","name":"Loria"},{"id":"026037","name":"Mansu\xe8"},{"id":"026038","name":"Mareno di Piave"},{"id":"026039","name":"Maser"},{"id":"026040","name":"Maserada sul Piave"},{"id":"026041","name":"Meduna di Livenza"},{"id":"026042","name":"Miane"},{"id":"026043","name":"Mogliano Veneto"},{"id":"026044","name":"Monastier di Treviso"},{"id":"026045","name":"Monfumo"},{"id":"026046","name":"Montebelluna"},{"id":"026047","name":"Morgano"},{"id":"026048","name":"Moriago della Battaglia"},{"id":"026049","name":"Motta di Livenza"},{"id":"026050","name":"Nervesa della Battaglia"},{"id":"026051","name":"Oderzo"},{"id":"026052","name":"Ormelle"},{"id":"026053","name":"Orsago"},{"id":"026054","name":"Paderno del Grappa"},{"id":"026055","name":"Paese"},{"id":"026056","name":"Pederobba"},{"id":"026057","name":"Pieve di Soligo"},{"id":"026058","name":"Ponte di Piave"},{"id":"026059","name":"Ponzano Veneto"},{"id":"026060","name":"Portobuffol\xe8"},{"id":"026061","name":"Possagno"},{"id":"026062","name":"Povegliano"},{"id":"026063","name":"Preganziol"},{"id":"026064","name":"Quinto di Treviso"},{"id":"026065","name":"Refrontolo"},{"id":"026066","name":"Resana"},{"id":"026067","name":"Revine Lago"},{"id":"026068","name":"Riese Pio X"},{"id":"026069","name":"Roncade"},{"id":"026070","name":"Salgareda"},{"id":"026071","name":"San Biagio di Callalta"},{"id":"026072","name":"San Fior"},{"id":"026073","name":"San Pietro di Feletto"},{"id":"026074","name":"San Polo di Piave"},{"id":"026075","name":"Santa Lucia di Piave"},{"id":"026076","name":"San Vendemiano"},{"id":"026077","name":"San Zenone degli Ezzelini"},{"id":"026078","name":"Sarmede"},{"id":"026079","name":"Segusino"},{"id":"026080","name":"Sernaglia della Battaglia"},{"id":"026081","name":"Silea"},{"id":"026082","name":"Spresiano"},{"id":"026083","name":"Susegana"},{"id":"026084","name":"Tarzo"},{"id":"026085","name":"Trevignano"},{"id":"026086","name":"Treviso"},{"id":"026087","name":"Valdobbiadene"},{"id":"026088","name":"Vazzola"},{"id":"026089","name":"Vedelago"},{"id":"026090","name":"Vidor"},{"id":"026091","name":"Villorba"},{"id":"026092","name":"Vittorio Veneto"},{"id":"026093","name":"Volpago del Montello"},{"id":"026094","name":"Zenson di Piave"},{"id":"026095","name":"Zero Branco"},{"id":"026096","name":"Pieve del Grappa"}]},{"id":"ITD35","name":"Venezia","children":[{"id":"027001","name":"Annone Veneto"},{"id":"027002","name":"Campagna Lupia"},{"id":"027003","name":"Campolongo Maggiore"},{"id":"027004","name":"Camponogara"},{"id":"027005","name":"Caorle"},{"id":"027006","name":"Cavarzere"},{"id":"027007","name":"Ceggia"},{"id":"027008","name":"Chioggia"},{"id":"027009","name":"Cinto Caomaggiore"},{"id":"027010","name":"Cona"},{"id":"027011","name":"Concordia Sagittaria"},{"id":"027012","name":"Dolo"},{"id":"027013","name":"Eraclea"},{"id":"027014","name":"Fiesso d\'Artico"},{"id":"027015","name":"Fossalta di Piave"},{"id":"027016","name":"Fossalta di Portogruaro"},{"id":"027017","name":"Foss\xf2"},{"id":"027018","name":"Gruaro"},{"id":"027019","name":"Jesolo"},{"id":"027020","name":"Marcon"},{"id":"027021","name":"Martellago"},{"id":"027022","name":"Meolo"},{"id":"027023","name":"Mira"},{"id":"027024","name":"Mirano"},{"id":"027025","name":"Musile di Piave"},{"id":"027026","name":"Noale"},{"id":"027027","name":"Noventa di Piave"},{"id":"027028","name":"Pianiga"},{"id":"027029","name":"Portogruaro"},{"id":"027030","name":"Pramaggiore"},{"id":"027031","name":"Quarto d\'Altino"},{"id":"027032","name":"Salzano"},{"id":"027033","name":"San Don\xe0 di Piave"},{"id":"027034","name":"San Michele al Tagliamento"},{"id":"027035","name":"Santa Maria di Sala"},{"id":"027036","name":"Santo Stino di Livenza"},{"id":"027037","name":"Scorz\xe8"},{"id":"027038","name":"Spinea"},{"id":"027039","name":"Stra"},{"id":"027040","name":"Teglio Veneto"},{"id":"027041","name":"Torre di Mosto"},{"id":"027042","name":"Venezia"},{"id":"027043","name":"Vigonovo"},{"id":"027044","name":"Cavallino-Treporti"}]},{"id":"ITD36","name":"Padova","children":[{"id":"028001","name":"Abano Terme"},{"id":"028002","name":"Agna"},{"id":"028003","name":"Albignasego"},{"id":"028004","name":"Anguillara Veneta"},{"id":"028005","name":"Arqu\xe0 Petrarca"},{"id":"028006","name":"Arre"},{"id":"028007","name":"Arzergrande"},{"id":"028008","name":"Bagnoli di Sopra"},{"id":"028009","name":"Baone"},{"id":"028010","name":"Barbona"},{"id":"028011","name":"Battaglia Terme"},{"id":"028012","name":"Boara Pisani"},{"id":"028013","name":"Borgoricco"},{"id":"028014","name":"Bovolenta"},{"id":"028015","name":"Brugine"},{"id":"028016","name":"Cadoneghe"},{"id":"028017","name":"Campodarsego"},{"id":"028018","name":"Campodoro"},{"id":"028019","name":"Camposampiero"},{"id":"028020","name":"Campo San Martino"},{"id":"028021","name":"Candiana"},{"id":"028022","name":"Carceri"},{"id":"028023","name":"Carmignano di Brenta"},{"id":"028024","name":"Carrara San Giorgio"},{"id":"028025","name":"Carrara Santo Stefano"},{"id":"028026","name":"Cartura"},{"id":"028027","name":"Casale di Scodosia"},{"id":"028028","name":"Casalserugo"},{"id":"028029","name":"Castelbaldo"},{"id":"028030","name":"Cervarese Santa Croce"},{"id":"028031","name":"Cinto Euganeo"},{"id":"028032","name":"Cittadella"},{"id":"028033","name":"Codevigo"},{"id":"028034","name":"Conselve"},{"id":"028035","name":"Correzzola"},{"id":"028036","name":"Curtarolo"},{"id":"028037","name":"Este"},{"id":"028038","name":"Fontaniva"},{"id":"028039","name":"Galliera Veneta"},{"id":"028040","name":"Galzignano Terme"},{"id":"028041","name":"Gazzo"},{"id":"028042","name":"Grantorto"},{"id":"028043","name":"Granze"},{"id":"028044","name":"Legnaro"},{"id":"028045","name":"Limena"},{"id":"028046","name":"Loreggia"},{"id":"028047","name":"Lozzo Atestino"},{"id":"028048","name":"Maser\xe0 di Padova"},{"id":"028049","name":"Masi"},{"id":"028050","name":"Massanzago"},{"id":"028051","name":"Megliadino San Fidenzio"},{"id":"028052","name":"Megliadino San Vitale"},{"id":"028053","name":"Merlara"},{"id":"028054","name":"Mestrino"},{"id":"028055","name":"Monselice"},{"id":"028056","name":"Montagnana"},{"id":"028057","name":"Montegrotto Terme"},{"id":"028058","name":"Noventa Padovana"},{"id":"028059","name":"Ospedaletto Euganeo"},{"id":"028060","name":"Padova"},{"id":"028061","name":"Pernumia"},{"id":"028062","name":"Piacenza d\'Adige"},{"id":"028063","name":"Piazzola sul Brenta"},{"id":"028064","name":"Piombino Dese"},{"id":"028065","name":"Piove di Sacco"},{"id":"028066","name":"Polverara"},{"id":"028067","name":"Ponso"},{"id":"028068","name":"Pontelongo"},{"id":"028069","name":"Ponte San Nicol\xf2"},{"id":"028070","name":"Pozzonovo"},{"id":"028071","name":"Rovolon"},{"id":"028072","name":"Rubano"},{"id":"028073","name":"Saccolongo"},{"id":"028074","name":"Saletto"},{"id":"028075","name":"San Giorgio delle Pertiche"},{"id":"028076","name":"San Giorgio in Bosco"},{"id":"028077","name":"San Martino di Lupari"},{"id":"028078","name":"San Pietro in Gu"},{"id":"028079","name":"San Pietro Viminario"},{"id":"028080","name":"Santa Giustina in Colle"},{"id":"028081","name":"Santa Margherita d\'Adige"},{"id":"028082","name":"Sant\'Angelo di Piove di Sacco"},{"id":"028083","name":"Sant\'Elena"},{"id":"028084","name":"Sant\'Urbano"},{"id":"028085","name":"Saonara"},{"id":"028086","name":"Selvazzano Dentro"},{"id":"028087","name":"Solesino"},{"id":"028088","name":"Stanghella"},{"id":"028089","name":"Teolo"},{"id":"028090","name":"Terrassa Padovana"},{"id":"028091","name":"Tombolo"},{"id":"028092","name":"Torreglia"},{"id":"028093","name":"Trebaseleghe"},{"id":"028094","name":"Tribano"},{"id":"028095","name":"Urbana"},{"id":"028096","name":"Veggiano"},{"id":"028097","name":"Vescovana"},{"id":"028098","name":"Vighizzolo d\'Este"},{"id":"028099","name":"Vigodarzere"},{"id":"028100","name":"Vigonza"},{"id":"028101","name":"Villa del Conte"},{"id":"028102","name":"Villa Estense"},{"id":"028103","name":"Villafranca Padovana"},{"id":"028104","name":"Villanova di Camposampiero"},{"id":"028105","name":"Vo\'"},{"id":"028106","name":"Due Carrare"},{"id":"028107","name":"Borgo Veneto"}]},{"id":"ITD37","name":"Rovigo","children":[{"id":"029001","name":"Adria"},{"id":"029002","name":"Ariano nel Polesine"},{"id":"029003","name":"Arqu\xe0 Polesine"},{"id":"029004","name":"Badia Polesine"},{"id":"029005","name":"Bagnolo di Po"},{"id":"029006","name":"Bergantino"},{"id":"029007","name":"Bosaro"},{"id":"029008","name":"Calto"},{"id":"029009","name":"Canaro"},{"id":"029010","name":"Canda"},{"id":"029011","name":"Castelguglielmo"},{"id":"029012","name":"Castelmassa"},{"id":"029013","name":"Castelnovo Bariano"},{"id":"029014","name":"Ceneselli"},{"id":"029015","name":"Ceregnano"},{"id":"029016","name":"Contarina"},{"id":"029017","name":"Corbola"},{"id":"029018","name":"Costa di Rovigo"},{"id":"029019","name":"Crespino"},{"id":"029020","name":"Donada"},{"id":"029021","name":"Ficarolo"},{"id":"029022","name":"Fiesso Umbertiano"},{"id":"029023","name":"Frassinelle Polesine"},{"id":"029024","name":"Fratta Polesine"},{"id":"029025","name":"Gaiba"},{"id":"029026","name":"Gavello"},{"id":"029027","name":"Giacciano con Baruchella"},{"id":"029028","name":"Guarda Veneta"},{"id":"029029","name":"Lendinara"},{"id":"029030","name":"Loreo"},{"id":"029031","name":"Lusia"},{"id":"029032","name":"Melara"},{"id":"029033","name":"Occhiobello"},{"id":"029034","name":"Papozze"},{"id":"029035","name":"Pettorazza Grimani"},{"id":"029036","name":"Pincara"},{"id":"029037","name":"Polesella"},{"id":"029038","name":"Pontecchio Polesine"},{"id":"029039","name":"Porto Tolle"},{"id":"029040","name":"Rosolina"},{"id":"029041","name":"Rovigo"},{"id":"029042","name":"Salara"},{"id":"029043","name":"San Bellino"},{"id":"029044","name":"San Martino di Venezze"},{"id":"029045","name":"Stienta"},{"id":"029046","name":"Taglio di Po"},{"id":"029047","name":"Trecenta"},{"id":"029048","name":"Villadose"},{"id":"029049","name":"Villamarzana"},{"id":"029050","name":"Villanova del Ghebbo"},{"id":"029051","name":"Villanova Marchesana"},{"id":"029052","name":"Porto Viro"}]}]},{"id":"ITD4","name":"Friuli-Venezia Giulia","children":[{"id":"ITD41","name":"Pordenone","children":[{"id":"093001","name":"Andreis"},{"id":"093002","name":"Arba"},{"id":"093003","name":"Arzene"},{"id":"093004","name":"Aviano"},{"id":"093005","name":"Azzano Decimo"},{"id":"093006","name":"Barcis"},{"id":"093007","name":"Brugnera"},{"id":"093008","name":"Budoia"},{"id":"093009","name":"Caneva"},{"id":"093010","name":"Casarsa della Delizia"},{"id":"093011","name":"Castelnovo del Friuli"},{"id":"093012","name":"Cavasso Nuovo"},{"id":"093013","name":"Chions"},{"id":"093014","name":"Cimolais"},{"id":"093015","name":"Claut"},{"id":"093016","name":"Clauzetto"},{"id":"093017","name":"Cordenons"},{"id":"093018","name":"Cordovado"},{"id":"093019","name":"Erto e Casso"},{"id":"093020","name":"Fanna"},{"id":"093021","name":"Fiume Veneto"},{"id":"093022","name":"Fontanafredda"},{"id":"093024","name":"Frisanco"},{"id":"093025","name":"Maniago"},{"id":"093026","name":"Meduno"},{"id":"093027","name":"Montereale Valcellina"},{"id":"093028","name":"Morsano al Tagliamento"},{"id":"093029","name":"Pasiano di Pordenone"},{"id":"093030","name":"Pinzano al Tagliamento"},{"id":"093031","name":"Polcenigo"},{"id":"093032","name":"Porcia"},{"id":"093033","name":"Pordenone"},{"id":"093034","name":"Prata di Pordenone"},{"id":"093035","name":"Pravisdomini"},{"id":"093036","name":"Roveredo in Piano"},{"id":"093037","name":"Sacile"},{"id":"093038","name":"San Giorgio della Richinvelda"},{"id":"093039","name":"San Martino al Tagliamento"},{"id":"093040","name":"San Quirino"},{"id":"093041","name":"San Vito al Tagliamento"},{"id":"093042","name":"Sequals"},{"id":"093043","name":"Sesto al Reghena"},{"id":"093044","name":"Spilimbergo"},{"id":"093045","name":"Tramonti di Sopra"},{"id":"093046","name":"Tramonti di Sotto"},{"id":"093047","name":"Travesio"},{"id":"093048","name":"Valvasone"},{"id":"093049","name":"Vito d\'Asio"},{"id":"093050","name":"Vivaro"},{"id":"093051","name":"Zoppola"},{"id":"093052","name":"Vajont"},{"id":"093053","name":"Valvasone Arzene"}]},{"id":"ITD42","name":"Udine","children":[{"id":"030001","name":"Aiello del Friuli"},{"id":"030002","name":"Amaro"},{"id":"030003","name":"Ampezzo"},{"id":"030004","name":"Aquileia"},{"id":"030005","name":"Arta Terme"},{"id":"030006","name":"Artegna"},{"id":"030007","name":"Attimis"},{"id":"030008","name":"Bagnaria Arsa"},{"id":"030009","name":"Basiliano"},{"id":"030010","name":"Bertiolo"},{"id":"030011","name":"Bicinicco"},{"id":"030012","name":"Bordano"},{"id":"030013","name":"Buja"},{"id":"030014","name":"Buttrio"},{"id":"030015","name":"Camino al Tagliamento"},{"id":"030016","name":"Campoformido"},{"id":"030017","name":"Campolongo al Torre"},{"id":"030018","name":"Carlino"},{"id":"030019","name":"Cassacco"},{"id":"030020","name":"Castions di Strada"},{"id":"030021","name":"Cavazzo Carnico"},{"id":"030022","name":"Cercivento"},{"id":"030023","name":"Cervignano del Friuli"},{"id":"030024","name":"Chiopris-Viscone"},{"id":"030025","name":"Chiusaforte"},{"id":"030026","name":"Cividale del Friuli"},{"id":"030027","name":"Codroipo"},{"id":"030028","name":"Colloredo di Monte Albano"},{"id":"030029","name":"Comeglians"},{"id":"030030","name":"Corno di Rosazzo"},{"id":"030031","name":"Coseano"},{"id":"030032","name":"Dignano"},{"id":"030033","name":"Dogna"},{"id":"030034","name":"Drenchia"},{"id":"030035","name":"Enemonzo"},{"id":"030036","name":"Faedis"},{"id":"030037","name":"Fagagna"},{"id":"030038","name":"Fiumicello"},{"id":"030039","name":"Flaibano"},{"id":"030040","name":"Forni Avoltri"},{"id":"030041","name":"Forni di Sopra"},{"id":"030042","name":"Forni di Sotto"},{"id":"030043","name":"Gemona del Friuli"},{"id":"030044","name":"Gonars"},{"id":"030045","name":"Grimacco"},{"id":"030046","name":"Latisana"},{"id":"030047","name":"Lauco"},{"id":"030048","name":"Lestizza"},{"id":"030049","name":"Lignano Sabbiadoro"},{"id":"030050","name":"Ligosullo"},{"id":"030051","name":"Lusevera"},{"id":"030052","name":"Magnano in Riviera"},{"id":"030053","name":"Majano"},{"id":"030054","name":"Malborghetto Valbruna"},{"id":"030055","name":"Manzano"},{"id":"030056","name":"Marano Lagunare"},{"id":"030057","name":"Martignacco"},{"id":"030058","name":"Mereto di Tomba"},{"id":"030059","name":"Moggio Udinese"},{"id":"030060","name":"Moimacco"},{"id":"030061","name":"Montenars"},{"id":"030062","name":"Mortegliano"},{"id":"030063","name":"Moruzzo"},{"id":"030064","name":"Muzzana del Turgnano"},{"id":"030065","name":"Nimis"},{"id":"030066","name":"Osoppo"},{"id":"030067","name":"Ovaro"},{"id":"030068","name":"Pagnacco"},{"id":"030069","name":"Palazzolo dello Stella"},{"id":"030070","name":"Palmanova"},{"id":"030071","name":"Paluzza"},{"id":"030072","name":"Pasian di Prato"},{"id":"030073","name":"Paularo"},{"id":"030074","name":"Pavia di Udine"},{"id":"030075","name":"Pocenia"},{"id":"030076","name":"Pontebba"},{"id":"030077","name":"Porpetto"},{"id":"030078","name":"Povoletto"},{"id":"030079","name":"Pozzuolo del Friuli"},{"id":"030080","name":"Pradamano"},{"id":"030081","name":"Prato Carnico"},{"id":"030082","name":"Precenicco"},{"id":"030083","name":"Premariacco"},{"id":"030084","name":"Preone"},{"id":"030085","name":"Prepotto"},{"id":"030086","name":"Pulfero"},{"id":"030087","name":"Ragogna"},{"id":"030088","name":"Ravascletto"},{"id":"030089","name":"Raveo"},{"id":"030090","name":"Reana del Rojale"},{"id":"030091","name":"Remanzacco"},{"id":"030092","name":"Resia"},{"id":"030093","name":"Resiutta"},{"id":"030094","name":"Rigolato"},{"id":"030095","name":"Rive d\'Arcano"},{"id":"030096","name":"Rivignano"},{"id":"030097","name":"Ronchis"},{"id":"030098","name":"Ruda"},{"id":"030099","name":"San Daniele del Friuli"},{"id":"030100","name":"San Giorgio di Nogaro"},{"id":"030101","name":"San Giovanni al Natisone"},{"id":"030102","name":"San Leonardo"},{"id":"030103","name":"San Pietro al Natisone"},{"id":"030104","name":"Santa Maria la Longa"},{"id":"030105","name":"San Vito al Torre"},{"id":"030106","name":"San Vito di Fagagna"},{"id":"030107","name":"Sauris"},{"id":"030108","name":"Savogna"},{"id":"030109","name":"Sedegliano"},{"id":"030110","name":"Socchieve"},{"id":"030111","name":"Stregna"},{"id":"030112","name":"Sutrio"},{"id":"030113","name":"Taipana"},{"id":"030114","name":"Talmassons"},{"id":"030115","name":"Tapogliano"},{"id":"030116","name":"Tarcento"},{"id":"030117","name":"Tarvisio"},{"id":"030118","name":"Tavagnacco"},{"id":"030119","name":"Teor"},{"id":"030120","name":"Terzo d\'Aquileia"},{"id":"030121","name":"Tolmezzo"},{"id":"030122","name":"Torreano"},{"id":"030123","name":"Torviscosa"},{"id":"030124","name":"Trasaghis"},{"id":"030125","name":"Treppo Carnico"},{"id":"030126","name":"Treppo Grande"},{"id":"030127","name":"Tricesimo"},{"id":"030128","name":"Trivignano Udinese"},{"id":"030129","name":"Udine"},{"id":"030130","name":"Varmo"},{"id":"030131","name":"Venzone"},{"id":"030132","name":"Verzegnis"},{"id":"030133","name":"Villa Santina"},{"id":"030134","name":"Villa Vicentina"},{"id":"030135","name":"Visco"},{"id":"030136","name":"Zuglio"},{"id":"030137","name":"Forgaria nel Friuli"},{"id":"030138","name":"Campolongo Tapogliano"},{"id":"030188","name":"Rivignano Teor"},{"id":"030189","name":"Sappada"},{"id":"030190","name":"Fiumicello Villa Vicentina"},{"id":"030191","name":"Treppo Ligosullo"}]},{"id":"ITD43","name":"Gorizia","children":[{"id":"031001","name":"Capriva del Friuli"},{"id":"031002","name":"Cormons"},{"id":"031003","name":"Doberd\xf2 del Lago-Doberdob"},{"id":"031004","name":"Dolegna del Collio"},{"id":"031005","name":"Farra d\'Isonzo"},{"id":"031006","name":"Fogliano Redipuglia"},{"id":"031007","name":"Gorizia"},{"id":"031008","name":"Gradisca d\'Isonzo"},{"id":"031009","name":"Grado"},{"id":"031010","name":"Mariano del Friuli"},{"id":"031011","name":"Medea"},{"id":"031012","name":"Monfalcone"},{"id":"031013","name":"Moraro"},{"id":"031014","name":"Mossa"},{"id":"031015","name":"Romans d\'Isonzo"},{"id":"031016","name":"Ronchi dei Legionari"},{"id":"031017","name":"Sagrado"},{"id":"031018","name":"San Canzian d\'Isonzo"},{"id":"031019","name":"San Floriano del Collio-\xc2\xa6teverjan"},{"id":"031020","name":"San Lorenzo Isontino"},{"id":"031021","name":"San Pier d\'Isonzo"},{"id":"031022","name":"Savogna d\'Isonzo-Sovodnje ob So\xc2\xbfi"},{"id":"031023","name":"Staranzano"},{"id":"031024","name":"Turriaco"},{"id":"031025","name":"Villesse"}]},{"id":"ITD44","name":"Trieste","children":[{"id":"032001","name":"Duino Auresina-Devin Nabre\xc2\xb8ina"},{"id":"032002","name":"Monrupino-Repentabor"},{"id":"032003","name":"Muggia"},{"id":"032004","name":"San Dorligo della Valle - Dolina"},{"id":"032005","name":"Sgonico-Zgonik"},{"id":"032006","name":"Trieste"}]}]},{"id":"ITD5","name":"Emilia-Romagna","children":[{"id":"ITD51","name":"Piacenza","children":[{"id":"033001","name":"Agazzano"},{"id":"033002","name":"Alseno"},{"id":"033003","name":"Besenzone"},{"id":"033004","name":"Bettola"},{"id":"033005","name":"Bobbio"},{"id":"033006","name":"Borgonovo Val Tidone"},{"id":"033007","name":"Cadeo"},{"id":"033008","name":"Calendasco"},{"id":"033009","name":"Caminata"},{"id":"033010","name":"Caorso"},{"id":"033011","name":"Carpaneto Piacentino"},{"id":"033012","name":"Castell\'Arquato"},{"id":"033013","name":"Castel San Giovanni"},{"id":"033014","name":"Castelvetro Piacentino"},{"id":"033015","name":"Cerignale"},{"id":"033016","name":"Coli"},{"id":"033017","name":"Corte Brugnatella"},{"id":"033018","name":"Cortemaggiore"},{"id":"033019","name":"Farini"},{"id":"033020","name":"Ferriere"},{"id":"033021","name":"Fiorenzuola d\'Arda"},{"id":"033022","name":"Gazzola"},{"id":"033023","name":"Gossolengo"},{"id":"033024","name":"Gragnano Trebbiense"},{"id":"033025","name":"Gropparello"},{"id":"033026","name":"Lugagnano Val d\'Arda"},{"id":"033027","name":"Monticelli d\'Ongina"},{"id":"033028","name":"Morfasso"},{"id":"033029","name":"Nibbiano"},{"id":"033030","name":"Ottone"},{"id":"033031","name":"Pecorara"},{"id":"033032","name":"Piacenza"},{"id":"033033","name":"Pianello Val Tidone"},{"id":"033034","name":"Piozzano"},{"id":"033035","name":"Podenzano"},{"id":"033036","name":"Ponte dell\'Olio"},{"id":"033037","name":"Pontenure"},{"id":"033038","name":"Rivergaro"},{"id":"033039","name":"Rottofreno"},{"id":"033040","name":"San Giorgio Piacentino"},{"id":"033041","name":"San Pietro in Cerro"},{"id":"033042","name":"Sarmato"},{"id":"033043","name":"Travo"},{"id":"033044","name":"Vernasca"},{"id":"033045","name":"Vigolzone"},{"id":"033046","name":"Villanova sull\'Arda"},{"id":"033047","name":"Zerba"},{"id":"033048","name":"Ziano Piacentino"},{"id":"033049","name":"Alta Val Tidone"}]},{"id":"ITD52","name":"Parma","children":[{"id":"034001","name":"Albareto"},{"id":"034002","name":"Bardi"},{"id":"034003","name":"Bedonia"},{"id":"034004","name":"Berceto"},{"id":"034005","name":"Bore"},{"id":"034006","name":"Borgo Val di Taro"},{"id":"034007","name":"Busseto"},{"id":"034008","name":"Calestano"},{"id":"034009","name":"Collecchio"},{"id":"034010","name":"Colorno"},{"id":"034011","name":"Compiano"},{"id":"034012","name":"Corniglio"},{"id":"034013","name":"Felino"},{"id":"034014","name":"Fidenza"},{"id":"034015","name":"Fontanellato"},{"id":"034016","name":"Fontevivo"},{"id":"034017","name":"Fornovo di Taro"},{"id":"034018","name":"Langhirano"},{"id":"034019","name":"Lesignano de\' Bagni"},{"id":"034020","name":"Medesano"},{"id":"034021","name":"Mezzani"},{"id":"034022","name":"Monchio delle Corti"},{"id":"034023","name":"Montechiarugolo"},{"id":"034024","name":"Neviano degli Arduini"},{"id":"034025","name":"Noceto"},{"id":"034026","name":"Palanzano"},{"id":"034027","name":"Parma"},{"id":"034028","name":"Pellegrino Parmense"},{"id":"034029","name":"Polesine Parmense"},{"id":"034030","name":"Roccabianca"},{"id":"034031","name":"Sala Baganza"},{"id":"034032","name":"Salsomaggiore Terme"},{"id":"034033","name":"San Secondo Parmense"},{"id":"034034","name":"Sissa"},{"id":"034035","name":"Solignano"},{"id":"034036","name":"Soragna"},{"id":"034037","name":"Sorbolo"},{"id":"034038","name":"Terenzo"},{"id":"034039","name":"Tizzano Val Parma"},{"id":"034040","name":"Tornolo"},{"id":"034041","name":"Torrile"},{"id":"034042","name":"Traversetolo"},{"id":"034043","name":"Trecasali"},{"id":"034044","name":"Valmozzola"},{"id":"034045","name":"Varano de\' Melegari"},{"id":"034046","name":"Varsi"},{"id":"034048","name":"Zibello"},{"id":"034049","name":"Sissa Trecasali"},{"id":"034050","name":"Polesine Zibello"},{"id":"034051","name":"Sorbolo Mezzani"}]},{"id":"ITD53","name":"Reggio nell\'Emilia","children":[{"id":"035001","name":"Albinea"},{"id":"035002","name":"Bagnolo in Piano"},{"id":"035003","name":"Baiso"},{"id":"035004","name":"Bibbiano"},{"id":"035005","name":"Boretto"},{"id":"035006","name":"Brescello"},{"id":"035007","name":"Busana"},{"id":"035008","name":"Cadelbosco di Sopra"},{"id":"035009","name":"Campagnola Emilia"},{"id":"035010","name":"Campegine"},{"id":"035011","name":"Carpineti"},{"id":"035012","name":"Casalgrande"},{"id":"035013","name":"Casina"},{"id":"035014","name":"Castellarano"},{"id":"035015","name":"Castelnovo di Sotto"},{"id":"035016","name":"Castelnovo ne\' Monti"},{"id":"035017","name":"Cavriago"},{"id":"035018","name":"Canossa"},{"id":"035019","name":"Collagna"},{"id":"035020","name":"Correggio"},{"id":"035021","name":"Fabbrico"},{"id":"035022","name":"Gattatico"},{"id":"035023","name":"Gualtieri"},{"id":"035024","name":"Guastalla"},{"id":"035025","name":"Ligonchio"},{"id":"035026","name":"Luzzara"},{"id":"035027","name":"Montecchio Emilia"},{"id":"035028","name":"Novellara"},{"id":"035029","name":"Poviglio"},{"id":"035030","name":"Quattro Castella"},{"id":"035031","name":"Ramiseto"},{"id":"035032","name":"Reggiolo"},{"id":"035033","name":"Reggio nell\'Emilia"},{"id":"035034","name":"Rio Saliceto"},{"id":"035035","name":"Rolo"},{"id":"035036","name":"Rubiera"},{"id":"035037","name":"San Martino in Rio"},{"id":"035038","name":"San Polo d\'Enza"},{"id":"035039","name":"Sant\'Ilario d\'Enza"},{"id":"035040","name":"Scandiano"},{"id":"035041","name":"Toano"},{"id":"035042","name":"Vetto"},{"id":"035043","name":"Vezzano sul Crostolo"},{"id":"035044","name":"Viano"},{"id":"035045","name":"Villa Minozzo"},{"id":"035046","name":"Ventasso"}]},{"id":"ITD54","name":"Modena","children":[{"id":"036001","name":"Bastiglia"},{"id":"036002","name":"Bomporto"},{"id":"036003","name":"Campogalliano"},{"id":"036004","name":"Camposanto"},{"id":"036005","name":"Carpi"},{"id":"036006","name":"Castelfranco Emilia"},{"id":"036007","name":"Castelnuovo Rangone"},{"id":"036008","name":"Castelvetro di Modena"},{"id":"036009","name":"Cavezzo"},{"id":"036010","name":"Concordia sulla Secchia"},{"id":"036011","name":"Fanano"},{"id":"036012","name":"Finale Emilia"},{"id":"036013","name":"Fiorano Modenese"},{"id":"036014","name":"Fiumalbo"},{"id":"036015","name":"Formigine"},{"id":"036016","name":"Frassinoro"},{"id":"036017","name":"Guiglia"},{"id":"036018","name":"Lama Mocogno"},{"id":"036019","name":"Maranello"},{"id":"036020","name":"Marano sul Panaro"},{"id":"036021","name":"Medolla"},{"id":"036022","name":"Mirandola"},{"id":"036023","name":"Modena"},{"id":"036024","name":"Montecreto"},{"id":"036025","name":"Montefiorino"},{"id":"036026","name":"Montese"},{"id":"036027","name":"Nonantola"},{"id":"036028","name":"Novi di Modena"},{"id":"036029","name":"Palagano"},{"id":"036030","name":"Pavullo nel Frignano"},{"id":"036031","name":"Pievepelago"},{"id":"036032","name":"Polinago"},{"id":"036033","name":"Prignano sulla Secchia"},{"id":"036034","name":"Ravarino"},{"id":"036035","name":"Riolunato"},{"id":"036036","name":"San Cesario sul Panaro"},{"id":"036037","name":"San Felice sul Panaro"},{"id":"036038","name":"San Possidonio"},{"id":"036039","name":"San Prospero"},{"id":"036040","name":"Sassuolo"},{"id":"036041","name":"Savignano sul Panaro"},{"id":"036042","name":"Serramazzoni"},{"id":"036043","name":"Sestola"},{"id":"036044","name":"Soliera"},{"id":"036045","name":"Spilamberto"},{"id":"036046","name":"Vignola"},{"id":"036047","name":"Zocca"}]},{"id":"ITD55","name":"Bologna","children":[{"id":"037001","name":"Anzola dell\'Emilia"},{"id":"037002","name":"Argelato"},{"id":"037003","name":"Baricella"},{"id":"037004","name":"Bazzano"},{"id":"037005","name":"Bentivoglio"},{"id":"037006","name":"Bologna"},{"id":"037007","name":"Borgo Tossignano"},{"id":"037008","name":"Budrio"},{"id":"037009","name":"Calderara di Reno"},{"id":"037010","name":"Camugnano"},{"id":"037011","name":"Casalecchio di Reno"},{"id":"037012","name":"Casalfiumanese"},{"id":"037013","name":"Castel d\'Aiano"},{"id":"037014","name":"Castel del Rio"},{"id":"037015","name":"Castel di Casio"},{"id":"037016","name":"Castel Guelfo di Bologna"},{"id":"037017","name":"Castello d\'Argile"},{"id":"037018","name":"Castello di Serravalle"},{"id":"037019","name":"Castel Maggiore"},{"id":"037020","name":"Castel San Pietro Terme"},{"id":"037021","name":"Castenaso"},{"id":"037022","name":"Castiglione dei Pepoli"},{"id":"037023","name":"Crespellano"},{"id":"037024","name":"Crevalcore"},{"id":"037025","name":"Dozza"},{"id":"037026","name":"Fontanelice"},{"id":"037027","name":"Gaggio Montano"},{"id":"037028","name":"Galliera"},{"id":"037029","name":"Granaglione"},{"id":"037030","name":"Granarolo dell\'Emilia"},{"id":"037031","name":"Grizzana Morandi"},{"id":"037032","name":"Imola"},{"id":"037033","name":"Lizzano in Belvedere"},{"id":"037034","name":"Loiano"},{"id":"037035","name":"Malalbergo"},{"id":"037036","name":"Marzabotto"},{"id":"037037","name":"Medicina"},{"id":"037038","name":"Minerbio"},{"id":"037039","name":"Molinella"},{"id":"037040","name":"Monghidoro"},{"id":"037041","name":"Monterenzio"},{"id":"037042","name":"Monte San Pietro"},{"id":"037043","name":"Monteveglio"},{"id":"037044","name":"Monzuno"},{"id":"037045","name":"Mordano"},{"id":"037046","name":"Ozzano dell\'Emilia"},{"id":"037047","name":"Pianoro"},{"id":"037048","name":"Pieve di Cento"},{"id":"037049","name":"Porretta Terme"},{"id":"037050","name":"Sala Bolognese"},{"id":"037051","name":"San Benedetto Val di Sambro"},{"id":"037052","name":"San Giorgio di Piano"},{"id":"037053","name":"San Giovanni in Persiceto"},{"id":"037054","name":"San Lazzaro di Savena"},{"id":"037055","name":"San Pietro in Casale"},{"id":"037056","name":"Sant\'Agata Bolognese"},{"id":"037057","name":"Sasso Marconi"},{"id":"037058","name":"Savigno"},{"id":"037059","name":"Vergato"},{"id":"037060","name":"Zola Predosa"},{"id":"037061","name":"Valsamoggia"},{"id":"037062","name":"Alto Reno Terme"}]},{"id":"ITD56","name":"Ferrara","children":[{"id":"038001","name":"Argenta"},{"id":"038002","name":"Berra"},{"id":"038003","name":"Bondeno"},{"id":"038004","name":"Cento"},{"id":"038005","name":"Codigoro"},{"id":"038006","name":"Comacchio"},{"id":"038007","name":"Copparo"},{"id":"038008","name":"Ferrara"},{"id":"038009","name":"Formignana"},{"id":"038010","name":"Jolanda di Savoia"},{"id":"038011","name":"Lagosanto"},{"id":"038012","name":"Masi Torello"},{"id":"038013","name":"Massa Fiscaglia"},{"id":"038014","name":"Mesola"},{"id":"038015","name":"Migliarino"},{"id":"038016","name":"Mirabello"},{"id":"038017","name":"Ostellato"},{"id":"038018","name":"Poggio Renatico"},{"id":"038019","name":"Portomaggiore"},{"id":"038020","name":"Ro"},{"id":"038021","name":"Sant\'Agostino"},{"id":"038022","name":"Vigarano Mainarda"},{"id":"038023","name":"Voghiera"},{"id":"038024","name":"Tresigallo"},{"id":"038025","name":"Goro"},{"id":"038026","name":"Migliaro"},{"id":"038027","name":"Fiscaglia"},{"id":"038028","name":"Terre del Reno"},{"id":"038029","name":"Riva del Po"},{"id":"038030","name":"Tresignana"}]},{"id":"ITD57","name":"Ravenna","children":[{"id":"039001","name":"Alfonsine"},{"id":"039002","name":"Bagnacavallo"},{"id":"039003","name":"Bagnara di Romagna"},{"id":"039004","name":"Brisighella"},{"id":"039005","name":"Casola Valsenio"},{"id":"039006","name":"Castel Bolognese"},{"id":"039007","name":"Cervia"},{"id":"039008","name":"Conselice"},{"id":"039009","name":"Cotignola"},{"id":"039010","name":"Faenza"},{"id":"039011","name":"Fusignano"},{"id":"039012","name":"Lugo"},{"id":"039013","name":"Massa Lombarda"},{"id":"039014","name":"Ravenna"},{"id":"039015","name":"Riolo Terme"},{"id":"039016","name":"Russi"},{"id":"039017","name":"Sant\'Agata sul Santerno"},{"id":"039018","name":"Solarolo"}]},{"id":"ITD58","name":"Forl\xec-Cesena","children":[{"id":"040001","name":"Bagno di Romagna"},{"id":"040002","name":"Bellaria-Igea Marina"},{"id":"040003","name":"Bertinoro"},{"id":"040004","name":"Borghi"},{"id":"040005","name":"Castrocaro Terme e Terra del Sole"},{"id":"040006","name":"Cattolica"},{"id":"040007","name":"Cesena"},{"id":"040008","name":"Cesenatico"},{"id":"040009","name":"Civitella di Romagna"},{"id":"040010","name":"Coriano"},{"id":"040011","name":"Dovadola"},{"id":"040012","name":"Forl\xec"},{"id":"040013","name":"Forlimpopoli"},{"id":"040014","name":"Galeata"},{"id":"040015","name":"Gambettola"},{"id":"040016","name":"Gatteo"},{"id":"040017","name":"Gemmano"},{"id":"040018","name":"Longiano"},{"id":"040019","name":"Meldola"},{"id":"040020","name":"Mercato Saraceno"},{"id":"040021","name":"Misano Adriatico"},{"id":"040022","name":"Modigliana"},{"id":"040023","name":"Mondaino"},{"id":"040024","name":"Monte Colombo"},{"id":"040025","name":"Montefiore Conca"},{"id":"040026","name":"Montegridolfo"},{"id":"040027","name":"Montescudo"},{"id":"040028","name":"Montiano"},{"id":"040029","name":"Morciano di Romagna"},{"id":"040030","name":"Poggio Berni"},{"id":"040031","name":"Portico e San Benedetto"},{"id":"040032","name":"Predappio"},{"id":"040033","name":"Premilcuore"},{"id":"040034","name":"Riccione"},{"id":"040035","name":"Rimini"},{"id":"040036","name":"Rocca San Casciano"},{"id":"040037","name":"Roncofreddo"},{"id":"040038","name":"Saludecio"},{"id":"040039","name":"San Clemente"},{"id":"040040","name":"San Giovanni in Marignano"},{"id":"040041","name":"San Mauro Pascoli"},{"id":"040042","name":"Santarcangelo di Romagna"},{"id":"040043","name":"Santa Sofia"},{"id":"040044","name":"Sarsina"},{"id":"040045","name":"Savignano sul Rubicone"},{"id":"040046","name":"Sogliano al Rubicone"},{"id":"040048","name":"Torriana"},{"id":"040049","name":"Tredozio"},{"id":"040050","name":"Verghereto"},{"id":"040051","name":"Verucchio"}]},{"id":"ITD59","name":"Rimini","children":[{"id":"099001","name":"Bellaria-Igea Marina"},{"id":"099002","name":"Cattolica"},{"id":"099003","name":"Coriano"},{"id":"099004","name":"Gemmano"},{"id":"099005","name":"Misano Adriatico"},{"id":"099006","name":"Mondaino"},{"id":"099007","name":"Monte Colombo"},{"id":"099008","name":"Montefiore Conca"},{"id":"099009","name":"Montegridolfo"},{"id":"099010","name":"Montescudo"},{"id":"099011","name":"Morciano di Romagna"},{"id":"099012","name":"Poggio Berni"},{"id":"099013","name":"Riccione"},{"id":"099014","name":"Rimini"},{"id":"099015","name":"Saludecio"},{"id":"099016","name":"San Clemente"},{"id":"099017","name":"San Giovanni in Marignano"},{"id":"099018","name":"Santarcangelo di Romagna"},{"id":"099019","name":"Torriana"},{"id":"099020","name":"Verucchio"},{"id":"099021","name":"Casteldelci"},{"id":"099022","name":"Maiolo"},{"id":"099023","name":"Novafeltria"},{"id":"099024","name":"Pennabilli"},{"id":"099025","name":"San Leo"},{"id":"099026","name":"Sant\'Agata Feltria"},{"id":"099027","name":"Talamello"},{"id":"099028","name":"Poggio Torriana"},{"id":"099029","name":"Montescudo-Monte Colombo"}]}]},{"id":"ITDA","name":"Trentino Alto Adige / S\xfcdtirol","children":[{"id":"ITD10","name":"Bolzano / Bozen","children":[{"id":"021001","name":"Aldino/Aldein"},{"id":"021002","name":"Andriano/Andrian"},{"id":"021003","name":"Anterivo/Altrei"},{"id":"021004","name":"Appiano sulla strada del vino/Eppan an der Weinstra\xdfe"},{"id":"021005","name":"Avelengo/Hafling"},{"id":"021006","name":"Badia/Abtei"},{"id":"021007","name":"Barbiano/Barbian"},{"id":"021008","name":"Bolzano/Bozen"},{"id":"021009","name":"Braies/Prags"},{"id":"021010","name":"Brennero/Brenner"},{"id":"021011","name":"Bressanone/Brixen"},{"id":"021012","name":"Bronzolo/Branzoll"},{"id":"021013","name":"Brunico/Bruneck"},{"id":"021014","name":"Caines/Kuens"},{"id":"021015","name":"Caldaro sulla strada del vino/Kaltern an der Weinstra\xdfe"},{"id":"021016","name":"Campo di Trens/Freienfeld"},{"id":"021017","name":"Campo Tures/Sand in Taufers"},{"id":"021018","name":"Castelbello-Ciardes/Kastelbell-Tschars"},{"id":"021019","name":"Castelrotto/Kastelruth"},{"id":"021020","name":"Cermes/Tscherms"},{"id":"021021","name":"Chienes/Kiens"},{"id":"021022","name":"Chiusa/Klausen"},{"id":"021023","name":"Cornedo all\'Isarco/Karneid"},{"id":"021024","name":"Cortaccia sulla strada del vino/Kurtatsch an der Weinstra\xdfe"},{"id":"021025","name":"Cortina sulla strada del vino/Kurtinig an der Weinstra\xdfe"},{"id":"021026","name":"Corvara in Badia/Corvara"},{"id":"021027","name":"Curon Venosta/Graun im Vinschgau"},{"id":"021028","name":"Dobbiaco/Toblach"},{"id":"021029","name":"Egna/Neumarkt"},{"id":"021030","name":"Falzes/Pfalzen"},{"id":"021031","name":"Fi\xe8 allo Sciliar/V\xf6ls am Schlern"},{"id":"021032","name":"Fortezza/Franzensfeste"},{"id":"021033","name":"Funes/Villn\xf6\xdf"},{"id":"021034","name":"Gais/Gais"},{"id":"021035","name":"Gargazzone/Gargazon"},{"id":"021036","name":"Glorenza/Glurns"},{"id":"021037","name":"Laces/Latsch"},{"id":"021038","name":"Lagundo/Algund"},{"id":"021039","name":"Laion/Lajen"},{"id":"021040","name":"Laives/Leifers"},{"id":"021041","name":"Lana/Lana"},{"id":"021042","name":"Lasa/Laas"},{"id":"021043","name":"Lauregno/Laurein"},{"id":"021044","name":"Luson/L\xfcsen"},{"id":"021045","name":"Magr\xe8 sulla strada del vino/Margreid an der Weinstra\xdfe"},{"id":"021046","name":"Malles Venosta/Mals"},{"id":"021047","name":"Marebbe/Enneberg"},{"id":"021048","name":"Marlengo/Marling"},{"id":"021049","name":"Martello/Martell"},{"id":"021050","name":"Meltina/M\xf6lten"},{"id":"021051","name":"Merano/Meran"},{"id":"021052","name":"Monguelfo-Tesido/Welsberg-Taisten"},{"id":"021053","name":"Montagna/Montan"},{"id":"021054","name":"Moso in Passiria/Moos In Passeier"},{"id":"021055","name":"Nalles/Nals"},{"id":"021056","name":"Naturno/Naturns"},{"id":"021057","name":"Naz-Sciaves/Natz-Schabs"},{"id":"021058","name":"Nova Levante/Welschnofen"},{"id":"021059","name":"Nova Ponente/Deutschnofen"},{"id":"021060","name":"Ora/Auer"},{"id":"021061","name":"Ortisei/St. Ulrich"},{"id":"021062","name":"Parcines/Partschins"},{"id":"021063","name":"Perca/Percha"},{"id":"021064","name":"Plaus/Plaus"},{"id":"021065","name":"Ponte Gardena/Waidbruck"},{"id":"021066","name":"Postal/Burgstall"},{"id":"021067","name":"Prato allo Stelvio/Prad am Stilfserjoch"},{"id":"021068","name":"Predoi/Prettau"},{"id":"021069","name":"Proves/Proveis"},{"id":"021070","name":"Racines/Ratschings"},{"id":"021071","name":"Rasun-Anterselva/Rasen-Antholz"},{"id":"021072","name":"Renon/Ritten"},{"id":"021073","name":"Rifiano/Riffian"},{"id":"021074","name":"Rio di Pusteria/M\xfchlbach"},{"id":"021075","name":"Rodengo/Rodeneck"},{"id":"021076","name":"Salorno/Salurn"},{"id":"021077","name":"San Candido/Innichen"},{"id":"021079","name":"San Genesio Atesino/Jenesien"},{"id":"021080","name":"San Leonardo in Passiria/St. Leonhard in Passeier"},{"id":"021081","name":"San Lorenzo di Sebato/St. Lorenzen"},{"id":"021082","name":"San Martino in Badia/St. Martin in Thurn"},{"id":"021083","name":"San Martino in Passiria/St. Martin in Passeier"},{"id":"021084","name":"San Pancrazio/St. Pankraz"},{"id":"021085","name":"Santa Cristina Valgardena/St. Christina in Gr\xf6den"},{"id":"021086","name":"Sarentino/Sarntal"},{"id":"021087","name":"Scena/Schenna"},{"id":"021088","name":"Selva dei Molini/M\xfchlwald"},{"id":"021089","name":"Selva di Val Gardena/Wolkenstein in Gr\xf6den"},{"id":"021091","name":"Senales/Schnals"},{"id":"021092","name":"Sesto/Sexten"},{"id":"021093","name":"Silandro/Schlanders"},{"id":"021094","name":"Sluderno/Schluderns"},{"id":"021095","name":"Stelvio/Stilfs"},{"id":"021096","name":"Terento/Terenten"},{"id":"021097","name":"Terlano/Terlan"},{"id":"021098","name":"Termeno sulla strada del vino/Tramin an der Weinstra\xdfe"},{"id":"021099","name":"Tesimo/Tisens"},{"id":"021100","name":"Tires/Tiers"},{"id":"021101","name":"Tirolo/Tirol"},{"id":"021102","name":"Trodena nel parco naturale/Truden im Naturpark"},{"id":"021103","name":"Tubre/Taufers im M\xfcnstertal"},{"id":"021104","name":"Ultimo/Ulten"},{"id":"021105","name":"Vadena/Pfatten"},{"id":"021106","name":"Valdaora/Olang"},{"id":"021107","name":"Val di Vizze/Pfitsch"},{"id":"021108","name":"Valle Aurina/Ahrntal"},{"id":"021109","name":"Valle di Casies/Gsies"},{"id":"021110","name":"Vandoies/Vintl"},{"id":"021111","name":"Varna/Vahrn"},{"id":"021112","name":"Verano/V\xf6ran"},{"id":"021113","name":"Villabassa/Niederdorf"},{"id":"021114","name":"Villandro/Villanders"},{"id":"021115","name":"Vipiteno/Sterzing"},{"id":"021116","name":"Velturno/Feldthurns"},{"id":"021117","name":"La Valle/Wengen"},{"id":"021118","name":"Senale-San Felice/Unsere Liebe Frau im Walde-St. Felix"}]},{"id":"ITD20","name":"Trento","children":[{"id":"022001","name":"Ala"},{"id":"022002","name":"Albiano"},{"id":"022003","name":"Aldeno"},{"id":"022004","name":"Amblar"},{"id":"022005","name":"Andalo"},{"id":"022006","name":"Arco"},{"id":"022007","name":"Avio"},{"id":"022009","name":"Baselga di Pin\xe8"},{"id":"022011","name":"Bedollo"},{"id":"022012","name":"Bersone"},{"id":"022013","name":"Besenello"},{"id":"022014","name":"Bezzecca"},{"id":"022015","name":"Bieno"},{"id":"022016","name":"Bleggio Inferiore"},{"id":"022017","name":"Bleggio Superiore"},{"id":"022018","name":"Bocenago"},{"id":"022019","name":"Bolbeno"},{"id":"022020","name":"Bondo"},{"id":"022021","name":"Bondone"},{"id":"022022","name":"Borgo Valsugana"},{"id":"022023","name":"Bosentino"},{"id":"022024","name":"Breguzzo"},{"id":"022025","name":"Brentonico"},{"id":"022026","name":"Bresimo"},{"id":"022027","name":"Brez"},{"id":"022028","name":"Brione"},{"id":"022029","name":"Caderzone Terme"},{"id":"022030","name":"Cagn\xf2"},{"id":"022031","name":"Calavino"},{"id":"022032","name":"Calceranica al Lago"},{"id":"022033","name":"Caldes"},{"id":"022034","name":"Caldonazzo"},{"id":"022035","name":"Calliano"},{"id":"022036","name":"Campitello di Fassa"},{"id":"022037","name":"Campodenno"},{"id":"022038","name":"Canal San Bovo"},{"id":"022039","name":"Canazei"},{"id":"022040","name":"Capriana"},{"id":"022041","name":"Carano"},{"id":"022042","name":"Carisolo"},{"id":"022043","name":"Carzano"},{"id":"022045","name":"Castel Condino"},{"id":"022046","name":"Castelfondo"},{"id":"022047","name":"Castello-Molina di Fiemme"},{"id":"022048","name":"Castello Tesino"},{"id":"022049","name":"Castelnuovo"},{"id":"022050","name":"Cavalese"},{"id":"022051","name":"Cavareno"},{"id":"022052","name":"Cavedago"},{"id":"022053","name":"Cavedine"},{"id":"022054","name":"Cavizzana"},{"id":"022055","name":"Cembra"},{"id":"022056","name":"Centa San Nicol\xf2"},{"id":"022057","name":"Cimego"},{"id":"022058","name":"Cimone"},{"id":"022059","name":"Cinte Tesino"},{"id":"022060","name":"Cis"},{"id":"022061","name":"Civezzano"},{"id":"022062","name":"Cles"},{"id":"022063","name":"Cloz"},{"id":"022064","name":"Commezzadura"},{"id":"022065","name":"Concei"},{"id":"022066","name":"Condino"},{"id":"022067","name":"Coredo"},{"id":"022068","name":"Croviana"},{"id":"022069","name":"Cunevo"},{"id":"022070","name":"Daiano"},{"id":"022071","name":"Dambel"},{"id":"022072","name":"Daone"},{"id":"022073","name":"Dar\xe8"},{"id":"022074","name":"Denno"},{"id":"022075","name":"Dimaro"},{"id":"022076","name":"Don"},{"id":"022077","name":"Dorsino"},{"id":"022078","name":"Drena"},{"id":"022079","name":"Dro"},{"id":"022080","name":"Faedo"},{"id":"022081","name":"Fai della Paganella"},{"id":"022082","name":"Faver"},{"id":"022083","name":"Fiav\xe8"},{"id":"022084","name":"Fiera di Primiero"},{"id":"022085","name":"Fierozzo"},{"id":"022086","name":"Flavon"},{"id":"022087","name":"Folgaria"},{"id":"022088","name":"Fondo"},{"id":"022089","name":"Fornace"},{"id":"022090","name":"Frassilongo"},{"id":"022091","name":"Garniga Terme"},{"id":"022092","name":"Giovo"},{"id":"022093","name":"Giustino"},{"id":"022094","name":"Grauno"},{"id":"022095","name":"Grigno"},{"id":"022096","name":"Grumes"},{"id":"022097","name":"Imer"},{"id":"022098","name":"Isera"},{"id":"022099","name":"Ivano-Fracena"},{"id":"022100","name":"Lardaro"},{"id":"022101","name":"Lasino"},{"id":"022102","name":"Lavarone"},{"id":"022103","name":"Lavis"},{"id":"022104","name":"Levico Terme"},{"id":"022105","name":"Lisignago"},{"id":"022106","name":"Livo"},{"id":"022107","name":"Lomaso"},{"id":"022108","name":"Lona-Lases"},{"id":"022109","name":"Luserna"},{"id":"022110","name":"Mal\xe9"},{"id":"022111","name":"Malosco"},{"id":"022112","name":"Massimeno"},{"id":"022113","name":"Mazzin"},{"id":"022114","name":"Mezzana"},{"id":"022115","name":"Mezzano"},{"id":"022116","name":"Mezzocorona"},{"id":"022117","name":"Mezzolombardo"},{"id":"022118","name":"Moena"},{"id":"022119","name":"Molina di Ledro"},{"id":"022120","name":"Molveno"},{"id":"022121","name":"Monclassico"},{"id":"022122","name":"Montagne"},{"id":"022123","name":"Mori"},{"id":"022124","name":"Nago-Torbole"},{"id":"022125","name":"Nanno"},{"id":"022126","name":"Nave San Rocco"},{"id":"022127","name":"Nogaredo"},{"id":"022128","name":"Nomi"},{"id":"022129","name":"Novaledo"},{"id":"022130","name":"Ospedaletto"},{"id":"022131","name":"Ossana"},{"id":"022132","name":"Padergnone"},{"id":"022133","name":"Pal\xf9 del Fersina"},{"id":"022134","name":"Panchi\xe0\xa0"},{"id":"022135","name":"Ronzo-Chienis"},{"id":"022136","name":"Peio"},{"id":"022137","name":"Pellizzano"},{"id":"022138","name":"Pelugo"},{"id":"022139","name":"Pergine Valsugana"},{"id":"022140","name":"Pieve di Bono"},{"id":"022141","name":"Pieve di Ledro"},{"id":"022142","name":"Pieve Tesino"},{"id":"022143","name":"Pinzolo"},{"id":"022144","name":"Pomarolo"},{"id":"022145","name":"Pozza di Fassa"},{"id":"022146","name":"Praso"},{"id":"022147","name":"Predazzo"},{"id":"022148","name":"Preore"},{"id":"022149","name":"Prezzo"},{"id":"022150","name":"Rabbi"},{"id":"022151","name":"Ragoli"},{"id":"022152","name":"Rev\xf2"},{"id":"022153","name":"Riva del Garda"},{"id":"022154","name":"Romallo"},{"id":"022155","name":"Romeno"},{"id":"022156","name":"Roncegno Terme"},{"id":"022157","name":"Ronchi Valsugana"},{"id":"022158","name":"Roncone"},{"id":"022159","name":"Ronzone"},{"id":"022160","name":"Rover\xe8 della Luna"},{"id":"022161","name":"Rovereto"},{"id":"022162","name":"Ruffr\xe8-Mendola"},{"id":"022163","name":"Rumo"},{"id":"022164","name":"Sagron Mis"},{"id":"022165","name":"Samone"},{"id":"022166","name":"San Lorenzo in Banale"},{"id":"022167","name":"San Michele all\'Adige"},{"id":"022168","name":"Sant\'Orsola Terme"},{"id":"022169","name":"Sanzeno"},{"id":"022170","name":"Sarnonico"},{"id":"022171","name":"Scurelle"},{"id":"022172","name":"Segonzano"},{"id":"022173","name":"Sfruz"},{"id":"022174","name":"Siror"},{"id":"022175","name":"Smarano"},{"id":"022176","name":"Soraga di Fassa"},{"id":"022177","name":"Sover"},{"id":"022178","name":"Spera"},{"id":"022179","name":"Spiazzo"},{"id":"022180","name":"Spormaggiore"},{"id":"022181","name":"Sporminore"},{"id":"022182","name":"Stenico"},{"id":"022183","name":"Storo"},{"id":"022184","name":"Strembo"},{"id":"022185","name":"Strigno"},{"id":"022186","name":"Taio"},{"id":"022187","name":"Tassullo"},{"id":"022188","name":"Telve"},{"id":"022189","name":"Telve di Sopra"},{"id":"022190","name":"Tenna"},{"id":"022191","name":"Tenno"},{"id":"022192","name":"Terlago"},{"id":"022193","name":"Terragnolo"},{"id":"022194","name":"Terres"},{"id":"022195","name":"Terzolas"},{"id":"022196","name":"Tesero"},{"id":"022197","name":"Tiarno di Sopra"},{"id":"022198","name":"Tiarno di Sotto"},{"id":"022199","name":"Tione di Trento"},{"id":"022200","name":"Ton"},{"id":"022201","name":"Tonadico"},{"id":"022202","name":"Torcegno"},{"id":"022203","name":"Trambileno"},{"id":"022204","name":"Transacqua"},{"id":"022205","name":"Trento"},{"id":"022206","name":"Tres"},{"id":"022207","name":"Tuenno"},{"id":"022208","name":"Valda"},{"id":"022209","name":"Valfloriana"},{"id":"022210","name":"Vallarsa"},{"id":"022211","name":"Varena"},{"id":"022212","name":"Vattaro"},{"id":"022213","name":"Vermiglio"},{"id":"022214","name":"Verv\xf2"},{"id":"022215","name":"Vezzano"},{"id":"022216","name":"Vignola-Falesina"},{"id":"022217","name":"Vigo di Fassa"},{"id":"022219","name":"Vigolo Vattaro"},{"id":"022220","name":"Vigo Rendena"},{"id":"022221","name":"Villa Agnedo"},{"id":"022222","name":"Villa Lagarina"},{"id":"022223","name":"Villa Rendena"},{"id":"022224","name":"Volano"},{"id":"022225","name":"Zambana"},{"id":"022226","name":"Ziano di Fiemme"},{"id":"022227","name":"Zuclo"},{"id":"022228","name":"Comano Terme"},{"id":"022229","name":"Ledro"},{"id":"022230","name":"Predaia"},{"id":"022231","name":"San Lorenzo Dorsino"},{"id":"022232","name":"Valdaone"},{"id":"022233","name":"Dimaro Folgarida"},{"id":"022234","name":"Pieve di Bono-Prezzo"},{"id":"022235","name":"Altavalle"},{"id":"022236","name":"Altopiano della Vigolana"},{"id":"022237","name":"Amblar-Don"},{"id":"022238","name":"Borgo Chiese"},{"id":"022239","name":"Borgo Lares"},{"id":"022240","name":"Castel Ivano"},{"id":"022241","name":"Cembra Lisignago"},{"id":"022242","name":"Cont\xe0\xa0"},{"id":"022243","name":"Madruzzo"},{"id":"022244","name":"Porte di Rendena"},{"id":"022245","name":"Primiero San Martino di Castrozza"},{"id":"022246","name":"Sella Giudicarie"},{"id":"022247","name":"Tre Ville"},{"id":"022248","name":"Vallelaghi"},{"id":"022249","name":"Ville d\'Anaunia"},{"id":"022250","name":"San Giovanni di Fassa-S\xe8n Jan"},{"id":"022251","name":"Terre d\'Adige"},{"id":"022252","name":"Borgo d\'Anaunia"},{"id":"022253","name":"Novella"},{"id":"022254","name":"Ville di Fiemme"}]}]},{"id":"ITE1","name":"Toscana","children":[{"id":"ITE11","name":"Massa-Carrara","children":[{"id":"045001","name":"Aulla"},{"id":"045002","name":"Bagnone"},{"id":"045003","name":"Carrara"},{"id":"045004","name":"Casola in Lunigiana"},{"id":"045005","name":"Comano"},{"id":"045006","name":"Filattiera"},{"id":"045007","name":"Fivizzano"},{"id":"045008","name":"Fosdinovo"},{"id":"045009","name":"Licciana Nardi"},{"id":"045010","name":"Massa"},{"id":"045011","name":"Montignoso"},{"id":"045012","name":"Mulazzo"},{"id":"045013","name":"Podenzana"},{"id":"045014","name":"Pontremoli"},{"id":"045015","name":"Tresana"},{"id":"045016","name":"Villafranca in Lunigiana"},{"id":"045017","name":"Zeri"}]},{"id":"ITE12","name":"Lucca","children":[{"id":"046001","name":"Altopascio"},{"id":"046002","name":"Bagni di Lucca"},{"id":"046003","name":"Barga"},{"id":"046004","name":"Borgo a Mozzano"},{"id":"046005","name":"Camaiore"},{"id":"046006","name":"Camporgiano"},{"id":"046007","name":"Capannori"},{"id":"046008","name":"Careggine"},{"id":"046009","name":"Castelnuovo di Garfagnana"},{"id":"046010","name":"Castiglione di Garfagnana"},{"id":"046011","name":"Coreglia Antelminelli"},{"id":"046012","name":"Fabbriche di Vallico"},{"id":"046013","name":"Forte dei Marmi"},{"id":"046014","name":"Fosciandora"},{"id":"046015","name":"Gallicano"},{"id":"046016","name":"Giuncugnano"},{"id":"046017","name":"Lucca"},{"id":"046018","name":"Massarosa"},{"id":"046019","name":"Minucciano"},{"id":"046020","name":"Molazzana"},{"id":"046021","name":"Montecarlo"},{"id":"046022","name":"Pescaglia"},{"id":"046023","name":"Piazza al Serchio"},{"id":"046024","name":"Pietrasanta"},{"id":"046025","name":"Pieve Fosciana"},{"id":"046026","name":"Porcari"},{"id":"046027","name":"San Romano in Garfagnana"},{"id":"046028","name":"Seravezza"},{"id":"046029","name":"Sillano"},{"id":"046030","name":"Stazzema"},{"id":"046031","name":"Vagli Sotto"},{"id":"046032","name":"Vergemoli"},{"id":"046033","name":"Viareggio"},{"id":"046034","name":"Villa Basilica"},{"id":"046035","name":"Villa Collemandina"},{"id":"046036","name":"Fabbriche di Vergemoli"},{"id":"046037","name":"Sillano Giuncugnano"}]},{"id":"ITE13","name":"Pistoia","children":[{"id":"047001","name":"Abetone"},{"id":"047002","name":"Agliana"},{"id":"047003","name":"Buggiano"},{"id":"047004","name":"Cutigliano"},{"id":"047005","name":"Lamporecchio"},{"id":"047006","name":"Larciano"},{"id":"047007","name":"Marliana"},{"id":"047008","name":"Massa e Cozzile"},{"id":"047009","name":"Monsummano Terme"},{"id":"047010","name":"Montale"},{"id":"047011","name":"Montecatini-Terme"},{"id":"047012","name":"Pescia"},{"id":"047013","name":"Pieve a Nievole"},{"id":"047014","name":"Pistoia"},{"id":"047015","name":"Piteglio"},{"id":"047016","name":"Ponte Buggianese"},{"id":"047017","name":"Quarrata"},{"id":"047018","name":"Sambuca Pistoiese"},{"id":"047019","name":"San Marcello Pistoiese"},{"id":"047020","name":"Serravalle Pistoiese"},{"id":"047021","name":"Uzzano"},{"id":"047022","name":"Chiesina Uzzanese"},{"id":"047023","name":"Abetone Cutigliano"},{"id":"047024","name":"San Marcello Piteglio"}]},{"id":"ITE14","name":"Firenze","children":[{"id":"048001","name":"Bagno a Ripoli"},{"id":"048002","name":"Barberino di Mugello"},{"id":"048003","name":"Barberino Val d\'Elsa"},{"id":"048004","name":"Borgo San Lorenzo"},{"id":"048005","name":"Calenzano"},{"id":"048006","name":"Campi Bisenzio"},{"id":"048007","name":"Cantagallo"},{"id":"048008","name":"Capraia e Limite"},{"id":"048009","name":"Carmignano"},{"id":"048010","name":"Castelfiorentino"},{"id":"048011","name":"Cerreto Guidi"},{"id":"048012","name":"Certaldo"},{"id":"048013","name":"Dicomano"},{"id":"048014","name":"Empoli"},{"id":"048015","name":"Fiesole"},{"id":"048016","name":"Figline Valdarno"},{"id":"048017","name":"Firenze"},{"id":"048018","name":"Firenzuola"},{"id":"048019","name":"Fucecchio"},{"id":"048020","name":"Gambassi Terme"},{"id":"048021","name":"Greve in Chianti"},{"id":"048022","name":"Impruneta"},{"id":"048023","name":"Incisa in Val d\'Arno"},{"id":"048024","name":"Lastra a Signa"},{"id":"048025","name":"Londa"},{"id":"048026","name":"Marradi"},{"id":"048027","name":"Montaione"},{"id":"048028","name":"Montelupo Fiorentino"},{"id":"048029","name":"Montemurlo"},{"id":"048030","name":"Montespertoli"},{"id":"048031","name":"Palazzuolo sul Senio"},{"id":"048032","name":"Pelago"},{"id":"048033","name":"Pontassieve"},{"id":"048034","name":"Prato"},{"id":"048035","name":"Reggello"},{"id":"048036","name":"Rignano sull\'Arno"},{"id":"048037","name":"Rufina"},{"id":"048038","name":"San Casciano in Val di Pesa"},{"id":"048039","name":"San Godenzo"},{"id":"048040","name":"San Piero a Sieve"},{"id":"048041","name":"Scandicci"},{"id":"048042","name":"Scarperia"},{"id":"048043","name":"Sesto Fiorentino"},{"id":"048044","name":"Signa"},{"id":"048045","name":"Tavarnelle Val di Pesa"},{"id":"048046","name":"Vaglia"},{"id":"048047","name":"Vaiano"},{"id":"048048","name":"Vernio"},{"id":"048049","name":"Vicchio"},{"id":"048050","name":"Vinci"},{"id":"048051","name":"Poggio a Caiano"},{"id":"048052","name":"Figline e Incisa Valdarno"},{"id":"048053","name":"Scarperia e San Piero"},{"id":"048054","name":"Barberino Tavarnelle"}]},{"id":"ITE15","name":"Prato","children":[{"id":"100001","name":"Cantagallo"},{"id":"100002","name":"Carmignano"},{"id":"100003","name":"Montemurlo"},{"id":"100004","name":"Poggio a Caiano"},{"id":"100005","name":"Prato"},{"id":"100006","name":"Vaiano"},{"id":"100007","name":"Vernio"}]},{"id":"ITE16","name":"Livorno","children":[{"id":"049001","name":"Bibbona"},{"id":"049002","name":"Campiglia Marittima"},{"id":"049003","name":"Campo nell\'Elba"},{"id":"049004","name":"Capoliveri"},{"id":"049005","name":"Capraia Isola"},{"id":"049006","name":"Castagneto Carducci"},{"id":"049007","name":"Cecina"},{"id":"049008","name":"Collesalvetti"},{"id":"049009","name":"Livorno"},{"id":"049010","name":"Marciana"},{"id":"049011","name":"Marciana Marina"},{"id":"049012","name":"Piombino"},{"id":"049013","name":"Porto Azzurro"},{"id":"049014","name":"Portoferraio"},{"id":"049015","name":"Rio Marina"},{"id":"049016","name":"Rio nell\'Elba"},{"id":"049017","name":"Rosignano Marittimo"},{"id":"049018","name":"San Vincenzo"},{"id":"049019","name":"Sassetta"},{"id":"049020","name":"Suvereto"},{"id":"049021","name":"Rio"}]},{"id":"ITE17","name":"Pisa","children":[{"id":"050001","name":"Bientina"},{"id":"050002","name":"Buti"},{"id":"050003","name":"Calci"},{"id":"050004","name":"Calcinaia"},{"id":"050005","name":"Capannoli"},{"id":"050006","name":"Casale Marittimo"},{"id":"050007","name":"Casciana Terme"},{"id":"050008","name":"Cascina"},{"id":"050009","name":"Castelfranco di Sotto"},{"id":"050010","name":"Castellina Marittima"},{"id":"050011","name":"Castelnuovo di Val di Cecina"},{"id":"050012","name":"Chianni"},{"id":"050013","name":"Crespina"},{"id":"050014","name":"Fauglia"},{"id":"050015","name":"Guardistallo"},{"id":"050016","name":"Lajatico"},{"id":"050017","name":"Lari"},{"id":"050018","name":"Lorenzana"},{"id":"050019","name":"Montecatini Val di Cecina"},{"id":"050020","name":"Montescudaio"},{"id":"050021","name":"Monteverdi Marittimo"},{"id":"050022","name":"Montopoli in Val d\'Arno"},{"id":"050023","name":"Orciano Pisano"},{"id":"050024","name":"Palaia"},{"id":"050025","name":"Peccioli"},{"id":"050026","name":"Pisa"},{"id":"050027","name":"Pomarance"},{"id":"050028","name":"Ponsacco"},{"id":"050029","name":"Pontedera"},{"id":"050030","name":"Riparbella"},{"id":"050031","name":"San Giuliano Terme"},{"id":"050032","name":"San Miniato"},{"id":"050033","name":"Santa Croce sull\'Arno"},{"id":"050034","name":"Santa Luce"},{"id":"050035","name":"Santa Maria a Monte"},{"id":"050036","name":"Terricciola"},{"id":"050037","name":"Vecchiano"},{"id":"050038","name":"Vicopisano"},{"id":"050039","name":"Volterra"},{"id":"050040","name":"Casciana Terme Lari"},{"id":"050041","name":"Crespina Lorenzana"}]},{"id":"ITE18","name":"Arezzo","children":[{"id":"051001","name":"Anghiari"},{"id":"051002","name":"Arezzo"},{"id":"051003","name":"Badia Tedalda"},{"id":"051004","name":"Bibbiena"},{"id":"051005","name":"Bucine"},{"id":"051006","name":"Capolona"},{"id":"051007","name":"Caprese Michelangelo"},{"id":"051008","name":"Castel Focognano"},{"id":"051009","name":"Castelfranco di Sopra"},{"id":"051010","name":"Castel San Niccol\xf2"},{"id":"051011","name":"Castiglion Fibocchi"},{"id":"051012","name":"Castiglion Fiorentino"},{"id":"051013","name":"Cavriglia"},{"id":"051014","name":"Chitignano"},{"id":"051015","name":"Chiusi della Verna"},{"id":"051016","name":"Civitella in Val di Chiana"},{"id":"051017","name":"Cortona"},{"id":"051018","name":"Foiano della Chiana"},{"id":"051019","name":"Laterina"},{"id":"051020","name":"Loro Ciuffenna"},{"id":"051021","name":"Lucignano"},{"id":"051022","name":"Marciano della Chiana"},{"id":"051023","name":"Montemignaio"},{"id":"051024","name":"Monterchi"},{"id":"051025","name":"Monte San Savino"},{"id":"051026","name":"Montevarchi"},{"id":"051027","name":"Ortignano Raggiolo"},{"id":"051028","name":"Pergine Valdarno"},{"id":"051029","name":"Pian di Sco"},{"id":"051030","name":"Pieve Santo Stefano"},{"id":"051031","name":"Poppi"},{"id":"051032","name":"Pratovecchio"},{"id":"051033","name":"San Giovanni Valdarno"},{"id":"051034","name":"Sansepolcro"},{"id":"051035","name":"Sestino"},{"id":"051036","name":"Stia"},{"id":"051037","name":"Subbiano"},{"id":"051038","name":"Talla"},{"id":"051039","name":"Terranuova Bracciolini"},{"id":"051040","name":"Castelfranco Piandisc\xf2"},{"id":"051041","name":"Pratovecchio Stia"},{"id":"051042","name":"Laterina Pergine Valdarno"}]},{"id":"ITE19","name":"Siena","children":[{"id":"052001","name":"Abbadia San Salvatore"},{"id":"052002","name":"Asciano"},{"id":"052003","name":"Buonconvento"},{"id":"052004","name":"Casole d\'Elsa"},{"id":"052005","name":"Castellina in Chianti"},{"id":"052006","name":"Castelnuovo Berardenga"},{"id":"052007","name":"Castiglione d\'Orcia"},{"id":"052008","name":"Cetona"},{"id":"052009","name":"Chianciano Terme"},{"id":"052010","name":"Chiusdino"},{"id":"052011","name":"Chiusi"},{"id":"052012","name":"Colle di Val d\'Elsa"},{"id":"052013","name":"Gaiole in Chianti"},{"id":"052014","name":"Montalcino"},{"id":"052015","name":"Montepulciano"},{"id":"052016","name":"Monteriggioni"},{"id":"052017","name":"Monteroni d\'Arbia"},{"id":"052018","name":"Monticiano"},{"id":"052019","name":"Murlo"},{"id":"052020","name":"Piancastagnaio"},{"id":"052021","name":"Pienza"},{"id":"052022","name":"Poggibonsi"},{"id":"052023","name":"Radda in Chianti"},{"id":"052024","name":"Radicofani"},{"id":"052025","name":"Radicondoli"},{"id":"052026","name":"Rapolano Terme"},{"id":"052027","name":"San Casciano dei Bagni"},{"id":"052028","name":"San Gimignano"},{"id":"052029","name":"San Giovanni d\'Asso"},{"id":"052030","name":"San Quirico d\'Orcia"},{"id":"052031","name":"Sarteano"},{"id":"052032","name":"Siena"},{"id":"052033","name":"Sinalunga"},{"id":"052034","name":"Sovicille"},{"id":"052035","name":"Torrita di Siena"},{"id":"052036","name":"Trequanda"},{"id":"052037","name":"Montalcino"}]},{"id":"ITE1A","name":"Grosseto","children":[{"id":"053001","name":"Arcidosso"},{"id":"053002","name":"Campagnatico"},{"id":"053003","name":"Capalbio"},{"id":"053004","name":"Castel del Piano"},{"id":"053005","name":"Castell\'Azzara"},{"id":"053006","name":"Castiglione della Pescaia"},{"id":"053007","name":"Cinigiano"},{"id":"053008","name":"Civitella Paganico"},{"id":"053009","name":"Follonica"},{"id":"053010","name":"Gavorrano"},{"id":"053011","name":"Grosseto"},{"id":"053012","name":"Isola del Giglio"},{"id":"053013","name":"Magliano in Toscana"},{"id":"053014","name":"Manciano"},{"id":"053015","name":"Massa Marittima"},{"id":"053016","name":"Monte Argentario"},{"id":"053017","name":"Montieri"},{"id":"053018","name":"Orbetello"},{"id":"053019","name":"Pitigliano"},{"id":"053020","name":"Roccalbegna"},{"id":"053021","name":"Roccastrada"},{"id":"053022","name":"Santa Fiora"},{"id":"053023","name":"Scansano"},{"id":"053024","name":"Scarlino"},{"id":"053025","name":"Seggiano"},{"id":"053026","name":"Sorano"},{"id":"053027","name":"Monterotondo Marittimo"},{"id":"053028","name":"Semproniano"}]}]},{"id":"ITE2","name":"Umbria","children":[{"id":"ITE21","name":"Perugia","children":[{"id":"054001","name":"Assisi"},{"id":"054002","name":"Bastia Umbra"},{"id":"054003","name":"Bettona"},{"id":"054004","name":"Bevagna"},{"id":"054005","name":"Campello sul Clitunno"},{"id":"054006","name":"Cannara"},{"id":"054007","name":"Cascia"},{"id":"054008","name":"Castel Ritaldi"},{"id":"054009","name":"Castiglione del Lago"},{"id":"054010","name":"Cerreto di Spoleto"},{"id":"054011","name":"Citerna"},{"id":"054012","name":"Citt\xe0 della Pieve"},{"id":"054013","name":"Citt\xe0 di Castello"},{"id":"054014","name":"Collazzone"},{"id":"054015","name":"Corciano"},{"id":"054016","name":"Costacciaro"},{"id":"054017","name":"Deruta"},{"id":"054018","name":"Foligno"},{"id":"054019","name":"Fossato di Vico"},{"id":"054020","name":"Fratta Todina"},{"id":"054021","name":"Giano dell\'Umbria"},{"id":"054022","name":"Gualdo Cattaneo"},{"id":"054023","name":"Gualdo Tadino"},{"id":"054024","name":"Gubbio"},{"id":"054025","name":"Lisciano Niccone"},{"id":"054026","name":"Magione"},{"id":"054027","name":"Marsciano"},{"id":"054028","name":"Massa Martana"},{"id":"054029","name":"Monte Castello di Vibio"},{"id":"054030","name":"Montefalco"},{"id":"054031","name":"Monteleone di Spoleto"},{"id":"054032","name":"Monte Santa Maria Tiberina"},{"id":"054033","name":"Montone"},{"id":"054034","name":"Nocera Umbra"},{"id":"054035","name":"Norcia"},{"id":"054036","name":"Paciano"},{"id":"054037","name":"Panicale"},{"id":"054038","name":"Passignano sul Trasimeno"},{"id":"054039","name":"Perugia"},{"id":"054040","name":"Piegaro"},{"id":"054041","name":"Pietralunga"},{"id":"054042","name":"Poggiodomo"},{"id":"054043","name":"Preci"},{"id":"054044","name":"San Giustino"},{"id":"054045","name":"Sant\'Anatolia di Narco"},{"id":"054046","name":"Scheggia e Pascelupo"},{"id":"054047","name":"Scheggino"},{"id":"054048","name":"Sellano"},{"id":"054049","name":"Sigillo"},{"id":"054050","name":"Spello"},{"id":"054051","name":"Spoleto"},{"id":"054052","name":"Todi"},{"id":"054053","name":"Torgiano"},{"id":"054054","name":"Trevi"},{"id":"054055","name":"Tuoro sul Trasimeno"},{"id":"054056","name":"Umbertide"},{"id":"054057","name":"Valfabbrica"},{"id":"054058","name":"Vallo di Nera"},{"id":"054059","name":"Valtopina"}]},{"id":"ITE22","name":"Terni","children":[{"id":"055001","name":"Acquasparta"},{"id":"055002","name":"Allerona"},{"id":"055003","name":"Alviano"},{"id":"055004","name":"Amelia"},{"id":"055005","name":"Arrone"},{"id":"055006","name":"Attigliano"},{"id":"055007","name":"Baschi"},{"id":"055008","name":"Calvi dell\'Umbria"},{"id":"055009","name":"Castel Giorgio"},{"id":"055010","name":"Castel Viscardo"},{"id":"055011","name":"Fabro"},{"id":"055012","name":"Ferentillo"},{"id":"055013","name":"Ficulle"},{"id":"055014","name":"Giove"},{"id":"055015","name":"Guardea"},{"id":"055016","name":"Lugnano in Teverina"},{"id":"055017","name":"Montecastrilli"},{"id":"055018","name":"Montecchio"},{"id":"055019","name":"Montefranco"},{"id":"055020","name":"Montegabbione"},{"id":"055021","name":"Monteleone d\'Orvieto"},{"id":"055022","name":"Narni"},{"id":"055023","name":"Orvieto"},{"id":"055024","name":"Otricoli"},{"id":"055025","name":"Parrano"},{"id":"055026","name":"Penna in Teverina"},{"id":"055027","name":"Polino"},{"id":"055028","name":"Porano"},{"id":"055029","name":"San Gemini"},{"id":"055030","name":"San Venanzo"},{"id":"055031","name":"Stroncone"},{"id":"055032","name":"Terni"},{"id":"055033","name":"Avigliano Umbro"}]}]},{"id":"ITE3","name":"Marche","children":[{"id":"IT109","name":"Fermo","children":[{"id":"109001","name":"Altidona"},{"id":"109002","name":"Amandola"},{"id":"109003","name":"Belmonte Piceno"},{"id":"109004","name":"Campofilone"},{"id":"109005","name":"Falerone"},{"id":"109006","name":"Fermo"},{"id":"109007","name":"Francavilla d\'Ete"},{"id":"109008","name":"Grottazzolina"},{"id":"109009","name":"Lapedona"},{"id":"109010","name":"Magliano di Tenna"},{"id":"109011","name":"Massa Fermana"},{"id":"109012","name":"Monsampietro Morico"},{"id":"109013","name":"Montappone"},{"id":"109014","name":"Montefalcone Appennino"},{"id":"109015","name":"Montefortino"},{"id":"109016","name":"Monte Giberto"},{"id":"109017","name":"Montegiorgio"},{"id":"109018","name":"Montegranaro"},{"id":"109019","name":"Monteleone di Fermo"},{"id":"109020","name":"Montelparo"},{"id":"109021","name":"Monte Rinaldo"},{"id":"109022","name":"Monterubbiano"},{"id":"109023","name":"Monte San Pietrangeli"},{"id":"109024","name":"Monte Urano"},{"id":"109025","name":"Monte Vidon Combatte"},{"id":"109026","name":"Monte Vidon Corrado"},{"id":"109027","name":"Montottone"},{"id":"109028","name":"Moresco"},{"id":"109029","name":"Ortezzano"},{"id":"109030","name":"Pedaso"},{"id":"109031","name":"Petritoli"},{"id":"109032","name":"Ponzano di Fermo"},{"id":"109033","name":"Porto San Giorgio"},{"id":"109034","name":"Porto Sant\'Elpidio"},{"id":"109035","name":"Rapagnano"},{"id":"109036","name":"Santa Vittoria in Matenano"},{"id":"109037","name":"Sant\'Elpidio a Mare"},{"id":"109038","name":"Servigliano"},{"id":"109039","name":"Smerillo"},{"id":"109040","name":"Torre San Patrizio"}]},{"id":"ITE31","name":"Pesaro e Urbino","children":[{"id":"041001","name":"Acqualagna"},{"id":"041002","name":"Apecchio"},{"id":"041003","name":"Auditore"},{"id":"041004","name":"Barchi"},{"id":"041005","name":"Belforte all\'Isauro"},{"id":"041006","name":"Borgo Pace"},{"id":"041007","name":"Cagli"},{"id":"041008","name":"Cantiano"},{"id":"041009","name":"Carpegna"},{"id":"041010","name":"Cartoceto"},{"id":"041011","name":"Casteldelci"},{"id":"041012","name":"Colbordolo"},{"id":"041013","name":"Fano"},{"id":"041014","name":"Fermignano"},{"id":"041015","name":"Fossombrone"},{"id":"041016","name":"Fratte Rosa"},{"id":"041017","name":"Frontino"},{"id":"041018","name":"Frontone"},{"id":"041019","name":"Gabicce Mare"},{"id":"041020","name":"Gradara"},{"id":"041021","name":"Isola del Piano"},{"id":"041022","name":"Lunano"},{"id":"041023","name":"Macerata Feltria"},{"id":"041024","name":"Maiolo"},{"id":"041025","name":"Mercatello sul Metauro"},{"id":"041026","name":"Mercatino Conca"},{"id":"041027","name":"Mombaroccio"},{"id":"041028","name":"Mondavio"},{"id":"041029","name":"Mondolfo"},{"id":"041030","name":"Montecalvo in Foglia"},{"id":"041031","name":"Monte Cerignone"},{"id":"041032","name":"Monteciccardo"},{"id":"041033","name":"Montecopiolo"},{"id":"041034","name":"Montefelcino"},{"id":"041035","name":"Monte Grimano Terme"},{"id":"041036","name":"Montelabbate"},{"id":"041037","name":"Montemaggiore al Metauro"},{"id":"041038","name":"Monte Porzio"},{"id":"041039","name":"Novafeltria"},{"id":"041040","name":"Orciano di Pesaro"},{"id":"041041","name":"Peglio"},{"id":"041042","name":"Pennabilli"},{"id":"041043","name":"Pergola"},{"id":"041044","name":"Pesaro"},{"id":"041045","name":"Petriano"},{"id":"041046","name":"Piagge"},{"id":"041047","name":"Piandimeleto"},{"id":"041048","name":"Pietrarubbia"},{"id":"041049","name":"Piobbico"},{"id":"041050","name":"Saltara"},{"id":"041051","name":"San Costanzo"},{"id":"041052","name":"San Giorgio di Pesaro"},{"id":"041053","name":"San Leo"},{"id":"041054","name":"San Lorenzo in Campo"},{"id":"041055","name":"Sant\'Agata Feltria"},{"id":"041056","name":"Sant\'Angelo in Lizzola"},{"id":"041057","name":"Sant\'Angelo in Vado"},{"id":"041058","name":"Sant\'Ippolito"},{"id":"041059","name":"Sassocorvaro"},{"id":"041060","name":"Sassofeltrio"},{"id":"041061","name":"Serra Sant\'Abbondio"},{"id":"041062","name":"Serrungarina"},{"id":"041063","name":"Talamello"},{"id":"041064","name":"Tavoleto"},{"id":"041065","name":"Tavullia"},{"id":"041066","name":"Urbania"},{"id":"041067","name":"Urbino"},{"id":"041068","name":"Vallefoglia"},{"id":"041069","name":"Colli al Metauro"},{"id":"041070","name":"Terre Roveresche"},{"id":"041071","name":"Sassocorvaro Auditore"}]},{"id":"ITE32","name":"Ancona","children":[{"id":"042001","name":"Agugliano"},{"id":"042002","name":"Ancona"},{"id":"042003","name":"Arcevia"},{"id":"042004","name":"Barbara"},{"id":"042005","name":"Belvedere Ostrense"},{"id":"042006","name":"Camerano"},{"id":"042007","name":"Camerata Picena"},{"id":"042008","name":"Castelbellino"},{"id":"042009","name":"Castel Colonna"},{"id":"042010","name":"Castelfidardo"},{"id":"042011","name":"Castelleone di Suasa"},{"id":"042012","name":"Castelplanio"},{"id":"042013","name":"Cerreto d\'Esi"},{"id":"042014","name":"Chiaravalle"},{"id":"042015","name":"Corinaldo"},{"id":"042016","name":"Cupramontana"},{"id":"042017","name":"Fabriano"},{"id":"042018","name":"Falconara Marittima"},{"id":"042019","name":"Filottrano"},{"id":"042020","name":"Genga"},{"id":"042021","name":"Jesi"},{"id":"042022","name":"Loreto"},{"id":"042023","name":"Maiolati Spontini"},{"id":"042024","name":"Mergo"},{"id":"042025","name":"Monsano"},{"id":"042026","name":"Montecarotto"},{"id":"042027","name":"Montemarciano"},{"id":"042028","name":"Monterado"},{"id":"042029","name":"Monte Roberto"},{"id":"042030","name":"Monte San Vito"},{"id":"042031","name":"Morro d\'Alba"},{"id":"042032","name":"Numana"},{"id":"042033","name":"Offagna"},{"id":"042034","name":"Osimo"},{"id":"042035","name":"Ostra"},{"id":"042036","name":"Ostra Vetere"},{"id":"042037","name":"Poggio San Marcello"},{"id":"042038","name":"Polverigi"},{"id":"042039","name":"Ripe"},{"id":"042040","name":"Rosora"},{"id":"042041","name":"San Marcello"},{"id":"042042","name":"San Paolo di Jesi"},{"id":"042043","name":"Santa Maria Nuova"},{"id":"042044","name":"Sassoferrato"},{"id":"042045","name":"Senigallia"},{"id":"042046","name":"Serra de\' Conti"},{"id":"042047","name":"Serra San Quirico"},{"id":"042048","name":"Sirolo"},{"id":"042049","name":"Staffolo"},{"id":"042050","name":"Trecastelli"}]},{"id":"ITE33","name":"Macerata","children":[{"id":"043001","name":"Acquacanina"},{"id":"043002","name":"Apiro"},{"id":"043003","name":"Appignano"},{"id":"043004","name":"Belforte del Chienti"},{"id":"043005","name":"Bolognola"},{"id":"043006","name":"Caldarola"},{"id":"043007","name":"Camerino"},{"id":"043008","name":"Camporotondo di Fiastrone"},{"id":"043009","name":"Castelraimondo"},{"id":"043010","name":"Castelsantangelo sul Nera"},{"id":"043011","name":"Cessapalombo"},{"id":"043012","name":"Cingoli"},{"id":"043013","name":"Civitanova Marche"},{"id":"043014","name":"Colmurano"},{"id":"043015","name":"Corridonia"},{"id":"043016","name":"Esanatoglia"},{"id":"043017","name":"Fiastra"},{"id":"043018","name":"Fiordimonte"},{"id":"043019","name":"Fiuminata"},{"id":"043020","name":"Gagliole"},{"id":"043021","name":"Gualdo"},{"id":"043022","name":"Loro Piceno"},{"id":"043023","name":"Macerata"},{"id":"043024","name":"Matelica"},{"id":"043025","name":"Mogliano"},{"id":"043026","name":"Montecassiano"},{"id":"043027","name":"Monte Cavallo"},{"id":"043028","name":"Montecosaro"},{"id":"043029","name":"Montefano"},{"id":"043030","name":"Montelupone"},{"id":"043031","name":"Monte San Giusto"},{"id":"043032","name":"Monte San Martino"},{"id":"043033","name":"Morrovalle"},{"id":"043034","name":"Muccia"},{"id":"043035","name":"Penna San Giovanni"},{"id":"043036","name":"Petriolo"},{"id":"043037","name":"Pievebovigliana"},{"id":"043038","name":"Pieve Torina"},{"id":"043039","name":"Pioraco"},{"id":"043040","name":"Poggio San Vicino"},{"id":"043041","name":"Pollenza"},{"id":"043042","name":"Porto Recanati"},{"id":"043043","name":"Potenza Picena"},{"id":"043044","name":"Recanati"},{"id":"043045","name":"Ripe San Ginesio"},{"id":"043046","name":"San Ginesio"},{"id":"043047","name":"San Severino Marche"},{"id":"043048","name":"Sant\'Angelo in Pontano"},{"id":"043049","name":"Sarnano"},{"id":"043050","name":"Sefro"},{"id":"043051","name":"Serrapetrona"},{"id":"043052","name":"Serravalle di Chienti"},{"id":"043053","name":"Tolentino"},{"id":"043054","name":"Treia"},{"id":"043055","name":"Urbisaglia"},{"id":"043056","name":"Ussita"},{"id":"043057","name":"Visso"},{"id":"043058","name":"Valfornace"}]},{"id":"ITE34","name":"Ascoli Piceno","children":[{"id":"044001","name":"Acquasanta Terme"},{"id":"044002","name":"Acquaviva Picena"},{"id":"044003","name":"Altidona"},{"id":"044004","name":"Amandola"},{"id":"044005","name":"Appignano del Tronto"},{"id":"044006","name":"Arquata del Tronto"},{"id":"044007","name":"Ascoli Piceno"},{"id":"044008","name":"Belmonte Piceno"},{"id":"044009","name":"Campofilone"},{"id":"044010","name":"Carassai"},{"id":"044011","name":"Castel di Lama"},{"id":"044012","name":"Castignano"},{"id":"044013","name":"Castorano"},{"id":"044014","name":"Colli del Tronto"},{"id":"044015","name":"Comunanza"},{"id":"044016","name":"Cossignano"},{"id":"044017","name":"Cupra Marittima"},{"id":"044018","name":"Falerone"},{"id":"044019","name":"Fermo"},{"id":"044020","name":"Folignano"},{"id":"044021","name":"Force"},{"id":"044022","name":"Francavilla d\'Ete"},{"id":"044023","name":"Grottammare"},{"id":"044024","name":"Grottazzolina"},{"id":"044025","name":"Lapedona"},{"id":"044026","name":"Magliano di Tenna"},{"id":"044027","name":"Maltignano"},{"id":"044028","name":"Massa Fermana"},{"id":"044029","name":"Massignano"},{"id":"044030","name":"Monsampietro Morico"},{"id":"044031","name":"Monsampolo del Tronto"},{"id":"044032","name":"Montalto delle Marche"},{"id":"044033","name":"Montappone"},{"id":"044034","name":"Montedinove"},{"id":"044035","name":"Montefalcone Appennino"},{"id":"044036","name":"Montefiore dell\'Aso"},{"id":"044037","name":"Montefortino"},{"id":"044038","name":"Montegallo"},{"id":"044039","name":"Monte Giberto"},{"id":"044040","name":"Montegiorgio"},{"id":"044041","name":"Montegranaro"},{"id":"044042","name":"Monteleone di Fermo"},{"id":"044043","name":"Montelparo"},{"id":"044044","name":"Montemonaco"},{"id":"044045","name":"Monteprandone"},{"id":"044046","name":"Monte Rinaldo"},{"id":"044047","name":"Monterubbiano"},{"id":"044048","name":"Monte San Pietrangeli"},{"id":"044049","name":"Monte Urano"},{"id":"044050","name":"Monte Vidon Combatte"},{"id":"044051","name":"Monte Vidon Corrado"},{"id":"044052","name":"Montottone"},{"id":"044053","name":"Moresco"},{"id":"044054","name":"Offida"},{"id":"044055","name":"Ortezzano"},{"id":"044056","name":"Palmiano"},{"id":"044057","name":"Pedaso"},{"id":"044058","name":"Petritoli"},{"id":"044059","name":"Ponzano di Fermo"},{"id":"044060","name":"Porto San Giorgio"},{"id":"044061","name":"Porto Sant\'Elpidio"},{"id":"044062","name":"Rapagnano"},{"id":"044063","name":"Ripatransone"},{"id":"044064","name":"Roccafluvione"},{"id":"044065","name":"Rotella"},{"id":"044066","name":"San Benedetto del Tronto"},{"id":"044067","name":"Santa Vittoria in Matenano"},{"id":"044068","name":"Sant\'Elpidio a Mare"},{"id":"044069","name":"Servigliano"},{"id":"044070","name":"Smerillo"},{"id":"044071","name":"Spinetoli"},{"id":"044072","name":"Torre San Patrizio"},{"id":"044073","name":"Venarotta"}]}]},{"id":"ITE4","name":"Lazio","children":[{"id":"ITE41","name":"Viterbo","children":[{"id":"056001","name":"Acquapendente"},{"id":"056002","name":"Arlena di Castro"},{"id":"056003","name":"Bagnoregio"},{"id":"056004","name":"Barbarano Romano"},{"id":"056005","name":"Bassano Romano"},{"id":"056006","name":"Bassano in Teverina"},{"id":"056007","name":"Blera"},{"id":"056008","name":"Bolsena"},{"id":"056009","name":"Bomarzo"},{"id":"056010","name":"Calcata"},{"id":"056011","name":"Canepina"},{"id":"056012","name":"Canino"},{"id":"056013","name":"Capodimonte"},{"id":"056014","name":"Capranica"},{"id":"056015","name":"Caprarola"},{"id":"056016","name":"Carbognano"},{"id":"056017","name":"Castel Sant\'Elia"},{"id":"056018","name":"Castiglione in Teverina"},{"id":"056019","name":"Celleno"},{"id":"056020","name":"Cellere"},{"id":"056021","name":"Civita Castellana"},{"id":"056022","name":"Civitella d\'Agliano"},{"id":"056023","name":"Corchiano"},{"id":"056024","name":"Fabrica di Roma"},{"id":"056025","name":"Faleria"},{"id":"056026","name":"Farnese"},{"id":"056027","name":"Gallese"},{"id":"056028","name":"Gradoli"},{"id":"056029","name":"Graffignano"},{"id":"056030","name":"Grotte di Castro"},{"id":"056031","name":"Ischia di Castro"},{"id":"056032","name":"Latera"},{"id":"056033","name":"Lubriano"},{"id":"056034","name":"Marta"},{"id":"056035","name":"Montalto di Castro"},{"id":"056036","name":"Montefiascone"},{"id":"056037","name":"Monte Romano"},{"id":"056038","name":"Monterosi"},{"id":"056039","name":"Nepi"},{"id":"056040","name":"Onano"},{"id":"056041","name":"Oriolo Romano"},{"id":"056042","name":"Orte"},{"id":"056043","name":"Piansano"},{"id":"056044","name":"Proceno"},{"id":"056045","name":"Ronciglione"},{"id":"056046","name":"Villa San Giovanni in Tuscia"},{"id":"056047","name":"San Lorenzo Nuovo"},{"id":"056048","name":"Soriano nel Cimino"},{"id":"056049","name":"Sutri"},{"id":"056050","name":"Tarquinia"},{"id":"056051","name":"Tessennano"},{"id":"056052","name":"Tuscania"},{"id":"056053","name":"Valentano"},{"id":"056054","name":"Vallerano"},{"id":"056055","name":"Vasanello"},{"id":"056056","name":"Vejano"},{"id":"056057","name":"Vetralla"},{"id":"056058","name":"Vignanello"},{"id":"056059","name":"Viterbo"},{"id":"056060","name":"Vitorchiano"}]},{"id":"ITE42","name":"Rieti","children":[{"id":"057001","name":"Accumoli"},{"id":"057002","name":"Amatrice"},{"id":"057003","name":"Antrodoco"},{"id":"057004","name":"Ascrea"},{"id":"057005","name":"Belmonte in Sabina"},{"id":"057006","name":"Borbona"},{"id":"057007","name":"Borgorose"},{"id":"057008","name":"Borgo Velino"},{"id":"057009","name":"Cantalice"},{"id":"057010","name":"Cantalupo in Sabina"},{"id":"057011","name":"Casaprota"},{"id":"057012","name":"Casperia"},{"id":"057013","name":"Castel di Tora"},{"id":"057014","name":"Castelnuovo di Farfa"},{"id":"057015","name":"Castel Sant\'Angelo"},{"id":"057016","name":"Cittaducale"},{"id":"057017","name":"Cittareale"},{"id":"057018","name":"Collalto Sabino"},{"id":"057019","name":"Colle di Tora"},{"id":"057020","name":"Collegiove"},{"id":"057021","name":"Collevecchio"},{"id":"057022","name":"Colli sul Velino"},{"id":"057023","name":"Concerviano"},{"id":"057024","name":"Configni"},{"id":"057025","name":"Contigliano"},{"id":"057026","name":"Cottanello"},{"id":"057027","name":"Fara in Sabina"},{"id":"057028","name":"Fiamignano"},{"id":"057029","name":"Forano"},{"id":"057030","name":"Frasso Sabino"},{"id":"057031","name":"Greccio"},{"id":"057032","name":"Labro"},{"id":"057033","name":"Leonessa"},{"id":"057034","name":"Longone Sabino"},{"id":"057035","name":"Magliano Sabina"},{"id":"057036","name":"Marcetelli"},{"id":"057037","name":"Micigliano"},{"id":"057038","name":"Mompeo"},{"id":"057039","name":"Montasola"},{"id":"057040","name":"Montebuono"},{"id":"057041","name":"Monteleone Sabino"},{"id":"057042","name":"Montenero Sabino"},{"id":"057043","name":"Monte San Giovanni in Sabina"},{"id":"057044","name":"Montopoli di Sabina"},{"id":"057045","name":"Morro Reatino"},{"id":"057046","name":"Nespolo"},{"id":"057047","name":"Orvinio"},{"id":"057048","name":"Paganico Sabino"},{"id":"057049","name":"Pescorocchiano"},{"id":"057050","name":"Petrella Salto"},{"id":"057051","name":"Poggio Bustone"},{"id":"057052","name":"Poggio Catino"},{"id":"057053","name":"Poggio Mirteto"},{"id":"057054","name":"Poggio Moiano"},{"id":"057055","name":"Poggio Nativo"},{"id":"057056","name":"Poggio San Lorenzo"},{"id":"057057","name":"Posta"},{"id":"057058","name":"Pozzaglia Sabina"},{"id":"057059","name":"Rieti"},{"id":"057060","name":"Rivodutri"},{"id":"057061","name":"Roccantica"},{"id":"057062","name":"Rocca Sinibalda"},{"id":"057063","name":"Salisano"},{"id":"057064","name":"Scandriglia"},{"id":"057065","name":"Selci"},{"id":"057066","name":"Stimigliano"},{"id":"057067","name":"Tarano"},{"id":"057068","name":"Toffia"},{"id":"057069","name":"Torricella in Sabina"},{"id":"057070","name":"Torri in Sabina"},{"id":"057071","name":"Turania"},{"id":"057072","name":"Vacone"},{"id":"057073","name":"Varco Sabino"}]},{"id":"ITE43","name":"Roma","children":[{"id":"058001","name":"Affile"},{"id":"058002","name":"Agosta"},{"id":"058003","name":"Albano Laziale"},{"id":"058004","name":"Allumiere"},{"id":"058005","name":"Anguillara Sabazia"},{"id":"058006","name":"Anticoli Corrado"},{"id":"058007","name":"Anzio"},{"id":"058008","name":"Arcinazzo Romano"},{"id":"058009","name":"Ariccia"},{"id":"058010","name":"Arsoli"},{"id":"058011","name":"Artena"},{"id":"058012","name":"Bellegra"},{"id":"058013","name":"Bracciano"},{"id":"058014","name":"Camerata Nuova"},{"id":"058015","name":"Campagnano di Roma"},{"id":"058016","name":"Canale Monterano"},{"id":"058017","name":"Canterano"},{"id":"058018","name":"Capena"},{"id":"058019","name":"Capranica Prenestina"},{"id":"058020","name":"Carpineto Romano"},{"id":"058021","name":"Casape"},{"id":"058022","name":"Castel Gandolfo"},{"id":"058023","name":"Castel Madama"},{"id":"058024","name":"Castelnuovo di Porto"},{"id":"058025","name":"Castel San Pietro Romano"},{"id":"058026","name":"Cave"},{"id":"058027","name":"Cerreto Laziale"},{"id":"058028","name":"Cervara di Roma"},{"id":"058029","name":"Cerveteri"},{"id":"058030","name":"Ciciliano"},{"id":"058031","name":"Cineto Romano"},{"id":"058032","name":"Civitavecchia"},{"id":"058033","name":"Civitella San Paolo"},{"id":"058034","name":"Colleferro"},{"id":"058035","name":"Colonna"},{"id":"058036","name":"Fiano Romano"},{"id":"058037","name":"Filacciano"},{"id":"058038","name":"Formello"},{"id":"058039","name":"Frascati"},{"id":"058040","name":"Gallicano nel Lazio"},{"id":"058041","name":"Gavignano"},{"id":"058042","name":"Genazzano"},{"id":"058043","name":"Genzano di Roma"},{"id":"058044","name":"Gerano"},{"id":"058045","name":"Gorga"},{"id":"058046","name":"Grottaferrata"},{"id":"058047","name":"Guidonia Montecelio"},{"id":"058048","name":"Jenne"},{"id":"058049","name":"Labico"},{"id":"058050","name":"Lanuvio"},{"id":"058051","name":"Licenza"},{"id":"058052","name":"Magliano Romano"},{"id":"058053","name":"Mandela"},{"id":"058054","name":"Manziana"},{"id":"058055","name":"Marano Equo"},{"id":"058056","name":"Marcellina"},{"id":"058057","name":"Marino"},{"id":"058058","name":"Mazzano Romano"},{"id":"058059","name":"Mentana"},{"id":"058060","name":"Monte Compatri"},{"id":"058061","name":"Monteflavio"},{"id":"058062","name":"Montelanico"},{"id":"058063","name":"Montelibretti"},{"id":"058064","name":"Monte Porzio Catone"},{"id":"058065","name":"Monterotondo"},{"id":"058066","name":"Montorio Romano"},{"id":"058067","name":"Moricone"},{"id":"058068","name":"Morlupo"},{"id":"058069","name":"Nazzano"},{"id":"058070","name":"Nemi"},{"id":"058071","name":"Nerola"},{"id":"058072","name":"Nettuno"},{"id":"058073","name":"Olevano Romano"},{"id":"058074","name":"Palestrina"},{"id":"058075","name":"Palombara Sabina"},{"id":"058076","name":"Percile"},{"id":"058077","name":"Pisoniano"},{"id":"058078","name":"Poli"},{"id":"058079","name":"Pomezia"},{"id":"058080","name":"Ponzano Romano"},{"id":"058081","name":"Riano"},{"id":"058082","name":"Rignano Flaminio"},{"id":"058083","name":"Riofreddo"},{"id":"058084","name":"Rocca Canterano"},{"id":"058085","name":"Rocca di Cave"},{"id":"058086","name":"Rocca di Papa"},{"id":"058087","name":"Roccagiovine"},{"id":"058088","name":"Rocca Priora"},{"id":"058089","name":"Rocca Santo Stefano"},{"id":"058090","name":"Roiate"},{"id":"058091","name":"Roma"},{"id":"058092","name":"Roviano"},{"id":"058093","name":"Sacrofano"},{"id":"058094","name":"Sambuci"},{"id":"058095","name":"San Gregorio da Sassola"},{"id":"058096","name":"San Polo dei Cavalieri"},{"id":"058097","name":"Santa Marinella"},{"id":"058098","name":"Sant\'Angelo Romano"},{"id":"058099","name":"Sant\'Oreste"},{"id":"058100","name":"San Vito Romano"},{"id":"058101","name":"Saracinesco"},{"id":"058102","name":"Segni"},{"id":"058103","name":"Subiaco"},{"id":"058104","name":"Tivoli"},{"id":"058105","name":"Tolfa"},{"id":"058106","name":"Torrita Tiberina"},{"id":"058107","name":"Trevignano Romano"},{"id":"058108","name":"Vallepietra"},{"id":"058109","name":"Vallinfreda"},{"id":"058110","name":"Valmontone"},{"id":"058111","name":"Velletri"},{"id":"058112","name":"Vicovaro"},{"id":"058113","name":"Vivaro Romano"},{"id":"058114","name":"Zagarolo"},{"id":"058115","name":"Lariano"},{"id":"058116","name":"Ladispoli"},{"id":"058117","name":"Ardea"},{"id":"058118","name":"Ciampino"},{"id":"058119","name":"San Cesareo"},{"id":"058120","name":"Fiumicino"},{"id":"058121","name":"Boville"},{"id":"058122","name":"Fonte Nuova"}]},{"id":"ITE44","name":"Latina","children":[{"id":"059001","name":"Aprilia"},{"id":"059002","name":"Bassiano"},{"id":"059003","name":"Campodimele"},{"id":"059004","name":"Castelforte"},{"id":"059005","name":"Cisterna di Latina"},{"id":"059006","name":"Cori"},{"id":"059007","name":"Fondi"},{"id":"059008","name":"Formia"},{"id":"059009","name":"Gaeta"},{"id":"059010","name":"Itri"},{"id":"059011","name":"Latina"},{"id":"059012","name":"Lenola"},{"id":"059013","name":"Maenza"},{"id":"059014","name":"Minturno"},{"id":"059015","name":"Monte San Biagio"},{"id":"059016","name":"Norma"},{"id":"059017","name":"Pontinia"},{"id":"059018","name":"Ponza"},{"id":"059019","name":"Priverno"},{"id":"059020","name":"Prossedi"},{"id":"059021","name":"Roccagorga"},{"id":"059022","name":"Rocca Massima"},{"id":"059023","name":"Roccasecca dei Volsci"},{"id":"059024","name":"Sabaudia"},{"id":"059025","name":"San Felice Circeo"},{"id":"059026","name":"Santi Cosma e Damiano"},{"id":"059027","name":"Sermoneta"},{"id":"059028","name":"Sezze"},{"id":"059029","name":"Sonnino"},{"id":"059030","name":"Sperlonga"},{"id":"059031","name":"Spigno Saturnia"},{"id":"059032","name":"Terracina"},{"id":"059033","name":"Ventotene"}]},{"id":"ITE45","name":"Frosinone","children":[{"id":"060001","name":"Acquafondata"},{"id":"060002","name":"Acuto"},{"id":"060003","name":"Alatri"},{"id":"060004","name":"Alvito"},{"id":"060005","name":"Amaseno"},{"id":"060006","name":"Anagni"},{"id":"060007","name":"Aquino"},{"id":"060008","name":"Arce"},{"id":"060009","name":"Arnara"},{"id":"060010","name":"Arpino"},{"id":"060011","name":"Atina"},{"id":"060012","name":"Ausonia"},{"id":"060013","name":"Belmonte Castello"},{"id":"060014","name":"Boville Ernica"},{"id":"060015","name":"Broccostella"},{"id":"060016","name":"Campoli Appennino"},{"id":"060017","name":"Casalattico"},{"id":"060018","name":"Casalvieri"},{"id":"060019","name":"Cassino"},{"id":"060020","name":"Castelliri"},{"id":"060021","name":"Castelnuovo Parano"},{"id":"060022","name":"Castrocielo"},{"id":"060023","name":"Castro dei Volsci"},{"id":"060024","name":"Ceccano"},{"id":"060025","name":"Ceprano"},{"id":"060026","name":"Cervaro"},{"id":"060027","name":"Colfelice"},{"id":"060028","name":"Collepardo"},{"id":"060029","name":"Colle San Magno"},{"id":"060030","name":"Coreno Ausonio"},{"id":"060031","name":"Esperia"},{"id":"060032","name":"Falvaterra"},{"id":"060033","name":"Ferentino"},{"id":"060034","name":"Filettino"},{"id":"060035","name":"Fiuggi"},{"id":"060036","name":"Fontana Liri"},{"id":"060037","name":"Fontechiari"},{"id":"060038","name":"Frosinone"},{"id":"060039","name":"Fumone"},{"id":"060040","name":"Gallinaro"},{"id":"060041","name":"Giuliano di Roma"},{"id":"060042","name":"Guarcino"},{"id":"060043","name":"Isola del Liri"},{"id":"060044","name":"Monte San Giovanni Campano"},{"id":"060045","name":"Morolo"},{"id":"060046","name":"Paliano"},{"id":"060047","name":"Pastena"},{"id":"060048","name":"Patrica"},{"id":"060049","name":"Pescosolido"},{"id":"060050","name":"Picinisco"},{"id":"060051","name":"Pico"},{"id":"060052","name":"Piedimonte San Germano"},{"id":"060053","name":"Piglio"},{"id":"060054","name":"Pignataro Interamna"},{"id":"060055","name":"Pofi"},{"id":"060056","name":"Pontecorvo"},{"id":"060057","name":"Posta Fibreno"},{"id":"060058","name":"Ripi"},{"id":"060059","name":"Rocca d\'Arce"},{"id":"060060","name":"Roccasecca"},{"id":"060061","name":"San Biagio Saracinisco"},{"id":"060062","name":"San Donato Val di Comino"},{"id":"060063","name":"San Giorgio a Liri"},{"id":"060064","name":"San Giovanni Incarico"},{"id":"060065","name":"Sant\'Ambrogio sul Garigliano"},{"id":"060066","name":"Sant\'Andrea del Garigliano"},{"id":"060067","name":"Sant\'Apollinare"},{"id":"060068","name":"Sant\'Elia Fiumerapido"},{"id":"060069","name":"Santopadre"},{"id":"060070","name":"San Vittore del Lazio"},{"id":"060071","name":"Serrone"},{"id":"060072","name":"Settefrati"},{"id":"060073","name":"Sgurgola"},{"id":"060074","name":"Sora"},{"id":"060075","name":"Strangolagalli"},{"id":"060076","name":"Supino"},{"id":"060077","name":"Terelle"},{"id":"060078","name":"Torre Cajetani"},{"id":"060079","name":"Torrice"},{"id":"060080","name":"Trevi nel Lazio"},{"id":"060081","name":"Trivigliano"},{"id":"060082","name":"Vallecorsa"},{"id":"060083","name":"Vallemaio"},{"id":"060084","name":"Vallerotonda"},{"id":"060085","name":"Veroli"},{"id":"060086","name":"Vicalvi"},{"id":"060087","name":"Vico nel Lazio"},{"id":"060088","name":"Villa Latina"},{"id":"060089","name":"Villa Santa Lucia"},{"id":"060090","name":"Villa Santo Stefano"},{"id":"060091","name":"Viticuso"}]}]},{"id":"ITF1","name":"Abruzzo","children":[{"id":"ITF11","name":"L\'Aquila","children":[{"id":"066001","name":"Acciano"},{"id":"066002","name":"Aielli"},{"id":"066003","name":"Alfedena"},{"id":"066004","name":"Anversa degli Abruzzi"},{"id":"066005","name":"Ateleta"},{"id":"066006","name":"Avezzano"},{"id":"066007","name":"Balsorano"},{"id":"066008","name":"Barete"},{"id":"066009","name":"Barisciano"},{"id":"066010","name":"Barrea"},{"id":"066011","name":"Bisegna"},{"id":"066012","name":"Bugnara"},{"id":"066013","name":"Cagnano Amiterno"},{"id":"066014","name":"Calascio"},{"id":"066015","name":"Campo di Giove"},{"id":"066016","name":"Campotosto"},{"id":"066017","name":"Canistro"},{"id":"066018","name":"Cansano"},{"id":"066019","name":"Capestrano"},{"id":"066020","name":"Capistrello"},{"id":"066021","name":"Capitignano"},{"id":"066022","name":"Caporciano"},{"id":"066023","name":"Cappadocia"},{"id":"066024","name":"Carapelle Calvisio"},{"id":"066025","name":"Carsoli"},{"id":"066026","name":"Castel del Monte"},{"id":"066027","name":"Castel di Ieri"},{"id":"066028","name":"Castel di Sangro"},{"id":"066029","name":"Castellafiume"},{"id":"066030","name":"Castelvecchio Calvisio"},{"id":"066031","name":"Castelvecchio Subequo"},{"id":"066032","name":"Celano"},{"id":"066033","name":"Cerchio"},{"id":"066034","name":"Civita d\'Antino"},{"id":"066035","name":"Civitella Alfedena"},{"id":"066036","name":"Civitella Roveto"},{"id":"066037","name":"Cocullo"},{"id":"066038","name":"Collarmele"},{"id":"066039","name":"Collelongo"},{"id":"066040","name":"Collepietro"},{"id":"066041","name":"Corfinio"},{"id":"066042","name":"Fagnano Alto"},{"id":"066043","name":"Fontecchio"},{"id":"066044","name":"Fossa"},{"id":"066045","name":"Gagliano Aterno"},{"id":"066046","name":"Gioia dei Marsi"},{"id":"066047","name":"Goriano Sicoli"},{"id":"066048","name":"Introdacqua"},{"id":"066049","name":"L\'Aquila"},{"id":"066050","name":"Lecce nei Marsi"},{"id":"066051","name":"Luco dei Marsi"},{"id":"066052","name":"Lucoli"},{"id":"066053","name":"Magliano de\' Marsi"},{"id":"066054","name":"Massa d\'Albe"},{"id":"066055","name":"Molina Aterno"},{"id":"066056","name":"Montereale"},{"id":"066057","name":"Morino"},{"id":"066058","name":"Navelli"},{"id":"066059","name":"Ocre"},{"id":"066060","name":"Ofena"},{"id":"066061","name":"Opi"},{"id":"066062","name":"Oricola"},{"id":"066063","name":"Ortona dei Marsi"},{"id":"066064","name":"Ortucchio"},{"id":"066065","name":"Ovindoli"},{"id":"066066","name":"Pacentro"},{"id":"066067","name":"Pereto"},{"id":"066068","name":"Pescasseroli"},{"id":"066069","name":"Pescina"},{"id":"066070","name":"Pescocostanzo"},{"id":"066071","name":"Pettorano sul Gizio"},{"id":"066072","name":"Pizzoli"},{"id":"066073","name":"Poggio Picenze"},{"id":"066074","name":"Prata d\'Ansidonia"},{"id":"066075","name":"Pratola Peligna"},{"id":"066076","name":"Prezza"},{"id":"066077","name":"Raiano"},{"id":"066078","name":"Rivisondoli"},{"id":"066079","name":"Roccacasale"},{"id":"066080","name":"Rocca di Botte"},{"id":"066081","name":"Rocca di Cambio"},{"id":"066082","name":"Rocca di Mezzo"},{"id":"066083","name":"Rocca Pia"},{"id":"066084","name":"Roccaraso"},{"id":"066085","name":"San Benedetto dei Marsi"},{"id":"066086","name":"San Benedetto in Perillis"},{"id":"066087","name":"San Demetrio ne\' Vestini"},{"id":"066088","name":"San Pio delle Camere"},{"id":"066089","name":"Sante Marie"},{"id":"066090","name":"Sant\'Eusanio Forconese"},{"id":"066091","name":"Santo Stefano di Sessanio"},{"id":"066092","name":"San Vincenzo Valle Roveto"},{"id":"066093","name":"Scanno"},{"id":"066094","name":"Scontrone"},{"id":"066095","name":"Scoppito"},{"id":"066096","name":"Scurcola Marsicana"},{"id":"066097","name":"Secinaro"},{"id":"066098","name":"Sulmona"},{"id":"066099","name":"Tagliacozzo"},{"id":"066100","name":"Tione degli Abruzzi"},{"id":"066101","name":"Tornimparte"},{"id":"066102","name":"Trasacco"},{"id":"066103","name":"Villalago"},{"id":"066104","name":"Villa Santa Lucia degli Abruzzi"},{"id":"066105","name":"Villa Sant\'Angelo"},{"id":"066106","name":"Villavallelonga"},{"id":"066107","name":"Villetta Barrea"},{"id":"066108","name":"Vittorito"}]},{"id":"ITF12","name":"Teramo","children":[{"id":"067001","name":"Alba Adriatica"},{"id":"067002","name":"Ancarano"},{"id":"067003","name":"Arsita"},{"id":"067004","name":"Atri"},{"id":"067005","name":"Basciano"},{"id":"067006","name":"Bellante"},{"id":"067007","name":"Bisenti"},{"id":"067008","name":"Campli"},{"id":"067009","name":"Canzano"},{"id":"067010","name":"Castel Castagna"},{"id":"067011","name":"Castellalto"},{"id":"067012","name":"Castelli"},{"id":"067013","name":"Castiglione Messer Raimondo"},{"id":"067014","name":"Castilenti"},{"id":"067015","name":"Cellino Attanasio"},{"id":"067016","name":"Cermignano"},{"id":"067017","name":"Civitella del Tronto"},{"id":"067018","name":"Colledara"},{"id":"067019","name":"Colonnella"},{"id":"067020","name":"Controguerra"},{"id":"067021","name":"Corropoli"},{"id":"067022","name":"Cortino"},{"id":"067023","name":"Crognaleto"},{"id":"067024","name":"Fano Adriano"},{"id":"067025","name":"Giulianova"},{"id":"067026","name":"Isola del Gran Sasso d\'Italia"},{"id":"067027","name":"Montefino"},{"id":"067028","name":"Montorio al Vomano"},{"id":"067029","name":"Morro d\'Oro"},{"id":"067030","name":"Mosciano Sant\'Angelo"},{"id":"067031","name":"Nereto"},{"id":"067032","name":"Notaresco"},{"id":"067033","name":"Penna Sant\'Andrea"},{"id":"067034","name":"Pietracamela"},{"id":"067035","name":"Pineto"},{"id":"067036","name":"Rocca Santa Maria"},{"id":"067037","name":"Roseto degli Abruzzi"},{"id":"067038","name":"Sant\'Egidio alla Vibrata"},{"id":"067039","name":"Sant\'Omero"},{"id":"067040","name":"Silvi"},{"id":"067041","name":"Teramo"},{"id":"067042","name":"Torano Nuovo"},{"id":"067043","name":"Torricella Sicura"},{"id":"067044","name":"Tortoreto"},{"id":"067045","name":"Tossicia"},{"id":"067046","name":"Valle Castellana"},{"id":"067047","name":"Martinsicuro"}]},{"id":"ITF13","name":"Pescara","children":[{"id":"068001","name":"Abbateggio"},{"id":"068002","name":"Alanno"},{"id":"068003","name":"Bolognano"},{"id":"068004","name":"Brittoli"},{"id":"068005","name":"Bussi sul Tirino"},{"id":"068006","name":"Cappelle sul Tavo"},{"id":"068007","name":"Caramanico Terme"},{"id":"068008","name":"Carpineto della Nora"},{"id":"068009","name":"Castiglione a Casauria"},{"id":"068010","name":"Catignano"},{"id":"068011","name":"Cepagatti"},{"id":"068012","name":"Citt\xe0 Sant\'Angelo"},{"id":"068013","name":"Civitaquana"},{"id":"068014","name":"Civitella Casanova"},{"id":"068015","name":"Collecorvino"},{"id":"068016","name":"Corvara"},{"id":"068017","name":"Cugnoli"},{"id":"068018","name":"Elice"},{"id":"068019","name":"Farindola"},{"id":"068020","name":"Lettomanoppello"},{"id":"068021","name":"Loreto Aprutino"},{"id":"068022","name":"Manoppello"},{"id":"068023","name":"Montebello di Bertona"},{"id":"068024","name":"Montesilvano"},{"id":"068025","name":"Moscufo"},{"id":"068026","name":"Nocciano"},{"id":"068027","name":"Penne"},{"id":"068028","name":"Pescara"},{"id":"068029","name":"Pescosansonesco"},{"id":"068030","name":"Pianella"},{"id":"068031","name":"Picciano"},{"id":"068032","name":"Pietranico"},{"id":"068033","name":"Popoli"},{"id":"068034","name":"Roccamorice"},{"id":"068035","name":"Rosciano"},{"id":"068036","name":"Salle"},{"id":"068037","name":"Sant\'Eufemia a Maiella"},{"id":"068038","name":"San Valentino in Abruzzo Citeriore"},{"id":"068039","name":"Scafa"},{"id":"068040","name":"Serramonacesca"},{"id":"068041","name":"Spoltore"},{"id":"068042","name":"Tocco da Casauria"},{"id":"068043","name":"Torre de\' Passeri"},{"id":"068044","name":"Turrivalignani"},{"id":"068045","name":"Vicoli"},{"id":"068046","name":"Villa Celiera"}]},{"id":"ITF14","name":"Chieti","children":[{"id":"069001","name":"Altino"},{"id":"069002","name":"Archi"},{"id":"069003","name":"Ari"},{"id":"069004","name":"Arielli"},{"id":"069005","name":"Atessa"},{"id":"069006","name":"Bomba"},{"id":"069007","name":"Borrello"},{"id":"069008","name":"Bucchianico"},{"id":"069009","name":"Montebello sul Sangro"},{"id":"069010","name":"Canosa Sannita"},{"id":"069011","name":"Carpineto Sinello"},{"id":"069012","name":"Carunchio"},{"id":"069013","name":"Casacanditella"},{"id":"069014","name":"Casalanguida"},{"id":"069015","name":"Casalbordino"},{"id":"069016","name":"Casalincontrada"},{"id":"069017","name":"Casoli"},{"id":"069018","name":"Castel Frentano"},{"id":"069019","name":"Castelguidone"},{"id":"069020","name":"Castiglione Messer Marino"},{"id":"069021","name":"Celenza sul Trigno"},{"id":"069022","name":"Chieti"},{"id":"069023","name":"Civitaluparella"},{"id":"069024","name":"Civitella Messer Raimondo"},{"id":"069025","name":"Colledimacine"},{"id":"069026","name":"Colledimezzo"},{"id":"069027","name":"Crecchio"},{"id":"069028","name":"Cupello"},{"id":"069029","name":"Dogliola"},{"id":"069030","name":"Fara Filiorum Petri"},{"id":"069031","name":"Fara San Martino"},{"id":"069032","name":"Filetto"},{"id":"069033","name":"Fossacesia"},{"id":"069034","name":"Fraine"},{"id":"069035","name":"Francavilla al Mare"},{"id":"069036","name":"Fresagrandinaria"},{"id":"069037","name":"Frisa"},{"id":"069038","name":"Furci"},{"id":"069039","name":"Gamberale"},{"id":"069040","name":"Gessopalena"},{"id":"069041","name":"Gissi"},{"id":"069042","name":"Giuliano Teatino"},{"id":"069043","name":"Guardiagrele"},{"id":"069044","name":"Guilmi"},{"id":"069045","name":"Lama dei Peligni"},{"id":"069046","name":"Lanciano"},{"id":"069047","name":"Lentella"},{"id":"069048","name":"Lettopalena"},{"id":"069049","name":"Liscia"},{"id":"069050","name":"Miglianico"},{"id":"069051","name":"Montazzoli"},{"id":"069052","name":"Monteferrante"},{"id":"069053","name":"Montelapiano"},{"id":"069054","name":"Montenerodomo"},{"id":"069055","name":"Monteodorisio"},{"id":"069056","name":"Mozzagrogna"},{"id":"069057","name":"Orsogna"},{"id":"069058","name":"Ortona"},{"id":"069059","name":"Paglieta"},{"id":"069060","name":"Palena"},{"id":"069061","name":"Palmoli"},{"id":"069062","name":"Palombaro"},{"id":"069063","name":"Pennadomo"},{"id":"069064","name":"Pennapiedimonte"},{"id":"069065","name":"Perano"},{"id":"069066","name":"Pizzoferrato"},{"id":"069067","name":"Poggiofiorito"},{"id":"069068","name":"Pollutri"},{"id":"069069","name":"Pretoro"},{"id":"069070","name":"Quadri"},{"id":"069071","name":"Rapino"},{"id":"069072","name":"Ripa Teatina"},{"id":"069073","name":"Roccamontepiano"},{"id":"069074","name":"Rocca San Giovanni"},{"id":"069075","name":"Roccascalegna"},{"id":"069076","name":"Roccaspinalveti"},{"id":"069077","name":"Roio del Sangro"},{"id":"069078","name":"Rosello"},{"id":"069079","name":"San Buono"},{"id":"069080","name":"San Giovanni Lipioni"},{"id":"069081","name":"San Giovanni Teatino"},{"id":"069082","name":"San Martino sulla Marrucina"},{"id":"069083","name":"San Salvo"},{"id":"069084","name":"Santa Maria Imbaro"},{"id":"069085","name":"Sant\'Eusanio del Sangro"},{"id":"069086","name":"San Vito Chietino"},{"id":"069087","name":"Scerni"},{"id":"069088","name":"Schiavi di Abruzzo"},{"id":"069089","name":"Taranta Peligna"},{"id":"069090","name":"Tollo"},{"id":"069091","name":"Torino di Sangro"},{"id":"069092","name":"Tornareccio"},{"id":"069093","name":"Torrebruna"},{"id":"069094","name":"Torrevecchia Teatina"},{"id":"069095","name":"Torricella Peligna"},{"id":"069096","name":"Treglio"},{"id":"069097","name":"Tufillo"},{"id":"069098","name":"Vacri"},{"id":"069099","name":"Vasto"},{"id":"069100","name":"Villalfonsina"},{"id":"069101","name":"Villamagna"},{"id":"069102","name":"Villa Santa Maria"},{"id":"069103","name":"Pietraferrazzana"},{"id":"069104","name":"Fallo"}]}]},{"id":"ITF2","name":"Molise","children":[{"id":"ITF21","name":"Isernia","children":[{"id":"094001","name":"Acquaviva d\'Isernia"},{"id":"094002","name":"Agnone"},{"id":"094003","name":"Bagnoli del Trigno"},{"id":"094004","name":"Belmonte del Sannio"},{"id":"094005","name":"Cantalupo nel Sannio"},{"id":"094006","name":"Capracotta"},{"id":"094007","name":"Carovilli"},{"id":"094008","name":"Carpinone"},{"id":"094009","name":"Castel del Giudice"},{"id":"094010","name":"Castelpetroso"},{"id":"094011","name":"Castelpizzuto"},{"id":"094012","name":"Castel San Vincenzo"},{"id":"094013","name":"Castelverrino"},{"id":"094014","name":"Cerro al Volturno"},{"id":"094015","name":"Chiauci"},{"id":"094016","name":"Civitanova del Sannio"},{"id":"094017","name":"Colli a Volturno"},{"id":"094018","name":"Conca Casale"},{"id":"094019","name":"Filignano"},{"id":"094020","name":"Forl\xec del Sannio"},{"id":"094021","name":"Fornelli"},{"id":"094022","name":"Frosolone"},{"id":"094023","name":"Isernia"},{"id":"094024","name":"Longano"},{"id":"094025","name":"Macchia d\'Isernia"},{"id":"094026","name":"Macchiagodena"},{"id":"094027","name":"Miranda"},{"id":"094028","name":"Montaquila"},{"id":"094029","name":"Montenero Val Cocchiara"},{"id":"094030","name":"Monteroduni"},{"id":"094031","name":"Pesche"},{"id":"094032","name":"Pescolanciano"},{"id":"094033","name":"Pescopennataro"},{"id":"094034","name":"Pettoranello del Molise"},{"id":"094035","name":"Pietrabbondante"},{"id":"094036","name":"Pizzone"},{"id":"094037","name":"Poggio Sannita"},{"id":"094038","name":"Pozzilli"},{"id":"094039","name":"Rionero Sannitico"},{"id":"094040","name":"Roccamandolfi"},{"id":"094041","name":"Roccasicura"},{"id":"094042","name":"Rocchetta a Volturno"},{"id":"094043","name":"San Pietro Avellana"},{"id":"094044","name":"Sant\'Agapito"},{"id":"094045","name":"Santa Maria del Molise"},{"id":"094046","name":"Sant\'Angelo del Pesco"},{"id":"094047","name":"Sant\'Elena Sannita"},{"id":"094048","name":"Scapoli"},{"id":"094049","name":"Sessano del Molise"},{"id":"094050","name":"Sesto Campano"},{"id":"094051","name":"Vastogirardi"},{"id":"094052","name":"Venafro"}]},{"id":"ITF22","name":"Campobasso","children":[{"id":"070001","name":"Acquaviva Collecroce"},{"id":"070002","name":"Baranello"},{"id":"070003","name":"Bojano"},{"id":"070004","name":"Bonefro"},{"id":"070005","name":"Busso"},{"id":"070006","name":"Campobasso"},{"id":"070007","name":"Campochiaro"},{"id":"070008","name":"Campodipietra"},{"id":"070009","name":"Campolieto"},{"id":"070010","name":"Campomarino"},{"id":"070011","name":"Casacalenda"},{"id":"070012","name":"Casalciprano"},{"id":"070013","name":"Castelbottaccio"},{"id":"070014","name":"Castellino del Biferno"},{"id":"070015","name":"Castelmauro"},{"id":"070016","name":"Castropignano"},{"id":"070017","name":"Cercemaggiore"},{"id":"070018","name":"Cercepiccola"},{"id":"070019","name":"Civitacampomarano"},{"id":"070020","name":"Colle d\'Anchise"},{"id":"070021","name":"Colletorto"},{"id":"070022","name":"Duronia"},{"id":"070023","name":"Ferrazzano"},{"id":"070024","name":"Fossalto"},{"id":"070025","name":"Gambatesa"},{"id":"070026","name":"Gildone"},{"id":"070027","name":"Guardialfiera"},{"id":"070028","name":"Guardiaregia"},{"id":"070029","name":"Guglionesi"},{"id":"070030","name":"Jelsi"},{"id":"070031","name":"Larino"},{"id":"070032","name":"Limosano"},{"id":"070033","name":"Lucito"},{"id":"070034","name":"Lupara"},{"id":"070035","name":"Macchia Valfortore"},{"id":"070036","name":"Mafalda"},{"id":"070037","name":"Matrice"},{"id":"070038","name":"Mirabello Sannitico"},{"id":"070039","name":"Molise"},{"id":"070040","name":"Monacilioni"},{"id":"070041","name":"Montagano"},{"id":"070042","name":"Montecilfone"},{"id":"070043","name":"Montefalcone nel Sannio"},{"id":"070044","name":"Montelongo"},{"id":"070045","name":"Montemitro"},{"id":"070046","name":"Montenero di Bisaccia"},{"id":"070047","name":"Montorio nei Frentani"},{"id":"070048","name":"Morrone del Sannio"},{"id":"070049","name":"Oratino"},{"id":"070050","name":"Palata"},{"id":"070051","name":"Petacciato"},{"id":"070052","name":"Petrella Tifernina"},{"id":"070053","name":"Pietracatella"},{"id":"070054","name":"Pietracupa"},{"id":"070055","name":"Portocannone"},{"id":"070056","name":"Provvidenti"},{"id":"070057","name":"Riccia"},{"id":"070058","name":"Ripabottoni"},{"id":"070059","name":"Ripalimosani"},{"id":"070060","name":"Roccavivara"},{"id":"070061","name":"Rotello"},{"id":"070062","name":"Salcito"},{"id":"070063","name":"San Biase"},{"id":"070064","name":"San Felice del Molise"},{"id":"070065","name":"San Giacomo degli Schiavoni"},{"id":"070066","name":"San Giovanni in Galdo"},{"id":"070067","name":"San Giuliano del Sannio"},{"id":"070068","name":"San Giuliano di Puglia"},{"id":"070069","name":"San Martino in Pensilis"},{"id":"070070","name":"San Massimo"},{"id":"070071","name":"San Polo Matese"},{"id":"070072","name":"Santa Croce di Magliano"},{"id":"070073","name":"Sant\'Angelo Limosano"},{"id":"070074","name":"Sant\'Elia a Pianisi"},{"id":"070075","name":"Sepino"},{"id":"070076","name":"Spinete"},{"id":"070077","name":"Tavenna"},{"id":"070078","name":"Termoli"},{"id":"070079","name":"Torella del Sannio"},{"id":"070080","name":"Toro"},{"id":"070081","name":"Trivento"},{"id":"070082","name":"Tufara"},{"id":"070083","name":"Ururi"},{"id":"070084","name":"Vinchiaturo"}]}]},{"id":"ITF3","name":"Campania","children":[{"id":"ITF31","name":"Caserta","children":[{"id":"061001","name":"Ailano"},{"id":"061002","name":"Alife"},{"id":"061003","name":"Alvignano"},{"id":"061004","name":"Arienzo"},{"id":"061005","name":"Aversa"},{"id":"061006","name":"Baia e Latina"},{"id":"061007","name":"Bellona"},{"id":"061008","name":"Caianello"},{"id":"061009","name":"Caiazzo"},{"id":"061010","name":"Calvi Risorta"},{"id":"061011","name":"Camigliano"},{"id":"061012","name":"Cancello ed Arnone"},{"id":"061013","name":"Capodrise"},{"id":"061014","name":"Capriati a Volturno"},{"id":"061015","name":"Capua"},{"id":"061016","name":"Carinaro"},{"id":"061017","name":"Carinola"},{"id":"061018","name":"Casagiove"},{"id":"061019","name":"Casal di Principe"},{"id":"061020","name":"Casaluce"},{"id":"061021","name":"Casapulla"},{"id":"061022","name":"Caserta"},{"id":"061023","name":"Castel Campagnano"},{"id":"061024","name":"Castel di Sasso"},{"id":"061025","name":"Castello del Matese"},{"id":"061026","name":"Castel Morrone"},{"id":"061027","name":"Castel Volturno"},{"id":"061028","name":"Cervino"},{"id":"061029","name":"Cesa"},{"id":"061030","name":"Ciorlano"},{"id":"061031","name":"Conca della Campania"},{"id":"061032","name":"Curti"},{"id":"061033","name":"Dragoni"},{"id":"061034","name":"Fontegreca"},{"id":"061035","name":"Formicola"},{"id":"061036","name":"Francolise"},{"id":"061037","name":"Frignano"},{"id":"061038","name":"Gallo Matese"},{"id":"061039","name":"Galluccio"},{"id":"061040","name":"Giano Vetusto"},{"id":"061041","name":"Gioia Sannitica"},{"id":"061042","name":"Grazzanise"},{"id":"061043","name":"Gricignano di Aversa"},{"id":"061044","name":"Letino"},{"id":"061045","name":"Liberi"},{"id":"061046","name":"Lusciano"},{"id":"061047","name":"Macerata Campania"},{"id":"061048","name":"Maddaloni"},{"id":"061049","name":"Marcianise"},{"id":"061050","name":"Marzano Appio"},{"id":"061051","name":"Mignano Monte Lungo"},{"id":"061052","name":"Mondragone"},{"id":"061053","name":"Orta di Atella"},{"id":"061054","name":"Parete"},{"id":"061055","name":"Pastorano"},{"id":"061056","name":"Piana di Monte Verna"},{"id":"061057","name":"Piedimonte Matese"},{"id":"061058","name":"Pietramelara"},{"id":"061059","name":"Pietravairano"},{"id":"061060","name":"Pignataro Maggiore"},{"id":"061061","name":"Pontelatone"},{"id":"061062","name":"Portico di Caserta"},{"id":"061063","name":"Prata Sannita"},{"id":"061064","name":"Pratella"},{"id":"061065","name":"Presenzano"},{"id":"061066","name":"Raviscanina"},{"id":"061067","name":"Recale"},{"id":"061068","name":"Riardo"},{"id":"061069","name":"Rocca d\'Evandro"},{"id":"061070","name":"Roccamonfina"},{"id":"061071","name":"Roccaromana"},{"id":"061072","name":"Rocchetta e Croce"},{"id":"061073","name":"Ruviano"},{"id":"061074","name":"San Cipriano d\'Aversa"},{"id":"061075","name":"San Felice a Cancello"},{"id":"061076","name":"San Gregorio Matese"},{"id":"061077","name":"San Marcellino"},{"id":"061078","name":"San Nicola la Strada"},{"id":"061079","name":"San Pietro Infine"},{"id":"061080","name":"San Potito Sannitico"},{"id":"061081","name":"San Prisco"},{"id":"061082","name":"Santa Maria a Vico"},{"id":"061083","name":"Santa Maria Capua Vetere"},{"id":"061084","name":"Santa Maria la Fossa"},{"id":"061085","name":"San Tammaro"},{"id":"061086","name":"Sant\'Angelo d\'Alife"},{"id":"061087","name":"Sant\'Arpino"},{"id":"061088","name":"Sessa Aurunca"},{"id":"061089","name":"Sparanise"},{"id":"061090","name":"Succivo"},{"id":"061091","name":"Teano"},{"id":"061092","name":"Teverola"},{"id":"061093","name":"Tora e Piccilli"},{"id":"061094","name":"Trentola Ducenta"},{"id":"061095","name":"Vairano Patenora"},{"id":"061096","name":"Valle Agricola"},{"id":"061097","name":"Valle di Maddaloni"},{"id":"061098","name":"Villa di Briano"},{"id":"061099","name":"Villa Literno"},{"id":"061100","name":"Vitulazio"},{"id":"061101","name":"Falciano del Massico"},{"id":"061102","name":"Cellole"},{"id":"061103","name":"Casapesenna"},{"id":"061104","name":"San Marco Evangelista"}]},{"id":"ITF32","name":"Benevento","children":[{"id":"062001","name":"Airola"},{"id":"062002","name":"Amorosi"},{"id":"062003","name":"Apice"},{"id":"062004","name":"Apollosa"},{"id":"062005","name":"Arpaia"},{"id":"062006","name":"Arpaise"},{"id":"062007","name":"Baselice"},{"id":"062008","name":"Benevento"},{"id":"062009","name":"Bonea"},{"id":"062010","name":"Bucciano"},{"id":"062011","name":"Buonalbergo"},{"id":"062012","name":"Calvi"},{"id":"062013","name":"Campolattaro"},{"id":"062014","name":"Campoli del Monte Taburno"},{"id":"062015","name":"Casalduni"},{"id":"062016","name":"Castelfranco in Miscano"},{"id":"062017","name":"Castelpagano"},{"id":"062018","name":"Castelpoto"},{"id":"062019","name":"Castelvenere"},{"id":"062020","name":"Castelvetere in Val Fortore"},{"id":"062021","name":"Cautano"},{"id":"062022","name":"Ceppaloni"},{"id":"062023","name":"Cerreto Sannita"},{"id":"062024","name":"Circello"},{"id":"062025","name":"Colle Sannita"},{"id":"062026","name":"Cusano Mutri"},{"id":"062027","name":"Dugenta"},{"id":"062028","name":"Durazzano"},{"id":"062029","name":"Faicchio"},{"id":"062030","name":"Foglianise"},{"id":"062031","name":"Foiano di Val Fortore"},{"id":"062032","name":"Forchia"},{"id":"062033","name":"Fragneto l\'Abate"},{"id":"062034","name":"Fragneto Monforte"},{"id":"062035","name":"Frasso Telesino"},{"id":"062036","name":"Ginestra degli Schiavoni"},{"id":"062037","name":"Guardia Sanframondi"},{"id":"062038","name":"Limatola"},{"id":"062039","name":"Melizzano"},{"id":"062040","name":"Moiano"},{"id":"062041","name":"Molinara"},{"id":"062042","name":"Montefalcone di Val Fortore"},{"id":"062043","name":"Montesarchio"},{"id":"062044","name":"Morcone"},{"id":"062045","name":"Paduli"},{"id":"062046","name":"Pago Veiano"},{"id":"062047","name":"Pannarano"},{"id":"062048","name":"Paolisi"},{"id":"062049","name":"Paupisi"},{"id":"062050","name":"Pesco Sannita"},{"id":"062051","name":"Pietraroja"},{"id":"062052","name":"Pietrelcina"},{"id":"062053","name":"Ponte"},{"id":"062054","name":"Pontelandolfo"},{"id":"062055","name":"Puglianello"},{"id":"062056","name":"Reino"},{"id":"062057","name":"San Bartolomeo in Galdo"},{"id":"062058","name":"San Giorgio del Sannio"},{"id":"062059","name":"San Giorgio La Molara"},{"id":"062060","name":"San Leucio del Sannio"},{"id":"062061","name":"San Lorenzello"},{"id":"062062","name":"San Lorenzo Maggiore"},{"id":"062063","name":"San Lupo"},{"id":"062064","name":"San Marco dei Cavoti"},{"id":"062065","name":"San Martino Sannita"},{"id":"062066","name":"San Nazzaro"},{"id":"062067","name":"San Nicola Manfredi"},{"id":"062068","name":"San Salvatore Telesino"},{"id":"062069","name":"Santa Croce del Sannio"},{"id":"062070","name":"Sant\'Agata de\' Goti"},{"id":"062071","name":"Sant\'Angelo a Cupolo"},{"id":"062072","name":"Sassinoro"},{"id":"062073","name":"Solopaca"},{"id":"062074","name":"Telese Terme"},{"id":"062075","name":"Tocco Caudio"},{"id":"062076","name":"Torrecuso"},{"id":"062077","name":"Vitulano"},{"id":"062078","name":"Sant\'Arcangelo Trimonte"}]},{"id":"ITF33","name":"Napoli","children":[{"id":"063001","name":"Acerra"},{"id":"063002","name":"Afragola"},{"id":"063003","name":"Agerola"},{"id":"063004","name":"Anacapri"},{"id":"063005","name":"Arzano"},{"id":"063006","name":"Bacoli"},{"id":"063007","name":"Barano d\'Ischia"},{"id":"063008","name":"Boscoreale"},{"id":"063009","name":"Boscotrecase"},{"id":"063010","name":"Brusciano"},{"id":"063011","name":"Caivano"},{"id":"063012","name":"Calvizzano"},{"id":"063013","name":"Camposano"},{"id":"063014","name":"Capri"},{"id":"063015","name":"Carbonara di Nola"},{"id":"063016","name":"Cardito"},{"id":"063017","name":"Casalnuovo di Napoli"},{"id":"063018","name":"Casamarciano"},{"id":"063019","name":"Casamicciola Terme"},{"id":"063020","name":"Casandrino"},{"id":"063021","name":"Casavatore"},{"id":"063022","name":"Casola di Napoli"},{"id":"063023","name":"Casoria"},{"id":"063024","name":"Castellammare di Stabia"},{"id":"063025","name":"Castello di Cisterna"},{"id":"063026","name":"Cercola"},{"id":"063027","name":"Cicciano"},{"id":"063028","name":"Cimitile"},{"id":"063029","name":"Comiziano"},{"id":"063030","name":"Crispano"},{"id":"063031","name":"Forio"},{"id":"063032","name":"Frattamaggiore"},{"id":"063033","name":"Frattaminore"},{"id":"063034","name":"Giugliano in Campania"},{"id":"063035","name":"Gragnano"},{"id":"063036","name":"Grumo Nevano"},{"id":"063037","name":"Ischia"},{"id":"063038","name":"Lacco Ameno"},{"id":"063039","name":"Lettere"},{"id":"063040","name":"Liveri"},{"id":"063041","name":"Marano di Napoli"},{"id":"063042","name":"Mariglianella"},{"id":"063043","name":"Marigliano"},{"id":"063044","name":"Massa Lubrense"},{"id":"063045","name":"Melito di Napoli"},{"id":"063046","name":"Meta"},{"id":"063047","name":"Monte di Procida"},{"id":"063048","name":"Mugnano di Napoli"},{"id":"063049","name":"Napoli"},{"id":"063050","name":"Nola"},{"id":"063051","name":"Ottaviano"},{"id":"063052","name":"Palma Campania"},{"id":"063053","name":"Piano di Sorrento"},{"id":"063054","name":"Pimonte"},{"id":"063055","name":"Poggiomarino"},{"id":"063056","name":"Pollena Trocchia"},{"id":"063057","name":"Pomigliano d\'Arco"},{"id":"063058","name":"Pompei"},{"id":"063059","name":"Portici"},{"id":"063060","name":"Pozzuoli"},{"id":"063061","name":"Procida"},{"id":"063062","name":"Qualiano"},{"id":"063063","name":"Quarto"},{"id":"063064","name":"Ercolano"},{"id":"063065","name":"Roccarainola"},{"id":"063066","name":"San Gennaro Vesuviano"},{"id":"063067","name":"San Giorgio a Cremano"},{"id":"063068","name":"San Giuseppe Vesuviano"},{"id":"063069","name":"San Paolo Bel Sito"},{"id":"063070","name":"San Sebastiano al Vesuvio"},{"id":"063071","name":"Sant\'Agnello"},{"id":"063072","name":"Sant\'Anastasia"},{"id":"063073","name":"Sant\'Antimo"},{"id":"063074","name":"Sant\'Antonio Abate"},{"id":"063075","name":"San Vitaliano"},{"id":"063076","name":"Saviano"},{"id":"063077","name":"Scisciano"},{"id":"063078","name":"Serrara Fontana"},{"id":"063079","name":"Somma Vesuviana"},{"id":"063080","name":"Sorrento"},{"id":"063081","name":"Striano"},{"id":"063082","name":"Terzigno"},{"id":"063083","name":"Torre Annunziata"},{"id":"063084","name":"Torre del Greco"},{"id":"063085","name":"Tufino"},{"id":"063086","name":"Vico Equense"},{"id":"063087","name":"Villaricca"},{"id":"063088","name":"Visciano"},{"id":"063089","name":"Volla"},{"id":"063090","name":"Santa Maria la Carit\xe0\xa0"},{"id":"063091","name":"Trecase"},{"id":"063092","name":"Massa di Somma"}]},{"id":"ITF34","name":"Avellino","children":[{"id":"064001","name":"Aiello del Sabato"},{"id":"064002","name":"Altavilla Irpina"},{"id":"064003","name":"Andretta"},{"id":"064004","name":"Aquilonia"},{"id":"064005","name":"Ariano Irpino"},{"id":"064006","name":"Atripalda"},{"id":"064007","name":"Avella"},{"id":"064008","name":"Avellino"},{"id":"064009","name":"Bagnoli Irpino"},{"id":"064010","name":"Baiano"},{"id":"064011","name":"Bisaccia"},{"id":"064012","name":"Bonito"},{"id":"064013","name":"Cairano"},{"id":"064014","name":"Calabritto"},{"id":"064015","name":"Calitri"},{"id":"064016","name":"Candida"},{"id":"064017","name":"Caposele"},{"id":"064018","name":"Capriglia Irpina"},{"id":"064019","name":"Carife"},{"id":"064020","name":"Casalbore"},{"id":"064021","name":"Cassano Irpino"},{"id":"064022","name":"Castel Baronia"},{"id":"064023","name":"Castelfranci"},{"id":"064024","name":"Castelvetere sul Calore"},{"id":"064025","name":"Cervinara"},{"id":"064026","name":"Cesinali"},{"id":"064027","name":"Chianche"},{"id":"064028","name":"Chiusano di San Domenico"},{"id":"064029","name":"Contrada"},{"id":"064030","name":"Conza della Campania"},{"id":"064031","name":"Domicella"},{"id":"064032","name":"Flumeri"},{"id":"064033","name":"Fontanarosa"},{"id":"064034","name":"Forino"},{"id":"064035","name":"Frigento"},{"id":"064036","name":"Gesualdo"},{"id":"064037","name":"Greci"},{"id":"064038","name":"Grottaminarda"},{"id":"064039","name":"Grottolella"},{"id":"064040","name":"Guardia Lombardi"},{"id":"064041","name":"Lacedonia"},{"id":"064042","name":"Lapio"},{"id":"064043","name":"Lauro"},{"id":"064044","name":"Lioni"},{"id":"064045","name":"Luogosano"},{"id":"064046","name":"Manocalzati"},{"id":"064047","name":"Marzano di Nola"},{"id":"064048","name":"Melito Irpino"},{"id":"064049","name":"Mercogliano"},{"id":"064050","name":"Mirabella Eclano"},{"id":"064051","name":"Montaguto"},{"id":"064052","name":"Montecalvo Irpino"},{"id":"064053","name":"Montefalcione"},{"id":"064054","name":"Monteforte Irpino"},{"id":"064055","name":"Montefredane"},{"id":"064056","name":"Montefusco"},{"id":"064057","name":"Montella"},{"id":"064058","name":"Montemarano"},{"id":"064059","name":"Montemiletto"},{"id":"064060","name":"Monteverde"},{"id":"064061","name":"Montoro Inferiore"},{"id":"064062","name":"Montoro Superiore"},{"id":"064063","name":"Morra De Sanctis"},{"id":"064064","name":"Moschiano"},{"id":"064065","name":"Mugnano del Cardinale"},{"id":"064066","name":"Nusco"},{"id":"064067","name":"Ospedaletto d\'Alpinolo"},{"id":"064068","name":"Pago del Vallo di Lauro"},{"id":"064069","name":"Parolise"},{"id":"064070","name":"Paternopoli"},{"id":"064071","name":"Petruro Irpino"},{"id":"064072","name":"Pietradefusi"},{"id":"064073","name":"Pietrastornina"},{"id":"064074","name":"Prata di Principato Ultra"},{"id":"064075","name":"Pratola Serra"},{"id":"064076","name":"Quadrelle"},{"id":"064077","name":"Quindici"},{"id":"064078","name":"Roccabascerana"},{"id":"064079","name":"Rocca San Felice"},{"id":"064080","name":"Rotondi"},{"id":"064081","name":"Salza Irpina"},{"id":"064082","name":"San Mango sul Calore"},{"id":"064083","name":"San Martino Valle Caudina"},{"id":"064084","name":"San Michele di Serino"},{"id":"064085","name":"San Nicola Baronia"},{"id":"064086","name":"San Potito Ultra"},{"id":"064087","name":"San Sossio Baronia"},{"id":"064088","name":"Santa Lucia di Serino"},{"id":"064089","name":"Sant\'Andrea di Conza"},{"id":"064090","name":"Sant\'Angelo all\'Esca"},{"id":"064091","name":"Sant\'Angelo a Scala"},{"id":"064092","name":"Sant\'Angelo dei Lombardi"},{"id":"064093","name":"Santa Paolina"},{"id":"064095","name":"Santo Stefano del Sole"},{"id":"064096","name":"Savignano Irpino"},{"id":"064097","name":"Scampitella"},{"id":"064098","name":"Senerchia"},{"id":"064099","name":"Serino"},{"id":"064100","name":"Sirignano"},{"id":"064101","name":"Solofra"},{"id":"064102","name":"Sorbo Serpico"},{"id":"064103","name":"Sperone"},{"id":"064104","name":"Sturno"},{"id":"064105","name":"Summonte"},{"id":"064106","name":"Taurano"},{"id":"064107","name":"Taurasi"},{"id":"064108","name":"Teora"},{"id":"064109","name":"Torella dei Lombardi"},{"id":"064110","name":"Torre Le Nocelle"},{"id":"064111","name":"Torrioni"},{"id":"064112","name":"Trevico"},{"id":"064113","name":"Tufo"},{"id":"064114","name":"Vallata"},{"id":"064115","name":"Vallesaccarda"},{"id":"064116","name":"Venticano"},{"id":"064117","name":"Villamaina"},{"id":"064118","name":"Villanova del Battista"},{"id":"064119","name":"Volturara Irpina"},{"id":"064120","name":"Zungoli"},{"id":"064121","name":"Montoro"}]},{"id":"ITF35","name":"Salerno","children":[{"id":"065001","name":"Acerno"},{"id":"065002","name":"Agropoli"},{"id":"065003","name":"Albanella"},{"id":"065004","name":"Alfano"},{"id":"065005","name":"Altavilla Silentina"},{"id":"065006","name":"Amalfi"},{"id":"065007","name":"Angri"},{"id":"065008","name":"Aquara"},{"id":"065009","name":"Ascea"},{"id":"065010","name":"Atena Lucana"},{"id":"065011","name":"Atrani"},{"id":"065012","name":"Auletta"},{"id":"065013","name":"Baronissi"},{"id":"065014","name":"Battipaglia"},{"id":"065015","name":"Bellosguardo"},{"id":"065016","name":"Bracigliano"},{"id":"065017","name":"Buccino"},{"id":"065018","name":"Buonabitacolo"},{"id":"065019","name":"Caggiano"},{"id":"065020","name":"Calvanico"},{"id":"065021","name":"Camerota"},{"id":"065022","name":"Campagna"},{"id":"065023","name":"Campora"},{"id":"065024","name":"Cannalonga"},{"id":"065025","name":"Capaccio Paestum"},{"id":"065026","name":"Casalbuono"},{"id":"065027","name":"Casaletto Spartano"},{"id":"065028","name":"Casal Velino"},{"id":"065029","name":"Caselle in Pittari"},{"id":"065030","name":"Castelcivita"},{"id":"065031","name":"Castellabate"},{"id":"065032","name":"Castelnuovo Cilento"},{"id":"065033","name":"Castelnuovo di Conza"},{"id":"065034","name":"Castel San Giorgio"},{"id":"065035","name":"Castel San Lorenzo"},{"id":"065036","name":"Castiglione del Genovesi"},{"id":"065037","name":"Cava de\' Tirreni"},{"id":"065038","name":"Celle di Bulgheria"},{"id":"065039","name":"Centola"},{"id":"065040","name":"Ceraso"},{"id":"065041","name":"Cetara"},{"id":"065042","name":"Cicerale"},{"id":"065043","name":"Colliano"},{"id":"065044","name":"Conca dei Marini"},{"id":"065045","name":"Controne"},{"id":"065046","name":"Contursi Terme"},{"id":"065047","name":"Corbara"},{"id":"065048","name":"Corleto Monforte"},{"id":"065049","name":"Cuccaro Vetere"},{"id":"065050","name":"Eboli"},{"id":"065051","name":"Felitto"},{"id":"065052","name":"Fisciano"},{"id":"065053","name":"Furore"},{"id":"065054","name":"Futani"},{"id":"065055","name":"Giffoni Sei Casali"},{"id":"065056","name":"Giffoni Valle Piana"},{"id":"065057","name":"Gioi"},{"id":"065058","name":"Giungano"},{"id":"065059","name":"Ispani"},{"id":"065060","name":"Laureana Cilento"},{"id":"065061","name":"Laurino"},{"id":"065062","name":"Laurito"},{"id":"065063","name":"Laviano"},{"id":"065064","name":"Lustra"},{"id":"065065","name":"Magliano Vetere"},{"id":"065066","name":"Maiori"},{"id":"065067","name":"Mercato San Severino"},{"id":"065068","name":"Minori"},{"id":"065069","name":"Moio della Civitella"},{"id":"065070","name":"Montano Antilia"},{"id":"065071","name":"Montecorice"},{"id":"065072","name":"Montecorvino Pugliano"},{"id":"065073","name":"Montecorvino Rovella"},{"id":"065074","name":"Monteforte Cilento"},{"id":"065075","name":"Monte San Giacomo"},{"id":"065076","name":"Montesano sulla Marcellana"},{"id":"065077","name":"Morigerati"},{"id":"065078","name":"Nocera Inferiore"},{"id":"065079","name":"Nocera Superiore"},{"id":"065080","name":"Novi Velia"},{"id":"065081","name":"Ogliastro Cilento"},{"id":"065082","name":"Olevano sul Tusciano"},{"id":"065083","name":"Oliveto Citra"},{"id":"065084","name":"Omignano"},{"id":"065085","name":"Orria"},{"id":"065086","name":"Ottati"},{"id":"065087","name":"Padula"},{"id":"065088","name":"Pagani"},{"id":"065089","name":"Palomonte"},{"id":"065090","name":"Pellezzano"},{"id":"065091","name":"Perdifumo"},{"id":"065092","name":"Perito"},{"id":"065093","name":"Pertosa"},{"id":"065094","name":"Petina"},{"id":"065095","name":"Piaggine"},{"id":"065096","name":"Pisciotta"},{"id":"065097","name":"Polla"},{"id":"065098","name":"Pollica"},{"id":"065099","name":"Pontecagnano Faiano"},{"id":"065100","name":"Positano"},{"id":"065101","name":"Postiglione"},{"id":"065102","name":"Praiano"},{"id":"065103","name":"Prignano Cilento"},{"id":"065104","name":"Ravello"},{"id":"065105","name":"Ricigliano"},{"id":"065106","name":"Roccadaspide"},{"id":"065107","name":"Roccagloriosa"},{"id":"065108","name":"Roccapiemonte"},{"id":"065109","name":"Rofrano"},{"id":"065110","name":"Romagnano al Monte"},{"id":"065111","name":"Roscigno"},{"id":"065112","name":"Rutino"},{"id":"065113","name":"Sacco"},{"id":"065114","name":"Sala Consilina"},{"id":"065115","name":"Salento"},{"id":"065116","name":"Salerno"},{"id":"065117","name":"Salvitelle"},{"id":"065118","name":"San Cipriano Picentino"},{"id":"065119","name":"San Giovanni a Piro"},{"id":"065120","name":"San Gregorio Magno"},{"id":"065121","name":"San Mango Piemonte"},{"id":"065122","name":"San Marzano sul Sarno"},{"id":"065123","name":"San Mauro Cilento"},{"id":"065124","name":"San Mauro la Bruca"},{"id":"065125","name":"San Pietro al Tanagro"},{"id":"065126","name":"San Rufo"},{"id":"065127","name":"Santa Marina"},{"id":"065128","name":"Sant\'Angelo a Fasanella"},{"id":"065129","name":"Sant\'Arsenio"},{"id":"065130","name":"Sant\'Egidio del Monte Albino"},{"id":"065131","name":"Santomenna"},{"id":"065132","name":"San Valentino Torio"},{"id":"065133","name":"Sanza"},{"id":"065134","name":"Sapri"},{"id":"065135","name":"Sarno"},{"id":"065136","name":"Sassano"},{"id":"065137","name":"Scafati"},{"id":"065138","name":"Scala"},{"id":"065139","name":"Serramezzana"},{"id":"065140","name":"Serre"},{"id":"065141","name":"Sessa Cilento"},{"id":"065142","name":"Siano"},{"id":"065143","name":"Sicignano degli Alburni"},{"id":"065144","name":"Stella Cilento"},{"id":"065145","name":"Stio"},{"id":"065146","name":"Teggiano"},{"id":"065147","name":"Torchiara"},{"id":"065148","name":"Torraca"},{"id":"065149","name":"Torre Orsaia"},{"id":"065150","name":"Tortorella"},{"id":"065151","name":"Tramonti"},{"id":"065152","name":"Trentinara"},{"id":"065153","name":"Valle dell\'Angelo"},{"id":"065154","name":"Vallo della Lucania"},{"id":"065155","name":"Valva"},{"id":"065156","name":"Vibonati"},{"id":"065157","name":"Vietri sul Mare"},{"id":"065158","name":"Bellizzi"}]}]},{"id":"ITF4","name":"Puglia","children":[{"id":"IT110","name":"Barletta-Andria-Trani","children":[{"id":"110001","name":"Andria"},{"id":"110002","name":"Barletta"},{"id":"110003","name":"Bisceglie"},{"id":"110004","name":"Canosa di Puglia"},{"id":"110005","name":"Margherita di Savoia"},{"id":"110006","name":"Minervino Murge"},{"id":"110007","name":"San Ferdinando di Puglia"},{"id":"110008","name":"Spinazzola"},{"id":"110009","name":"Trani"},{"id":"110010","name":"Trinitapoli"}]},{"id":"ITF41","name":"Foggia","children":[{"id":"071001","name":"Accadia"},{"id":"071002","name":"Alberona"},{"id":"071003","name":"Anzano di Puglia"},{"id":"071004","name":"Apricena"},{"id":"071005","name":"Ascoli Satriano"},{"id":"071006","name":"Biccari"},{"id":"071007","name":"Bovino"},{"id":"071008","name":"Cagnano Varano"},{"id":"071009","name":"Candela"},{"id":"071010","name":"Carapelle"},{"id":"071011","name":"Carlantino"},{"id":"071012","name":"Carpino"},{"id":"071013","name":"Casalnuovo Monterotaro"},{"id":"071014","name":"Casalvecchio di Puglia"},{"id":"071015","name":"Castelluccio dei Sauri"},{"id":"071016","name":"Castelluccio Valmaggiore"},{"id":"071017","name":"Castelnuovo della Daunia"},{"id":"071018","name":"Celenza Valfortore"},{"id":"071019","name":"Celle di San Vito"},{"id":"071020","name":"Cerignola"},{"id":"071021","name":"Chieuti"},{"id":"071022","name":"Deliceto"},{"id":"071023","name":"Faeto"},{"id":"071024","name":"Foggia"},{"id":"071025","name":"Ischitella"},{"id":"071026","name":"Isole Tremiti"},{"id":"071027","name":"Lesina"},{"id":"071028","name":"Lucera"},{"id":"071029","name":"Manfredonia"},{"id":"071030","name":"Margherita di Savoia"},{"id":"071031","name":"Mattinata"},{"id":"071032","name":"Monteleone di Puglia"},{"id":"071033","name":"Monte Sant\'Angelo"},{"id":"071034","name":"Motta Montecorvino"},{"id":"071035","name":"Orsara di Puglia"},{"id":"071036","name":"Orta Nova"},{"id":"071037","name":"Panni"},{"id":"071038","name":"Peschici"},{"id":"071039","name":"Pietramontecorvino"},{"id":"071040","name":"Poggio Imperiale"},{"id":"071041","name":"Rignano Garganico"},{"id":"071042","name":"Rocchetta Sant\'Antonio"},{"id":"071043","name":"Rodi Garganico"},{"id":"071044","name":"Roseto Valfortore"},{"id":"071045","name":"San Ferdinando di Puglia"},{"id":"071046","name":"San Giovanni Rotondo"},{"id":"071047","name":"San Marco in Lamis"},{"id":"071048","name":"San Marco la Catola"},{"id":"071049","name":"San Nicandro Garganico"},{"id":"071050","name":"San Paolo di Civitate"},{"id":"071051","name":"San Severo"},{"id":"071052","name":"Sant\'Agata di Puglia"},{"id":"071053","name":"Serracapriola"},{"id":"071054","name":"Stornara"},{"id":"071055","name":"Stornarella"},{"id":"071056","name":"Torremaggiore"},{"id":"071057","name":"Trinitapoli"},{"id":"071058","name":"Troia"},{"id":"071059","name":"Vico del Gargano"},{"id":"071060","name":"Vieste"},{"id":"071061","name":"Volturara Appula"},{"id":"071062","name":"Volturino"},{"id":"071063","name":"Ordona"},{"id":"071064","name":"Zapponeta"}]},{"id":"ITF42","name":"Bari","children":[{"id":"072001","name":"Acquaviva delle Fonti"},{"id":"072002","name":"Adelfia"},{"id":"072003","name":"Alberobello"},{"id":"072004","name":"Altamura"},{"id":"072005","name":"Andria"},{"id":"072006","name":"Bari"},{"id":"072007","name":"Barletta"},{"id":"072008","name":"Binetto"},{"id":"072009","name":"Bisceglie"},{"id":"072010","name":"Bitetto"},{"id":"072011","name":"Bitonto"},{"id":"072012","name":"Bitritto"},{"id":"072013","name":"Canosa di Puglia"},{"id":"072014","name":"Capurso"},{"id":"072015","name":"Casamassima"},{"id":"072016","name":"Cassano delle Murge"},{"id":"072017","name":"Castellana Grotte"},{"id":"072018","name":"Cellamare"},{"id":"072019","name":"Conversano"},{"id":"072020","name":"Corato"},{"id":"072021","name":"Gioia del Colle"},{"id":"072022","name":"Giovinazzo"},{"id":"072023","name":"Gravina in Puglia"},{"id":"072024","name":"Grumo Appula"},{"id":"072025","name":"Locorotondo"},{"id":"072026","name":"Minervino Murge"},{"id":"072027","name":"Modugno"},{"id":"072028","name":"Mola di Bari"},{"id":"072029","name":"Molfetta"},{"id":"072030","name":"Monopoli"},{"id":"072031","name":"Noci"},{"id":"072032","name":"Noicattaro"},{"id":"072033","name":"Palo del Colle"},{"id":"072034","name":"Poggiorsini"},{"id":"072035","name":"Polignano a Mare"},{"id":"072036","name":"Putignano"},{"id":"072037","name":"Rutigliano"},{"id":"072038","name":"Ruvo di Puglia"},{"id":"072039","name":"Sammichele di Bari"},{"id":"072040","name":"Sannicandro di Bari"},{"id":"072041","name":"Santeramo in Colle"},{"id":"072042","name":"Spinazzola"},{"id":"072043","name":"Terlizzi"},{"id":"072044","name":"Toritto"},{"id":"072045","name":"Trani"},{"id":"072046","name":"Triggiano"},{"id":"072047","name":"Turi"},{"id":"072048","name":"Valenzano"}]},{"id":"ITF43","name":"Taranto","children":[{"id":"073001","name":"Avetrana"},{"id":"073002","name":"Carosino"},{"id":"073003","name":"Castellaneta"},{"id":"073004","name":"Crispiano"},{"id":"073005","name":"Faggiano"},{"id":"073006","name":"Fragagnano"},{"id":"073007","name":"Ginosa"},{"id":"073008","name":"Grottaglie"},{"id":"073009","name":"Laterza"},{"id":"073010","name":"Leporano"},{"id":"073011","name":"Lizzano"},{"id":"073012","name":"Manduria"},{"id":"073013","name":"Martina Franca"},{"id":"073014","name":"Maruggio"},{"id":"073015","name":"Massafra"},{"id":"073016","name":"Monteiasi"},{"id":"073017","name":"Montemesola"},{"id":"073018","name":"Monteparano"},{"id":"073019","name":"Mottola"},{"id":"073020","name":"Palagianello"},{"id":"073021","name":"Palagiano"},{"id":"073022","name":"Pulsano"},{"id":"073023","name":"Roccaforzata"},{"id":"073024","name":"San Giorgio Ionico"},{"id":"073025","name":"San Marzano di San Giuseppe"},{"id":"073026","name":"Sava"},{"id":"073027","name":"Taranto"},{"id":"073028","name":"Torricella"},{"id":"073029","name":"Statte"}]},{"id":"ITF44","name":"Brindisi","children":[{"id":"074001","name":"Brindisi"},{"id":"074002","name":"Carovigno"},{"id":"074003","name":"Ceglie Messapica"},{"id":"074004","name":"Cellino San Marco"},{"id":"074005","name":"Cisternino"},{"id":"074006","name":"Erchie"},{"id":"074007","name":"Fasano"},{"id":"074008","name":"Francavilla Fontana"},{"id":"074009","name":"Latiano"},{"id":"074010","name":"Mesagne"},{"id":"074011","name":"Oria"},{"id":"074012","name":"Ostuni"},{"id":"074013","name":"San Donaci"},{"id":"074014","name":"San Michele Salentino"},{"id":"074015","name":"San Pancrazio Salentino"},{"id":"074016","name":"San Pietro Vernotico"},{"id":"074017","name":"San Vito dei Normanni"},{"id":"074018","name":"Torchiarolo"},{"id":"074019","name":"Torre Santa Susanna"},{"id":"074020","name":"Villa Castelli"}]},{"id":"ITF45","name":"Lecce","children":[{"id":"075001","name":"Acquarica del Capo"},{"id":"075002","name":"Alessano"},{"id":"075003","name":"Alezio"},{"id":"075004","name":"Alliste"},{"id":"075005","name":"Andrano"},{"id":"075006","name":"Aradeo"},{"id":"075007","name":"Arnesano"},{"id":"075008","name":"Bagnolo del Salento"},{"id":"075009","name":"Botrugno"},{"id":"075010","name":"Calimera"},{"id":"075011","name":"Campi Salentina"},{"id":"075012","name":"Cannole"},{"id":"075013","name":"Caprarica di Lecce"},{"id":"075014","name":"Carmiano"},{"id":"075015","name":"Carpignano Salentino"},{"id":"075016","name":"Casarano"},{"id":"075017","name":"Castri di Lecce"},{"id":"075018","name":"Castrignano de\' Greci"},{"id":"075019","name":"Castrignano del Capo"},{"id":"075020","name":"Cavallino"},{"id":"075021","name":"Collepasso"},{"id":"075022","name":"Copertino"},{"id":"075023","name":"Corigliano d\'Otranto"},{"id":"075024","name":"Corsano"},{"id":"075025","name":"Cursi"},{"id":"075026","name":"Cutrofiano"},{"id":"075027","name":"Diso"},{"id":"075028","name":"Gagliano del Capo"},{"id":"075029","name":"Galatina"},{"id":"075030","name":"Galatone"},{"id":"075031","name":"Gallipoli"},{"id":"075032","name":"Giuggianello"},{"id":"075033","name":"Giurdignano"},{"id":"075034","name":"Guagnano"},{"id":"075035","name":"Lecce"},{"id":"075036","name":"Lequile"},{"id":"075037","name":"Leverano"},{"id":"075038","name":"Lizzanello"},{"id":"075039","name":"Maglie"},{"id":"075040","name":"Martano"},{"id":"075041","name":"Martignano"},{"id":"075042","name":"Matino"},{"id":"075043","name":"Melendugno"},{"id":"075044","name":"Melissano"},{"id":"075045","name":"Melpignano"},{"id":"075046","name":"Miggiano"},{"id":"075047","name":"Minervino di Lecce"},{"id":"075048","name":"Monteroni di Lecce"},{"id":"075049","name":"Montesano Salentino"},{"id":"075050","name":"Morciano di Leuca"},{"id":"075051","name":"Muro Leccese"},{"id":"075052","name":"Nard\xf2"},{"id":"075053","name":"Neviano"},{"id":"075054","name":"Nociglia"},{"id":"075055","name":"Novoli"},{"id":"075056","name":"Ortelle"},{"id":"075057","name":"Otranto"},{"id":"075058","name":"Palmariggi"},{"id":"075059","name":"Parabita"},{"id":"075060","name":"Pat\xf9"},{"id":"075061","name":"Poggiardo"},{"id":"075062","name":"Presicce"},{"id":"075063","name":"Racale"},{"id":"075064","name":"Ruffano"},{"id":"075065","name":"Salice Salentino"},{"id":"075066","name":"Salve"},{"id":"075067","name":"Sanarica"},{"id":"075068","name":"San Cesario di Lecce"},{"id":"075069","name":"San Donato di Lecce"},{"id":"075070","name":"Sannicola"},{"id":"075071","name":"San Pietro in Lama"},{"id":"075072","name":"Santa Cesarea Terme"},{"id":"075073","name":"Scorrano"},{"id":"075074","name":"Secl\xec"},{"id":"075075","name":"Sogliano Cavour"},{"id":"075076","name":"Soleto"},{"id":"075077","name":"Specchia"},{"id":"075078","name":"Spongano"},{"id":"075079","name":"Squinzano"},{"id":"075080","name":"Sternatia"},{"id":"075081","name":"Supersano"},{"id":"075082","name":"Surano"},{"id":"075083","name":"Surbo"},{"id":"075084","name":"Taurisano"},{"id":"075085","name":"Taviano"},{"id":"075086","name":"Tiggiano"},{"id":"075087","name":"Trepuzzi"},{"id":"075088","name":"Tricase"},{"id":"075089","name":"Tuglie"},{"id":"075090","name":"Ugento"},{"id":"075091","name":"Uggiano la Chiesa"},{"id":"075092","name":"Veglie"},{"id":"075093","name":"Vernole"},{"id":"075094","name":"Zollino"},{"id":"075095","name":"San Cassiano"},{"id":"075096","name":"Castro"},{"id":"075097","name":"Porto Cesareo"},{"id":"075098","name":"Presicce-Acquarica"}]}]},{"id":"ITF5","name":"Basilicata","children":[{"id":"ITF51","name":"Potenza","children":[{"id":"076001","name":"Abriola"},{"id":"076002","name":"Acerenza"},{"id":"076003","name":"Albano di Lucania"},{"id":"076004","name":"Anzi"},{"id":"076005","name":"Armento"},{"id":"076006","name":"Atella"},{"id":"076007","name":"Avigliano"},{"id":"076008","name":"Balvano"},{"id":"076009","name":"Banzi"},{"id":"076010","name":"Baragiano"},{"id":"076011","name":"Barile"},{"id":"076012","name":"Bella"},{"id":"076013","name":"Brienza"},{"id":"076014","name":"Brindisi Montagna"},{"id":"076015","name":"Calvello"},{"id":"076016","name":"Calvera"},{"id":"076017","name":"Campomaggiore"},{"id":"076018","name":"Cancellara"},{"id":"076019","name":"Carbone"},{"id":"076020","name":"San Paolo Albanese"},{"id":"076021","name":"Castelgrande"},{"id":"076022","name":"Castelluccio Inferiore"},{"id":"076023","name":"Castelluccio Superiore"},{"id":"076024","name":"Castelmezzano"},{"id":"076025","name":"Castelsaraceno"},{"id":"076026","name":"Castronuovo di Sant\'Andrea"},{"id":"076027","name":"Cersosimo"},{"id":"076028","name":"Chiaromonte"},{"id":"076029","name":"Corleto Perticara"},{"id":"076030","name":"Episcopia"},{"id":"076031","name":"Fardella"},{"id":"076032","name":"Filiano"},{"id":"076033","name":"Forenza"},{"id":"076034","name":"Francavilla in Sinni"},{"id":"076035","name":"Gallicchio"},{"id":"076036","name":"Genzano di Lucania"},{"id":"076037","name":"Grumento Nova"},{"id":"076038","name":"Guardia Perticara"},{"id":"076039","name":"Lagonegro"},{"id":"076040","name":"Latronico"},{"id":"076041","name":"Laurenzana"},{"id":"076042","name":"Lauria"},{"id":"076043","name":"Lavello"},{"id":"076044","name":"Maratea"},{"id":"076045","name":"Marsico Nuovo"},{"id":"076046","name":"Marsicovetere"},{"id":"076047","name":"Maschito"},{"id":"076048","name":"Melfi"},{"id":"076049","name":"Missanello"},{"id":"076050","name":"Moliterno"},{"id":"076051","name":"Montemilone"},{"id":"076052","name":"Montemurro"},{"id":"076053","name":"Muro Lucano"},{"id":"076054","name":"Nemoli"},{"id":"076055","name":"Noepoli"},{"id":"076056","name":"Oppido Lucano"},{"id":"076057","name":"Palazzo San Gervasio"},{"id":"076058","name":"Pescopagano"},{"id":"076059","name":"Picerno"},{"id":"076060","name":"Pietragalla"},{"id":"076061","name":"Pietrapertosa"},{"id":"076062","name":"Pignola"},{"id":"076063","name":"Potenza"},{"id":"076064","name":"Rapolla"},{"id":"076065","name":"Rapone"},{"id":"076066","name":"Rionero in Vulture"},{"id":"076067","name":"Ripacandida"},{"id":"076068","name":"Rivello"},{"id":"076069","name":"Roccanova"},{"id":"076070","name":"Rotonda"},{"id":"076071","name":"Ruoti"},{"id":"076072","name":"Ruvo del Monte"},{"id":"076073","name":"San Chirico Nuovo"},{"id":"076074","name":"San Chirico Raparo"},{"id":"076075","name":"San Costantino Albanese"},{"id":"076076","name":"San Fele"},{"id":"076077","name":"San Martino d\'Agri"},{"id":"076078","name":"San Severino Lucano"},{"id":"076079","name":"Sant\'Angelo Le Fratte"},{"id":"076080","name":"Sant\'Arcangelo"},{"id":"076081","name":"Sarconi"},{"id":"076082","name":"Sasso di Castalda"},{"id":"076083","name":"Satriano di Lucania"},{"id":"076084","name":"Savoia di Lucania"},{"id":"076085","name":"Senise"},{"id":"076086","name":"Spinoso"},{"id":"076087","name":"Teana"},{"id":"076088","name":"Terranova di Pollino"},{"id":"076089","name":"Tito"},{"id":"076090","name":"Tolve"},{"id":"076091","name":"Tramutola"},{"id":"076092","name":"Trecchina"},{"id":"076093","name":"Trivigno"},{"id":"076094","name":"Vaglio Basilicata"},{"id":"076095","name":"Venosa"},{"id":"076096","name":"Vietri di Potenza"},{"id":"076097","name":"Viggianello"},{"id":"076098","name":"Viggiano"},{"id":"076099","name":"Ginestra"},{"id":"076100","name":"Paterno"}]},{"id":"ITF52","name":"Matera","children":[{"id":"077001","name":"Accettura"},{"id":"077002","name":"Aliano"},{"id":"077003","name":"Bernalda"},{"id":"077004","name":"Calciano"},{"id":"077005","name":"Cirigliano"},{"id":"077006","name":"Colobraro"},{"id":"077007","name":"Craco"},{"id":"077008","name":"Ferrandina"},{"id":"077009","name":"Garaguso"},{"id":"077010","name":"Gorgoglione"},{"id":"077011","name":"Grassano"},{"id":"077012","name":"Grottole"},{"id":"077013","name":"Irsina"},{"id":"077014","name":"Matera"},{"id":"077015","name":"Miglionico"},{"id":"077016","name":"Montalbano Jonico"},{"id":"077017","name":"Montescaglioso"},{"id":"077018","name":"Nova Siri"},{"id":"077019","name":"Oliveto Lucano"},{"id":"077020","name":"Pisticci"},{"id":"077021","name":"Policoro"},{"id":"077022","name":"Pomarico"},{"id":"077023","name":"Rotondella"},{"id":"077024","name":"Salandra"},{"id":"077025","name":"San Giorgio Lucano"},{"id":"077026","name":"San Mauro Forte"},{"id":"077027","name":"Stigliano"},{"id":"077028","name":"Tricarico"},{"id":"077029","name":"Tursi"},{"id":"077030","name":"Valsinni"},{"id":"077031","name":"Scanzano Jonico"}]}]},{"id":"ITF6","name":"Calabria","children":[{"id":"ITF61","name":"Cosenza","children":[{"id":"078001","name":"Acquaformosa"},{"id":"078002","name":"Acquappesa"},{"id":"078003","name":"Acri"},{"id":"078004","name":"Aiello Calabro"},{"id":"078005","name":"Aieta"},{"id":"078006","name":"Albidona"},{"id":"078007","name":"Alessandria del Carretto"},{"id":"078008","name":"Altilia"},{"id":"078009","name":"Altomonte"},{"id":"078010","name":"Amantea"},{"id":"078011","name":"Amendolara"},{"id":"078012","name":"Aprigliano"},{"id":"078013","name":"Belmonte Calabro"},{"id":"078014","name":"Belsito"},{"id":"078015","name":"Belvedere Marittimo"},{"id":"078016","name":"Bianchi"},{"id":"078017","name":"Bisignano"},{"id":"078018","name":"Bocchigliero"},{"id":"078019","name":"Bonifati"},{"id":"078020","name":"Buonvicino"},{"id":"078021","name":"Calopezzati"},{"id":"078022","name":"Caloveto"},{"id":"078023","name":"Campana"},{"id":"078024","name":"Canna"},{"id":"078025","name":"Cariati"},{"id":"078026","name":"Carolei"},{"id":"078027","name":"Carpanzano"},{"id":"078028","name":"Casole Bruzio"},{"id":"078029","name":"Cassano all\'Ionio"},{"id":"078030","name":"Castiglione Cosentino"},{"id":"078031","name":"Castrolibero"},{"id":"078032","name":"Castroregio"},{"id":"078033","name":"Castrovillari"},{"id":"078034","name":"Celico"},{"id":"078035","name":"Cellara"},{"id":"078036","name":"Cerchiara di Calabria"},{"id":"078037","name":"Cerisano"},{"id":"078038","name":"Cervicati"},{"id":"078039","name":"Cerzeto"},{"id":"078040","name":"Cetraro"},{"id":"078041","name":"Civita"},{"id":"078042","name":"Cleto"},{"id":"078043","name":"Colosimi"},{"id":"078044","name":"Corigliano Calabro"},{"id":"078045","name":"Cosenza"},{"id":"078046","name":"Cropalati"},{"id":"078047","name":"Crosia"},{"id":"078048","name":"Diamante"},{"id":"078049","name":"Dipignano"},{"id":"078050","name":"Domanico"},{"id":"078051","name":"Fagnano Castello"},{"id":"078052","name":"Falconara Albanese"},{"id":"078053","name":"Figline Vegliaturo"},{"id":"078054","name":"Firmo"},{"id":"078055","name":"Fiumefreddo Bruzio"},{"id":"078056","name":"Francavilla Marittima"},{"id":"078057","name":"Frascineto"},{"id":"078058","name":"Fuscaldo"},{"id":"078059","name":"Grimaldi"},{"id":"078060","name":"Grisolia"},{"id":"078061","name":"Guardia Piemontese"},{"id":"078062","name":"Lago"},{"id":"078063","name":"Laino Borgo"},{"id":"078064","name":"Laino Castello"},{"id":"078065","name":"Lappano"},{"id":"078066","name":"Lattarico"},{"id":"078067","name":"Longobardi"},{"id":"078068","name":"Longobucco"},{"id":"078069","name":"Lungro"},{"id":"078070","name":"Luzzi"},{"id":"078071","name":"Maier\xe0\xa0"},{"id":"078072","name":"Malito"},{"id":"078073","name":"Malvito"},{"id":"078074","name":"Mandatoriccio"},{"id":"078075","name":"Mangone"},{"id":"078076","name":"Marano Marchesato"},{"id":"078077","name":"Marano Principato"},{"id":"078078","name":"Marzi"},{"id":"078079","name":"Mendicino"},{"id":"078080","name":"Mongrassano"},{"id":"078081","name":"Montalto Uffugo"},{"id":"078082","name":"Montegiordano"},{"id":"078083","name":"Morano Calabro"},{"id":"078084","name":"Mormanno"},{"id":"078085","name":"Mottafollone"},{"id":"078086","name":"Nocara"},{"id":"078087","name":"Oriolo"},{"id":"078088","name":"Orsomarso"},{"id":"078089","name":"Paludi"},{"id":"078090","name":"Panettieri"},{"id":"078091","name":"Paola"},{"id":"078092","name":"Papasidero"},{"id":"078093","name":"Parenti"},{"id":"078094","name":"Paterno Calabro"},{"id":"078095","name":"Pedace"},{"id":"078096","name":"Pedivigliano"},{"id":"078097","name":"Piane Crati"},{"id":"078098","name":"Pietrafitta"},{"id":"078099","name":"Pietrapaola"},{"id":"078100","name":"Plataci"},{"id":"078101","name":"Praia a Mare"},{"id":"078102","name":"Rende"},{"id":"078103","name":"Rocca Imperiale"},{"id":"078104","name":"Roggiano Gravina"},{"id":"078105","name":"Rogliano"},{"id":"078106","name":"Rose"},{"id":"078107","name":"Roseto Capo Spulico"},{"id":"078108","name":"Rossano"},{"id":"078109","name":"Rota Greca"},{"id":"078110","name":"Rovito"},{"id":"078111","name":"San Basile"},{"id":"078112","name":"San Benedetto Ullano"},{"id":"078113","name":"San Cosmo Albanese"},{"id":"078114","name":"San Demetrio Corone"},{"id":"078115","name":"San Donato di Ninea"},{"id":"078116","name":"San Fili"},{"id":"078117","name":"Sangineto"},{"id":"078118","name":"San Giorgio Albanese"},{"id":"078119","name":"San Giovanni in Fiore"},{"id":"078120","name":"San Lorenzo Bellizzi"},{"id":"078121","name":"San Lorenzo del Vallo"},{"id":"078122","name":"San Lucido"},{"id":"078123","name":"San Marco Argentano"},{"id":"078124","name":"San Martino di Finita"},{"id":"078125","name":"San Nicola Arcella"},{"id":"078126","name":"San Pietro in Amantea"},{"id":"078127","name":"San Pietro in Guarano"},{"id":"078128","name":"San Sosti"},{"id":"078129","name":"Santa Caterina Albanese"},{"id":"078130","name":"Santa Domenica Talao"},{"id":"078131","name":"Sant\'Agata di Esaro"},{"id":"078132","name":"Santa Maria del Cedro"},{"id":"078133","name":"Santa Sofia d\'Epiro"},{"id":"078134","name":"Santo Stefano di Rogliano"},{"id":"078135","name":"San Vincenzo La Costa"},{"id":"078136","name":"Saracena"},{"id":"078137","name":"Scala Coeli"},{"id":"078138","name":"Scalea"},{"id":"078139","name":"Scigliano"},{"id":"078140","name":"Serra d\'Aiello"},{"id":"078141","name":"Serra Pedace"},{"id":"078142","name":"Spezzano Albanese"},{"id":"078143","name":"Spezzano della Sila"},{"id":"078144","name":"Spezzano Piccolo"},{"id":"078145","name":"Tarsia"},{"id":"078146","name":"Terranova da Sibari"},{"id":"078147","name":"Terravecchia"},{"id":"078148","name":"Torano Castello"},{"id":"078149","name":"Tortora"},{"id":"078150","name":"Trebisacce"},{"id":"078151","name":"Trenta"},{"id":"078152","name":"Vaccarizzo Albanese"},{"id":"078153","name":"Verbicaro"},{"id":"078154","name":"Villapiana"},{"id":"078155","name":"Zumpano"},{"id":"078156","name":"Casali del Manco"},{"id":"078157","name":"Corigliano-Rossano"}]},{"id":"ITF62","name":"Crotone","children":[{"id":"101001","name":"Belvedere di Spinello"},{"id":"101002","name":"Caccuri"},{"id":"101003","name":"Carfizzi"},{"id":"101004","name":"Casabona"},{"id":"101005","name":"Castelsilano"},{"id":"101006","name":"Cerenzia"},{"id":"101007","name":"Cir\xf2"},{"id":"101008","name":"Cir\xf2 Marina"},{"id":"101009","name":"Cotronei"},{"id":"101010","name":"Crotone"},{"id":"101011","name":"Crucoli"},{"id":"101012","name":"Cutro"},{"id":"101013","name":"Isola di Capo Rizzuto"},{"id":"101014","name":"Melissa"},{"id":"101015","name":"Mesoraca"},{"id":"101016","name":"Pallagorio"},{"id":"101017","name":"Petilia Policastro"},{"id":"101018","name":"Roccabernarda"},{"id":"101019","name":"Rocca di Neto"},{"id":"101020","name":"San Mauro Marchesato"},{"id":"101021","name":"San Nicola dell\'Alto"},{"id":"101022","name":"Santa Severina"},{"id":"101023","name":"Savelli"},{"id":"101024","name":"Scandale"},{"id":"101025","name":"Strongoli"},{"id":"101026","name":"Umbriatico"},{"id":"101027","name":"Verzino"}]},{"id":"ITF63","name":"Catanzaro","children":[{"id":"079001","name":"Acquaro"},{"id":"079002","name":"Albi"},{"id":"079003","name":"Amaroni"},{"id":"079004","name":"Amato"},{"id":"079005","name":"Andali"},{"id":"079006","name":"Arena"},{"id":"079007","name":"Argusto"},{"id":"079008","name":"Badolato"},{"id":"079009","name":"Belcastro"},{"id":"079010","name":"Belvedere di Spinello"},{"id":"079011","name":"Borgia"},{"id":"079012","name":"Botricello"},{"id":"079013","name":"Briatico"},{"id":"079014","name":"Brognaturo"},{"id":"079015","name":"Caccuri"},{"id":"079016","name":"Capistrano"},{"id":"079017","name":"Caraffa di Catanzaro"},{"id":"079018","name":"Cardinale"},{"id":"079019","name":"Carfizzi"},{"id":"079020","name":"Carlopoli"},{"id":"079021","name":"Casabona"},{"id":"079022","name":"Castelsilano"},{"id":"079023","name":"Catanzaro"},{"id":"079024","name":"Cenadi"},{"id":"079025","name":"Centrache"},{"id":"079026","name":"Cerenzia"},{"id":"079027","name":"Cerva"},{"id":"079028","name":"Cessaniti"},{"id":"079029","name":"Chiaravalle Centrale"},{"id":"079030","name":"Cicala"},{"id":"079031","name":"Cir\xf2"},{"id":"079032","name":"Cir\xf2 Marina"},{"id":"079033","name":"Conflenti"},{"id":"079034","name":"Cortale"},{"id":"079035","name":"Cotronei"},{"id":"079036","name":"Cropani"},{"id":"079037","name":"Crotone"},{"id":"079038","name":"Crucoli"},{"id":"079039","name":"Curinga"},{"id":"079040","name":"Cutro"},{"id":"079041","name":"Das\xe0\xa0"},{"id":"079042","name":"Davoli"},{"id":"079043","name":"Decollatura"},{"id":"079044","name":"Dinami"},{"id":"079045","name":"Drapia"},{"id":"079046","name":"Fabrizia"},{"id":"079047","name":"Falerna"},{"id":"079048","name":"Feroleto Antico"},{"id":"079049","name":"Filadelfia"},{"id":"079050","name":"Filandari"},{"id":"079051","name":"Filogaso"},{"id":"079052","name":"Fossato Serralta"},{"id":"079053","name":"Francavilla Angitola"},{"id":"079054","name":"Francica"},{"id":"079055","name":"Gagliato"},{"id":"079056","name":"Gasperina"},{"id":"079057","name":"Gerocarne"},{"id":"079058","name":"Gimigliano"},{"id":"079059","name":"Girifalco"},{"id":"079060","name":"Gizzeria"},{"id":"079061","name":"Guardavalle"},{"id":"079062","name":"Ionadi"},{"id":"079063","name":"Isca sullo Ionio"},{"id":"079064","name":"Isola di Capo Rizzuto"},{"id":"079065","name":"Jacurso"},{"id":"079066","name":"Joppolo"},{"id":"079067","name":"Limbadi"},{"id":"079068","name":"Magisano"},{"id":"079069","name":"Maida"},{"id":"079070","name":"Maierato"},{"id":"079071","name":"Marcedusa"},{"id":"079072","name":"Marcellinara"},{"id":"079073","name":"Martirano"},{"id":"079074","name":"Martirano Lombardo"},{"id":"079075","name":"Melissa"},{"id":"079076","name":"Mesoraca"},{"id":"079077","name":"Miglierina"},{"id":"079078","name":"Mileto"},{"id":"079079","name":"Mongiana"},{"id":"079080","name":"Montauro"},{"id":"079081","name":"Montepaone"},{"id":"079082","name":"Monterosso Calabro"},{"id":"079083","name":"Motta Santa Lucia"},{"id":"079084","name":"Nardodipace"},{"id":"079086","name":"Nicotera"},{"id":"079087","name":"Nocera Terinese"},{"id":"079088","name":"Olivadi"},{"id":"079089","name":"Palermiti"},{"id":"079090","name":"Pallagorio"},{"id":"079091","name":"Parghelia"},{"id":"079092","name":"Pentone"},{"id":"079093","name":"Petilia Policastro"},{"id":"079094","name":"Petrizzi"},{"id":"079095","name":"Petron\xe0\xa0"},{"id":"079096","name":"Pianopoli"},{"id":"079097","name":"Pizzo"},{"id":"079098","name":"Pizzoni"},{"id":"079099","name":"Platania"},{"id":"079100","name":"Polia"},{"id":"079101","name":"Ricadi"},{"id":"079102","name":"Roccabernarda"},{"id":"079103","name":"Rocca di Neto"},{"id":"079104","name":"Rombiolo"},{"id":"079106","name":"San Calogero"},{"id":"079107","name":"San Costantino Calabro"},{"id":"079108","name":"San Floro"},{"id":"079109","name":"San Gregorio d\'Ippona"},{"id":"079110","name":"San Mango d\'Aquino"},{"id":"079111","name":"San Mauro Marchesato"},{"id":"079112","name":"San Nicola da Crissa"},{"id":"079113","name":"San Nicola dell\'Alto"},{"id":"079114","name":"San Pietro a Maida"},{"id":"079115","name":"San Pietro Apostolo"},{"id":"079116","name":"San Sostene"},{"id":"079117","name":"Santa Caterina dello Ionio"},{"id":"079118","name":"Sant\'Andrea Apostolo dello Ionio"},{"id":"079119","name":"Santa Severina"},{"id":"079121","name":"Sant\'Onofrio"},{"id":"079122","name":"San Vito sullo Ionio"},{"id":"079123","name":"Satriano"},{"id":"079124","name":"Savelli"},{"id":"079125","name":"Scandale"},{"id":"079126","name":"Sellia"},{"id":"079127","name":"Sellia Marina"},{"id":"079128","name":"Serra San Bruno"},{"id":"079129","name":"Serrastretta"},{"id":"079130","name":"Sersale"},{"id":"079131","name":"Settingiano"},{"id":"079132","name":"Simbario"},{"id":"079133","name":"Simeri Crichi"},{"id":"079134","name":"Sorbo San Basile"},{"id":"079135","name":"Sorianello"},{"id":"079136","name":"Soriano Calabro"},{"id":"079137","name":"Soverato"},{"id":"079138","name":"Soveria Mannelli"},{"id":"079139","name":"Soveria Simeri"},{"id":"079140","name":"Spadola"},{"id":"079141","name":"Spilinga"},{"id":"079142","name":"Squillace"},{"id":"079143","name":"Stalett\xec"},{"id":"079144","name":"Stefanaconi"},{"id":"079145","name":"Strongoli"},{"id":"079146","name":"Taverna"},{"id":"079147","name":"Tiriolo"},{"id":"079148","name":"Torre di Ruggiero"},{"id":"079149","name":"Tropea"},{"id":"079150","name":"Umbriatico"},{"id":"079151","name":"Vallefiorita"},{"id":"079152","name":"Vallelonga"},{"id":"079153","name":"Vazzano"},{"id":"079154","name":"Verzino"},{"id":"079155","name":"Vibo Valentia"},{"id":"079156","name":"Zaccanopoli"},{"id":"079157","name":"Zagarise"},{"id":"079158","name":"Zambrone"},{"id":"079159","name":"Zungri"},{"id":"079160","name":"Lamezia Terme"}]},{"id":"ITF64","name":"Vibo Valentia","children":[{"id":"102001","name":"Acquaro"},{"id":"102002","name":"Arena"},{"id":"102003","name":"Briatico"},{"id":"102004","name":"Brognaturo"},{"id":"102005","name":"Capistrano"},{"id":"102006","name":"Cessaniti"},{"id":"102007","name":"Das\xe0\xa0"},{"id":"102008","name":"Dinami"},{"id":"102009","name":"Drapia"},{"id":"102010","name":"Fabrizia"},{"id":"102011","name":"Filadelfia"},{"id":"102012","name":"Filandari"},{"id":"102013","name":"Filogaso"},{"id":"102014","name":"Francavilla Angitola"},{"id":"102015","name":"Francica"},{"id":"102016","name":"Gerocarne"},{"id":"102017","name":"Ionadi"},{"id":"102018","name":"Joppolo"},{"id":"102019","name":"Limbadi"},{"id":"102020","name":"Maierato"},{"id":"102021","name":"Mileto"},{"id":"102022","name":"Mongiana"},{"id":"102023","name":"Monterosso Calabro"},{"id":"102024","name":"Nardodipace"},{"id":"102025","name":"Nicotera"},{"id":"102026","name":"Parghelia"},{"id":"102027","name":"Pizzo"},{"id":"102028","name":"Pizzoni"},{"id":"102029","name":"Polia"},{"id":"102030","name":"Ricadi"},{"id":"102031","name":"Rombiolo"},{"id":"102032","name":"San Calogero"},{"id":"102033","name":"San Costantino Calabro"},{"id":"102034","name":"San Gregorio d\'Ippona"},{"id":"102035","name":"San Nicola da Crissa"},{"id":"102036","name":"Sant\'Onofrio"},{"id":"102037","name":"Serra San Bruno"},{"id":"102038","name":"Simbario"},{"id":"102039","name":"Sorianello"},{"id":"102040","name":"Soriano Calabro"},{"id":"102041","name":"Spadola"},{"id":"102042","name":"Spilinga"},{"id":"102043","name":"Stefanaconi"},{"id":"102044","name":"Tropea"},{"id":"102045","name":"Vallelonga"},{"id":"102046","name":"Vazzano"},{"id":"102047","name":"Vibo Valentia"},{"id":"102048","name":"Zaccanopoli"},{"id":"102049","name":"Zambrone"},{"id":"102050","name":"Zungri"}]},{"id":"ITF65","name":"Reggio di Calabria","children":[{"id":"080001","name":"Africo"},{"id":"080002","name":"Agnana Calabra"},{"id":"080003","name":"Anoia"},{"id":"080004","name":"Antonimina"},{"id":"080005","name":"Ardore"},{"id":"080006","name":"Bagaladi"},{"id":"080007","name":"Bagnara Calabra"},{"id":"080008","name":"Benestare"},{"id":"080009","name":"Bianco"},{"id":"080010","name":"Bivongi"},{"id":"080011","name":"Bova"},{"id":"080012","name":"Bovalino"},{"id":"080013","name":"Bova Marina"},{"id":"080014","name":"Brancaleone"},{"id":"080015","name":"Bruzzano Zeffirio"},{"id":"080016","name":"Calanna"},{"id":"080017","name":"Camini"},{"id":"080018","name":"Campo Calabro"},{"id":"080019","name":"Candidoni"},{"id":"080020","name":"Canolo"},{"id":"080021","name":"Caraffa del Bianco"},{"id":"080022","name":"Cardeto"},{"id":"080023","name":"Careri"},{"id":"080024","name":"Casignana"},{"id":"080025","name":"Caulonia"},{"id":"080026","name":"Cimin\xe0\xa0"},{"id":"080027","name":"Cinquefrondi"},{"id":"080028","name":"Cittanova"},{"id":"080029","name":"Condofuri"},{"id":"080030","name":"Cosoleto"},{"id":"080031","name":"Delianuova"},{"id":"080032","name":"Feroleto della Chiesa"},{"id":"080033","name":"Ferruzzano"},{"id":"080034","name":"Fiumara"},{"id":"080035","name":"Galatro"},{"id":"080036","name":"Gerace"},{"id":"080037","name":"Giffone"},{"id":"080038","name":"Gioia Tauro"},{"id":"080039","name":"Gioiosa Ionica"},{"id":"080040","name":"Grotteria"},{"id":"080041","name":"Laganadi"},{"id":"080042","name":"Laureana di Borrello"},{"id":"080043","name":"Locri"},{"id":"080044","name":"Mammola"},{"id":"080045","name":"Marina di Gioiosa Ionica"},{"id":"080046","name":"Maropati"},{"id":"080047","name":"Martone"},{"id":"080048","name":"Melicucc\xe0\xa0"},{"id":"080049","name":"Melicucco"},{"id":"080050","name":"Melito di Porto Salvo"},{"id":"080051","name":"Molochio"},{"id":"080052","name":"Monasterace"},{"id":"080053","name":"Montebello Jonico"},{"id":"080054","name":"Motta San Giovanni"},{"id":"080055","name":"Oppido Mamertina"},{"id":"080056","name":"Palizzi"},{"id":"080057","name":"Palmi"},{"id":"080058","name":"Pazzano"},{"id":"080059","name":"Placanica"},{"id":"080060","name":"Plat\xec"},{"id":"080061","name":"Polistena"},{"id":"080062","name":"Portigliola"},{"id":"080063","name":"Reggio di Calabria"},{"id":"080064","name":"Riace"},{"id":"080065","name":"Rizziconi"},{"id":"080066","name":"Roccaforte del Greco"},{"id":"080067","name":"Roccella Ionica"},{"id":"080068","name":"Roghudi"},{"id":"080069","name":"Rosarno"},{"id":"080070","name":"Samo"},{"id":"080071","name":"San Giorgio Morgeto"},{"id":"080072","name":"San Giovanni di Gerace"},{"id":"080073","name":"San Lorenzo"},{"id":"080074","name":"San Luca"},{"id":"080075","name":"San Pietro di Carid\xe0\xa0"},{"id":"080076","name":"San Procopio"},{"id":"080077","name":"San Roberto"},{"id":"080078","name":"Santa Cristina d\'Aspromonte"},{"id":"080079","name":"Sant\'Agata del Bianco"},{"id":"080080","name":"Sant\'Alessio in Aspromonte"},{"id":"080081","name":"Sant\'Eufemia d\'Aspromonte"},{"id":"080082","name":"Sant\'Ilario dello Ionio"},{"id":"080083","name":"Santo Stefano in Aspromonte"},{"id":"080084","name":"Scido"},{"id":"080085","name":"Scilla"},{"id":"080086","name":"Seminara"},{"id":"080087","name":"Serrata"},{"id":"080088","name":"Siderno"},{"id":"080089","name":"Sinopoli"},{"id":"080090","name":"Staiti"},{"id":"080091","name":"Stignano"},{"id":"080092","name":"Stilo"},{"id":"080093","name":"Taurianova"},{"id":"080094","name":"Terranova Sappo Minulio"},{"id":"080095","name":"Varapodio"},{"id":"080096","name":"Villa San Giovanni"},{"id":"080097","name":"San Ferdinando"}]}]},{"id":"ITG1","name":"Sicilia","children":[{"id":"ITG11","name":"Trapani","children":[{"id":"081001","name":"Alcamo"},{"id":"081002","name":"Buseto Palizzolo"},{"id":"081003","name":"Calatafimi-Segesta"},{"id":"081004","name":"Campobello di Mazara"},{"id":"081005","name":"Castellammare del Golfo"},{"id":"081006","name":"Castelvetrano"},{"id":"081007","name":"Custonaci"},{"id":"081008","name":"Erice"},{"id":"081009","name":"Favignana"},{"id":"081010","name":"Gibellina"},{"id":"081011","name":"Marsala"},{"id":"081012","name":"Mazara del Vallo"},{"id":"081013","name":"Paceco"},{"id":"081014","name":"Pantelleria"},{"id":"081015","name":"Partanna"},{"id":"081016","name":"Poggioreale"},{"id":"081017","name":"Salaparuta"},{"id":"081018","name":"Salemi"},{"id":"081019","name":"Santa Ninfa"},{"id":"081020","name":"San Vito Lo Capo"},{"id":"081021","name":"Trapani"},{"id":"081022","name":"Valderice"},{"id":"081023","name":"Vita"},{"id":"081024","name":"Petrosino"}]},{"id":"ITG12","name":"Palermo","children":[{"id":"082001","name":"Alia"},{"id":"082002","name":"Alimena"},{"id":"082003","name":"Aliminusa"},{"id":"082004","name":"Altavilla Milicia"},{"id":"082005","name":"Altofonte"},{"id":"082006","name":"Bagheria"},{"id":"082007","name":"Balestrate"},{"id":"082008","name":"Baucina"},{"id":"082009","name":"Belmonte Mezzagno"},{"id":"082010","name":"Bisacquino"},{"id":"082011","name":"Bolognetta"},{"id":"082012","name":"Bompietro"},{"id":"082013","name":"Borgetto"},{"id":"082014","name":"Caccamo"},{"id":"082015","name":"Caltavuturo"},{"id":"082016","name":"Campofelice di Fitalia"},{"id":"082017","name":"Campofelice di Roccella"},{"id":"082018","name":"Campofiorito"},{"id":"082019","name":"Camporeale"},{"id":"082020","name":"Capaci"},{"id":"082021","name":"Carini"},{"id":"082022","name":"Castelbuono"},{"id":"082023","name":"Casteldaccia"},{"id":"082024","name":"Castellana Sicula"},{"id":"082025","name":"Castronovo di Sicilia"},{"id":"082026","name":"Cefal\xe0 Diana"},{"id":"082027","name":"Cefal\xf9"},{"id":"082028","name":"Cerda"},{"id":"082029","name":"Chiusa Sclafani"},{"id":"082030","name":"Ciminna"},{"id":"082031","name":"Cinisi"},{"id":"082032","name":"Collesano"},{"id":"082033","name":"Contessa Entellina"},{"id":"082034","name":"Corleone"},{"id":"082035","name":"Ficarazzi"},{"id":"082036","name":"Gangi"},{"id":"082037","name":"Geraci Siculo"},{"id":"082038","name":"Giardinello"},{"id":"082039","name":"Giuliana"},{"id":"082040","name":"Godrano"},{"id":"082041","name":"Gratteri"},{"id":"082042","name":"Isnello"},{"id":"082043","name":"Isola delle Femmine"},{"id":"082044","name":"Lascari"},{"id":"082045","name":"Lercara Friddi"},{"id":"082046","name":"Marineo"},{"id":"082047","name":"Mezzojuso"},{"id":"082048","name":"Misilmeri"},{"id":"082049","name":"Monreale"},{"id":"082050","name":"Montelepre"},{"id":"082051","name":"Montemaggiore Belsito"},{"id":"082052","name":"Palazzo Adriano"},{"id":"082053","name":"Palermo"},{"id":"082054","name":"Partinico"},{"id":"082055","name":"Petralia Soprana"},{"id":"082056","name":"Petralia Sottana"},{"id":"082057","name":"Piana degli Albanesi"},{"id":"082058","name":"Polizzi Generosa"},{"id":"082059","name":"Pollina"},{"id":"082060","name":"Prizzi"},{"id":"082061","name":"Roccamena"},{"id":"082062","name":"Roccapalumba"},{"id":"082063","name":"San Cipirello"},{"id":"082064","name":"San Giuseppe Jato"},{"id":"082065","name":"San Mauro Castelverde"},{"id":"082066","name":"Santa Cristina Gela"},{"id":"082067","name":"Santa Flavia"},{"id":"082068","name":"Sciara"},{"id":"082069","name":"Sclafani Bagni"},{"id":"082070","name":"Termini Imerese"},{"id":"082071","name":"Terrasini"},{"id":"082072","name":"Torretta"},{"id":"082073","name":"Trabia"},{"id":"082074","name":"Trappeto"},{"id":"082075","name":"Ustica"},{"id":"082076","name":"Valledolmo"},{"id":"082077","name":"Ventimiglia di Sicilia"},{"id":"082078","name":"Vicari"},{"id":"082079","name":"Villabate"},{"id":"082080","name":"Villafrati"},{"id":"082081","name":"Scillato"},{"id":"082082","name":"Blufi"}]},{"id":"ITG13","name":"Messina","children":[{"id":"083001","name":"Alcara li Fusi"},{"id":"083002","name":"Al\xec"},{"id":"083003","name":"Al\xec Terme"},{"id":"083004","name":"Antillo"},{"id":"083005","name":"Barcellona Pozzo di Gotto"},{"id":"083006","name":"Basic\xf2"},{"id":"083007","name":"Brolo"},{"id":"083008","name":"Capizzi"},{"id":"083009","name":"Capo d\'Orlando"},{"id":"083010","name":"Capri Leone"},{"id":"083011","name":"Caronia"},{"id":"083012","name":"Casalvecchio Siculo"},{"id":"083013","name":"Castel di Lucio"},{"id":"083014","name":"Castell\'Umberto"},{"id":"083015","name":"Castelmola"},{"id":"083016","name":"Castroreale"},{"id":"083017","name":"Cesar\xf2"},{"id":"083018","name":"Condr\xf2"},{"id":"083019","name":"Falcone"},{"id":"083020","name":"Ficarra"},{"id":"083021","name":"Fiumedinisi"},{"id":"083022","name":"Floresta"},{"id":"083023","name":"Fondachelli-Fantina"},{"id":"083024","name":"Forza d\'Agr\xf2"},{"id":"083025","name":"Francavilla di Sicilia"},{"id":"083026","name":"Frazzan\xf2"},{"id":"083027","name":"Furci Siculo"},{"id":"083028","name":"Furnari"},{"id":"083029","name":"Gaggi"},{"id":"083030","name":"Galati Mamertino"},{"id":"083031","name":"Gallodoro"},{"id":"083032","name":"Giardini-Naxos"},{"id":"083033","name":"Gioiosa Marea"},{"id":"083034","name":"Graniti"},{"id":"083035","name":"Gualtieri Sicamin\xf2"},{"id":"083036","name":"Itala"},{"id":"083037","name":"Leni"},{"id":"083038","name":"Letojanni"},{"id":"083039","name":"Librizzi"},{"id":"083040","name":"Limina"},{"id":"083041","name":"Lipari"},{"id":"083042","name":"Longi"},{"id":"083043","name":"Malfa"},{"id":"083044","name":"Malvagna"},{"id":"083045","name":"Mandanici"},{"id":"083046","name":"Mazzarr\xe0 Sant\'Andrea"},{"id":"083047","name":"Mer\xec"},{"id":"083048","name":"Messina"},{"id":"083049","name":"Milazzo"},{"id":"083050","name":"Militello Rosmarino"},{"id":"083051","name":"Mirto"},{"id":"083052","name":"Mistretta"},{"id":"083053","name":"Moio Alcantara"},{"id":"083054","name":"Monforte San Giorgio"},{"id":"083055","name":"Mongiuffi Melia"},{"id":"083056","name":"Montagnareale"},{"id":"083057","name":"Montalbano Elicona"},{"id":"083058","name":"Motta Camastra"},{"id":"083059","name":"Motta d\'Affermo"},{"id":"083060","name":"Naso"},{"id":"083061","name":"Nizza di Sicilia"},{"id":"083062","name":"Novara di Sicilia"},{"id":"083063","name":"Oliveri"},{"id":"083064","name":"Pace del Mela"},{"id":"083065","name":"Pagliara"},{"id":"083066","name":"Patti"},{"id":"083067","name":"Pettineo"},{"id":"083068","name":"Piraino"},{"id":"083069","name":"Raccuja"},{"id":"083070","name":"Reitano"},{"id":"083071","name":"Roccafiorita"},{"id":"083072","name":"Roccalumera"},{"id":"083073","name":"Roccavaldina"},{"id":"083074","name":"Roccella Valdemone"},{"id":"083075","name":"Rod\xec Milici"},{"id":"083076","name":"Rometta"},{"id":"083077","name":"San Filippo del Mela"},{"id":"083078","name":"San Fratello"},{"id":"083079","name":"San Marco d\'Alunzio"},{"id":"083080","name":"San Pier Niceto"},{"id":"083081","name":"San Piero Patti"},{"id":"083082","name":"San Salvatore di Fitalia"},{"id":"083083","name":"Santa Domenica Vittoria"},{"id":"083084","name":"Sant\'Agata di Militello"},{"id":"083085","name":"Sant\'Alessio Siculo"},{"id":"083086","name":"Santa Lucia del Mela"},{"id":"083087","name":"Santa Marina Salina"},{"id":"083088","name":"Sant\'Angelo di Brolo"},{"id":"083089","name":"Santa Teresa di Riva"},{"id":"083090","name":"San Teodoro"},{"id":"083091","name":"Santo Stefano di Camastra"},{"id":"083092","name":"Saponara"},{"id":"083093","name":"Savoca"},{"id":"083094","name":"Scaletta Zanclea"},{"id":"083095","name":"Sinagra"},{"id":"083096","name":"Spadafora"},{"id":"083097","name":"Taormina"},{"id":"083098","name":"Torregrotta"},{"id":"083099","name":"Tortorici"},{"id":"083100","name":"Tripi"},{"id":"083101","name":"Tusa"},{"id":"083102","name":"Ucria"},{"id":"083103","name":"Valdina"},{"id":"083104","name":"Venetico"},{"id":"083105","name":"Villafranca Tirrena"},{"id":"083106","name":"Terme Vigliatore"},{"id":"083107","name":"Acquedolci"},{"id":"083108","name":"Torrenova"}]},{"id":"ITG14","name":"Agrigento","children":[{"id":"084001","name":"Agrigento"},{"id":"084002","name":"Alessandria della Rocca"},{"id":"084003","name":"Aragona"},{"id":"084004","name":"Bivona"},{"id":"084005","name":"Burgio"},{"id":"084006","name":"Calamonaci"},{"id":"084007","name":"Caltabellotta"},{"id":"084008","name":"Camastra"},{"id":"084009","name":"Cammarata"},{"id":"084010","name":"Campobello di Licata"},{"id":"084011","name":"Canicatt\xec"},{"id":"084012","name":"Casteltermini"},{"id":"084013","name":"Castrofilippo"},{"id":"084014","name":"Cattolica Eraclea"},{"id":"084015","name":"Cianciana"},{"id":"084016","name":"Comitini"},{"id":"084017","name":"Favara"},{"id":"084018","name":"Grotte"},{"id":"084019","name":"Joppolo Giancaxio"},{"id":"084020","name":"Lampedusa e Linosa"},{"id":"084021","name":"Licata"},{"id":"084022","name":"Lucca Sicula"},{"id":"084023","name":"Menfi"},{"id":"084024","name":"Montallegro"},{"id":"084025","name":"Montevago"},{"id":"084026","name":"Naro"},{"id":"084027","name":"Palma di Montechiaro"},{"id":"084028","name":"Porto Empedocle"},{"id":"084029","name":"Racalmuto"},{"id":"084030","name":"Raffadali"},{"id":"084031","name":"Ravanusa"},{"id":"084032","name":"Realmonte"},{"id":"084033","name":"Ribera"},{"id":"084034","name":"Sambuca di Sicilia"},{"id":"084035","name":"San Biagio Platani"},{"id":"084036","name":"San Giovanni Gemini"},{"id":"084037","name":"Santa Elisabetta"},{"id":"084038","name":"Santa Margherita di Belice"},{"id":"084039","name":"Sant\'Angelo Muxaro"},{"id":"084040","name":"Santo Stefano Quisquina"},{"id":"084041","name":"Sciacca"},{"id":"084042","name":"Siculiana"},{"id":"084043","name":"Villafranca Sicula"}]},{"id":"ITG15","name":"Caltanissetta","children":[{"id":"085001","name":"Acquaviva Platani"},{"id":"085002","name":"Bompensiere"},{"id":"085003","name":"Butera"},{"id":"085004","name":"Caltanissetta"},{"id":"085005","name":"Campofranco"},{"id":"085006","name":"Delia"},{"id":"085007","name":"Gela"},{"id":"085008","name":"Marianopoli"},{"id":"085009","name":"Mazzarino"},{"id":"085010","name":"Milena"},{"id":"085011","name":"Montedoro"},{"id":"085012","name":"Mussomeli"},{"id":"085013","name":"Niscemi"},{"id":"085014","name":"Resuttano"},{"id":"085015","name":"Riesi"},{"id":"085016","name":"San Cataldo"},{"id":"085017","name":"Santa Caterina Villarmosa"},{"id":"085018","name":"Serradifalco"},{"id":"085019","name":"Sommatino"},{"id":"085020","name":"Sutera"},{"id":"085021","name":"Vallelunga Pratameno"},{"id":"085022","name":"Villalba"}]},{"id":"ITG16","name":"Enna","children":[{"id":"086001","name":"Agira"},{"id":"086002","name":"Aidone"},{"id":"086003","name":"Assoro"},{"id":"086004","name":"Barrafranca"},{"id":"086005","name":"Calascibetta"},{"id":"086006","name":"Catenanuova"},{"id":"086007","name":"Centuripe"},{"id":"086008","name":"Cerami"},{"id":"086009","name":"Enna"},{"id":"086010","name":"Gagliano Castelferrato"},{"id":"086011","name":"Leonforte"},{"id":"086012","name":"Nicosia"},{"id":"086013","name":"Nissoria"},{"id":"086014","name":"Piazza Armerina"},{"id":"086015","name":"Pietraperzia"},{"id":"086016","name":"Regalbuto"},{"id":"086017","name":"Sperlinga"},{"id":"086018","name":"Troina"},{"id":"086019","name":"Valguarnera Caropepe"},{"id":"086020","name":"Villarosa"}]},{"id":"ITG17","name":"Catania","children":[{"id":"087001","name":"Aci Bonaccorsi"},{"id":"087002","name":"Aci Castello"},{"id":"087003","name":"Aci Catena"},{"id":"087004","name":"Acireale"},{"id":"087005","name":"Aci Sant\'Antonio"},{"id":"087006","name":"Adrano"},{"id":"087007","name":"Belpasso"},{"id":"087008","name":"Biancavilla"},{"id":"087009","name":"Bronte"},{"id":"087010","name":"Calatabiano"},{"id":"087011","name":"Caltagirone"},{"id":"087012","name":"Camporotondo Etneo"},{"id":"087013","name":"Castel di Iudica"},{"id":"087014","name":"Castiglione di Sicilia"},{"id":"087015","name":"Catania"},{"id":"087016","name":"Fiumefreddo di Sicilia"},{"id":"087017","name":"Giarre"},{"id":"087018","name":"Grammichele"},{"id":"087019","name":"Gravina di Catania"},{"id":"087020","name":"Licodia Eubea"},{"id":"087021","name":"Linguaglossa"},{"id":"087022","name":"Maletto"},{"id":"087023","name":"Mascali"},{"id":"087024","name":"Mascalucia"},{"id":"087025","name":"Militello in Val di Catania"},{"id":"087026","name":"Milo"},{"id":"087027","name":"Mineo"},{"id":"087028","name":"Mirabella Imbaccari"},{"id":"087029","name":"Misterbianco"},{"id":"087030","name":"Motta Sant\'Anastasia"},{"id":"087031","name":"Nicolosi"},{"id":"087032","name":"Palagonia"},{"id":"087033","name":"Patern\xf2"},{"id":"087034","name":"Pedara"},{"id":"087035","name":"Piedimonte Etneo"},{"id":"087036","name":"Raddusa"},{"id":"087037","name":"Ramacca"},{"id":"087038","name":"Randazzo"},{"id":"087039","name":"Riposto"},{"id":"087040","name":"San Cono"},{"id":"087041","name":"San Giovanni la Punta"},{"id":"087042","name":"San Gregorio di Catania"},{"id":"087043","name":"San Michele di Ganzaria"},{"id":"087044","name":"San Pietro Clarenza"},{"id":"087045","name":"Sant\'Agata li Battiati"},{"id":"087046","name":"Sant\'Alfio"},{"id":"087047","name":"Santa Maria di Licodia"},{"id":"087048","name":"Santa Venerina"},{"id":"087049","name":"Scordia"},{"id":"087050","name":"Trecastagni"},{"id":"087051","name":"Tremestieri Etneo"},{"id":"087052","name":"Valverde"},{"id":"087053","name":"Viagrande"},{"id":"087054","name":"Vizzini"},{"id":"087055","name":"Zafferana Etnea"},{"id":"087056","name":"Mazzarrone"},{"id":"087057","name":"Maniace"},{"id":"087058","name":"Ragalna"}]},{"id":"ITG18","name":"Ragusa","children":[{"id":"088001","name":"Acate"},{"id":"088002","name":"Chiaramonte Gulfi"},{"id":"088003","name":"Comiso"},{"id":"088004","name":"Giarratana"},{"id":"088005","name":"Ispica"},{"id":"088006","name":"Modica"},{"id":"088007","name":"Monterosso Almo"},{"id":"088008","name":"Pozzallo"},{"id":"088009","name":"Ragusa"},{"id":"088010","name":"Santa Croce Camerina"},{"id":"088011","name":"Scicli"},{"id":"088012","name":"Vittoria"}]},{"id":"ITG19","name":"Siracusa","children":[{"id":"089001","name":"Augusta"},{"id":"089002","name":"Avola"},{"id":"089003","name":"Buccheri"},{"id":"089004","name":"Buscemi"},{"id":"089005","name":"Canicattini Bagni"},{"id":"089006","name":"Carlentini"},{"id":"089007","name":"Cassaro"},{"id":"089008","name":"Ferla"},{"id":"089009","name":"Floridia"},{"id":"089010","name":"Francofonte"},{"id":"089011","name":"Lentini"},{"id":"089012","name":"Melilli"},{"id":"089013","name":"Noto"},{"id":"089014","name":"Pachino"},{"id":"089015","name":"Palazzolo Acreide"},{"id":"089016","name":"Rosolini"},{"id":"089017","name":"Siracusa"},{"id":"089018","name":"Solarino"},{"id":"089019","name":"Sortino"},{"id":"089020","name":"Portopalo di Capo Passero"},{"id":"089021","name":"Priolo Gargallo"}]}]},{"id":"ITG2","name":"Sardegna","children":[{"id":"IT111","name":"Sud Sardegna","children":[{"id":"111001","name":"Arbus"},{"id":"111002","name":"Armungia"},{"id":"111003","name":"Ballao"},{"id":"111004","name":"Barrali"},{"id":"111005","name":"Barumini"},{"id":"111006","name":"Buggerru"},{"id":"111007","name":"Burcei"},{"id":"111008","name":"Calasetta"},{"id":"111009","name":"Carbonia"},{"id":"111010","name":"Carloforte"},{"id":"111011","name":"Castiadas"},{"id":"111012","name":"Collinas"},{"id":"111013","name":"Decimoputzu"},{"id":"111014","name":"Dolianova"},{"id":"111015","name":"Domus de Maria"},{"id":"111016","name":"Domusnovas"},{"id":"111017","name":"Donori"},{"id":"111018","name":"Escalaplano"},{"id":"111019","name":"Escolca"},{"id":"111020","name":"Esterzili"},{"id":"111021","name":"Fluminimaggiore"},{"id":"111022","name":"Furtei"},{"id":"111023","name":"Genoni"},{"id":"111024","name":"Genuri"},{"id":"111025","name":"Gergei"},{"id":"111026","name":"Gesico"},{"id":"111027","name":"Gesturi"},{"id":"111028","name":"Giba"},{"id":"111029","name":"Goni"},{"id":"111030","name":"Gonnesa"},{"id":"111031","name":"Gonnosfanadiga"},{"id":"111032","name":"Guamaggiore"},{"id":"111033","name":"Guasila"},{"id":"111034","name":"Guspini"},{"id":"111035","name":"Iglesias"},{"id":"111036","name":"Isili"},{"id":"111037","name":"Las Plassas"},{"id":"111038","name":"Lunamatrona"},{"id":"111039","name":"Mandas"},{"id":"111040","name":"Masainas"},{"id":"111041","name":"Monastir"},{"id":"111042","name":"Muravera"},{"id":"111043","name":"Musei"},{"id":"111044","name":"Narcao"},{"id":"111045","name":"Nuragus"},{"id":"111046","name":"Nurallao"},{"id":"111047","name":"Nuraminis"},{"id":"111048","name":"Nurri"},{"id":"111049","name":"Nuxis"},{"id":"111050","name":"Orroli"},{"id":"111051","name":"Ortacesus"},{"id":"111052","name":"Pabillonis"},{"id":"111053","name":"Pauli Arbarei"},{"id":"111054","name":"Perdaxius"},{"id":"111055","name":"Pimentel"},{"id":"111056","name":"Piscinas"},{"id":"111057","name":"Portoscuso"},{"id":"111058","name":"Sadali"},{"id":"111059","name":"Samassi"},{"id":"111060","name":"Samatzai"},{"id":"111061","name":"San Basilio"},{"id":"111062","name":"San Gavino Monreale"},{"id":"111063","name":"San Giovanni Suergiu"},{"id":"111064","name":"San Nicol\xf2 Gerrei"},{"id":"111065","name":"San Sperate"},{"id":"111066","name":"San Vito"},{"id":"111067","name":"Sanluri"},{"id":"111068","name":"Santadi"},{"id":"111069","name":"Sant\'Andrea Frius"},{"id":"111070","name":"Sant\'Anna Arresi"},{"id":"111071","name":"Sant\'Antioco"},{"id":"111072","name":"Sardara"},{"id":"111073","name":"Segariu"},{"id":"111074","name":"Selegas"},{"id":"111075","name":"Senorb\xec"},{"id":"111076","name":"Serdiana"},{"id":"111077","name":"Serramanna"},{"id":"111078","name":"Serrenti"},{"id":"111079","name":"Serri"},{"id":"111080","name":"Setzu"},{"id":"111081","name":"Seui"},{"id":"111082","name":"Seulo"},{"id":"111083","name":"Siddi"},{"id":"111084","name":"Siliqua"},{"id":"111085","name":"Silius"},{"id":"111086","name":"Siurgus Donigala"},{"id":"111087","name":"Soleminis"},{"id":"111088","name":"Suelli"},{"id":"111089","name":"Teulada"},{"id":"111090","name":"Tratalias"},{"id":"111091","name":"Tuili"},{"id":"111092","name":"Turri"},{"id":"111093","name":"Ussana"},{"id":"111094","name":"Ussaramanna"},{"id":"111095","name":"Vallermosa"},{"id":"111096","name":"Villacidro"},{"id":"111097","name":"Villamar"},{"id":"111098","name":"Villamassargia"},{"id":"111099","name":"Villanova Tulo"},{"id":"111100","name":"Villanovaforru"},{"id":"111101","name":"Villanovafranca"},{"id":"111102","name":"Villaperuccio"},{"id":"111103","name":"Villaputzu"},{"id":"111104","name":"Villasalto"},{"id":"111105","name":"Villasimius"},{"id":"111106","name":"Villasor"},{"id":"111107","name":"Villaspeciosa"}]},{"id":"ITG25","name":"Sassari","children":[{"id":"090001","name":"Aggius"},{"id":"090002","name":"Al\xe0 dei Sardi"},{"id":"090003","name":"Alghero"},{"id":"090004","name":"Anela"},{"id":"090005","name":"Ardara"},{"id":"090006","name":"Arzachena"},{"id":"090007","name":"Banari"},{"id":"090008","name":"Benetutti"},{"id":"090009","name":"Berchidda"},{"id":"090010","name":"Bessude"},{"id":"090011","name":"Bonnanaro"},{"id":"090012","name":"Bono"},{"id":"090013","name":"Bonorva"},{"id":"090014","name":"Bortigiadas"},{"id":"090015","name":"Borutta"},{"id":"090016","name":"Bottidda"},{"id":"090017","name":"Buddus\xf2"},{"id":"090018","name":"Bultei"},{"id":"090019","name":"Bulzi"},{"id":"090020","name":"Burgos"},{"id":"090021","name":"Calangianus"},{"id":"090022","name":"Cargeghe"},{"id":"090023","name":"Castelsardo"},{"id":"090024","name":"Cheremule"},{"id":"090025","name":"Chiaramonti"},{"id":"090026","name":"Codrongianos"},{"id":"090027","name":"Cossoine"},{"id":"090028","name":"Esporlatu"},{"id":"090029","name":"Florinas"},{"id":"090030","name":"Giave"},{"id":"090031","name":"Illorai"},{"id":"090032","name":"Ittireddu"},{"id":"090033","name":"Ittiri"},{"id":"090034","name":"Laerru"},{"id":"090035","name":"La Maddalena"},{"id":"090036","name":"Luogosanto"},{"id":"090037","name":"Luras"},{"id":"090038","name":"Mara"},{"id":"090039","name":"Martis"},{"id":"090040","name":"Monteleone Rocca Doria"},{"id":"090041","name":"Monti"},{"id":"090042","name":"Mores"},{"id":"090043","name":"Muros"},{"id":"090044","name":"Nughedu San Nicol\xf2"},{"id":"090045","name":"Nule"},{"id":"090046","name":"Nulvi"},{"id":"090047","name":"Olbia"},{"id":"090048","name":"Olmedo"},{"id":"090049","name":"Oschiri"},{"id":"090050","name":"Osilo"},{"id":"090051","name":"Ossi"},{"id":"090052","name":"Ozieri"},{"id":"090053","name":"Padria"},{"id":"090054","name":"Palau"},{"id":"090055","name":"Pattada"},{"id":"090056","name":"Perfugas"},{"id":"090057","name":"Ploaghe"},{"id":"090058","name":"Porto Torres"},{"id":"090059","name":"Pozzomaggiore"},{"id":"090060","name":"Putifigari"},{"id":"090061","name":"Romana"},{"id":"090062","name":"Aglientu"},{"id":"090063","name":"Santa Teresa Gallura"},{"id":"090064","name":"Sassari"},{"id":"090065","name":"Sedini"},{"id":"090066","name":"Semestene"},{"id":"090067","name":"Sennori"},{"id":"090068","name":"Siligo"},{"id":"090069","name":"Sorso"},{"id":"090070","name":"Tempio Pausania"},{"id":"090071","name":"Thiesi"},{"id":"090072","name":"Tissi"},{"id":"090073","name":"Torralba"},{"id":"090074","name":"Trinit\xe0 d\'Agultu e Vignola"},{"id":"090075","name":"Tula"},{"id":"090076","name":"Uri"},{"id":"090077","name":"Usini"},{"id":"090078","name":"Villanova Monteleone"},{"id":"090079","name":"Valledoria"},{"id":"090080","name":"Telti"},{"id":"090081","name":"Badesi"},{"id":"090082","name":"Viddalba"},{"id":"090083","name":"Golfo Aranci"},{"id":"090084","name":"Loiri Porto San Paolo"},{"id":"090085","name":"Sant\'Antonio di Gallura"},{"id":"090086","name":"Tergu"},{"id":"090087","name":"Santa Maria Coghinas"},{"id":"090088","name":"Erula"},{"id":"090089","name":"Stintino"},{"id":"090090","name":"Padru"},{"id":"090091","name":"Budoni"},{"id":"090092","name":"San Teodoro"}]},{"id":"ITG26","name":"Nuoro","children":[{"id":"091001","name":"Aritzo"},{"id":"091002","name":"Arzana"},{"id":"091003","name":"Atzara"},{"id":"091004","name":"Austis"},{"id":"091005","name":"Bari Sardo"},{"id":"091006","name":"Baunei"},{"id":"091007","name":"Belv\xec"},{"id":"091008","name":"Birori"},{"id":"091009","name":"Bitti"},{"id":"091010","name":"Bolotana"},{"id":"091011","name":"Borore"},{"id":"091012","name":"Bortigali"},{"id":"091013","name":"Bosa"},{"id":"091014","name":"Budoni"},{"id":"091016","name":"Desulo"},{"id":"091017","name":"Dorgali"},{"id":"091018","name":"Dualchi"},{"id":"091019","name":"Elini"},{"id":"091020","name":"Escalaplano"},{"id":"091021","name":"Escolca"},{"id":"091022","name":"Esterzili"},{"id":"091023","name":"Flussio"},{"id":"091024","name":"Fonni"},{"id":"091025","name":"Gadoni"},{"id":"091026","name":"Gairo"},{"id":"091027","name":"Galtell\xec"},{"id":"091028","name":"Gavoi"},{"id":"091029","name":"Genoni"},{"id":"091030","name":"Gergei"},{"id":"091031","name":"Girasole"},{"id":"091032","name":"Ilbono"},{"id":"091033","name":"Irgoli"},{"id":"091034","name":"Isili"},{"id":"091035","name":"Jerzu"},{"id":"091036","name":"Laconi"},{"id":"091037","name":"Lanusei"},{"id":"091038","name":"Lei"},{"id":"091039","name":"Loceri"},{"id":"091040","name":"Loculi"},{"id":"091041","name":"Lod\xe8"},{"id":"091042","name":"Lotzorai"},{"id":"091043","name":"Lula"},{"id":"091044","name":"Macomer"},{"id":"091045","name":"Magomadas"},{"id":"091046","name":"Mamoiada"},{"id":"091047","name":"Meana Sardo"},{"id":"091048","name":"Modolo"},{"id":"091049","name":"Montresta"},{"id":"091050","name":"Noragugume"},{"id":"091051","name":"Nuoro"},{"id":"091052","name":"Nuragus"},{"id":"091053","name":"Nurallao"},{"id":"091054","name":"Nurri"},{"id":"091055","name":"Oliena"},{"id":"091056","name":"Ollolai"},{"id":"091057","name":"Olzai"},{"id":"091058","name":"Onan\xec"},{"id":"091059","name":"Onifai"},{"id":"091060","name":"Oniferi"},{"id":"091061","name":"Orani"},{"id":"091062","name":"Orgosolo"},{"id":"091063","name":"Orosei"},{"id":"091064","name":"Orotelli"},{"id":"091065","name":"Orroli"},{"id":"091066","name":"Ortueri"},{"id":"091067","name":"Orune"},{"id":"091068","name":"Osidda"},{"id":"091069","name":"Osini"},{"id":"091070","name":"Ottana"},{"id":"091071","name":"Ovodda"},{"id":"091072","name":"Perdasdefogu"},{"id":"091073","name":"Posada"},{"id":"091074","name":"Sadali"},{"id":"091075","name":"Sagama"},{"id":"091076","name":"San Teodoro"},{"id":"091077","name":"Sarule"},{"id":"091080","name":"Serri"},{"id":"091081","name":"Seui"},{"id":"091082","name":"Seulo"},{"id":"091083","name":"Silanus"},{"id":"091084","name":"Sindia"},{"id":"091085","name":"Siniscola"},{"id":"091086","name":"Sorgono"},{"id":"091087","name":"Suni"},{"id":"091088","name":"Talana"},{"id":"091089","name":"Tertenia"},{"id":"091090","name":"Teti"},{"id":"091091","name":"Tiana"},{"id":"091092","name":"Tinnura"},{"id":"091093","name":"Tonara"},{"id":"091094","name":"Torp\xe8"},{"id":"091095","name":"Tortol\xec"},{"id":"091097","name":"Triei"},{"id":"091098","name":"Ulassai"},{"id":"091099","name":"Urzulei"},{"id":"091100","name":"Ussassai"},{"id":"091101","name":"Villagrande Strisaili"},{"id":"091102","name":"Villanova Tulo"},{"id":"091103","name":"Cardedu"},{"id":"091104","name":"Lodine"}]},{"id":"ITG27","name":"Cagliari","children":[{"id":"092001","name":"Arbus"},{"id":"092002","name":"Armungia"},{"id":"092003","name":"Assemini"},{"id":"092004","name":"Ballao"},{"id":"092005","name":"Barrali"},{"id":"092006","name":"Barumini"},{"id":"092007","name":"Buggerru"},{"id":"092008","name":"Burcei"},{"id":"092009","name":"Cagliari"},{"id":"092010","name":"Calasetta"},{"id":"092011","name":"Capoterra"},{"id":"092012","name":"Carbonia"},{"id":"092013","name":"Carloforte"},{"id":"092014","name":"Collinas"},{"id":"092015","name":"Decimomannu"},{"id":"092016","name":"Decimoputzu"},{"id":"092017","name":"Dolianova"},{"id":"092018","name":"Domus de Maria"},{"id":"092019","name":"Domusnovas"},{"id":"092020","name":"Donori"},{"id":"092021","name":"Fluminimaggiore"},{"id":"092022","name":"Furtei"},{"id":"092023","name":"Genuri"},{"id":"092024","name":"Gesico"},{"id":"092025","name":"Gesturi"},{"id":"092026","name":"Giba"},{"id":"092027","name":"Goni"},{"id":"092028","name":"Gonnesa"},{"id":"092029","name":"Gonnosfanadiga"},{"id":"092030","name":"Guamaggiore"},{"id":"092031","name":"Guasila"},{"id":"092032","name":"Guspini"},{"id":"092033","name":"Iglesias"},{"id":"092034","name":"Las Plassas"},{"id":"092035","name":"Lunamatrona"},{"id":"092036","name":"Mandas"},{"id":"092037","name":"Maracalagonis"},{"id":"092038","name":"Monastir"},{"id":"092039","name":"Muravera"},{"id":"092040","name":"Musei"},{"id":"092041","name":"Narcao"},{"id":"092042","name":"Nuraminis"},{"id":"092043","name":"Nuxis"},{"id":"092044","name":"Ortacesus"},{"id":"092045","name":"Pabillonis"},{"id":"092046","name":"Pauli Arbarei"},{"id":"092047","name":"Perdaxius"},{"id":"092048","name":"Pimentel"},{"id":"092049","name":"Portoscuso"},{"id":"092050","name":"Pula"},{"id":"092051","name":"Quartu Sant\'Elena"},{"id":"092052","name":"Samassi"},{"id":"092053","name":"Samatzai"},{"id":"092054","name":"San Basilio"},{"id":"092055","name":"San Gavino Monreale"},{"id":"092056","name":"San Giovanni Suergiu"},{"id":"092057","name":"Sanluri"},{"id":"092058","name":"San Nicol\xf2 Gerrei"},{"id":"092059","name":"San Sperate"},{"id":"092060","name":"Santadi"},{"id":"092061","name":"Sant\'Andrea Frius"},{"id":"092062","name":"Sant\'Anna Arresi"},{"id":"092063","name":"Sant\'Antioco"},{"id":"092064","name":"San Vito"},{"id":"092065","name":"Sardara"},{"id":"092066","name":"Sarroch"},{"id":"092067","name":"Segariu"},{"id":"092068","name":"Selargius"},{"id":"092069","name":"Selegas"},{"id":"092070","name":"Senorb\xec"},{"id":"092071","name":"Serdiana"},{"id":"092072","name":"Serramanna"},{"id":"092073","name":"Serrenti"},{"id":"092074","name":"Sestu"},{"id":"092075","name":"Settimo San Pietro"},{"id":"092076","name":"Setzu"},{"id":"092077","name":"Siddi"},{"id":"092078","name":"Siliqua"},{"id":"092079","name":"Silius"},{"id":"092080","name":"Sinnai"},{"id":"092081","name":"Siurgus Donigala"},{"id":"092082","name":"Soleminis"},{"id":"092083","name":"Suelli"},{"id":"092084","name":"Teulada"},{"id":"092085","name":"Tratalias"},{"id":"092086","name":"Tuili"},{"id":"092087","name":"Turri"},{"id":"092088","name":"Ussana"},{"id":"092089","name":"Ussaramanna"},{"id":"092090","name":"Uta"},{"id":"092091","name":"Vallermosa"},{"id":"092092","name":"Villacidro"},{"id":"092093","name":"Villamar"},{"id":"092094","name":"Villamassargia"},{"id":"092095","name":"Villanovaforru"},{"id":"092096","name":"Villanovafranca"},{"id":"092097","name":"Villaputzu"},{"id":"092098","name":"Villasalto"},{"id":"092099","name":"Villa San Pietro"},{"id":"092100","name":"Villasimius"},{"id":"092101","name":"Villasor"},{"id":"092102","name":"Villaspeciosa"},{"id":"092103","name":"Masainas"},{"id":"092104","name":"Villaperuccio"},{"id":"092105","name":"Quartucciu"},{"id":"092106","name":"Castiadas"},{"id":"092107","name":"Piscinas"},{"id":"092108","name":"Elmas"},{"id":"092109","name":"Monserrato"},{"id":"092110","name":"Escalaplano"},{"id":"092111","name":"Escolca"},{"id":"092112","name":"Esterzili"},{"id":"092113","name":"Gergei"},{"id":"092114","name":"Isili"},{"id":"092115","name":"Nuragus"},{"id":"092116","name":"Nurallao"},{"id":"092117","name":"Nurri"},{"id":"092118","name":"Orroli"},{"id":"092119","name":"Sadali"},{"id":"092120","name":"Serri"},{"id":"092121","name":"Seulo"},{"id":"092122","name":"Villanova Tulo"}]},{"id":"ITG28","name":"Oristano","children":[{"id":"095001","name":"Abbasanta"},{"id":"095002","name":"Aidomaggiore"},{"id":"095003","name":"Albagiara"},{"id":"095004","name":"Ales"},{"id":"095005","name":"Allai"},{"id":"095006","name":"Arborea"},{"id":"095007","name":"Ardauli"},{"id":"095008","name":"Assolo"},{"id":"095009","name":"Asuni"},{"id":"095010","name":"Baradili"},{"id":"095011","name":"Baratili San Pietro"},{"id":"095012","name":"Baressa"},{"id":"095013","name":"Bauladu"},{"id":"095014","name":"Bidon\xec"},{"id":"095015","name":"Bonarcado"},{"id":"095016","name":"Boroneddu"},{"id":"095017","name":"Busachi"},{"id":"095018","name":"Cabras"},{"id":"095019","name":"Cuglieri"},{"id":"095020","name":"Fordongianus"},{"id":"095021","name":"Ghilarza"},{"id":"095022","name":"Gonnoscodina"},{"id":"095023","name":"Gonnosn\xf2"},{"id":"095024","name":"Gonnostramatza"},{"id":"095025","name":"Marrubiu"},{"id":"095026","name":"Masullas"},{"id":"095027","name":"Milis"},{"id":"095028","name":"Mogorella"},{"id":"095029","name":"Mogoro"},{"id":"095030","name":"Morgongiori"},{"id":"095031","name":"Narbolia"},{"id":"095032","name":"Neoneli"},{"id":"095033","name":"Norbello"},{"id":"095034","name":"Nughedu Santa Vittoria"},{"id":"095035","name":"Nurachi"},{"id":"095036","name":"Nureci"},{"id":"095037","name":"Ollastra"},{"id":"095038","name":"Oristano"},{"id":"095039","name":"Palmas Arborea"},{"id":"095040","name":"Pau"},{"id":"095041","name":"Paulilatino"},{"id":"095042","name":"Pompu"},{"id":"095043","name":"Riola Sardo"},{"id":"095044","name":"Ruinas"},{"id":"095045","name":"Samugheo"},{"id":"095046","name":"San Nicol\xf2 d\'Arcidano"},{"id":"095047","name":"Santa Giusta"},{"id":"095048","name":"Villa Sant\'Antonio"},{"id":"095049","name":"Santu Lussurgiu"},{"id":"095050","name":"San Vero Milis"},{"id":"095051","name":"Scano di Montiferro"},{"id":"095052","name":"Sedilo"},{"id":"095053","name":"Seneghe"},{"id":"095054","name":"Senis"},{"id":"095055","name":"Sennariolo"},{"id":"095056","name":"Siamaggiore"},{"id":"095057","name":"Siamanna"},{"id":"095058","name":"Simala"},{"id":"095059","name":"Simaxis"},{"id":"095060","name":"Sini"},{"id":"095061","name":"Siris"},{"id":"095062","name":"Solarussa"},{"id":"095063","name":"Sorradile"},{"id":"095064","name":"Tadasuni"},{"id":"095065","name":"Terralba"},{"id":"095066","name":"Tramatza"},{"id":"095067","name":"Tresnuraghes"},{"id":"095068","name":"Ul\xe0 Tirso"},{"id":"095069","name":"Uras"},{"id":"095070","name":"Usellus"},{"id":"095071","name":"Villanova Truschedu"},{"id":"095072","name":"Villaurbana"},{"id":"095073","name":"Villa Verde"},{"id":"095074","name":"Zeddiani"},{"id":"095075","name":"Zerfaliu"},{"id":"095076","name":"Siapiccia"},{"id":"095077","name":"Curcuris"},{"id":"095078","name":"Sodd\xec"},{"id":"095079","name":"Bosa"},{"id":"095080","name":"Flussio"},{"id":"095081","name":"Genoni"},{"id":"095082","name":"Laconi"},{"id":"095083","name":"Magomadas"},{"id":"095084","name":"Modolo"},{"id":"095085","name":"Montresta"},{"id":"095086","name":"Sagama"},{"id":"095087","name":"Suni"},{"id":"095088","name":"Tinnura"}]},{"id":"ITG29","name":"Olbia-Tempio","children":[{"id":"104001","name":"Aggius"},{"id":"104002","name":"Aglientu"},{"id":"104003","name":"Al\xe0 dei Sardi"},{"id":"104004","name":"Arzachena"},{"id":"104005","name":"Badesi"},{"id":"104006","name":"Berchidda"},{"id":"104007","name":"Bortigiadas"},{"id":"104008","name":"Buddus\xf2"},{"id":"104009","name":"Budoni"},{"id":"104010","name":"Calangianus"},{"id":"104011","name":"Golfo Aranci"},{"id":"104012","name":"La Maddalena"},{"id":"104013","name":"Loiri Porto San Paolo"},{"id":"104014","name":"Luogosanto"},{"id":"104015","name":"Luras"},{"id":"104016","name":"Monti"},{"id":"104017","name":"Olbia"},{"id":"104018","name":"Oschiri"},{"id":"104019","name":"Padru"},{"id":"104020","name":"Palau"},{"id":"104021","name":"Sant\'Antonio di Gallura"},{"id":"104022","name":"Santa Teresa Gallura"},{"id":"104023","name":"San Teodoro"},{"id":"104024","name":"Telti"},{"id":"104025","name":"Tempio Pausania"},{"id":"104026","name":"Trinit\xe0 d\'Agultu e Vignola"}]},{"id":"ITG2A","name":"Ogliastra","children":[{"id":"105001","name":"Arzana"},{"id":"105002","name":"Bari Sardo"},{"id":"105003","name":"Baunei"},{"id":"105004","name":"Cardedu"},{"id":"105005","name":"Elini"},{"id":"105006","name":"Gairo"},{"id":"105007","name":"Girasole"},{"id":"105008","name":"Ilbono"},{"id":"105009","name":"Jerzu"},{"id":"105010","name":"Lanusei"},{"id":"105011","name":"Loceri"},{"id":"105012","name":"Lotzorai"},{"id":"105013","name":"Osini"},{"id":"105014","name":"Perdasdefogu"},{"id":"105015","name":"Seui"},{"id":"105016","name":"Talana"},{"id":"105017","name":"Tertenia"},{"id":"105018","name":"Tortol\xec"},{"id":"105019","name":"Triei"},{"id":"105020","name":"Ulassai"},{"id":"105021","name":"Urzulei"},{"id":"105022","name":"Ussassai"},{"id":"105023","name":"Villagrande Strisaili"}]},{"id":"ITG2B","name":"Medio Campidano","children":[{"id":"106001","name":"Arbus"},{"id":"106002","name":"Barumini"},{"id":"106003","name":"Collinas"},{"id":"106004","name":"Furtei"},{"id":"106005","name":"Genuri"},{"id":"106006","name":"Gesturi"},{"id":"106007","name":"Gonnosfanadiga"},{"id":"106008","name":"Guspini"},{"id":"106009","name":"Las Plassas"},{"id":"106010","name":"Lunamatrona"},{"id":"106011","name":"Pabillonis"},{"id":"106012","name":"Pauli Arbarei"},{"id":"106013","name":"Samassi"},{"id":"106014","name":"San Gavino Monreale"},{"id":"106015","name":"Sanluri"},{"id":"106016","name":"Sardara"},{"id":"106017","name":"Segariu"},{"id":"106018","name":"Serramanna"},{"id":"106019","name":"Serrenti"},{"id":"106020","name":"Setzu"},{"id":"106021","name":"Siddi"},{"id":"106022","name":"Tuili"},{"id":"106023","name":"Turri"},{"id":"106024","name":"Ussaramanna"},{"id":"106025","name":"Villacidro"},{"id":"106026","name":"Villamar"},{"id":"106027","name":"Villanovaforru"},{"id":"106028","name":"Villanovafranca"}]},{"id":"ITG2C","name":"Carbonia-Iglesias","children":[{"id":"107001","name":"Buggerru"},{"id":"107002","name":"Calasetta"},{"id":"107003","name":"Carbonia"},{"id":"107004","name":"Carloforte"},{"id":"107005","name":"Domusnovas"},{"id":"107006","name":"Fluminimaggiore"},{"id":"107007","name":"Giba"},{"id":"107008","name":"Gonnesa"},{"id":"107009","name":"Iglesias"},{"id":"107010","name":"Masainas"},{"id":"107011","name":"Musei"},{"id":"107012","name":"Narcao"},{"id":"107013","name":"Nuxis"},{"id":"107014","name":"Perdaxius"},{"id":"107015","name":"Piscinas"},{"id":"107016","name":"Portoscuso"},{"id":"107017","name":"San Giovanni Suergiu"},{"id":"107018","name":"Santadi"},{"id":"107019","name":"Sant\'Anna Arresi"},{"id":"107020","name":"Sant\'Antioco"},{"id":"107021","name":"Tratalias"},{"id":"107022","name":"Villamassargia"},{"id":"107023","name":"Villaperuccio"}]}]}]}')},475:function(e,t,n){},527:function(e,t,n){var a=n(450),i=n(451),o=n(219),r=n(345),l=n(460),s=n(455),c=n(653),d=n(458),u=n(83),m=n(657),h=n(456),f=n(457),g=n(452),p=n(453),v=n(661);!function(e){var t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"%0 of %1":"%0 of %1","Align center":"Align center","Align left":"Align left","Align right":"Align right",Aquamarine:"Aquamarine",Black:"Black",Blue:"Blue",Bold:"Bold","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Choose heading":"Choose heading",Circle:"Circle",Column:"Column",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Disc:"Disc","Document colors":"Document colors",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Font Background Color":"Font Background Color","Font Color":"Font Color",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Italic:"Italic",Justify:"Justify","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Lower-latin":"Lower-latin","Lower\u2013roman":"Lower\u2013roman","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Paragraph:"Paragraph",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Remove Format":"Remove Format","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Show more items":"Show more items","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square",Strikethrough:"Strikethrough","Table toolbar":"Table toolbar","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","This link has no URL":"This link has no URL","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower\u2013latin list style":"Toggle the lower\u2013latin list style","Toggle the lower\u2013roman list style":"Toggle the lower\u2013roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper\u2013latin list style":"Toggle the upper\u2013latin list style","Toggle the upper\u2013roman list style":"Toggle the upper\u2013roman list style",Turquoise:"Turquoise",Underline:"Underline",Undo:"Undo",Unlink:"Unlink","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman",White:"White","Widget toolbar":"Widget toolbar",Yellow:"Yellow"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),window,e.exports=function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=50)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));var a=function(e){g(n,e);var t=p(n);function n(e,a,i){var o;return h(this,n),(o=t.call(this,"".concat(e).concat(i?" ".concat(JSON.stringify(i)):"").concat(r(e)))).name="CKEditorError",o.context=a,o.data=i,o}return f(n,[{key:"is",value:function(e){return"CKEditorError"===e}}],[{key:"rethrowUnexpectedError",value:function(e,t){if(e.is&&e.is("CKEditorError"))throw e;var a=new n(e.message,t);throw a.stack=e.stack,a}}]),n}(v(Error));function i(e,t){var n;(n=console).warn.apply(n,m(l(e,t)))}function o(e,t){var n;(n=console).error.apply(n,m(l(e,t)))}function r(e){return"\nRead more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-".concat(e)}function l(e,t){var n=r(e);return t?[e,t,n]:[e,n]}},function(e,t,n){"use strict";var a,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function r(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},a=[],i=0;i<e.length;i++){var l=e[i],s=t.base?l[0]+t.base:l[0],c=n[s]||0,d="".concat(s," ").concat(c);n[s]=c+1;var u=r(d),m={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(o[u].references++,o[u].updater(m)):o.push({identifier:d,updater:g(m,t),references:1}),a.push(d)}return a}function s(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var o=n.nc;o&&(a.nonce=o)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var r=i(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,n,a){var i=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var o=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function m(e,t,n){var a=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var h=null,f=0;function g(e,t){var n,a,i;if(t.singleton){var o=f++;n=h||(h=s(t)),a=u.bind(null,n,o,!1),i=u.bind(null,n,o,!0)}else n=s(t),a=m.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var i=r(n[a]);o[i].references--}for(var s=l(e,t),c=0;c<n.length;c++){var d=r(n[c]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}n=s}}}},function(e,t,n){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,i=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}e.exports=function(e){var t=a(e,4),n=t[1],i=t[3];if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),l="/*# ".concat(r," */"),s=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(s).concat([l]).join("\n")}return[n].join("\n")}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(a)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);a&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},,function(e,t,n){"use strict";var a=n(9),i="object"==typeof self&&self&&self.Object===Object&&self,o=a.a||i||Function("return this")();t.a=o},function(e,n,a){"use strict";(function(e){var i=a(5),o=a(49),r=t&&!t.nodeType&&t,l=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=l&&l.exports===r?i.a.Buffer:void 0,c=(s?s.isBuffer:void 0)||o.a;n.a=c}).call(this,a(11)(e))},function(e,n,a){"use strict";(function(e){var i=a(9),o=t&&!t.nodeType&&t,r=o&&"object"==typeof e&&e&&!e.nodeType&&e,l=r&&r.exports===o&&i.a.process,s=function(){try{return r&&r.require&&r.require("util").types||l&&l.binding&&l.binding("util")}catch(e){}}();n.a=s}).call(this,a(11)(e))},function(e,t,n){"use strict";(function(e){var t=n(0),a="object"==typeof window?window:e;if(a.CKEDITOR_VERSION)throw new t.a("ckeditor-duplicated-modules",null);a.CKEDITOR_VERSION="23.1.0"}).call(this,n(48))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(48))},function(e,n,a){"use strict";(function(e){var i=a(5),o=t&&!t.nodeType&&t,r=o&&"object"==typeof e&&e&&!e.nodeType&&e,l=r&&r.exports===o?i.a.Buffer:void 0,s=l?l.allocUnsafe:void 0;n.a=function(e,t){if(t)return e.slice();var n=e.length,a=s?s(n):new e.constructor(n);return e.copy(a),a}}).call(this,a(11)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAQC,qDACC,8BAA+B,CAG/B,mBACD,CAKA,wCACC,YACD,CCbA,qDACC,WAAY,CACZ,6CACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\t&::before {\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,iDAGC,qBAAsB,CACtB,UAAW,CACX,WAAY,CACZ,eACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CCD/C,kCAAmD,CACnD,+BAAoD,CACpD,8BAAgD,CAChD,8BAAmD,CACnD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAmD,CACnD,oCAAuD,CACvD,6BAAkD,CAIlD,+CAAwD,CACxD,qEAA+E,CAC/E,qCAAwD,CACxD,sDAA8D,CAC9D,iDAAyD,CACzD,yCAAqD,CACrD,uCAAsD,CACtD,6CAA0D,CAC1D,uCAAsD,CAItD,gDAAuD,CACvD,kDAA+D,CAC/D,mDAAgE,CAChE,+CAA6D,CAC7D,yDAA8D,CAE9D,uCAAuD,CACvD,6CAA4D,CAC5D,8CAA4D,CAC5D,0CAAyD,CACzD,gDAA8D,CAE9D,+DAAsE,CACtE,iDAAkE,CAClE,kDAAkE,CAClE,8CAA+D,CAC/D,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA4D,CAC5D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAmE,CACnE,yEAA8E,CAC9E,qDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,+BAAiD,CACjD,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,wCAAwD,CACxD,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,gEAAuE,CACvE,4EAAiF,CACjF,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,wDAAmE,CACnE,mDAAgE,CCpGhE,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCLFD,CKQA,iDAIC,QAAS,CACT,SAAU,CACV,QAAS,CACT,sBAAuB,CACvB,oBAAqB,CACrB,qBAAsB,CACtB,eAAgB,CAGhB,oBACD,CAKA,oCAGC,wBAAyB,CACzB,iGAAkG,CAClG,0BAA2B,CAC3B,eAAgB,CAChB,kBAAmB,CACnB,WAAY,CACZ,UACD,CAGC,2BACC,gBACD,CAEA,wBAEC,sBACD,CAEA,0BACC,oBACD,CAEA,kGAGC,WACD,CAEA,gIAGC,cACD,CAEA,0BACC,YAAa,CACb,yBACD,CAEA,0CAEC,SAAU,CACV,QACD,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck.ck-reset_all * {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(0, 0%, 77%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 44%, 48%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(208, 88%, 52%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(208, 88%, 47%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t208, 79%, 51%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(207, 89%, 86%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 90%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 85%);\n\t--ck-color-button-default-active-shadow: \t\t\t\t\thsl(0, 0%, 75%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(0, 0%, 87%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(0, 0%, 77%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(0, 0%, 73%);\n\t--ck-color-button-on-active-shadow: \t\t\t\t\t\thsl(0, 0%, 63%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(0, 0%, 87%);\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 44%, 43%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 44%, 41%);\n\t--ck-color-button-action-active-shadow: \t\t\t\t\thsl(104, 44%, 36%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 69%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 64%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 44%, 43%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\thsl(0, 0%, 78%);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\thsl(0, 0%, 78%);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 36%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-base-active);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-base-active-focus);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-foreground);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck.ck-reset_all * {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck.ck-reset_all * {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck.ck-reset_all {\n\t& .ck-rtl * {\n\t\ttext-align: right;\n\t}\n\n\t& iframe {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea,\n\t& input[type="text"],\n\t& input[type="password"] {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled],\n\t& input[type="text"][disabled],\n\t& input[type="password"][disabled] {\n\t\tcursor: default;\n\t}\n\n\t& fieldset {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEERA,YAAa,CACb,2BAA2B,CCF3B,qCHYA,CAGD,+BACC,aAAc,CACd,oCAAqC,CACrC,4BAwBD,CAtBC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CACC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDACC,yBAA0B,CAC1B,cAAe,CACf,KACD,CAEA,kEACC,QAAS,CACT,iBACD,CCPA,qDCCA,oCAA8B,CDE7B,sBAAuB,CACvB,wBAAyB,CACzB,yBACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAOA,gBACC,oBAAqB,CACrB,iBAyDD,CAvDC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UAOD,CCcA,iEACC,YACD,CDdA,oCAGC,kCAAmC,CAEnC,YAAa,CACb,yBAA0B,CAE1B,iBA8BD,CA5BC,+DACC,oBACD,CAEA,oHAEC,WACD,CAEA,oHAMC,QAAS,CACT,WACD,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAQF,mCACC,mCACD,CEhEA,MACC,sDACD,CAEA,gBAEC,iBAiED,CA/DC,oCACC,mCACD,CAGC,8CACC,gCAAiC,CAGjC,sCACD,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEACC,SAAU,CACV,eAAgB,CAChB,sBACD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAIF,uBExEC,eFoGD,CA5BA,qFEpEE,qCFgGF,CA5BA,uBG1EC,oCAA8B,CH8E9B,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CAGT,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import \"../tooltip/mixins/_tooltip.css\";\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\n\t\t/* Disable main button's tooltip when the dropdown is open. Otherwise the panel may\n\t\tpartially cover the tooltip */\n\t\t&.ck-on {\n\t\t\t@mixin ck-tooltip_disabled;\n\t\t}\n\t}\n\n\t& .ck-dropdown__panel {\n\t\t/* This is to get rid of flickering when the tooltip is shown under the panel,\n\t\twhich looks like the panel moves vertically a pixel down and up. */\n\t\t-webkit-backface-visibility: hidden;\n\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YACC,yBAA0B,CAC1B,0BAA2B,CAG3B,uBAAwB,CAQxB,qBAcD,CAZC,0BARA,aAAc,CAGd,cAgBA,CAJC,yBAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\tcolor: inherit;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\n\t\t/* Allows dynamic coloring of the icons. */\n\t\tcolor: inherit;\n\n\t\t&:not([fill]) {\n\t\t\t/* Needed by FF. */\n\t\t\tfill: currentColor;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,'.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,sDAEC,iBAAkB,CAGlB,mBAAoB,CAIpB,kCACD,CAEA,eAEC,iBAAkB,CAClB,SAAU,CACV,YAAa,CACb,yBAWD,CATC,iCACC,oBAOD,CALC,uCACC,UAAW,CACX,OAAQ,CACR,QACD,CCxBF,MACC,2BACD,CAEA,eACC,QAAS,CAMT,KAAM,CAON,sCA6FD,CA3FC,iCChBA,eDqCA,CArBA,yGCZC,qCDiCD,CArBA,iCAGC,cAAe,CACf,eAAgB,CAChB,kCAAmC,CACnC,wDAAyD,CACzD,6CAA8C,CAC9C,iBAAkB,CAClB,SAYD,CAVC,uCAMC,sCAAuC,CACvC,kBAAmB,CACnB,QACD,CAYD,yDAEC,4CAA+C,CAC/C,0BASD,CAPC,yGAEC,+CAAkD,CAClD,0BAA6B,CAC7B,6BAAoF,CAApF,sDAAoF,CAApF,8BAAoF,CAApF,4BAAoF,CACpF,8CAAsG,CAAtG,gDAAsG,CAAtG,+CAAsG,CAAtG,kBACD,CAaD,6BACC,SAAU,CACV,SAWD,CATC,+CACC,SAAU,CACV,2CACD,CAEA,qDACC,SAAU,CACV,OACD,CAYD,4BACC,yCAA4C,CAC5C,2BAQD,CANC,oDACC,4CAA+C,CAC/C,0BAA6B,CAC7B,6BAAoF,CAApF,+BAAoF,CAApF,8BAAoF,CAApF,mDAAoF,CACpF,8CAAsG,CAAtG,qBAAsG,CAAtG,+CAAsG,CAAtG,6CACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-tooltip,\n.ck.ck-tooltip .ck-tooltip__text::after {\n\tposition: absolute;\n\n\t/* Without this, hovering the tooltip could keep it visible. */\n\tpointer-events: none;\n\n\t/* This is to get rid of flickering when transitioning opacity in Chrome.\n\tIt\'s weird but it works. */\n\t-webkit-backface-visibility: hidden;\n}\n\n.ck.ck-tooltip {\n\t/* Tooltip is hidden by default. */\n\tvisibility: hidden;\n\topacity: 0;\n\tdisplay: none;\n\tz-index: var(--ck-z-modal);\n\n\t& .ck-tooltip__text {\n\t\tdisplay: inline-block;\n\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-tooltip-arrow-size: 5px;\n}\n\n.ck.ck-tooltip {\n\tleft: 50%;\n\n\t/*\n\t * Prevent blurry tooltips in LoDPI environments.\n\t * See https://github.com/ckeditor/ckeditor5/issues/1802.\n\t */\n\ttop: 0;\n\n\t/*\n\t * For the transition to work, the tooltip must be controlled\n\t * using visibility+opacity. A delay prevents a "tooltip avalanche"\n\t * i.e. when scanning the toolbar with mouse cursor.\n\t */\n\ttransition: opacity .2s ease-in-out .2s;\n\n\t& .ck-tooltip__text {\n\t\t@mixin ck-rounded-corners;\n\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\tbackground: var(--ck-color-tooltip-background);\n\t\tposition: relative;\n\t\tleft: -50%;\n\n\t\t&::after {\n\t\t\t/*\n\t\t\t * For the transition to work, the tooltip must be controlled\n\t\t\t * using visibility+opacity. A delay prevents a "tooltip avalanche"\n\t\t\t * i.e. when scanning the toolbar with mouse cursor.\n\t\t\t */\n\t\t\ttransition: opacity .2s ease-in-out .2s;\n\t\t\tborder-style: solid;\n\t\t\tleft: 50%;\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south of the element.\n\t *\n\t *       [element]\n\t *           ^\n\t *     +-----------+\n\t *     |  Tooltip  |\n\t *     +-----------+\n\t */\n\t&.ck-tooltip_s,\n\t&.ck-tooltip_sw {\n\t\tbottom: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\ttransform: translateY( 100% );\n\n\t\t& .ck-tooltip__text::after {\n\t\t\t/* 1px addresses gliches in rendering causing gap between the triangle and the text */\n\t\t\ttop: calc(-1 * var(--ck-tooltip-arrow-size) + 1px);\n\t\t\ttransform: translateX( -50% );\n\t\t\tborder-color: transparent transparent var(--ck-color-tooltip-background) transparent;\n\t\t\tborder-width: 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south-west of the element.\n\t *\n\t *        [element]\n\t *            ^\n\t *  +-----------+\n\t *  |  Tooltip  |\n\t *  +-----------+\n\t */\n\n\t&.ck-tooltip_sw {\n\t\tright: 50%;\n\t\tleft: auto;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: auto;\n\t\t\tright: calc( -2 * var(--ck-tooltip-arrow-size));\n\t\t}\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tleft: auto;\n\t\t\tright: 0;\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip north of the element.\n\t *\n\t *     +-----------+\n\t *     |  Tooltip  |\n\t *     +-----------+\n\t *           V\n\t *       [element]\n\t */\n\t&.ck-tooltip_n {\n\t\ttop: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\ttransform: translateY( -100% );\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tbottom: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\t\ttransform: translateX( -50% );\n\t\t\tborder-color: var(--ck-color-tooltip-background) transparent transparent transparent;\n\t\t\tborder-width: var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(var(--ck-spacing-small)*-1);margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BCCC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6BD,CE/BC,qDACC,aAqBD,CAHC,oBAnBD,qDAoBE,YAEF,CADC,CFvBF,6BAKC,iBAAkB,CAClB,mBAAoB,CACpB,kBAAmB,CACnB,oBAyBD,CAvBC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEkBA,iEACC,kBAAmB,CACnB,SACD,CAbA,yFACC,YACD,CC7BD,6BCAC,oDD0ID,CCvIE,6EACC,0DACD,CAEA,+EACC,2DAA4C,CAC5C,uEACD,CAID,qDACC,6DACD,CDhBD,6BEDC,eF2ID,CA1IA,wIEGE,qCFuIF,CA1IA,6BAKC,kBAAmB,CACnB,cAAe,CACf,qBAAsB,CACtB,8BAA+B,CAC/B,iBAAkB,CAGlB,2CAA4C,CAC5C,4CAA6C,CAI7C,aAAc,CAGd,iBAAkB,CAGlB,4BAA6B,CAG7B,4DAA8D,CAG9D,uBA6GD,CA3GC,oFGjCA,YAAa,CACb,2BAA2B,CCF3B,2CJsCA,CAIC,kJAEC,aACD,CAGD,iEAEC,iBAAkB,CAClB,mBAAoB,CACpB,aAAc,CACd,cAAe,CAIf,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAEA,uFK3FD,kCL6FC,CAGA,yFKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAOE,6CAAgD,CAChD,mCAEF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDiIA,CC9HC,yFACC,qDACD,CAEA,2FACC,sDAA4C,CAC5C,kEACD,CAID,iEACC,wDACD,CDmHA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC7IC,mDDkJD,CC/IE,2FACC,yDACD,CAEA,6FACC,0DAA4C,CAC5C,sEACD,CAID,mEACC,4DACD,CD6HD,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n@import "../tooltip/mixins/_tooltip.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\t@mixin ck-tooltip_enabled;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n\n\t&:hover {\n\t\t@mixin ck-tooltip_visible;\n\t}\n\n\t/* Get rid of the native focus outline around the tooltip when focused (but not :hover). */\n\t&:focus:not(:hover) {\n\t\t@mixin ck-tooltip_disabled;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t\tbox-shadow: inset 0 2px 2px var($(prefix)-active-shadow);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,YAAa,CACb,qBAcD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAGC,oBAAqB,CACrB,0CACD,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BACC,gBAAiB,CACjB,UAAW,CACX,eAAgB,CAChB,eAAgB,CAKhB,mIAiCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,2DACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBACC,UAAW,CACX,UAAW,CACX,sCACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*0.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var(--ck-switch-button-translation)*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,mDAAoD,CACpD,qCAAsC,CACtC,gKAKD,CAGC,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDC3BA,eDoEA,CAzCA,yICvBC,qCDgED,CAzCA,2DAKE,gBAoCF,CAzCA,2DAUE,iBA+BF,CAzCA,iDAcC,8BAAiC,CAEjC,0CAA2C,CAC3C,uDAwBD,CAtBC,2EC9CD,eD2DC,CAbA,6LC1CA,qCAAsC,CD4CpC,+CAWF,CAbA,2EAMC,6CAA8C,CAC9C,+CAAgD,CAChD,gDAAiD,CACjD,yDAA0D,CAG1D,uBACD,CAEA,uDACC,6DAKD,CAHC,iFACC,+DACD,CAIF,6DExEA,kCF0EA,CAEA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,yDAMF,CAXA,2FASE,kEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: 1.0769230769em;\n\t--ck-switch-button-toggle-spacing: 1px;\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2 * var(--ck-switch-button-toggle-spacing)\n\t);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease;\n\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\t/* Leave some tiny bit of space around the inner part of the switch */\n\t\t\tmargin: var(--ck-switch-button-toggle-spacing);\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t&.ck-on .ck-button__toggle {\n\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t}\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t/*\n\t\t\t * Move the toggle switch to the right. It will be animated.\n\t\t\t */\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAMC,6DACC,gBACD,CAGC,6DACC,qCACD,CCRF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown {\n\t& .ck.ck-toolbar .ck.ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& .ck-dropdown__panel .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDIpC,wBAAyB,CACzB,2BAA4B,CAC5B,4BAEF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,YAAa,CACb,oBAAqB,CACrB,kBAyCD,CAvCC,kCACC,YAAa,CACb,kBAAmB,CACnB,kBAAmB,CACnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE3CF,eCGC,eD0FD,CA7FA,qECOE,qCDsFF,CA7FA,eAGC,6CAA8C,CAC9C,iCAAkC,CAClC,+CAwFD,CAtFC,yCACC,kBAAmB,CACnB,SAAU,CACV,aAAc,CACd,yCAA0C,CAM1C,kCAAmC,CACnC,qCACD,CAGC,oCAEC,kCAAmC,CACnC,qCAAsC,CAGtC,oCACD,CAIA,kEACC,YACD,CAGD,oFAGC,kCAAmC,CACnC,qCACD,CAEA,mCAEC,SAgBD,CAbC,0DAEC,UAAW,CAGX,QAAS,CAGT,eAAgB,CAGhB,QACD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAvFF,qCA2FE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JACC,wBAAyB,CACzB,2BACD,CAGA,2JACC,yBAA0B,CAC1B,4BACD,CAID,qGACC,mCACD,CAGA,yLACC,mCACD,CAWA,qHACC,cACD,CAIC,6JACC,yBAA0B,CAC1B,4BACD,CAGA,2JACC,wBAAyB,CACzB,2BACD,CAID,qGACC,oCACD,CAGA,yLACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > * {\n\t\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\t\tmargin-top: var(--ck-spacing-small);\n\t\t\tmargin-bottom: var(--ck-spacing-small);\n\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *,\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so any border is pointless. */\n\t\t\tborder: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,qCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,oCAAqC,CACrC,qCAAsC,CACtC,wCAAyC,CACzC,yCAA0C,CAC1C,SAAU,CACV,8BAA+B,CAC/B,QAmCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCACC,YAAa,CACb,2CACD,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(0, 0%, 0%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontcolor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-font/fontcolor.css"],names:[],mappings:"AAKA,4CACC,YAAa,CACb,kBAAmB,CACnB,UACD,CAEA,8BACC,iBACD,CCNA,4CACC,qEAAyE,CACzE,2BAA4B,CAC5B,4BAeD,CAbC,wDACC,mDACD,CAEA,kEAEE,uCAMF,CARA,kEAME,sCAEF",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-button.ck-color-table__remove-color {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n}\n\nlabel.ck.ck-color-grid__label {\n\tfont-weight: unset;\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck .ck-button.ck-color-table__remove-color {\n\tpadding: calc(var(--ck-spacing-standard) / 2 ) var(--ck-spacing-standard);\n\tborder-bottom-left-radius: 0;\n\tborder-bottom-right-radius: 0;\n\n\t&:not(:focus) {\n\t\tborder-bottom: 1px solid var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-right: var(--ck-spacing-standard);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDACD,CAMA,4BACC,8CACD,CAGA,sCACC,WAAY,CACZ,gDAAiD,CACjD,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCJC,eD4ID,CAxIA,iFCAE,qCDwIF,CAxIA,qBENC,oCAA8B,CFU9B,eAAgB,CAEhB,2CAA4C,CAC5C,6CAiID,CA9HE,+GAEC,OAAQ,CACR,QAAS,CACT,kBACD,CAIA,uFAEC,oDAAoH,CAApH,kDAAoH,CAApH,qDAAoH,CAApH,kBACD,CAEA,4CACC,gDACD,CAEA,uFAHC,6BAA8E,CAA9E,8BAA8E,CAA9E,4BAMD,CAHA,2CACC,oDAAkF,CAClF,yCACD,CAIA,uFAEC,oDAAoH,CAApH,qBAAoH,CAApH,qDAAoH,CAApH,+CACD,CAEA,4CACC,6CAAkE,CAClE,uDACD,CAEA,uFAJC,6BAAkE,CAAlE,+BAAkE,CAAlE,8BAOD,CAHA,2CACC,iDAAkF,CAClF,4CACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,8CACD,CAIA,2GAEC,+CAAkD,CAClD,8CACD,CAIA,2GAEC,gDAAmD,CACnD,8CACD,CAIA,6GAEC,SAAU,CACV,uDAA0D,CAC1D,8CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,8CACD,CAIA,6GAEC,SAAU,CACV,uDAA0D,CAC1D,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: var(--ck-balloon-arrow-offset);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: var(--ck-balloon-arrow-offset);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCACC,oCAAqC,CACrC,kCAAmC,CACnC,qCACD,CAGA,iEACC,uCAAwC,CAGxC,mCACD,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBCJC,oCAA8B,CDO9B,eAAgB,CAEhB,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CAEtC,UAAW,CACX,WACD,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css"],names:[],mappings:"AAKA,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBACD,CAEA,+DACC,gCACD,CAEA,uCACC,UAAW,CACX,sBAAuB,CACvB,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view .ck-labeled-field-view__status {\n\tfont-size: var(--ck-font-size-small);\n\tmargin-top: var(--ck-spacing-small);\n\n\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\tThe status could be very long. */\n\twhite-space: normal;\n}\n\n.ck.ck-labeled-field-view .ck-labeled-field-view__status_error {\n\tcolor: var(--ck-color-base-error);\n}\n\n.ck.ck-labeled-field-view > .ck.ck-label {\n\twidth: 100%;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/inputtext/inputtext.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css"],names:[],mappings:"AASA,MACC,0BACD,CAEA,kBCFC,eDyCD,CAvCA,2ECEE,qCDqCF,CAvCA,kBEJC,qCAA8B,CFQ9B,2CAA4C,CAC5C,6CAA8C,CAC9C,6DAA8D,CAC9D,oCAAqC,CAGrC,4CAA6C,CAG7C,4DA0BD,CAxBC,wBGlBA,YAAa,CACb,2BAA2B,CDF3B,8DFsBA,CAEA,4BACC,sDAAuD,CACvD,oDAAqD,CACrD,yCAMD,CAJC,kCE7BD,uEFgCC,CAGD,2BACC,+CAAgD,CAChD,2CAKD,CAHC,iCEvCD,oEFyCC,CAIF,+BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-text-width: 18em;\n}\n\n.ck.ck-input-text {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-text-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow), var(--ck-inner-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow), var(--ck-inner-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-text-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow), var(--ck-inner-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-text-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block;padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAAc,CEpBd,SAAU,CACV,oCFoBD,CElBC,wDACC,oFAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CACC,kCAAmC,CACnC,QAAS,CACT,eAAgB,CAChB,QAAS,CACT,gDAAiD,CACjD,SAaD,CAnBA,4GAaE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,aAUD,CARC,wEACC,QAAS,CACT,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-text-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\tborder-radius: 0;\n\t\tborder: 0;\n\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\twidth: 50%;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin-left: 0;\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tborder: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,'.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-standard)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-text-width)*0.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAOA,mCACC,UAAW,CACX,OAAQ,CACR,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAC5B,8BAA+B,CAC/B,SACD,CCTC,oCDaC,wCACC,UAAW,CACX,OAAQ,CACR,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAC5B,8BAA+B,CAC/B,SACD,CCnBD,CCAD,qDACC,kDACD,CAEA,uBACC,kCAkED,CAhEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,0CA6CF,CA3CE,8CACC,8DAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAID,iGAEC,kCAAmC,CACnC,qCAAsC,CAEtC,eAAgB,CAChB,QAAS,CACT,gDAaD,CApBA,0OAcE,aAMF,CAGC,yMACC,kDACD,CDpEF",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button::after {\n\tcontent: "";\n\twidth: 0;\n\tposition: absolute;\n\tright: -1px;\n\ttop: var(--ck-spacing-small);\n\tbottom: var(--ck-spacing-small);\n\tz-index: 1;\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button::after {\n\t\t\tcontent: "";\n\t\t\twidth: 0;\n\t\t\tposition: absolute;\n\t\t\tright: -1px;\n\t\t\ttop: var(--ck-spacing-small);\n\t\t\tbottom: var(--ck-spacing-small);\n\t\t\tz-index: 1;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-standard);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-text-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-standard);\n\n\t\t\tborder-radius: 0;\n\t\t\tborder: 0;\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCKA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EACC,kCAAmC,CACnC,kCAAmC,CACnC,sBAAuB,CACvB,cAAe,CAIf,oCAAqC,CACrC,aAAc,CACd,iBAKD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDvDD,oCC2DC,wDACC,8DAMD,CAJC,0EACC,WAAY,CACZ,cACD,CAGD,gJAME,aAEF,CD1ED",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-text-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,mBAEC,iBAUD,CARC,iDACC,qCACD,CC0BA,8DACC,YACD,CClCD,MACC,gDAAyD,CACzD,4CACD,CAMC,qDAGE,6BAA8B,CAC9B,gCAQF,CAZA,qDASE,4BAA6B,CAC7B,+BAEF,CAEA,0CAGC,eAmBD,CAtBA,oDCnBA,eDyCA,CAtBA,+ICfC,qCAAsC,CDuBpC,4BAA6B,CAC7B,+BAaH,CAtBA,oDAeE,6BAA8B,CAC9B,gCAMF,CAHC,8CACC,mCACD,CASA,0KACC,wDACD,CAGC,sKACC,2DACD,CAIA,sKACC,4DACD,CAMF,uCCpEA,eD8EA,CAVA,qHChEC,qCD0ED,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../tooltip/mixins/_tooltip.css";\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n\n\t/* Disable tooltips for the buttons when the button is "open" */\n\t&.ck-splitbutton_open > .ck-button {\n\t\t@mixin ck-tooltip_disabled;\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t& > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: unset;\n\t\t\t\tborder-bottom-left-radius: unset;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled) {\n\t\t\t\tborder-left-color: var(--ck-color-split-button-hover-border);\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled) {\n\t\t\t\tborder-right-color: var(--ck-color-split-button-hover-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck.ck-list-styles-dropdown>.ck-dropdown__panel>.ck-toolbar>.ck-toolbar__items{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-dropdown>.ck-dropdown__panel>.ck-toolbar{background:none;padding:0}.ck.ck-list-styles-dropdown>.ck-dropdown__panel>.ck-toolbar>.ck-toolbar__items{grid-template-columns:repeat(3,auto);row-gap:var(--ck-spacing-medium);column-gap:var(--ck-spacing-medium);padding:var(--ck-spacing-medium)}.ck.ck-list-styles-dropdown>.ck-dropdown__panel>.ck-toolbar>.ck-toolbar__items .ck-button{width:var(--ck-list-style-button-size);height:var(--ck-list-style-button-size);padding:0;margin:0;box-sizing:content-box}.ck.ck-list-styles-dropdown>.ck-dropdown__panel>.ck-toolbar>.ck-toolbar__items .ck-button .ck-icon{width:var(--ck-list-style-button-size);height:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,+EAKC,YACD,CCNA,MACC,gCACD,CAEA,4DACC,eAAgB,CAChB,SAiCD,CA/BC,+EACC,oCAAwC,CACxC,gCAAiC,CACjC,mCAAoC,CACpC,gCA0BD,CAxBC,0FAEC,sCAAuC,CACvC,uCAAwC,CACxC,SAAU,CAMV,QAAS,CAOT,sBAMD,CAJC,mGACC,sCAAuC,CACvC,uCACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-list-styles-dropdown > .ck-dropdown__panel > .ck-toolbar > .ck-toolbar__items {\n\t/*\n\t * Use the benefits of the toolbar (e.g. out-of-the-box keyboard navigation) but make it look\n\t * like a panel with thumbnails (previews).\n\t */\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-list-style-button-size: 44px;\n}\n\n.ck.ck-list-styles-dropdown > .ck-dropdown__panel > .ck-toolbar {\n\tbackground: none;\n\tpadding: 0;\n\n\t& > .ck-toolbar__items {\n\t\tgrid-template-columns: repeat( 3, auto );\n\t\trow-gap: var(--ck-spacing-medium);\n\t\tcolumn-gap: var(--ck-spacing-medium);\n\t\tpadding: var(--ck-spacing-medium);\n\n\t\t& .ck-button {\n\t\t\t/* Make the button look like a thumbnail (the icon "takes it all"). */\n\t\t\twidth: var(--ck-list-style-button-size);\n\t\t\theight: var(--ck-list-style-button-size);\n\t\t\tpadding: 0;\n\n\t\t\t/*\n\t\t\t * Buttons are aligned by the grid so disable default button margins to not collide with the\n\t\t\t * gaps in the grid.\n\t\t\t */\n\t\t\tmargin: 0;\n\n\t\t\t/*\n\t\t\t * Make sure the button border (which is displayed on focus, BTW) does not steal pixels\n\t\t\t * from the button dimensions and, as a result, decrease the size of the icon\n\t\t\t * (which becomes blurry as it scales down).\n\t\t\t */\n\t\t\tbox-sizing: content-box;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: var(--ck-list-style-button-size);\n\t\t\t\theight: var(--ck-list-style-button-size);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,8DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAEC,oJAA2J,CAC3J,yFACD,CAEA,qCACC,iBACD,CAEA,uCACC,+CAAgD,CAChD,iDAAkD,CAClD,iDAAkD,CAClD,4CAA6C,CAC7C,iBAMD,CAJC,6CACC,yCAA0C,CAC1C,6CACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\twidth: var(--ck-insert-table-dropdown-box-width);\n\theight: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,yDACD,CAGC,0IAEC,iBAAkB,CAClB,uBAAwB,CACxB,aAAc,CACd,gBAsBD,CAnBC,sJACC,UAAW,CACX,mBAAoB,CACpB,yDAA0D,CAC1D,iBAAkB,CAClB,KAAM,CACN,MAAO,CACP,OAAQ,CACR,QACD,CAEA,wTAEC,4BACD,CAEA,kLACC,aACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t& .ck-widget_selected {\n\t\t\toutline: unset;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,'.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(var(--ck-widget-outline-thickness)*-0.5);left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-0.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CACd,iBAAkB,CAClB,eAAgB,CAChB,2BAwBD,CAtBC,mDACC,iBAAkB,CAClB,OAAQ,CACR,QAAS,CACT,qCACD,CAEA,qFAEC,iDAAoD,CACpD,kBAAoB,CAEpB,0BACD,CAEA,oFAEC,oDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CACd,iBAAkB,CAClB,OAAQ,CACR,QAAS,CACT,qCACD,CAMD,2EACC,YAAa,CACb,iBAAkB,CAClB,MAAO,CACP,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHACC,qDAA0D,CAC1D,aACD,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CACC,8CAA+C,CAC/C,+CAAgD,CAChD,oDAAqD,CACrD,mBAAoB,CACpB,uMAAyM,CAb1M,SAAU,CACV,mBA0DA,CA1CC,mDACC,UAAW,CACX,UAAW,CACX,8BAA+B,CAC/B,6BAA8B,CAC9B,cAgBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLACC,0DAA2D,CAC3D,2DAA4D,CAC5D,mBAAoB,CACpB,uEACD,CAOD,8GACC,gBACD,CAKA,mDACC,mBAAoB,CACpB,UAAW,CACX,mFAAoF,CAMpF,oCAAwC,CACxC,oCACD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CASE,0jBACC,SACD,CASF,mPACC,SACD,CAcC,iRAxLF,SAAU,CACV,mBAyLE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,sBAAuB,CACvB,6BAA8B,CAC9B,8BAA+B,CAG/B,yDAAiE,CAEjE,gCAAiC,CACjC,6CAAsD,CACtD,uCACD,CAOA,8DAEC,iBAuBD,CArBC,4EACC,iBAOD,CALC,qFAGC,aACD,CAWD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CACtD,0CAA2C,CAC3C,qDAAsD,CACtD,6CAA8C,CAC9C,kCAAmC,CACnC,aAAc,CACd,+BA4BD,CA1BC,gLAIC,iBACD,CAEA,0CACC,oCAAuC,CACvC,qCACD,CAEA,2CACC,oCAAuC,CACvC,sCACD,CAEA,8CACC,uCAA0C,CAC1C,sCACD,CAEA,6CACC,uCAA0C,CAC1C,qCACD,CC7ED,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eACC,gDAAiD,CACjD,mBAAoB,CACpB,yBAA0B,CAC1B,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGC/BA,YAAa,CACb,2BAA2B,CCF3B,qCAA8B,CFqC7B,iEACD,CAIA,4EACC,WAAY,CACZ,qBAAsB,CAGtB,4BAA6B,CAC7B,SAAU,CAMV,6SAG6F,CAG7F,iEAAkE,CAGlE,2BAA4B,CAC5B,mDAqBD,CAnBC,qFAEC,wCAAyC,CACzC,yCAA0C,CAC1C,oDASD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFACC,SAAU,CACV,oDACD,CAKC,oMACC,SAAU,CACV,6CAMD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-resizer-size: 10px;\n\t--ck-resizer-border-width: 1px;\n\t--ck-resizer-border-radius: 2px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget. */\n\t&:hover {\n\t\t& .ck-widget__selection-handle {\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n\n\t/* Show the selection handle when the widget is selected. */\n\t&.ck-widget_selected .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: var(--ck-spacing-small);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var( --ck-resizer-tooltip-offset );\n\t\tleft: var( --ck-resizer-tooltip-offset );\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var( --ck-resizer-tooltip-offset );\n\t\tright: var( --ck-resizer-tooltip-offset );\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var( --ck-resizer-tooltip-offset );\n\t\tright: var( --ck-resizer-tooltip-offset );\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var( --ck-resizer-tooltip-offset );\n\t\tleft: var( --ck-resizer-tooltip-offset );\n\t}\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget. */\n\t&:hover .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& .ck-widget__selection-handle,\n\t\t\t& .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAEC,eAAgB,CAChB,aAgCD,CA9BC,yBAEC,wBAAyB,CACzB,gBAAiB,CAIjB,UAAW,CACX,WAAY,CAIZ,yBAiBD,CAfC,wDAEC,aAAc,CACd,YAAa,CAKb,wBACD,CAEA,4BACC,eAAiB,CACjB,2BACD,CAMF,+BACC,gBACD,CAEA,+BACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\tmargin: 1em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the ediitor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n'],sourceRoot:""}]),t.a=r},function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(3),r=n.n(o)()(i.a);r.push([e.i,".ck-rounded-corners .ck.ck-balloon-panel{z-index:9999}.ck.ck-responsive-form>:not(:first-child),.ck.ck-responsive-form>:not(:last-child){margin-left:0!important}","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA,yCACI,YACJ,CAEA,mFACI,uBACJ",sourcesContent:[".ck-rounded-corners .ck.ck-balloon-panel {\r\n    z-index: 9999;\r\n}\r\n\r\n.ck.ck-responsive-form > :not(:first-child), .ck.ck-responsive-form > :not(:last-child) {\r\n    margin-left: 0 !important;\r\n}"],sourceRoot:""}]),t.a=r},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";var v=u.mark(rl),b=u.mark(ll),k=u.mark(Qd);n.r(t);var C=n(5),y=C.a.Symbol,w=Object.prototype,A=w.hasOwnProperty,_=w.toString,S=y?y.toStringTag:void 0,E=Object.prototype.toString,O=y?y.toStringTag:void 0,T=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":O&&O in Object(e)?function(e){var t=A.call(e,S),n=e[S];try{e[S]=void 0;var a=!0}catch(e){}var i=_.call(e);return a&&(t?e[S]=n:delete e[S]),i}(e):function(e){return E.call(e)}(e)},x=function(e,t){return function(n){return e(t(n))}},P=x(Object.getPrototypeOf,Object),D=function(e){return null!=e&&"object"==typeof e},M=Function.prototype,R=Object.prototype,I=M.toString,B=R.hasOwnProperty,L=I.call(Object),z=function(e){if(!D(e)||"[object Object]"!=T(e))return!1;var t=P(e);if(null===t)return!0;var n=B.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&I.call(n)==L},V=function(e,t){return e===t||e!=e&&t!=t},j=function(e,t){for(var n=e.length;n--;)if(V(e[n][0],t))return n;return-1},F=Array.prototype.splice;function N(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}N.prototype.clear=function(){this.__data__=[],this.size=0},N.prototype.delete=function(e){var t=this.__data__,n=j(t,e);return!(n<0)&&(n==t.length-1?t.pop():F.call(t,n,1),--this.size,!0)},N.prototype.get=function(e){var t=this.__data__,n=j(t,e);return n<0?void 0:t[n][1]},N.prototype.has=function(e){return j(this.__data__,e)>-1},N.prototype.set=function(e,t){var n=this.__data__,a=j(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this};var G,U=N,H=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},q=function(e){if(!H(e))return!1;var t=T(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},W=C.a["__core-js_shared__"],K=(G=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Y=Function.prototype.toString,J=function(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""},$=/^\[object .+?Constructor\]$/,Q=Function.prototype,Z=Object.prototype,X=Q.toString,ee=Z.hasOwnProperty,te=RegExp("^"+X.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=function(e){return!(!H(e)||function(e){return!!K&&K in e}(e))&&(q(e)?te:$).test(J(e))},ae=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ne(n)?n:void 0},ie=ae(C.a,"Map"),oe=ae(Object,"create"),re=Object.prototype.hasOwnProperty,le=Object.prototype.hasOwnProperty;function se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}se.prototype.clear=function(){this.__data__=oe?oe(null):{},this.size=0},se.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},se.prototype.get=function(e){var t=this.__data__;if(oe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return re.call(t,e)?t[e]:void 0},se.prototype.has=function(e){var t=this.__data__;return oe?void 0!==t[e]:le.call(t,e)},se.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=oe&&void 0===t?"__lodash_hash_undefined__":t,this};var ce=se,de=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}ue.prototype.clear=function(){this.size=0,this.__data__={hash:new ce,map:new(ie||U),string:new ce}},ue.prototype.delete=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t},ue.prototype.get=function(e){return de(this,e).get(e)},ue.prototype.has=function(e){return de(this,e).has(e)},ue.prototype.set=function(e,t){var n=de(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this};var me=ue;function he(e){var t=this.__data__=new U(e);this.size=t.size}he.prototype.clear=function(){this.__data__=new U,this.size=0},he.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},he.prototype.get=function(e){return this.__data__.get(e)},he.prototype.has=function(e){return this.__data__.has(e)},he.prototype.set=function(e,t){var n=this.__data__;if(n instanceof U){var a=n.__data__;if(!ie||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new me(a)}return n.set(e,t),this.size=n.size,this};var fe=he,ge=function(){try{var e=ae(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),pe=function(e,t,n){"__proto__"==t&&ge?ge(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},ve=Object.prototype.hasOwnProperty,be=function(e,t,n){var a=e[t];ve.call(e,t)&&V(a,n)&&(void 0!==n||t in e)||pe(e,t,n)},ke=function(e,t,n,a){var i=!n;n||(n={});for(var o=-1,r=t.length;++o<r;){var l=t[o],s=a?a(n[l],e[l],l,n,e):void 0;void 0===s&&(s=e[l]),i?pe(n,l,s):be(n,l,s)}return n},Ce=function(e){return D(e)&&"[object Arguments]"==T(e)},ye=Object.prototype,we=ye.hasOwnProperty,Ae=ye.propertyIsEnumerable,_e=Ce(function(){return arguments}())?Ce:function(e){return D(e)&&we.call(e,"callee")&&!Ae.call(e,"callee")},Se=Array.isArray,Ee=n(6),Oe=/^(?:0|[1-9]\d*)$/,Te=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Oe.test(e))&&e>-1&&e%1==0&&e<t},xe=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Pe={};Pe["[object Float32Array]"]=Pe["[object Float64Array]"]=Pe["[object Int8Array]"]=Pe["[object Int16Array]"]=Pe["[object Int32Array]"]=Pe["[object Uint8Array]"]=Pe["[object Uint8ClampedArray]"]=Pe["[object Uint16Array]"]=Pe["[object Uint32Array]"]=!0,Pe["[object Arguments]"]=Pe["[object Array]"]=Pe["[object ArrayBuffer]"]=Pe["[object Boolean]"]=Pe["[object DataView]"]=Pe["[object Date]"]=Pe["[object Error]"]=Pe["[object Function]"]=Pe["[object Map]"]=Pe["[object Number]"]=Pe["[object Object]"]=Pe["[object RegExp]"]=Pe["[object Set]"]=Pe["[object String]"]=Pe["[object WeakMap]"]=!1;var De=function(e){return function(t){return e(t)}},Me=n(7),Re=Me.a&&Me.a.isTypedArray,Ie=Re?De(Re):function(e){return D(e)&&xe(e.length)&&!!Pe[T(e)]},Be=Object.prototype.hasOwnProperty,Le=function(e,t){var n=Se(e),a=!n&&_e(e),i=!n&&!a&&Object(Ee.a)(e),o=!n&&!a&&!i&&Ie(e),r=n||a||i||o,l=r?function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}(e.length,String):[],s=l.length;for(var c in e)!t&&!Be.call(e,c)||r&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Te(c,s))||l.push(c);return l},ze=Object.prototype,Ve=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ze)},je=x(Object.keys,Object),Fe=Object.prototype.hasOwnProperty,Ne=function(e){return null!=e&&xe(e.length)&&!q(e)},Ge=function(e){return Ne(e)?Le(e):function(e){if(!Ve(e))return je(e);var t=[];for(var n in Object(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},Ue=Object.prototype.hasOwnProperty,He=function(e){if(!H(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Ve(e),n=[];for(var a in e)("constructor"!=a||!t&&Ue.call(e,a))&&n.push(a);return n},qe=function(e){return Ne(e)?Le(e,!0):He(e)},We=n(10),Ke=function(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t},Ye=function(){return[]},Je=Object.prototype.propertyIsEnumerable,$e=Object.getOwnPropertySymbols,Qe=$e?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,a=null==e?0:e.length,i=0,o=[];++n<a;){var r=e[n];t(r,n,e)&&(o[i++]=r)}return o}($e(e),(function(t){return Je.call(e,t)})))}:Ye,Ze=function(e,t){for(var n=-1,a=t.length,i=e.length;++n<a;)e[i+n]=t[n];return e},Xe=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ze(t,Qe(e)),e=P(e);return t}:Ye,et=function(e,t,n){var a=t(e);return Se(e)?a:Ze(a,n(e))},tt=function(e){return et(e,Ge,Qe)},nt=function(e){return et(e,qe,Xe)},at=ae(C.a,"DataView"),it=ae(C.a,"Promise"),ot=ae(C.a,"Set"),rt=ae(C.a,"WeakMap"),lt="[object Map]",st="[object Promise]",ct="[object Set]",dt="[object WeakMap]",ut="[object DataView]",mt=J(at),ht=J(ie),ft=J(it),gt=J(ot),pt=J(rt),vt=T;(at&&vt(new at(new ArrayBuffer(1)))!=ut||ie&&vt(new ie)!=lt||it&&vt(it.resolve())!=st||ot&&vt(new ot)!=ct||rt&&vt(new rt)!=dt)&&(vt=function(e){var t=T(e),n="[object Object]"==t?e.constructor:void 0,a=n?J(n):"";if(a)switch(a){case mt:return ut;case ht:return lt;case ft:return st;case gt:return ct;case pt:return dt}return t});var bt=vt,kt=Object.prototype.hasOwnProperty,Ct=C.a.Uint8Array,yt=function(e){var t=new e.constructor(e.byteLength);return new Ct(t).set(new Ct(e)),t},wt=/\w*$/,At=y?y.prototype:void 0,_t=At?At.valueOf:void 0,St=function(e,t){var n=t?yt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Et=function(e,t,n){var a=e.constructor;switch(t){case"[object ArrayBuffer]":return yt(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return function(e,t){var n=t?yt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return St(e,n);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,wt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return new a;case"[object Symbol]":return function(e){return _t?Object(_t.call(e)):{}}(e)}},Ot=Object.create,Tt=function(){function e(){}return function(t){if(!H(t))return{};if(Ot)return Ot(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),xt=function(e){return"function"!=typeof e.constructor||Ve(e)?{}:Tt(P(e))},Pt=Me.a&&Me.a.isMap,Dt=Pt?De(Pt):function(e){return D(e)&&"[object Map]"==bt(e)},Mt=Me.a&&Me.a.isSet,Rt=Mt?De(Mt):function(e){return D(e)&&"[object Set]"==bt(e)},It="[object Arguments]",Bt="[object Function]",Lt={};Lt[It]=Lt["[object Array]"]=Lt["[object ArrayBuffer]"]=Lt["[object DataView]"]=Lt["[object Boolean]"]=Lt["[object Date]"]=Lt["[object Float32Array]"]=Lt["[object Float64Array]"]=Lt["[object Int8Array]"]=Lt["[object Int16Array]"]=Lt["[object Int32Array]"]=Lt["[object Map]"]=Lt["[object Number]"]=Lt["[object Object]"]=Lt["[object RegExp]"]=Lt["[object Set]"]=Lt["[object String]"]=Lt["[object Symbol]"]=Lt["[object Uint8Array]"]=Lt["[object Uint8ClampedArray]"]=Lt["[object Uint16Array]"]=Lt["[object Uint32Array]"]=!0,Lt["[object Error]"]=Lt[Bt]=Lt["[object WeakMap]"]=!1;var zt=function e(t,n,a,i,o,r){var l,s=1&n,c=2&n,d=4&n;if(a&&(l=o?a(t,i,o,r):a(t)),void 0!==l)return l;if(!H(t))return t;var u=Se(t);if(u){if(l=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&kt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!s)return Ke(t,l)}else{var m=bt(t),h=m==Bt||"[object GeneratorFunction]"==m;if(Object(Ee.a)(t))return Object(We.a)(t,s);if("[object Object]"==m||m==It||h&&!o){if(l=c||h?{}:xt(t),!s)return c?function(e,t){return ke(e,Xe(e),t)}(t,function(e,t){return e&&ke(t,qe(t),e)}(l,t)):function(e,t){return ke(e,Qe(e),t)}(t,function(e,t){return e&&ke(t,Ge(t),e)}(l,t))}else{if(!Lt[m])return o?t:{};l=Et(t,m,s)}}r||(r=new fe);var f=r.get(t);if(f)return f;r.set(t,l),Rt(t)?t.forEach((function(i){l.add(e(i,n,a,i,t,r))})):Dt(t)&&t.forEach((function(i,o){l.set(o,e(i,n,a,o,t,r))}));var g=d?c?nt:tt:c?keysIn:Ge,p=u?void 0:g(t);return function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!1!==t(e[n],n,e););}(p||t,(function(i,o){p&&(i=t[o=i]),be(l,o,e(i,n,a,o,t,r))})),l},Vt=function(e,t){return zt(e,5,t="function"==typeof t?t:void 0)},jt=function(e){return D(e)&&1===e.nodeType&&!z(e)},Ft=function(){function e(t,n){h(this,e),this._config={},n&&this.define(Nt(n)),t&&this._setObjectToTarget(this._config,t)}return f(e,[{key:"set",value:function(e,t){this._setToTarget(this._config,e,t)}},{key:"define",value:function(e,t){this._setToTarget(this._config,e,t,!0)}},{key:"get",value:function(e){return this._getFromSource(this._config,e)}},{key:"names",value:u.mark((function e(){var t,n,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=Object.keys(this._config);case 1:if(!(t<n.length)){e.next=8;break}return a=n[t],e.next=5,a;case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"_setToTarget",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(z(t))this._setObjectToTarget(e,t,a);else{var i=t.split(".");t=i.pop();var o,r=d(i);try{for(r.s();!(o=r.n()).done;){var l=o.value;z(e[l])||(e[l]={}),e=e[l]}}catch(s){r.e(s)}finally{r.f()}if(z(n))return z(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,a);a&&void 0!==e[t]||(e[t]=n)}}},{key:"_getFromSource",value:function(e,t){var n=t.split(".");t=n.pop();var a,i=d(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!z(e[o])){e=null;break}e=e[o]}}catch(r){i.e(r)}finally{i.f()}return e?Nt(e[t]):void 0}},{key:"_setObjectToTarget",value:function(e,t,n){var a=this;Object.keys(t).forEach((function(i){a._setToTarget(e,i,t[i],n)}))}}]),e}();function Nt(e){return Vt(e,Gt)}function Gt(e){return jt(e)?e:void 0}var Ut=function e(t,n){h(this,e),this.source=t,this.name=n,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}},Ht=new Array(256).fill().map((function(e,t){return("0"+t.toString(16)).slice(-2)}));function qt(){var e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+Ht[e>>0&255]+Ht[e>>8&255]+Ht[e>>16&255]+Ht[e>>24&255]+Ht[t>>0&255]+Ht[t>>8&255]+Ht[t>>16&255]+Ht[t>>24&255]+Ht[n>>0&255]+Ht[n>>8&255]+Ht[n>>16&255]+Ht[n>>24&255]+Ht[a>>0&255]+Ht[a>>8&255]+Ht[a>>16&255]+Ht[a>>24&255]}var Wt={get:function(e){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},Kt=(n(8),n(0)),Yt=Symbol("listeningTo"),Jt=Symbol("emitterId"),$t={on:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.listenTo(this,e,t,n)},once:function(e,t,n){var a=!1;this.listenTo(this,e,(function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];a||(a=!0,e.off(),t.call.apply(t,[this,e].concat(i)))}),n)},off:function(e,t){this.stopListening(this,e,t)},listenTo:function(e,t,n){var a,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this[Yt]||(this[Yt]={});var r=this[Yt];Zt(e)||Qt(e);var l=Zt(e);(a=r[l])||(a=r[l]={emitter:e,callbacks:{}}),(i=a.callbacks[t])||(i=a.callbacks[t]=[]),i.push(n),function(e,t){var n=Xt(e);if(!n[t]){for(var a=t,i=null,o=[];""!==a&&!n[a];)n[a]={callbacks:[],childEvents:[]},o.push(n[a]),i&&n[a].childEvents.push(i),i=a,a=a.substr(0,a.lastIndexOf(":"));if(""!==a){var r,l=d(o);try{for(l.s();!(r=l.n()).done;)r.value.callbacks=n[a].callbacks.slice()}catch(s){l.e(s)}finally{l.f()}n[a].childEvents.push(i)}}}(e,t);var s,c=en(e,t),u=Wt.get(o.priority),m={callback:n,priority:u},h=d(c);try{for(h.s();!(s=h.n()).done;){for(var f=s.value,g=!1,p=0;p<f.length;p++)if(f[p].priority<u){f.splice(p,0,m),g=!0;break}g||f.push(m)}}catch(v){h.e(v)}finally{h.f()}},stopListening:function(e,t,n){var a=this[Yt],i=e&&Zt(e),o=a&&i&&a[i],r=o&&t&&o.callbacks[t];if(!(!a||e&&!o||t&&!r))if(n)an(e,t,n);else if(r){for(;n=r.pop();)an(e,t,n);delete o.callbacks[t]}else if(o){for(t in o.callbacks)this.stopListening(e,t);delete a[i]}else{for(i in a)this.stopListening(a[i].emitter);delete this[Yt]}},fire:function(e){try{for(var t=e instanceof Ut?e:new Ut(this,e),n=t.name,a=tn(this,n),i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];if(t.path.push(this),a){var l=[t].concat(o);a=Array.from(a);for(var s=0;s<a.length&&(a[s].callback.apply(this,l),t.off.called&&(delete t.off.called,an(this,n,a[s].callback)),!t.stop.called);s++);}if(this._delegations){var c=this._delegations.get(n),d=this._delegations.get("*");c&&nn(c,t,o),d&&nn(d,t,o)}return t.return}catch(e){Kt.a.rethrowUnexpectedError(e,this)}},delegate:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return{to:function(t,a){e._delegations||(e._delegations=new Map),n.forEach((function(n){var i=e._delegations.get(n);i?i.set(t,a):e._delegations.set(n,new Map([[t,a]]))}))}}},stopDelegating:function(e,t){if(this._delegations)if(e)if(t){var n=this._delegations.get(e);n&&n.delete(t)}else this._delegations.delete(e);else this._delegations.clear()}};function Qt(e,t){e[Jt]||(e[Jt]=t||qt())}function Zt(e){return e[Jt]}function Xt(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function en(e,t){var n=Xt(e)[t];if(!n)return[];for(var a=[n.callbacks],i=0;i<n.childEvents.length;i++){var o=en(e,n.childEvents[i]);a=a.concat(o)}return a}function tn(e,t){var n;return e._events&&(n=e._events[t])&&n.callbacks.length?n.callbacks:t.indexOf(":")>-1?tn(e,t.substr(0,t.lastIndexOf(":"))):null}function nn(e,t,n){var a,i=d(e);try{for(i.s();!(a=i.n()).done;){var o=c(a.value,2),r=o[0],l=o[1];l?"function"==typeof l&&(l=l(t.name)):l=t.name;var s=new Ut(t.source,l);s.path=m(t.path),r.fire.apply(r,[s].concat(m(n)))}}catch(u){i.e(u)}finally{i.f()}}function an(e,t,n){var a,i=en(e,t),o=d(i);try{for(o.s();!(a=o.n()).done;)for(var r=a.value,l=0;l<r.length;l++)r[l].callback==n&&(r.splice(l,1),l--)}catch(s){o.e(s)}finally{o.f()}}function on(e){return!(!e||!e[Symbol.iterator])}function rn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];n.forEach((function(t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach((function(n){if(!(n in e.prototype)){var a=Object.getOwnPropertyDescriptor(t,n);a.enumerable=!1,Object.defineProperty(e.prototype,n,a)}}))}))}var ln=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e);var a=on(t);if(a||(n=t),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a){var i,o=d(t);try{for(o.s();!(i=o.n()).done;){var r=i.value;this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}}catch(l){o.e(l)}finally{o.f()}}}return f(e,[{key:"add",value:function(e,t){return this.addMany([e],t)}},{key:"addMany",value:function(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new Kt.a("collection-add-item-invalid-index",this);for(var n=0;n<e.length;n++){var a=e[n],i=this._getItemIdBeforeAdding(a),o=t+n;this._items.splice(o,0,a),this._itemMap.set(i,a),this.fire("add",a,o)}return this.fire("change",{added:e,removed:[],index:t}),this}},{key:"get",value:function(e){var t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new Kt.a("collection-get-invalid-arg",this);t=this._items[e]}return t||null}},{key:"has",value:function(e){if("string"==typeof e)return this._itemMap.has(e);var t=e[this._idProperty];return this._itemMap.has(t)}},{key:"getIndex",value:function(e){var t;return t="string"==typeof e?this._itemMap.get(e):e,this._items.indexOf(t)}},{key:"remove",value:function(e){var t=this._remove(e),n=c(t,2),a=n[0],i=n[1];return this.fire("change",{added:[],removed:[a],index:i}),a}},{key:"map",value:function(e,t){return this._items.map(e,t)}},{key:"find",value:function(e,t){return this._items.find(e,t)}},{key:"filter",value:function(e,t){return this._items.filter(e,t)}},{key:"clear",value:function(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);for(var e=Array.from(this._items);this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}},{key:"bindTo",value:function(e){var t=this;if(this._bindToCollection)throw new Kt.a("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:function(e){t._setUpBindToBinding((function(t){return new e(t)}))},using:function(e){"function"==typeof e?t._setUpBindToBinding((function(t){return e(t)})):t._setUpBindToBinding((function(t){return t[e]}))}}}},{key:"_setUpBindToBinding",value:function(e){var t,n=this,a=this._bindToCollection,i=function(t,i,o){var r=a._bindToCollection==n,l=a._bindToInternalToExternalMap.get(i);if(r&&l)n._bindToExternalToInternalMap.set(i,l),n._bindToInternalToExternalMap.set(l,i);else{var s=e(i);if(!s)return void n._skippedIndexesFromExternal.push(o);var c,u=o,m=d(n._skippedIndexesFromExternal);try{for(m.s();!(c=m.n()).done;)o>c.value&&u--}catch(p){m.e(p)}finally{m.f()}var h,f=d(a._skippedIndexesFromExternal);try{for(f.s();!(h=f.n()).done;)u>=h.value&&u++}catch(p){f.e(p)}finally{f.f()}n._bindToExternalToInternalMap.set(i,s),n._bindToInternalToExternalMap.set(s,i),n.add(s,u);for(var g=0;g<a._skippedIndexesFromExternal.length;g++)u<=a._skippedIndexesFromExternal[g]&&a._skippedIndexesFromExternal[g]++}},o=d(a);try{for(o.s();!(t=o.n()).done;){var r=t.value;i(0,r,a.getIndex(r))}}catch(l){o.e(l)}finally{o.f()}this.listenTo(a,"add",i),this.listenTo(a,"remove",(function(e,t,a){var i=n._bindToExternalToInternalMap.get(t);i&&n.remove(i),n._skippedIndexesFromExternal=n._skippedIndexesFromExternal.reduce((function(e,t){return a<t&&e.push(t-1),a>t&&e.push(t),e}),[])}))}},{key:"_getItemIdBeforeAdding",value:function(e){var t,n=this._idProperty;if(n in e){if("string"!=typeof(t=e[n]))throw new Kt.a("collection-add-invalid-id",this);if(this.get(t))throw new Kt.a("collection-add-item-already-exists",this)}else e[n]=t=qt();return t}},{key:"_remove",value:function(e){var t,n,a,i=!1,o=this._idProperty;if("string"==typeof e?(n=e,i=!(a=this._itemMap.get(n)),a&&(t=this._items.indexOf(a))):"number"==typeof e?(t=e,i=!(a=this._items[t]),a&&(n=a[o])):(n=(a=e)[o],i=-1==(t=this._items.indexOf(a))||!this._itemMap.get(n)),i)throw new Kt.a("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);var r=this._bindToInternalToExternalMap.get(a);return this._bindToInternalToExternalMap.delete(a),this._bindToExternalToInternalMap.delete(r),this.fire("remove",a,t),[a,t]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}}]),e}();rn(ln,$t);var sn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];h(this,e),this._context=t,this._plugins=new Map,this._availablePlugins=new Map;var i,o=d(n);try{for(o.s();!(i=o.n()).done;){var r=i.value;r.pluginName&&this._availablePlugins.set(r.pluginName,r)}}catch(g){o.e(g)}finally{o.f()}this._contextPlugins=new Map;var l,s=d(a);try{for(s.s();!(l=s.n()).done;){var u=c(l.value,2),m=u[0],f=u[1];this._contextPlugins.set(m,f),this._contextPlugins.set(f,m),m.pluginName&&this._availablePlugins.set(m.pluginName,m)}}catch(g){s.e(g)}finally{s.f()}}return f(e,[{key:Symbol.iterator,value:u.mark((function e(){var t,n,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._plugins),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(a=n.value,e.t0="function"==typeof a[0],!e.t0){e.next=9;break}return e.next=9,a;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"get",value:function(e){var t=this._plugins.get(e);if(!t){var n=e;throw"function"==typeof e&&(n=e.pluginName||e.name),new Kt.a("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}},{key:"has",value:function(e){return this._plugins.has(e)}},{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this,a=this._context,i=new Set,o=[],r=f(e),l=f(t),s=function(e){var t,n=[],a=d(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;h(i)||n.push(i)}}catch(o){a.e(o)}finally{a.f()}return n.length?n:null}(e);if(s){var c="plugincollection-plugin-not-found";return Object(Kt.b)(c,{plugins:s}),Promise.reject(new Kt.a(c,a,{plugins:s}))}return Promise.all(r.map(u)).then((function(){return m(o,"init")})).then((function(){return m(o,"afterInit")})).then((function(){return o}));function u(e){if(!l.includes(e)&&!n._plugins.has(e)&&!i.has(e))return function(e){return new Promise((function(r){i.add(e),e.requires&&e.requires.forEach((function(n){var i=h(n);if(e.isContextPlugin&&!i.isContextPlugin)throw new Kt.a("plugincollection-context-required",null,{plugin:i.name,requiredBy:e.name});if(t.includes(i))throw new Kt.a("plugincollection-required",a,{plugin:i.name,requiredBy:e.name});u(i)}));var l=n._contextPlugins.get(e)||new e(a);n._add(e,l),o.push(l),r()}))}(e).catch((function(t){throw Object(Kt.b)("plugincollection-load",{plugin:e}),t}))}function m(e,t){return e.reduce((function(e,a){return a[t]?n._contextPlugins.has(a)?e:e.then(a[t].bind(a)):e}),Promise.resolve())}function h(e){return"function"==typeof e?e:n._availablePlugins.get(e)}function f(e){return e.map((function(e){return h(e)})).filter((function(e){return!!e}))}}},{key:"destroy",value:function(){var e,t=[],n=d(this);try{for(n.s();!(e=n.n()).done;){var a=c(e.value,2)[1];"function"!=typeof a.destroy||this._contextPlugins.has(a)||t.push(a.destroy())}}catch(i){n.e(i)}finally{n.f()}return Promise.all(t)}},{key:"_add",value:function(e,t){this._plugins.set(e,t);var n=e.pluginName;if(n){if(this._plugins.has(n))throw new Kt.a("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}]),e}();function cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("number"!=typeof n)throw new Kt.a("translation-service-quantity-not-a-number",null,{quantity:n});var a=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===a&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);var i=t.id||t.string;if(0===a||!function(e,t){return!!window.CKEDITOR_TRANSLATIONS[e]&&!!window.CKEDITOR_TRANSLATIONS[e].dictionary[t]}(e,i))return 1!==n?t.plural:t.string;var o=window.CKEDITOR_TRANSLATIONS[e].dictionary,r=window.CKEDITOR_TRANSLATIONS[e].getPluralForm||function(e){return 1===e?0:1};if("string"==typeof o[i])return o[i];var l=Number(r(n));return o[i][l]}rn(sn,$t),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var dn=["ar","fa","he","ku","ug"],un=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this.uiLanguage=n.uiLanguage||"en",this.contentLanguage=n.contentLanguage||this.uiLanguage,this.uiLanguageDirection=mn(this.uiLanguage),this.contentLanguageDirection=mn(this.contentLanguage),this.t=function(e,n){return t._t(e,n)}}return f(e,[{key:"_t",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Array.isArray(t)||(t=[t]),"string"==typeof e&&(e={string:e});var n=e.plural?t[0]:1;return function(e,t){return e.replace(/%(\d+)/g,(function(e,n){return n<t.length?t[n]:e}))}(cn(this.uiLanguage,e,n),t)}},{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}}]),e}();function mn(e){return dn.includes(e)?"rtl":"ltr"}var hn=function(){function e(t){h(this,e),this.config=new Ft(t,this.constructor.defaultConfig);var n=this.constructor.builtinPlugins;this.config.define("plugins",n),this.plugins=new sn(this,n);var a=this.config.get("language")||{};this.locale=new un({uiLanguage:"string"==typeof a?a:a.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new ln,this._contextOwner=null}return f(e,[{key:"initPlugins",value:function(){var e,t=this.config.get("plugins")||[],n=d(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;if("function"!=typeof a)throw new Kt.a("context-initplugins-constructor-only",null,{Plugin:a});if(!0!==a.isContextPlugin)throw new Kt.a("context-initplugins-invalid-plugin",null,{Plugin:a})}}catch(i){n.e(i)}finally{n.f()}return this.plugins.init(t)}},{key:"destroy",value:function(){var e=this;return Promise.all(Array.from(this.editors,(function(e){return e.destroy()}))).then((function(){return e.plugins.destroy()}))}},{key:"_addEditor",value:function(e,t){if(this._contextOwner)throw new Kt.a("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}},{key:"_removeEditor",value:function(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var e,t={},n=d(this.config.names());try{for(n.s();!(e=n.n()).done;){var a=e.value;["plugins","removePlugins","extraPlugins"].includes(a)||(t[a]=this.config.get(a))}}catch(i){n.e(i)}finally{n.f()}return t}}],[{key:"create",value:function(e){var t=this;return new Promise((function(n){var a=new t(e);n(a.initPlugins().then((function(){return a})))}))}}]),e}();function fn(e,t){for(var n=Math.min(e.length,t.length),a=0;a<n;a++)if(e[a]!=t[a])return a;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}var gn=function(e){return zt(e,4)},pn=function(){function e(t){h(this,e),this.document=t,this.parent=null}return f(e,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.index),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),a=e.getAncestors(t),i=0;n[i]==a[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),a=fn(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t),this.parent&&this.parent._fireChange(e,t)}},{key:"toJSON",value:function(){var e=gn(this);return delete e.parent,e}},{key:"is",value:function(e){return"node"===e||"view:node"===e}},{key:"index",get:function(){var e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new Kt.a("view-node-not-found-in-parent",this);return e}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]),e}();rn(pn,$t);var vn=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,e))._textData=a,i}return f(n,[{key:"is",value:function(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e}},{key:"isSimilar",value:function(e){return e instanceof n&&(this===e||this.data===e.data)}},{key:"_clone",value:function(){return new n(this.document,this.data)}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(e){this._fireChange("text",this),this._textData=e}}]),n}(pn),bn=function(){function e(t,n,a){if(h(this,e),this.textNode=t,n<0||n>t.data.length)throw new Kt.a("view-textproxy-wrong-offsetintext",this);if(a<0||n+a>t.data.length)throw new Kt.a("view-textproxy-wrong-length",this);this.data=t.data.substring(n,n+a),this.offsetInText=n}return f(e,[{key:"is",value:function(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this.textNode:this.parent;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}}]),e}();function kn(e){return on(e)?new Map(e):function(e){var t=new Map;for(var n in e)t.set(n,e[n]);return t}(e)}var Cn=function(){function e(){h(this,e),this._patterns=[],this.add.apply(this,arguments)}return f(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=0,i=t;a<i.length;a++){var o=i[a];("string"==typeof o||o instanceof RegExp)&&(o={name:o}),o.classes&&("string"==typeof o.classes||o.classes instanceof RegExp)&&(o.classes=[o.classes]),this._patterns.push(o)}}},{key:"match",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=0,i=t;a<i.length;a++){var o,r=i[a],l=d(this._patterns);try{for(l.s();!(o=l.n()).done;){var s=o.value,c=yn(r,s);if(c)return{element:r,pattern:s,match:c}}}catch(u){l.e(u)}finally{l.f()}}return null}},{key:"matchAll",value:function(){for(var e=[],t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var i=0,o=n;i<o.length;i++){var r,l=o[i],s=d(this._patterns);try{for(s.s();!(r=s.n()).done;){var c=r.value,u=yn(l,c);u&&e.push({element:l,pattern:c,match:u})}}catch(m){s.e(m)}finally{s.f()}}return e.length>0?e:null}},{key:"getElementName",value:function(){if(1!==this._patterns.length)return null;var e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}]),e}();function yn(e,t){if("function"==typeof t)return t(e);var n={};return t.name&&(n.name=function(e,t){return e instanceof RegExp?e.test(t):e===t}(t.name,e.name),!n.name)||t.attributes&&(n.attributes=function(e,t){var n=[];for(var a in e){var i=e[a];if(!t.hasAttribute(a))return null;var o=t.getAttribute(a);if(!0===i)n.push(a);else if(i instanceof RegExp){if(!i.test(o))return null;n.push(a)}else{if(o!==i)return null;n.push(a)}}return n}(t.attributes,e),!n.attributes)?null:!(t.classes&&(n.classes=function(e,t){var n,a=[],i=d(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o instanceof RegExp){var r,l=t.getClassNames(),s=d(l);try{for(s.s();!(r=s.n()).done;){var c=r.value;o.test(c)&&a.push(c)}}catch(u){s.e(u)}finally{s.f()}if(0===a.length)return null}else{if(!t.hasClass(o))return null;a.push(o)}}}catch(u){i.e(u)}finally{i.f()}return a}(t.classes,e),!n.classes))&&!(t.styles&&(n.styles=function(e,t){var n=[];for(var a in e){var i=e[a];if(!t.hasStyle(a))return null;var o=t.getStyle(a);if(i instanceof RegExp){if(!i.test(o))return null;n.push(a)}else{if(o!==i)return null;n.push(a)}}return n}(t.styles,e),!n.styles))&&n}var wn=function(e){return"symbol"==typeof e||D(e)&&"[object Symbol]"==T(e)},An=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_n=/^\w*$/;function Sn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var a=arguments,i=t?t.apply(this,a):a[0],o=n.cache;if(o.has(i))return o.get(i);var r=e.apply(this,a);return n.cache=o.set(i,r)||o,r};return n.cache=new(Sn.Cache||me),n}Sn.Cache=me;var En=Sn,On=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tn=/\\(\\)?/g,xn=function(e){var t=En((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(On,(function(e,n,a,i){t.push(a?i.replace(Tn,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),Pn=y?y.prototype:void 0,Dn=Pn?Pn.toString:void 0,Mn=function e(t){if("string"==typeof t)return t;if(Se(t))return function(e,t){for(var n=-1,a=null==e?0:e.length,i=Array(a);++n<a;)i[n]=t(e[n],n,e);return i}(t,e)+"";if(wn(t))return Dn?Dn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Rn=function(e){return null==e?"":Mn(e)},In=function(e,t){return Se(e)?e:function(e,t){if(Se(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!wn(e))||_n.test(e)||!An.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:xn(Rn(e))},Bn=function(e){if("string"==typeof e||wn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Ln=function(e,t){for(var n=0,a=(t=In(t,e)).length;null!=e&&n<a;)e=e[Bn(t[n++])];return n&&n==a?e:void 0},zn=function(e,t,n){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+t];return o},Vn=function(e,t){return null==(e=function(e,t){return t.length<2?e:Ln(e,zn(t,0,-1))}(e,t=In(t,e)))||delete e[Bn(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]},jn=function(e,t,n){var a=null==e?void 0:Ln(e,t);return void 0===a?n:a},Fn=function(e,t,n){(void 0!==n&&!V(e[t],n)||void 0===n&&!(t in e))&&pe(e,t,n)},Nn=function(e,t,n){for(var a=-1,i=Object(e),o=n(e),r=o.length;r--;){var l=o[++a];if(!1===t(i[l],l,i))break}return e},Gn=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Un=function(e,t,n,a,i,o,r){var l=Gn(e,n),s=Gn(t,n),c=r.get(s);if(c)Fn(e,n,c);else{var d=o?o(l,s,n+"",e,t,r):void 0,u=void 0===d;if(u){var m=Se(s),h=!m&&Object(Ee.a)(s),f=!m&&!h&&Ie(s);d=s,m||h||f?Se(l)?d=l:function(e){return D(e)&&Ne(e)}(l)?d=Ke(l):h?(u=!1,d=Object(We.a)(s,!0)):f?(u=!1,d=St(s,!0)):d=[]:z(s)||_e(s)?(d=l,_e(l)?d=function(e){return ke(e,qe(e))}(l):H(l)&&!q(l)||(d=xt(s))):u=!1}u&&(r.set(s,d),i(d,s,a,o,r),r.delete(s)),Fn(e,n,d)}},Hn=function(e){return e},qn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Wn=Math.max,Kn=function(e){return function(){return e}},Yn=ge?function(e,t){return ge(e,"toString",{configurable:!0,enumerable:!1,value:Kn(t),writable:!0})}:Hn,Jn=Date.now,$n=function(e){var t=0,n=0;return function(){var a=Jn(),i=16-(a-n);if(n=a,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Yn),Qn=function(e,t){return $n(function(e,t,n){return t=Wn(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,o=Wn(a.length-t,0),r=Array(o);++i<o;)r[i]=a[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=a[i];return l[t]=n(r),qn(e,this,l)}}(e,t,Hn),e+"")},Zn=function(e){return Qn((function(t,n){var a=-1,i=n.length,o=i>1?n[i-1]:void 0,r=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,r&&function(e,t,n){if(!H(n))return!1;var a=typeof t;return!!("number"==a?Ne(n)&&Te(t,n.length):"string"==a&&t in n)&&V(n[t],e)}(n[0],n[1],r)&&(o=i<3?void 0:o,i=1),t=Object(t);++a<i;){var l=n[a];l&&e(t,l,a,o)}return t}))},Xn=Zn((function(e,t,n){!function e(t,n,a,i,o){t!==n&&Nn(n,(function(r,l){if(o||(o=new fe),H(r))Un(t,n,l,a,e,i,o);else{var s=i?i(Gn(t,l),r,l+"",t,n,o):void 0;void 0===s&&(s=r),Fn(t,l,s)}}),qe)}(e,t,n)})),ea=function(e,t,n){return null==e?e:function(e,t,n,a){if(!H(e))return e;for(var i=-1,o=(t=In(t,e)).length,r=o-1,l=e;null!=l&&++i<o;){var s=Bn(t[i]),c=n;if(i!=r){var d=l[s];void 0===(c=a?a(d,s,l):void 0)&&(c=H(d)?d:Te(t[i+1])?[]:{})}be(l,s,c),l=l[s]}return e}(e,t,n)},ta=function(){function e(t){h(this,e),this._styles={},this._styleProcessor=t}return f(e,[{key:"setTo",value:function(e){this.clear();for(var t=0,n=Array.from(function(e){var t=null,n=0,a=0,i=null,o=new Map;if(""===e)return o;";"!=e.charAt(e.length-1)&&(e+=";");for(var r=0;r<e.length;r++){var l=e.charAt(r);if(null===t)switch(l){case":":i||(i=e.substr(n,r-n),a=r+1);break;case'"':case"'":t=l;break;case";":var s=e.substr(a,r-a);i&&o.set(i.trim(),s.trim()),i=null,n=r+1}else l===t&&(t=null)}return o}(e).entries());t<n.length;t++){var a=c(n[t],2),i=a[0],o=a[1];this._styleProcessor.toNormalizedForm(i,o,this._styles)}}},{key:"has",value:function(e){if(this.isEmpty)return!1;var t=this._styleProcessor.getReducedForm(e,this._styles).find((function(t){return c(t,1)[0]===e}));return Array.isArray(t)}},{key:"set",value:function(e,t){if(H(e))for(var n=0,a=Object.entries(e);n<a.length;n++){var i=c(a[n],2),o=i[0],r=i[1];this._styleProcessor.toNormalizedForm(o,r,this._styles)}else this._styleProcessor.toNormalizedForm(e,t,this._styles)}},{key:"remove",value:function(e){var t=aa(e);(function(e,t){null==e||Vn(e,t)})(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}},{key:"getNormalized",value:function(e){return this._styleProcessor.getNormalized(e,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map((function(e){return e.join(":")})).sort().join(";")+";"}},{key:"getAsString",value:function(e){if(!this.isEmpty){if(this._styles[e]&&!H(this._styles[e]))return this._styles[e];var t=this._styleProcessor.getReducedForm(e,this._styles).find((function(t){return c(t,1)[0]===e}));return Array.isArray(t)?t[1]:void 0}}},{key:"getStyleNames",value:function(){return this.isEmpty?[]:this._getStylesEntries().map((function(e){return c(e,1)[0]}))}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var e=[],t=0,n=Object.keys(this._styles);t<n.length;t++){var a=n[t];e.push.apply(e,m(this._styleProcessor.getReducedForm(a,this._styles)))}return e}},{key:"_cleanEmptyObjectsOnPath",value:function(e){var t=e.split(".");if(t.length>1){var n=t.splice(0,t.length-1).join("."),a=jn(this._styles,n);a&&!Array.from(Object.keys(a)).length&&this.remove(n)}}},{key:"isEmpty",get:function(){var e=Object.entries(this._styles);return!Array.from(e).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}}]),e}(),na=function(){function e(){h(this,e),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return f(e,[{key:"toNormalizedForm",value:function(e,t,n){if(H(t))ia(n,aa(e),t);else if(this._normalizers.has(e)){var a=this._normalizers.get(e)(t);ia(n,a.path,a.value)}else ia(n,e,t)}},{key:"getNormalized",value:function(e,t){if(!e)return Xn({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){var n=this._extractors.get(e);if("string"==typeof n)return jn(t,n);var a=n(e,t);if(a)return a}return jn(t,aa(e))}},{key:"getReducedForm",value:function(e,t){var n=this.getNormalized(e,t);return void 0===n?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}},{key:"getRelatedStyles",value:function(e){return this._consumables.get(e)||[]}},{key:"setNormalizer",value:function(e,t){this._normalizers.set(e,t)}},{key:"setExtractor",value:function(e,t){this._extractors.set(e,t)}},{key:"setReducer",value:function(e,t){this._reducers.set(e,t)}},{key:"setStyleRelation",value:function(e,t){this._mapStyleNames(e,t);var n,a=d(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;this._mapStyleNames(i,[e])}}catch(o){a.e(o)}finally{a.f()}}},{key:"_mapStyleNames",value:function(e,t){var n;this._consumables.has(e)||this._consumables.set(e,[]),(n=this._consumables.get(e)).push.apply(n,m(t))}}]),e}();function aa(e){return e.replace("-",".")}function ia(e,t,n){var a=n;H(n)&&(a=Xn({},jn(e,t),n)),ea(e,t,a)}var oa=function(e){g(n,e);var t=p(n);function n(e,a,i,o){var r;if(h(this,n),(r=t.call(this,e)).name=a,r._attrs=function(e){e=kn(e);var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var a=c(t.value,2),i=a[0],o=a[1];null===o?e.delete(i):"string"!=typeof o&&e.set(i,String(o))}}catch(r){n.e(r)}finally{n.f()}return e}(i),r._children=[],o&&r._insertChild(0,o),r._classes=new Set,r._attrs.has("class")){var l=r._attrs.get("class");ra(r._classes,l),r._attrs.delete("class")}return r._styles=new ta(r.document.stylesProcessor),r._attrs.has("style")&&(r._styles.setTo(r._attrs.get("style")),r._attrs.delete("style")),r._customProperties=new Map,s(r)}return f(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._classes.size>0,!e.t0){e.next=4;break}return e.next=4,"class";case 4:if(e.t1=this._styles.isEmpty,e.t1){e.next=8;break}return e.next=8,"style";case 8:return e.delegateYield(this._attrs.keys(),"t2",9);case 9:case"end":return e.stop()}}),e,this)}))},{key:"getAttributes",value:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._attrs.entries(),"t0",1);case 1:if(e.t1=this._classes.size>0,!e.t1){e.next=5;break}return e.next=5,["class",this.getAttribute("class")];case 5:if(e.t2=this._styles.isEmpty,e.t2){e.next=9;break}return e.next=9,["style",this.getAttribute("style")];case 9:case"end":return e.stop()}}),e,this)}))},{key:"getAttribute",value:function(e){if("class"==e)return this._classes.size>0?m(this._classes).join(" "):void 0;if("style"==e){var t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(e)}},{key:"hasAttribute",value:function(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}},{key:"isSimilar",value:function(e){if(!(e instanceof n))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;var t,a=d(this._attrs);try{for(a.s();!(t=a.n()).done;){var i=c(t.value,2),o=i[0],r=i[1];if(!e._attrs.has(o)||e._attrs.get(o)!==r)return!1}}catch(g){a.e(g)}finally{a.f()}var l,s=d(this._classes);try{for(s.s();!(l=s.n()).done;){var u=l.value;if(!e._classes.has(u))return!1}}catch(g){s.e(g)}finally{s.f()}var m,h=d(this._styles.getStyleNames());try{for(h.s();!(m=h.n()).done;){var f=m.value;if(!e._styles.has(f)||e._styles.getAsString(f)!==this._styles.getAsString(f))return!1}}catch(g){h.e(g)}finally{h.f()}return!0}},{key:"hasClass",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=0,i=t;a<i.length;a++){var o=i[a];if(!this._classes.has(o))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(e){return this._styles.getAsString(e)}},{key:"getNormalizedStyle",value:function(e){return this._styles.getNormalized(e)}},{key:"getStyleNames",value:function(){return this._styles.getStyleNames()}},{key:"hasStyle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=0,i=t;a<i.length;a++){var o=i[a];if(!this._styles.has(o))return!1}return!0}},{key:"findAncestor",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=l(Cn,t),i=this.parent;i;){if(a.match(i))return i;i=i.parent}return null}},{key:"getCustomProperty",value:function(e){return this._customProperties.get(e)}},{key:"getCustomProperties",value:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getIdentity",value:function(){var e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map((function(e){return"".concat(e[0],'="').concat(e[1],'"')})).sort().join(" ");return this.name+(""==e?"":' class="'.concat(e,'"'))+(t?' style="'.concat(t,'"'):"")+(""==n?"":" ".concat(n))}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];if(e){var n,a=d(this.getChildren());try{for(a.s();!(n=a.n()).done;){var i=n.value;t.push(i._clone(e))}}catch(r){a.e(r)}finally{a.f()}}var o=new this.constructor(this.document,this.name,this._attrs,t);return o._classes=new Set(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,a=0,i=function(e,t){return"string"==typeof t?[new vn(e,t)]:(on(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new vn(e,t):t instanceof bn?new vn(e,t.data):t})))}(this.document,t),o=d(i);try{for(o.s();!(n=o.n()).done;){var r=n.value;null!==r.parent&&r._remove(),r.parent=this,r.document=this.document,this._children.splice(e,0,r),e++,a++}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_setAttribute",value:function(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?ra(this._classes,t):"style"==e?this._styles.setTo(t):this._attrs.set(e,t)}},{key:"_removeAttribute",value:function(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}},{key:"_addClass",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._classes.add(e)}))}},{key:"_removeClass",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._classes.delete(e)}))}},{key:"_setStyle",value:function(e,t){this._fireChange("attributes",this),this._styles.set(e,t)}},{key:"_removeStyle",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._styles.remove(e)}))}},{key:"_setCustomProperty",value:function(e,t){this._customProperties.set(e,t)}},{key:"_removeCustomProperty",value:function(e){return this._customProperties.delete(e)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}}]),n}(pn);function ra(e,t){var n=t.split(/\s+/);e.clear(),n.forEach((function(t){return e.add(t)}))}var la=function(e){g(n,e);var t=p(n);function n(e,a,i,o){var r;return h(this,n),(r=t.call(this,e,a,i,o)).getFillerOffset=sa,r}return f(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}}]),n}(oa);function sa(){var e=m(this.getChildren()),t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;var n,a=d(e);try{for(a.s();!(n=a.n()).done;)if(!n.value.is("uiElement"))return null}catch(i){a.e(i)}finally{a.f()}return this.childCount}var ca=Zn((function(e,t){ke(t,qe(t),e)})),da=Symbol("observableProperties"),ua=Symbol("boundObservables"),ma=Symbol("boundProperties"),ha={set:function(e,t){var n=this;if(H(e))Object.keys(e).forEach((function(t){n.set(t,e[t])}),this);else{ga(this);var a=this[da];if(e in this&&!a.has(e))throw new Kt.a("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return a.get(e)},set:function(t){var n=a.get(e),i=this.fire("set:"+e,e,t,n);void 0===i&&(i=t),n===i&&a.has(e)||(a.set(e,i),this.fire("change:"+e,e,i,n))}}),this[e]=t}},bind:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length||!ba(n))throw new Kt.a("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new Kt.a("observable-bind-duplicate-properties",this);ga(this);var i=this[ma];n.forEach((function(t){if(i.has(t))throw new Kt.a("observable-bind-rebind",e)}));var o=new Map;return n.forEach((function(e){var t={property:e,to:[]};i.set(e,t),o.set(e,t)})),{to:pa,toMany:va,_observable:this,_bindProperties:n,_to:[],_bindings:o}},unbind:function(){var e=this;if(this[da]){for(var t=this[ma],n=this[ua],a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];if(i.length){if(!ba(i))throw new Kt.a("observable-unbind-wrong-properties",this);i.forEach((function(a){var i,o,r,l,s=t.get(a);s&&(s.to.forEach((function(t){i=t[0],o=t[1],r=n.get(i),(l=r[o]).delete(s),l.size||delete r[o],Object.keys(r).length||(n.delete(i),e.stopListening(i,"change"))})),t.delete(a))}))}else n.forEach((function(t,n){e.stopListening(n,"change")})),n.clear(),t.clear()}},decorate:function(e){var t=this,n=this[e];if(!n)throw new Kt.a("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(function(e,a){e.return=n.apply(t,a)})),this[e]=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return this.fire(e,n)}}};ca(ha,$t);var fa=ha;function ga(e){e[da]||(Object.defineProperty(e,da,{value:new Map}),Object.defineProperty(e,ua,{value:new Map}),Object.defineProperty(e,ma,{value:new Map}))}function pa(){var e,t=this,n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new Kt.a("observable-bind-to-parse-error",null);var a,i={to:[]};return"function"==typeof t[t.length-1]&&(i.callback=t.pop()),t.forEach((function(e){if("string"==typeof e)a.properties.push(e);else{if("object"!=typeof e)throw new Kt.a("observable-bind-to-parse-error",null);a={observable:e,properties:[]},i.to.push(a)}})),i}.apply(void 0,arguments),a=Array.from(this._bindings.keys()),i=a.length;if(!n.callback&&n.to.length>1)throw new Kt.a("observable-bind-to-no-callback",this);if(i>1&&n.callback)throw new Kt.a("observable-bind-to-extra-callback",this);n.to.forEach((function(e){if(e.properties.length&&e.properties.length!==i)throw new Kt.a("observable-bind-to-properties-length",t);e.properties.length||(e.properties=t._bindProperties)})),this._to=n.to,n.callback&&(this._bindings.get(a[0]).callback=n.callback),e=this._observable,this._to.forEach((function(t){var n,a=e[ua];a.get(t.observable)||e.listenTo(t.observable,"change",(function(i,o){(n=a.get(t.observable)[o])&&n.forEach((function(t){ka(e,t.property)}))}))})),function(e){var t;e._bindings.forEach((function(n,a){e._to.forEach((function(i){t=i.properties[n.callback?0:e._bindProperties.indexOf(a)],n.to.push([i.observable,t]),function(e,t,n,a){var i=e[ua],o=i.get(n),r=o||{};r[a]||(r[a]=new Set),r[a].add(t),o||i.set(n,r)}(e._observable,n,i.observable,t)}))}))}(this),this._bindProperties.forEach((function(e){ka(t._observable,e)}))}function va(e,t,n){if(this._bindings.size>1)throw new Kt.a("observable-bind-to-many-not-one-binding",this);this.to.apply(this,m(function(e,t){var n=e.map((function(e){return[e,t]}));return Array.prototype.concat.apply([],n)}(e,t)).concat([n]))}function ba(e){return e.every((function(e){return"string"==typeof e}))}function ka(e,t){var n,a=e[ma].get(t);n=a.callback?a.callback.apply(e,a.to.map((function(e){return e[0][e[1]]}))):(n=a.to[0])[0][n[1]],Object.prototype.hasOwnProperty.call(e,t)?e[t]=n:e.set(t,n)}var Ca=function(e){g(n,e);var t=p(n);function n(e,a,i,o){var l;return h(this,n),(l=t.call(this,e,a,i,o)).set("isReadOnly",!1),l.set("isFocused",!1),l.bind("isReadOnly").to(e),l.bind("isFocused").to(e,"isFocused",(function(t){return t&&e.selection.editableElement==r(l)})),l.listenTo(e.selection,"change",(function(){l.isFocused=e.isFocused&&e.selection.editableElement==r(l)})),l}return f(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"destroy",value:function(){this.stopListening()}}]),n}(la);rn(Ca,fa);var ya=Symbol("rootName"),wa=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,e,a)).rootName="main",i}return f(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"rootName",get:function(){return this.getCustomProperty(ya)},set:function(e){this._setCustomProperty(ya,e)}},{key:"_name",set:function(e){this.name=e}}]),n}(Ca),Aa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h(this,e),!t.boundaries&&!t.startPosition)throw new Kt.a("view-tree-walker-no-start-position",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new Kt.a("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=_a._createAt(t.startPosition):this.position=_a._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return f(e,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t,n,a;do{var i;a=this.position,t=(i=this.next()).done,n=i.value}while(!t&&e(n));t||(this.position=a)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e,t=this.position.clone(),n=this.position,a=t.parent;if(null===a.parent&&t.offset===a.childCount)return{done:!0};if(a===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};if(a instanceof vn){if(t.isAtEnd)return this.position=_a._createAfter(a),this._next();e=a.data[t.offset]}else e=a.getChild(t.offset);if(e instanceof oa)return this.shallow?t.offset++:t=new _a(e,0),this.position=t,this._formatReturnValue("elementStart",e,n,t,1);if(e instanceof vn){if(this.singleCharacters)return t=new _a(e,0),this.position=t,this._next();var i,o=e.data.length;return e==this._boundaryEndParent?(o=this.boundaries.end.offset,i=new bn(e,0,o),t=_a._createAfter(i)):(i=new bn(e,0,e.data.length),t.offset++),this.position=t,this._formatReturnValue("text",i,n,t,o)}if("string"==typeof e){var r;r=this.singleCharacters?1:(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-t.offset;var l=new bn(a,t.offset,r);return t.offset+=r,this.position=t,this._formatReturnValue("text",l,n,t,r)}return t=_a._createAfter(a),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,n,t)}},{key:"_previous",value:function(){var e,t=this.position.clone(),n=this.position,a=t.parent;if(null===a.parent&&0===t.offset)return{done:!0};if(a==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};if(a instanceof vn){if(t.isAtStart)return this.position=_a._createBefore(a),this._previous();e=a.data[t.offset-1]}else e=a.getChild(t.offset-1);if(e instanceof oa)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",e,n,t,1)):(t=new _a(e,e.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",e,n,t));if(e instanceof vn){if(this.singleCharacters)return t=new _a(e,e.data.length),this.position=t,this._previous();var i,o=e.data.length;if(e==this._boundaryStartParent){var r=this.boundaries.start.offset;o=(i=new bn(e,r,e.data.length-r)).data.length,t=_a._createBefore(i)}else i=new bn(e,0,e.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",i,n,t,o)}if("string"==typeof e){var l;if(this.singleCharacters)l=1;else{var s=a===this._boundaryStartParent?this.boundaries.start.offset:0;l=t.offset-s}t.offset-=l;var c=new bn(a,t.offset,l);return this.position=t,this._formatReturnValue("text",c,n,t,l)}return t=_a._createBefore(a),this.position=t,this._formatReturnValue("elementStart",a,n,t,1)}},{key:"_formatReturnValue",value:function(e,t,n,a,i){return t instanceof bn&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=_a._createAfter(t.textNode):(a=_a._createAfter(t.textNode),this.position=a)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=_a._createBefore(t.textNode):(a=_a._createBefore(t.textNode),this.position=a))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:a,length:i}}}}]),e}(),_a=function(){function e(t,n){h(this,e),this.parent=t,this.offset=n}return f(e,[{key:"getShiftedBy",value:function(t){var n=e._createAt(this),a=n.offset+t;return n.offset=a<0?0:a,n}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new Aa(t);return n.skip(e),n.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),a=0;t[a]==n[a]&&t[a];)a++;return 0===a?null:t[a-1]}},{key:"is",value:function(e){return"position"===e||"view:position"===e}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"compareWith",value:function(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";var t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);var a=fn(t,n);switch(a){case"prefix":return"before";case"extension":return"after";default:return t[a]<n[a]?"before":"after"}}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.startPosition=this,new Aa(e)}},{key:"clone",value:function(){return new e(this.parent,this.offset)}},{key:"nodeAfter",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof Ca);){if(!e.parent)return null;e=e.parent}return e}}],[{key:"_createAt",value:function(t,n){if(t instanceof e)return new this(t.parent,t.offset);var a=t;if("end"==n)n=a.is("$text")?a.data.length:a.childCount;else{if("before"==n)return this._createBefore(a);if("after"==n)return this._createAfter(a);if(0!==n&&!n)throw new Kt.a("view-createpositionat-offset-required",a)}return new e(a,n)}},{key:"_createAfter",value:function(t){if(t.is("$textProxy"))return new e(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new Kt.a("view-position-after-root",t,{root:t});return new e(t.parent,t.index+1)}},{key:"_createBefore",value:function(t){if(t.is("$textProxy"))return new e(t.textNode,t.offsetInText);if(!t.parent)throw new Kt.a("view-position-before-root",t,{root:t});return new e(t.parent,t.index)}}]),e}(),Sa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;h(this,e),this.start=t.clone(),this.end=n?n.clone():t.clone()}return f(e,[{key:Symbol.iterator,value:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new Aa({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getEnlarged",value:function(){var t=this.start.getLastMatchingPosition(Ea,{direction:"backward"}),n=this.end.getLastMatchingPosition(Ea);return t.parent.is("$text")&&t.isAtStart&&(t=_a._createBefore(t.parent)),n.parent.is("$text")&&n.isAtEnd&&(n=_a._createAfter(n.parent)),new e(t,n)}},{key:"getTrimmed",value:function(){var t=this.start.getLastMatchingPosition(Ea);if(t.isAfter(this.end)||t.isEqual(this.end))return new e(t,t);var n=this.end.getLastMatchingPosition(Ea,{direction:"backward"}),a=t.nodeAfter,i=n.nodeBefore;return a&&a.is("$text")&&(t=new _a(a,0)),i&&i.is("$text")&&(n=new _a(i,i.data.length)),new e(t,n)}},{key:"isEqual",value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(this.clone()),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,a=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(a=t.end),new e(n,a)}return null}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Aa(e)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}},{key:"clone",value:function(){return new e(this.start,this.end)}},{key:"getItems",value:u.mark((function e(){var t,n,a,i,o,r=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=r.length>0&&void 0!==r[0]?r[0]:{}).boundaries=this,t.ignoreElementEnd=!0,n=new Aa(t),a=d(n),e.prev=4,a.s();case 6:if((i=a.n()).done){e.next=12;break}return o=i.value,e.next=10,o.item;case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])}))},{key:"getPositions",value:u.mark((function e(){var t,n,a,i,o,r=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=r.length>0&&void 0!==r[0]?r[0]:{}).boundaries=this,n=new Aa(t),e.next=5,n.position;case 5:a=d(n),e.prev=6,a.s();case 8:if((i=a.n()).done){e.next=14;break}return o=i.value,e.next=12,o.nextPosition;case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[6,16,19,22]])}))},{key:"is",value:function(e){return"range"===e||"view:range"===e}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromParentsAndOffsets",value:function(e,t,n,a){return new this(new _a(e,t),new _a(n,a))}},{key:"_createFromPositionAndShift",value:function(e,t){var n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}},{key:"_createIn",value:function(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:"_createOn",value:function(e){var t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(_a._createBefore(e),t)}}]),e}();function Ea(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}function Oa(e){var t,n=0,a=d(e);try{for(a.s();!(t=a.n()).done;)t.value,n++}catch(i){a.e(i)}finally{a.f()}return n}var Ta=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;h(this,e),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,n,a)}return f(e,[{key:"getRanges",value:u.mark((function e(){var t,n,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return a=n.value,e.next=7,a.clone();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var a=e.value;t&&!a.start.isBefore(t.start)||(t=a)}}catch(i){n.e(i)}finally{n.f()}return t?t.clone():null}},{key:"getLastRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var a=e.value;t&&!a.end.isAfter(t.end)||(t=a)}}catch(i){n.e(i)}finally{n.f()}return t?t.clone():null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=d(this._ranges);try{for(n.s();!(t=n.n()).done;){var a,i=t.value,o=!1,r=d(e._ranges);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(i.isEqual(l)){o=!0;break}}}catch(s){r.e(s)}finally{r.f()}if(!o)return!1}}catch(s){n.e(s)}finally{n.f()}return!0}},{key:"isSimilar",value:function(e){if(this.isBackward!=e.isBackward)return!1;var t=Oa(this.getRanges());if(t!=Oa(e.getRanges()))return!1;if(0==t)return!0;var n,a=d(this.getRanges());try{for(a.s();!(n=a.n()).done;){var i=n.value;i=i.getTrimmed();var o,r=!1,l=d(e.getRanges());try{for(l.s();!(o=l.n()).done;){var s=o.value;if(s=s.getTrimmed(),i.start.isEqual(s.start)&&i.end.isEqual(s.end)){r=!0;break}}}catch(c){l.e(c)}finally{l.f()}if(!r)return!1}}catch(c){a.e(c)}finally{a.f()}return!0}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(t,n,a){if(null===t)this._setRanges([]),this._setFakeOptions(n);else if(t instanceof e||t instanceof xa)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Sa)this._setRanges([t],n&&n.backward),this._setFakeOptions(n);else if(t instanceof _a)this._setRanges([new Sa(t)]),this._setFakeOptions(n);else if(t instanceof pn){var i,o=!!a&&!!a.backward;if(void 0===n)throw new Kt.a("view-selection-setto-required-second-parameter",this);i="in"==n?Sa._createIn(t):"on"==n?Sa._createOn(t):new Sa(_a._createAt(t,n)),this._setRanges([i],o),this._setFakeOptions(a)}else{if(!on(t))throw new Kt.a("view-selection-setto-not-selectable",this);this._setRanges(t,n&&n.backward),this._setFakeOptions(n)}this.fire("change")}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new Kt.a("view-selection-setfocus-no-ranges",this);var n=_a._createAt(e,t);if("same"!=n.compareWith(this.focus)){var a=this.anchor;this._ranges.pop(),"before"==n.compareWith(a)?this._addRange(new Sa(n,a),!0):this._addRange(new Sa(a,n)),this.fire("change")}}},{key:"is",value:function(e){return"selection"===e||"view:selection"===e}},{key:"_setRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=Array.from(e),this._ranges=[];var n,a=d(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;this._addRange(i)}}catch(o){a.e(o)}finally{a.f()}this._lastRangeBackward=!!t}},{key:"_setFakeOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}},{key:"_addRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof Sa))throw new Kt.a("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}},{key:"_pushRange",value:function(e){var t,n=d(this._ranges);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e.isIntersecting(a))throw new Kt.a("view-selection-range-intersects",this,{addedRange:e,intersectingRange:a})}}catch(i){n.e(i)}finally{n.f()}this._ranges.push(new Sa(e.start,e.end))}},{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}}]),e}();rn(Ta,$t);var xa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;h(this,e),this._selection=new Ta,this._selection.delegate("change").to(this),this._selection.setTo(t,n,a)}return f(e,[{key:"getRanges",value:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(e){return this._selection.isEqual(e)}},{key:"isSimilar",value:function(e){return this._selection.isSimilar(e)}},{key:"is",value:function(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}}]),e}();rn(xa,$t);var Pa=function(){function e(t){h(this,e),this.selection=new xa,this.roots=new ln({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}return f(e,[{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"destroy",value:function(){this.roots.map((function(e){return e.destroy()})),this.stopListening()}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n,a=d(this._postFixers);try{for(a.s();!(n=a.n()).done&&!(t=(0,n.value)(e)););}catch(i){a.e(i)}finally{a.f()}}while(t)}}]),e}();rn(Pa,fa);var Da=function(e){g(n,e);var t=p(n);function n(e,a,i,o){var r;return h(this,n),(r=t.call(this,e,a,i,o)).getFillerOffset=Ma,r._priority=10,r._id=null,r._clonesGroup=null,r}return f(n,[{key:"getElementsWithSameId",value:function(){if(null===this.id)throw new Kt.a("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}},{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"isSimilar",value:function(e){return null!==this.id||null!==e.id?this.id===e.id:i(o(n.prototype),"isSimilar",this).call(this,e)&&this.priority==e.priority}},{key:"_clone",value:function(e){var t=i(o(n.prototype),"_clone",this).call(this,e);return t._priority=this._priority,t._id=this._id,t}},{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}}]),n}(oa);function Ma(){if(Ra(this))return null;for(var e=this.parent;e&&e.is("attributeElement");){if(Ra(e)>1)return null;e=e.parent}return!e||Ra(e)>1?null:this.childCount}function Ra(e){return Array.from(e.getChildren()).filter((function(e){return!e.is("uiElement")})).length}Da.DEFAULT_PRIORITY=10;var Ia=function(e){g(n,e);var t=p(n);function n(e,a,i,o){var r;return h(this,n),(r=t.call(this,e,a,i,o)).getFillerOffset=Ba,r}return f(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof pn||Array.from(t).length>0))throw new Kt.a("view-emptyelement-cannot-add",[this,t])}}]),n}(oa);function Ba(){return null}var La=navigator.userAgent.toLowerCase(),za=function(e){return e.indexOf("macintosh")>-1}(La),Va=function(e){return!!e.match(/gecko\/\d+/)}(La),ja=function(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}(La),Fa=function(e){return e.indexOf("android")>-1}(La),Na=(function(e){e.indexOf("chrome/")>-1&&e.indexOf("edge/")}(La),function(){try{"\u0107".search(new RegExp("[\\p{L}]","u"))}catch(e){}}(),{"\u2318":"ctrl","\u21e7":"shift","\u2325":"alt"}),Ga={ctrl:"\u2318",shift:"\u21e7",alt:"\u2325"},Ua=function(){for(var e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(var n=48;n<=57;n++)e[n-48]=n;for(var a=112;a<=123;a++)e["f"+(a-111)]=a;return e}();function Ha(e){var t;if("string"==typeof e){if(!(t=Ua[e.toLowerCase()]))throw new Kt.a("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?Ua.alt:0)+(e.ctrlKey?Ua.ctrl:0)+(e.shiftKey?Ua.shift:0);return t}function qa(e){return"string"==typeof e&&(e=$a(e)),e.map((function(e){return"string"==typeof e?Ha(e):e})).reduce((function(e,t){return t+e}),0)}function Wa(e){return za?$a(e).map((function(e){return Ga[e.toLowerCase()]||e})).reduce((function(e,t){return e.slice(-1)in Na?e+t:e+"+"+t})):e}function Ka(e){return e==Ua.arrowright||e==Ua.arrowleft||e==Ua.arrowup||e==Ua.arrowdown}function Ya(e,t){var n="ltr"===t;switch(e){case Ua.arrowleft:return n?"left":"right";case Ua.arrowright:return n?"right":"left";case Ua.arrowup:return"up";case Ua.arrowdown:return"down"}}function Ja(e,t){var n=Ya(e,t);return"down"===n||"right"===n}function $a(e){return e.split(/\s*\+\s*/)}var Qa=function(e){g(n,e);var t=p(n);function n(e,a,i,o){var r;return h(this,n),(r=t.call(this,e,a,i,o)).getFillerOffset=Za,r}return f(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof pn||Array.from(t).length>0))throw new Kt.a("view-uielement-cannot-add",this)}},{key:"render",value:function(e){return this.toDomElement(e)}},{key:"toDomElement",value:function(e){var t,n=e.createElement(this.name),a=d(this.getAttributeKeys());try{for(a.s();!(t=a.n()).done;){var i=t.value;n.setAttribute(i,this.getAttribute(i))}}catch(o){a.e(o)}finally{a.f()}return n}}]),n}(oa);function Za(){return null}var Xa=function(e){g(n,e);var t=p(n);function n(e,a,i,o){var r;return h(this,n),(r=t.call(this,e,a,i,o)).getFillerOffset=ei,r}return f(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof pn||Array.from(t).length>0))throw new Kt.a("view-rawelement-cannot-add",[this,t])}}]),n}(oa);function ei(){return null}var ti=function(){function e(t,n){h(this,e),this.document=t,this._children=[],n&&this._insertChild(0,n)}return f(e,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"is",value:function(e){return"documentFragment"===e||"view:documentFragment"===e}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,a=0,i=function(e,t){return"string"==typeof t?[new vn(e,t)]:(on(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new vn(e,t):t instanceof bn?new vn(e,t.data):t})))}(this.document,t),o=d(i);try{for(o.s();!(n=o.n()).done;){var r=n.value;null!==r.parent&&r._remove(),r.parent=this,this._children.splice(e,0,r),e++,a++}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}]),e}();rn(ti,$t);var ni=function(){function e(t){h(this,e),this.document=t,this._cloneGroups=new Map}return f(e,[{key:"setSelection",value:function(e,t,n){this.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this.document.selection._setFocus(e,t)}},{key:"createText",value:function(e){return new vn(this.document,e)}},{key:"createAttributeElement",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=new Da(this.document,e,t);return n.priority&&(a._priority=n.priority),n.id&&(a._id=n.id),a}},{key:"createContainerElement",value:function(e,t){return new la(this.document,e,t)}},{key:"createEditableElement",value:function(e,t){var n=new Ca(this.document,e,t);return n._document=this.document,n}},{key:"createEmptyElement",value:function(e,t){return new Ia(this.document,e,t)}},{key:"createUIElement",value:function(e,t,n){var a=new Qa(this.document,e,t);return n&&(a.render=n),a}},{key:"createRawElement",value:function(e,t,n){var a=new Xa(this.document,e,t);return a.render=n||function(){},a}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){z(e)&&void 0===n&&(n=t),n._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"breakAttributes",value:function(e){return e instanceof _a?this._breakAttributes(e):this._breakAttributesRange(e)}},{key:"breakContainer",value:function(e){var t=e.parent;if(!t.is("containerElement"))throw new Kt.a("view-writer-break-non-container-element",this.document);if(!t.parent)throw new Kt.a("view-writer-break-root",this.document);if(e.isAtStart)return _a._createBefore(t);if(!e.isAtEnd){var n=t._clone(!1);this.insert(_a._createAfter(t),n);var a=new Sa(e,_a._createAt(t,"end")),i=new _a(n,0);this.move(a,i)}return _a._createAfter(t)}},{key:"mergeAttributes",value:function(e){var t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&0===n.childCount){var a=n.parent,i=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new _a(a,i))}var o=n.getChild(t-1),r=n.getChild(t);if(!o||!r)return e;if(o.is("$text")&&r.is("$text"))return li(o,r);if(o.is("attributeElement")&&r.is("attributeElement")&&o.isSimilar(r)){var l=o.childCount;return o._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new _a(o,l))}return e}},{key:"mergeContainers",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new Kt.a("view-writer-merge-containers-invalid-position",this.document);var a=t.getChild(t.childCount-1),i=a instanceof vn?_a._createAt(a,"end"):_a._createAt(t,"end");return this.move(Sa._createIn(n),_a._createAt(t,"end")),this.remove(Sa._createOn(n)),i}},{key:"insert",value:function(e,t){!function e(t,n){var a,i=d(t);try{var o=function(){var t=a.value;if(!si.some((function(e){return t instanceof e})))throw new Kt.a("view-writer-insert-invalid-node-type",n);t.is("$text")||e(t.getChildren(),n)};for(i.s();!(a=i.n()).done;)o()}catch(r){i.e(r)}finally{i.f()}}(t=on(t)?m(t):[t],this.document);var n=ai(e);if(!n)throw new Kt.a("view-writer-invalid-position-container",this.document);var a,i=this._breakAttributes(e,!0),o=n._insertChild(i.offset,t),r=d(t);try{for(r.s();!(a=r.n()).done;){var l=a.value;this._addToClonedElementsGroup(l)}}catch(h){r.e(h)}finally{r.f()}var s=i.getShiftedBy(o),c=this.mergeAttributes(i);if(0===o)return new Sa(c,c);c.isEqual(i)||s.offset--;var u=this.mergeAttributes(s);return new Sa(c,u)}},{key:"remove",value:function(e){var t=e instanceof Sa?e:Sa._createOn(e);if(di(t,this.document),t.isCollapsed)return new ti(this.document);var n,a=this._breakAttributesRange(t,!0),i=a.start,o=a.end,r=i.parent,l=o.offset-i.offset,s=r._removeChildren(i.offset,l),c=d(s);try{for(c.s();!(n=c.n()).done;){var u=n.value;this._removeFromClonedElementsGroup(u)}}catch(h){c.e(h)}finally{c.f()}var m=this.mergeAttributes(i);return t.start=m,t.end=m.clone(),new ti(this.document,s)}},{key:"clear",value:function(e,t){di(e,this.document);var n,a=e.getWalker({direction:"backward",ignoreElementEnd:!0}),i=d(a);try{for(i.s();!(n=i.n()).done;){var o=n.value,r=o.item,l=void 0;if(r.is("element")&&t.isSimilar(r))l=Sa._createOn(r);else if(!o.nextPosition.isAfter(e.start)&&r.is("$textProxy")){var s=r.getAncestors().find((function(e){return e.is("element")&&t.isSimilar(e)}));s&&(l=Sa._createIn(s))}l&&(l.end.isAfter(e.end)&&(l.end=e.end),l.start.isBefore(e.start)&&(l.start=e.start),this.remove(l))}}catch(c){i.e(c)}finally{i.f()}}},{key:"move",value:function(e,t){var n;if(t.isAfter(e.end)){var a=(t=this._breakAttributes(t,!0)).parent,i=a.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=a.childCount-i}else n=this.remove(e);return this.insert(t,n)}},{key:"wrap",value:function(e,t){if(!(t instanceof Da))throw new Kt.a("view-writer-wrap-invalid-attribute",this.document);if(di(e,this.document),e.isCollapsed){var n=e.start;n.parent.is("element")&&(i=n.parent,!Array.from(i.getChildren()).some((function(e){return!e.is("uiElement")})))&&(n=n.getLastMatchingPosition((function(e){return e.item.is("uiElement")}))),n=this._wrapPosition(n,t);var a=this.document.selection;return a.isCollapsed&&a.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new Sa(n)}return this._wrapRange(e,t);var i}},{key:"unwrap",value:function(e,t){if(!(t instanceof Da))throw new Kt.a("view-writer-unwrap-invalid-attribute",this.document);if(di(e,this.document),e.isCollapsed)return e;var n=this._breakAttributesRange(e,!0),a=n.start,i=n.end,o=a.parent,r=this._unwrapChildren(o,a.offset,i.offset,t),l=this.mergeAttributes(r.start);l.isEqual(r.start)||r.end.offset--;var s=this.mergeAttributes(r.end);return new Sa(l,s)}},{key:"rename",value:function(e,t){var n=new la(this.document,e,t.getAttributes());return this.insert(_a._createAfter(t),n),this.move(Sa._createIn(t),_a._createAt(n,0)),this.remove(Sa._createOn(t)),n}},{key:"clearClonedElementsGroup",value:function(e){this._cloneGroups.delete(e)}},{key:"createPositionAt",value:function(e,t){return _a._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return _a._createAfter(e)}},{key:"createPositionBefore",value:function(e){return _a._createBefore(e)}},{key:"createRange",value:function(e,t){return new Sa(e,t)}},{key:"createRangeOn",value:function(e){return Sa._createOn(e)}},{key:"createRangeIn",value:function(e){return Sa._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new Ta(e,t,n)}},{key:"_wrapChildren",value:function(e,t,n,a){for(var i=t,o=[];i<n;){var r=e.getChild(i),l=r.is("$text"),s=r.is("attributeElement"),c=r.is("emptyElement"),d=r.is("uiElement"),u=r.is("rawElement");if(s&&this._wrapAttributeElement(a,r))o.push(new _a(e,i));else if(l||c||d||u||s&&ii(a,r)){var m=a._clone();r._remove(),m._appendChild(r),e._insertChild(i,m),this._addToClonedElementsGroup(m),o.push(new _a(e,i))}else s&&this._wrapChildren(r,0,r.childCount,a);i++}for(var h=0,f=0,g=o;f<g.length;f++){var p=g[f];p.offset-=h,p.offset!=t&&(this.mergeAttributes(p).isEqual(p)||(h++,n--))}return Sa._createFromParentsAndOffsets(e,t,e,n)}},{key:"_unwrapChildren",value:function(e,t,n,a){for(var i=t,o=[];i<n;){var r=e.getChild(i);if(r.is("attributeElement"))if(r.isSimilar(a)){var l=r.getChildren(),s=r.childCount;r._remove(),e._insertChild(i,l),this._removeFromClonedElementsGroup(r),o.push(new _a(e,i),new _a(e,i+s)),i+=s,n+=s-1}else this._unwrapAttributeElement(a,r)?(o.push(new _a(e,i),new _a(e,i+1)),i++):(this._unwrapChildren(r,0,r.childCount,a),i++);else i++}for(var c=0,d=0,u=o;d<u.length;d++){var m=u[d];m.offset-=c,m.offset!=t&&m.offset!=n&&(this.mergeAttributes(m).isEqual(m)||(c++,n--))}return Sa._createFromParentsAndOffsets(e,t,e,n)}},{key:"_wrapRange",value:function(e,t){var n=this._breakAttributesRange(e,!0),a=n.start,i=n.end,o=a.parent,r=this._wrapChildren(o,a.offset,i.offset,t),l=this.mergeAttributes(r.start);l.isEqual(r.start)||r.end.offset--;var s=this.mergeAttributes(r.end);return new Sa(l,s)}},{key:"_wrapPosition",value:function(e,t){if(t.isSimilar(e.parent))return oi(e.clone());e.parent.is("$text")&&(e=ri(e));var n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},e.parent._insertChild(e.offset,n);var a=new Sa(e,e.getShiftedBy(1));this.wrap(a,t);var i=new _a(n.parent,n.index);n._remove();var o=i.nodeBefore,r=i.nodeAfter;return o instanceof vn&&r instanceof vn?li(o,r):oi(i)}},{key:"_wrapAttributeElement",value:function(e,t){if(!ui(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n,a=d(e.getAttributeKeys());try{for(a.s();!(n=a.n()).done;){var i=n.value;if("class"!==i&&"style"!==i&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1}}catch(b){a.e(b)}finally{a.f()}var o,r=d(e.getStyleNames());try{for(r.s();!(o=r.n()).done;){var l=o.value;if(t.hasStyle(l)&&t.getStyle(l)!==e.getStyle(l))return!1}}catch(b){r.e(b)}finally{r.f()}var s,c=d(e.getAttributeKeys());try{for(c.s();!(s=c.n()).done;){var u=s.value;"class"!==u&&"style"!==u&&(t.hasAttribute(u)||this.setAttribute(u,e.getAttribute(u),t))}}catch(b){c.e(b)}finally{c.f()}var m,h=d(e.getStyleNames());try{for(h.s();!(m=h.n()).done;){var f=m.value;t.hasStyle(f)||this.setStyle(f,e.getStyle(f),t)}}catch(b){h.e(b)}finally{h.f()}var g,p=d(e.getClassNames());try{for(p.s();!(g=p.n()).done;){var v=g.value;t.hasClass(v)||this.addClass(v,t)}}catch(b){p.e(b)}finally{p.f()}return!0}},{key:"_unwrapAttributeElement",value:function(e,t){if(!ui(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n,a=d(e.getAttributeKeys());try{for(a.s();!(n=a.n()).done;){var i=n.value;if("class"!==i&&"style"!==i&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1}}catch(h){a.e(h)}finally{a.f()}if(!t.hasClass.apply(t,m(e.getClassNames())))return!1;var o,r=d(e.getStyleNames());try{for(r.s();!(o=r.n()).done;){var l=o.value;if(!t.hasStyle(l)||t.getStyle(l)!==e.getStyle(l))return!1}}catch(h){r.e(h)}finally{r.f()}var s,c=d(e.getAttributeKeys());try{for(c.s();!(s=c.n()).done;){var u=s.value;"class"!==u&&"style"!==u&&this.removeAttribute(u,t)}}catch(h){c.e(h)}finally{c.f()}return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}},{key:"_breakAttributesRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.start,a=e.end;if(di(e,this.document),e.isCollapsed){var i=this._breakAttributes(e.start,t);return new Sa(i,i)}var o=this._breakAttributes(a,t),r=o.parent.childCount,l=this._breakAttributes(n,t);return o.offset+=o.parent.childCount-r,new Sa(l,o)}},{key:"_breakAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.offset,a=e.parent;if(e.parent.is("emptyElement"))throw new Kt.a("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new Kt.a("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new Kt.a("view-writer-cannot-break-raw-element",this.document);if(!t&&a.is("$text")&&ci(a.parent))return e.clone();if(ci(a))return e.clone();if(a.is("$text"))return this._breakAttributes(ri(e),t);if(n==a.childCount){var i=new _a(a.parent,a.index+1);return this._breakAttributes(i,t)}if(0===n){var o=new _a(a.parent,a.index);return this._breakAttributes(o,t)}var r=a.index+1,l=a._clone();a.parent._insertChild(r,l),this._addToClonedElementsGroup(l);var s=a.childCount-n,c=a._removeChildren(n,s);l._appendChild(c);var d=new _a(a.parent,r);return this._breakAttributes(d,t)}},{key:"_addToClonedElementsGroup",value:function(e){if(e.root.is("rootElement")){if(e.is("element")){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var a=t.value;this._addToClonedElementsGroup(a)}}catch(r){n.e(r)}finally{n.f()}}var i=e.id;if(i){var o=this._cloneGroups.get(i);o||(o=new Set,this._cloneGroups.set(i,o)),o.add(e),e._clonesGroup=o}}}},{key:"_removeFromClonedElementsGroup",value:function(e){if(e.is("element")){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var a=t.value;this._removeFromClonedElementsGroup(a)}}catch(r){n.e(r)}finally{n.f()}}var i=e.id;if(i){var o=this._cloneGroups.get(i);o&&o.delete(e)}}}]),e}();function ai(e){for(var t=e.parent;!ci(t);){if(!t)return;t=t.parent}return t}function ii(e,t){return e.priority<t.priority||!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function oi(e){var t=e.nodeBefore;if(t&&t.is("$text"))return new _a(t,t.data.length);var n=e.nodeAfter;return n&&n.is("$text")?new _a(n,0):e}function ri(e){if(e.offset==e.parent.data.length)return new _a(e.parent.parent,e.parent.index+1);if(0===e.offset)return new _a(e.parent.parent,e.parent.index);var t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new vn(e.root.document,t)),new _a(e.parent.parent,e.parent.index+1)}function li(e,t){var n=e.data.length;return e._data+=t.data,t._remove(),new _a(e,n)}var si=[vn,Da,la,Ia,Xa,Qa];function ci(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function di(e,t){var n=ai(e.start),a=ai(e.end);if(!n||!a||n!==a)throw new Kt.a("view-writer-invalid-range-container",t)}function ui(e,t){return null===e.id&&null===t.id}function mi(e){return"[object Text]"==Object.prototype.toString.call(e)}var hi=function(e){return e.createTextNode("\xa0")},fi=function(e){var t=e.createElement("br");return t.dataset.ckeFiller=!0,t},gi=function(){for(var e="",t=0;t<7;t++)e+="\u200b";return e}();function pi(e){return mi(e)&&e.data.substr(0,7)===gi}function vi(e){return 7==e.data.length&&pi(e)}function bi(e){return pi(e)?e.data.slice(7):e.data}function ki(e,t){if(t.keyCode==Ua.arrowleft){var n=t.domTarget.ownerDocument.defaultView.getSelection();if(1==n.rangeCount&&n.getRangeAt(0).collapsed){var a=n.getRangeAt(0).startContainer,i=n.getRangeAt(0).startOffset;pi(a)&&i<=7&&n.collapse(a,0)}}}function Ci(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n||function(e,t){return e===t},Array.isArray(e)||(e=Array.prototype.slice.call(e)),Array.isArray(t)||(t=Array.prototype.slice.call(t));var i=function(e,t,n){var a=yi(e,t,n);if(-1===a)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var i=yi(wi(e,a),wi(t,a),n);return{firstIndex:a,lastIndexOld:e.length-i,lastIndexNew:t.length-i}}(e,t,n);return a?function(e,t){var n=e.firstIndex,a=e.lastIndexOld,i=e.lastIndexNew;if(-1===n)return Array(t).fill("equal");var o=[];return n>0&&(o=o.concat(Array(n).fill("equal"))),i-n>0&&(o=o.concat(Array(i-n).fill("insert"))),a-n>0&&(o=o.concat(Array(a-n).fill("delete"))),i<t&&(o=o.concat(Array(t-i).fill("equal"))),o}(i,t.length):function(e,t){var n=[],a=t.firstIndex,i=t.lastIndexOld,o=t.lastIndexNew;return o-a>0&&n.push({index:a,type:"insert",values:e.slice(a,o)}),i-a>0&&n.push({index:a+(o-a),type:"delete",howMany:i-a}),n}(t,i)}function yi(e,t,n){for(var a=0;a<Math.max(e.length,t.length);a++)if(void 0===e[a]||void 0===t[a]||!n(e[a],t[a]))return a;return-1}function wi(e,t){return e.slice(t).reverse()}function Ai(e,t,n){n=n||function(e,t){return e===t};var a,i,o=e.length,r=t.length;if(o>200||r>200||o+r>300)return Ai.fastDiff(e,t,n,!0);if(r<o){var l=e;e=t,t=l,a="delete",i="insert"}else a="insert",i="delete";var s=e.length,c=t.length,d=c-s,u={},m={};function h(o){var r=(void 0!==m[o-1]?m[o-1]:-1)+1,l=void 0!==m[o+1]?m[o+1]:-1,d=r>l?-1:1;u[o+d]&&(u[o]=u[o+d].slice(0)),u[o]||(u[o]=[]),u[o].push(r>l?a:i);for(var h=Math.max(r,l),f=h-o;f<s&&h<c&&n(e[f],t[h]);)f++,h++,u[o].push("equal");return h}var f,g=0;do{for(f=-g;f<d;f++)m[f]=h(f);for(f=d+g;f>d;f--)m[f]=h(f);m[d]=h(d),g++}while(m[d]!==c);return u[d].slice(1)}function _i(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function Si(e){var t=e.parentNode;t&&t.removeChild(e)}function Ei(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}Ai.fastDiff=Ci;var Oi=function(){function e(t,n){h(this,e),this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=n,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}return f(e,[{key:"markToSync",value:function(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new Kt.a("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}},{key:"render",value:function(){var e,t,n=d(this.markedChildren);try{for(n.s();!(t=n.n()).done;){var a=t.value;this._updateChildrenMappings(a)}}catch(p){n.e(p)}finally{n.f()}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var i,o=d(this.markedAttributes);try{for(o.s();!(i=o.n()).done;){var r=i.value;this._updateAttrs(r)}}catch(p){o.e(p)}finally{o.f()}var l,s=d(this.markedChildren);try{for(s.s();!(l=s.n()).done;){var c=l.value;this._updateChildren(c,{inlineFillerPosition:e})}}catch(p){s.e(p)}finally{s.f()}var u,m=d(this.markedTexts);try{for(m.s();!(u=m.n()).done;){var h=u.value;!this.markedChildren.has(h.parent)&&this.domConverter.mapViewToDom(h.parent)&&this._updateText(h,{inlineFillerPosition:e})}}catch(p){m.e(p)}finally{m.f()}if(e){var f=this.domConverter.viewPositionToDom(e),g=f.parent.ownerDocument;pi(f.parent)?this._inlineFiller=f.parent:this._inlineFiller=Ti(g,f.parent,f.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n=this.domConverter.mapViewToDom(e).childNodes,a=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{withChildren:!1})),i=this._diffNodeLists(n,a),o=this._findReplaceActions(i,n,a);if(-1!==o.indexOf("replace")){var r,l={equal:0,insert:0,delete:0},s=d(o);try{for(s.s();!(r=s.n()).done;){var c=r.value;if("replace"===c){var u=l.equal+l.insert,m=l.equal+l.delete,h=e.getChild(u);!h||h.is("uiElement")||h.is("rawElement")||this._updateElementMappings(h,n[m]),Si(a[u]),l.equal++}else l[c]++}}catch(f){s.e(f)}finally{s.f()}}}}},{key:"_updateElementMappings",value:function(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("$text")?_a._createBefore(this.selection.getFirstPosition().parent):e}},{key:"_isSelectionInInlineFiller",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&mi(t.parent)&&pi(t.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!pi(e))throw new Kt.a("view-renderer-filler-was-lost",this);vi(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is("element"))return!1;if(!function(e){if("false"==e.getAttribute("contenteditable"))return!1;var t=e.findAncestor((function(e){return e.hasAttribute("contenteditable")}));return!t||"true"==t.getAttribute("contenteditable")}(t))return!1;if(n===t.getFillerOffset())return!1;var a=e.nodeBefore,i=e.nodeAfter;return!(a instanceof vn||i instanceof vn)}},{key:"_updateText",value:function(e,t){var n=this.domConverter.findCorrespondingDomText(e),a=this.domConverter.viewToDom(e,n.ownerDocument),i=n.data,o=a.data,r=t.inlineFillerPosition;if(r&&r.parent==e.parent&&r.offset==e.index&&(o=gi+o),i!=o){var l,s=Ci(i,o),c=d(s);try{for(c.s();!(l=c.n()).done;){var u=l.value;"insert"===u.type?n.insertData(u.index,u.values.join("")):n.deleteData(u.index,u.howMany)}}catch(m){c.e(m)}finally{c.f()}}}},{key:"_updateAttrs",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n,a=Array.from(t.attributes).map((function(e){return e.name})),i=e.getAttributeKeys(),o=d(i);try{for(o.s();!(n=o.n()).done;){var r=n.value;t.setAttribute(r,e.getAttribute(r))}}catch(u){o.e(u)}finally{o.f()}var l,s=d(a);try{for(s.s();!(l=s.n()).done;){var c=l.value;e.hasAttribute(c)||t.removeAttribute(c)}}catch(u){s.e(u)}finally{s.f()}}}},{key:"_updateChildren",value:function(e,t){var n=this.domConverter.mapViewToDom(e);if(n){var a=t.inlineFillerPosition,i=this.domConverter.mapViewToDom(e).childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,n.ownerDocument,{bind:!0,inlineFillerPosition:a}));a&&a.parent===e&&Ti(n.ownerDocument,o,a.offset);var r,l=this._diffNodeLists(i,o),s=0,c=new Set,u=d(l);try{for(u.s();!(r=u.n()).done;){var m=r.value;"delete"===m?(c.add(i[s]),Si(i[s])):"equal"===m&&s++}}catch(k){u.e(k)}finally{u.f()}s=0;var h,f=d(l);try{for(f.s();!(h=f.n()).done;){var g=h.value;"insert"===g?(_i(n,s,o[s]),s++):"equal"===g&&(this._markDescendantTextToSync(this.domConverter.domToView(o[s])),s++)}}catch(k){f.e(k)}finally{f.f()}var p,v=d(c);try{for(v.s();!(p=v.n()).done;){var b=p.value;b.parentNode||this.domConverter.unbindDomElement(b)}}catch(k){v.e(k)}finally{v.f()}}}},{key:"_diffNodeLists",value:function(e,t){return Ai(e=function(e,t){var n=Array.from(e);return 0!=n.length&&t?(n[n.length-1]==t&&n.pop(),n):n}(e,this._fakeSelectionContainer),t,Pi.bind(null,this.domConverter))}},{key:"_findReplaceActions",value:function(e,t,n){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;var a,i=[],o=[],r=[],l={equal:0,insert:0,delete:0},s=d(e);try{for(s.s();!(a=s.n()).done;){var c=a.value;"insert"===c?r.push(n[l.equal+l.insert]):"delete"===c?o.push(t[l.equal+l.delete]):((i=i.concat(Ai(o,r,xi).map((function(e){return"equal"===e?"replace":e})))).push("equal"),o=[],r=[]),l[c]++}}catch(u){s.e(u)}finally{s.f()}return i.concat(Ai(o,r,xi).map((function(e){return"equal"===e?"replace":e})))}},{key:"_markDescendantTextToSync",value:function(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element")){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var a=t.value;this._markDescendantTextToSync(a)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"_updateSelection",value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}},{key:"_updateFakeSelection",value:function(e){var t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){var t=e.createElement("div");return Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="\xa0",t}(t));var n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(e)){n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";var a=t.getSelection(),i=t.createRange();a.removeAllRanges(),i.selectNodeContents(n),a.addRange(i)}}},{key:"_updateDomSelection",value:function(e){var t=e.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(t)){var n=this.domConverter.viewPositionToDom(this.selection.anchor),a=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),t.collapse(n.parent,n.offset),t.extend(a.parent,a.offset),Va&&function(e,t){var n=e.parent;if(n.nodeType==Node.ELEMENT_NODE&&e.offset==n.childNodes.length-1){var a=n.childNodes[e.offset];a&&"BR"==a.tagName&&t.addRange(t.getRangeAt(0))}}(a,t)}}},{key:"_domSelectionNeedsUpdate",value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;var t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}},{key:"_fakeSelectionNeedsUpdate",value:function(e){var t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var e,t=d(this.domDocuments);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.getSelection().rangeCount){var a=n.activeElement,i=this.domConverter.mapDomToView(a);a&&i&&n.getSelection().removeAllRanges()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}]),e}();function Ti(e,t,n){var a=t instanceof Array?t:t.childNodes,i=a[n];if(mi(i))return i.data=gi+i.data,i;var o=e.createTextNode(gi);return Array.isArray(t)?a.splice(n,0,o):_i(t,n,o),o}function xi(e,t){return Ei(e)&&Ei(t)&&!mi(e)&&!mi(t)&&e.nodeType!==Node.COMMENT_NODE&&t.nodeType!==Node.COMMENT_NODE&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function Pi(e,t,n){return t===n||(mi(t)&&mi(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}rn(Oi,fa);var Di={window:window,document:document};function Mi(e){for(var t=0;e.previousSibling;)e=e.previousSibling,t++;return t}function Ri(e){for(var t=[];e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}var Ii=fi(document),Bi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.document=t,this.blockFillerMode=n.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption","td","th"],this._blockFiller="br"==this.blockFillerMode?fi:hi,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return f(e,[{key:"bindFakeSelection",value:function(e,t){this._fakeSelectionMapping.set(e,new Ta(t))}},{key:"fakeSelectionToView",value:function(e){return this._fakeSelectionMapping.get(e)}},{key:"bindElements",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"unbindDomElement",value:function(e){var t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);var n,a=d(e.childNodes);try{for(a.s();!(n=a.n()).done;){var i=n.value;this.unbindDomElement(i)}}catch(o){a.e(o)}finally{a.f()}}}},{key:"bindDocumentFragments",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"viewToDom",value:function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.is("$text")){var i=this._processDataFromViewText(e);return t.createTextNode(i)}if(this.mapViewToDom(e))return this.mapViewToDom(e);if(e.is("documentFragment"))n=t.createDocumentFragment(),a.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return n=e.render(t),a.bind&&this.bindElements(n,e),n;n=e.hasAttribute("xmlns")?t.createElementNS(e.getAttribute("xmlns"),e.name):t.createElement(e.name),e.is("rawElement")&&e.render(n),a.bind&&this.bindElements(n,e);var o,r=d(e.getAttributeKeys());try{for(r.s();!(o=r.n()).done;){var l=o.value;n.setAttribute(l,e.getAttribute(l))}}catch(m){r.e(m)}finally{r.f()}}if(a.withChildren||void 0===a.withChildren){var s,c=d(this.viewChildrenToDom(e,t,a));try{for(c.s();!(s=c.n()).done;){var u=s.value;n.appendChild(u)}}catch(m){c.e(m)}finally{c.f()}}return n}},{key:"viewChildrenToDom",value:u.mark((function e(t,n){var a,i,o,r,l,s,c=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=c.length>2&&void 0!==c[2]?c[2]:{},i=t.getFillerOffset&&t.getFillerOffset(),o=0,r=d(t.getChildren()),e.prev=4,r.s();case 6:if((l=r.n()).done){e.next=17;break}if(s=l.value,e.t0=i===o,!e.t0){e.next=12;break}return e.next=12,this._blockFiller(n);case 12:return e.next=14,this.viewToDom(s,n,a);case 14:o++;case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(4),r.e(e.t1);case 22:return e.prev=22,r.f(),e.finish(22);case 25:if(e.t2=i===o,!e.t2){e.next=29;break}return e.next=29,this._blockFiller(n);case 29:case"end":return e.stop()}}),e,this,[[4,19,22,25]])}))},{key:"viewRangeToDom",value:function(e){var t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),a=document.createRange();return a.setStart(t.parent,t.offset),a.setEnd(n.parent,n.offset),a}},{key:"viewPositionToDom",value:function(e){var t,n,a,i=e.parent;if(i.is("$text")){var o=this.findCorrespondingDomText(i);if(!o)return null;var r=e.offset;return pi(o)&&(r+=7),{parent:o,offset:r}}if(0===e.offset){if(!(t=this.mapViewToDom(i)))return null;a=t.childNodes[0]}else{var l=e.nodeBefore;if(!(n=l.is("$text")?this.findCorrespondingDomText(l):this.mapViewToDom(e.nodeBefore)))return null;t=n.parentNode,a=n.nextSibling}return mi(a)&&pi(a)?{parent:a,offset:7}:{parent:t,offset:n?Mi(n)+1:0}}},{key:"domToView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isBlockFiller(e,this.blockFillerMode))return null;var n,a=this.getHostViewElement(e,this._domToViewMapping);if(a)return a;if(mi(e)){if(vi(e))return null;var i=this._processDataFromDomText(e);return""===i?null:new vn(this.document,i)}if(this.isComment(e))return null;if(this.mapDomToView(e))return this.mapDomToView(e);if(this.isDocumentFragment(e))n=new ti(this.document),t.bind&&this.bindDocumentFragments(e,n);else{var o=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();n=new oa(this.document,o),t.bind&&this.bindElements(e,n);for(var r=e.attributes,l=r.length-1;l>=0;l--)n._setAttribute(r[l].name,r[l].value)}if(t.withChildren||void 0===t.withChildren){var s,c=d(this.domChildrenToView(e,t));try{for(c.s();!(s=c.n()).done;){var u=s.value;n._appendChild(u)}}catch(m){c.e(m)}finally{c.f()}}return n}},{key:"domChildrenToView",value:u.mark((function e(t){var n,a,i,o,r=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:{},a=0;case 2:if(!(a<t.childNodes.length)){e.next=11;break}if(i=t.childNodes[a],o=this.domToView(i,n),e.t0=null!==o,!e.t0){e.next=8;break}return e.next=8,o;case 8:a++,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"domSelectionToView",value:function(e){if(1===e.rangeCount){var t=e.getRangeAt(0).startContainer;mi(t)&&(t=t.parentNode);var n=this.fakeSelectionToView(t);if(n)return n}for(var a=this.isDomSelectionBackward(e),i=[],o=0;o<e.rangeCount;o++){var r=e.getRangeAt(o),l=this.domRangeToView(r);l&&i.push(l)}return new Ta(i,{backward:a})}},{key:"domRangeToView",value:function(e){var t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new Sa(t,n):null}},{key:"domPositionToView",value:function(e,t){if(this.isBlockFiller(e,this.blockFillerMode))return this.domPositionToView(e.parentNode,Mi(e));var n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return _a._createBefore(n);if(mi(e)){if(vi(e))return this.domPositionToView(e.parentNode,Mi(e));var a=this.findCorrespondingViewText(e),i=t;return a?(pi(e)&&(i=(i-=7)<0?0:i),new _a(a,i)):null}if(0===t){var o=this.mapDomToView(e);if(o)return new _a(o,0)}else{var r=e.childNodes[t-1],l=mi(r)?this.findCorrespondingViewText(r):this.mapDomToView(r);if(l&&l.parent)return new _a(l.parent,l.index+1)}return null}},{key:"mapDomToView",value:function(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}},{key:"findCorrespondingViewText",value:function(e){if(vi(e))return null;var t=this.getHostViewElement(e);if(t)return t;var n=e.previousSibling;if(n){if(!this.isElement(n))return null;var a=this.mapDomToView(n);if(a)return a.nextSibling instanceof vn?a.nextSibling:null}else{var i=this.mapDomToView(e.parentNode);if(i){var o=i.getChild(0);return o instanceof vn?o:null}}return null}},{key:"mapViewToDom",value:function(e){return this._viewToDomMapping.get(e)}},{key:"findCorrespondingDomText",value:function(e){var t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:"focus",value:function(e){var t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){var n=Di.window,a=n.scrollX,i=n.scrollY,o=[];zi(t,(function(e){var t=e.scrollLeft,n=e.scrollTop;o.push([t,n])})),t.focus(),zi(t,(function(e){var t=o.shift(),n=c(t,2),a=n[0],i=n[1];e.scrollLeft=a,e.scrollTop=i})),Di.window.scrollTo(a,i)}}},{key:"isElement",value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(e){return e&&e.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(e){return"br"==this.blockFillerMode?e.isEqualNode(Ii):!("BR"!==e.tagName||!Vi(e,this.blockElements)||1!==e.parentNode.childNodes.length)||function(e,t){return mi(e)&&"\xa0"==e.data&&Vi(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements)}},{key:"isDomSelectionBackward",value:function(e){if(e.isCollapsed)return!1;var t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);var n=t.collapsed;return t.detach(),n}},{key:"getHostViewElement",value:function(e){var t=Ri(e);for(t.pop();t.length;){var n=t.pop(),a=this._domToViewMapping.get(n);if(a&&(a.is("uiElement")||a.is("rawElement")))return a}return null}},{key:"isDomSelectionCorrect",value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:"_isDomSelectionPositionCorrect",value:function(e,t){if(mi(e)&&pi(e)&&t<7)return!1;if(this.isElement(e)&&pi(e.childNodes[t]))return!1;var n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}},{key:"_processDataFromViewText",value:function(e){var t=this,n=e.data;if(e.getAncestors().some((function(e){return t.preElements.includes(e.name)})))return n;if(" "==n.charAt(0)){var a=this._getTouchingViewTextNode(e,!1);(!a||!this._nodeEndsWithSpace(a))&&a||(n="\xa0"+n.substr(1))}if(" "==n.charAt(n.length-1)){var i=this._getTouchingViewTextNode(e,!0);" "!=n.charAt(n.length-2)&&i&&" "!=i.data.charAt(0)||(n=n.substr(0,n.length-1)+"\xa0")}return n.replace(/ {2}/g," \xa0")}},{key:"_nodeEndsWithSpace",value:function(e){var t=this;if(e.getAncestors().some((function(e){return t.preElements.includes(e.name)})))return!1;var n=this._processDataFromViewText(e);return" "==n.charAt(n.length-1)}},{key:"_processDataFromDomText",value:function(e){var t=e.data;if(Li(e,this.preElements))return bi(e);t=t.replace(/[ \n\t\r]{1,}/g," ");var n=this._getTouchingInlineDomNode(e,!1),a=this._getTouchingInlineDomNode(e,!0),i=this._checkShouldLeftTrimDomText(n),o=this._checkShouldRightTrimDomText(e,a);return i&&(t=t.replace(/^ /,"")),o&&(t=t.replace(/ $/,"")),t=(t=bi(new Text(t))).replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(t)||!a||a.data&&" "==a.data.charAt(0))&&(t=t.replace(/\u00A0$/," ")),i&&(t=t.replace(/^\u00A0/," ")),t}},{key:"_checkShouldLeftTrimDomText",value:function(e){return!e||!!jt(e)||/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1))}},{key:"_checkShouldRightTrimDomText",value:function(e,t){return!t&&!pi(e)}},{key:"_getTouchingViewTextNode",value:function(e,t){var n,a=new Aa({startPosition:t?_a._createAfter(e):_a._createBefore(e),direction:t?"forward":"backward"}),i=d(a);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.item.is("containerElement"))return null;if(o.item.is("element","br"))return null;if(o.item.is("$textProxy"))return o.item}}catch(r){i.e(r)}finally{i.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(e,t){if(!e.parentNode)return null;var n=t?"nextNode":"previousNode",a=e.ownerDocument,i=Ri(e)[0],o=a.createTreeWalker(i,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return mi(e)||"BR"==e.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});o.currentNode=e;var r=o[n]();if(null!==r){var l=function(e,t){for(var n=Ri(e),a=Ri(t),i=0;n[i]==a[i]&&n[i];)i++;return 0===i?null:n[i-1]}(e,r);if(l&&!Li(e,this.blockElements,l)&&!Li(r,this.blockElements,l))return r}return null}}]),e}();function Li(e,t,n){var a=Ri(e);return n&&(a=a.slice(a.indexOf(n)+1)),a.some((function(e){return e.tagName&&t.includes(e.tagName.toLowerCase())}))}function zi(e,t){for(;e&&e!=Di.document;)t(e),e=e.parentNode}function Vi(e,t){var n=e.parentNode;return n&&n.tagName&&t.includes(n.tagName.toLowerCase())}function ji(e){var t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}var Fi=ca({},$t,{listenTo:function(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];if(Ei(e)||ji(e)){var o=this._getProxyEmitter(e)||new Ni(e);o.attach.apply(o,a),e=o}(t=$t.listenTo).call.apply(t,[this,e].concat(a))},stopListening:function(e,t,n){if(Ei(e)||ji(e)){var a=this._getProxyEmitter(e);if(!a)return;e=a}$t.stopListening.call(this,e,t,n),e instanceof Ni&&e.detach(t)},_getProxyEmitter:function(e){return t=this,n=Gi(e),t[Yt]&&t[Yt][n]?t[Yt][n].emitter:null;var t,n}}),Ni=function e(t){h(this,e),Qt(this,Gi(t)),this._domNode=t};function Gi(e){return e["data-ck-expando"]||(e["data-ck-expando"]=qt())}ca(Ni.prototype,$t,{attach:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._domListeners||!this._domListeners[e]){var a={capture:!!n.useCapture,passive:!!n.usePassive},i=this._createDomListener(e,a);this._domNode.addEventListener(e,i,a),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}},detach:function(e){var t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener:function(e,t){var n=this,a=function(t){n.fire(e,t)};return a.removeListener=function(){n._domNode.removeEventListener(e,a,t),delete n._domListeners[e]},a}});var Ui=function(){function e(t){h(this,e),this.view=t,this.document=t.document,this.isEnabled=!1}return f(e,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}},{key:"checkShouldIgnoreEventFromTarget",value:function(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}]),e}();function Hi(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new me;++t<n;)this.add(e[t])}rn(Ui,Fi),Hi.prototype.add=Hi.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Hi.prototype.has=function(e){return this.__data__.has(e)};var qi=Hi,Wi=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1},Ki=function(e,t){return e.has(t)},Yi=function(e,t,n,a,i,o){var r=1&n,l=e.length,s=t.length;if(l!=s&&!(r&&s>l))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var d=-1,u=!0,m=2&n?new qi:void 0;for(o.set(e,t),o.set(t,e);++d<l;){var h=e[d],f=t[d];if(a)var g=r?a(f,h,d,t,e,o):a(h,f,d,e,t,o);if(void 0!==g){if(g)continue;u=!1;break}if(m){if(!Wi(t,(function(e,t){if(!Ki(m,t)&&(h===e||i(h,e,n,a,o)))return m.push(t)}))){u=!1;break}}else if(h!==f&&!i(h,f,n,a,o)){u=!1;break}}return o.delete(e),o.delete(t),u},Ji=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,a){n[++t]=[a,e]})),n},$i=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Qi=y?y.prototype:void 0,Zi=Qi?Qi.valueOf:void 0,Xi=Object.prototype.hasOwnProperty,eo="[object Arguments]",to="[object Array]",no="[object Object]",ao=Object.prototype.hasOwnProperty,io=function(e,t,n,a,i,o){var r=Se(e),l=Se(t),s=r?to:bt(e),c=l?to:bt(t),d=(s=s==eo?no:s)==no,u=(c=c==eo?no:c)==no,m=s==c;if(m&&Object(Ee.a)(e)){if(!Object(Ee.a)(t))return!1;r=!0,d=!1}if(m&&!d)return o||(o=new fe),r||Ie(e)?Yi(e,t,n,a,i,o):function(e,t,n,a,i,o,r){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Ct(e),new Ct(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return V(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Ji;case"[object Set]":var s=1&a;if(l||(l=$i),e.size!=t.size&&!s)return!1;var c=r.get(e);if(c)return c==t;a|=2,r.set(e,t);var d=Yi(l(e),l(t),a,i,o,r);return r.delete(e),d;case"[object Symbol]":if(Zi)return Zi.call(e)==Zi.call(t)}return!1}(e,t,s,n,a,i,o);if(!(1&n)){var h=d&&ao.call(e,"__wrapped__"),f=u&&ao.call(t,"__wrapped__");if(h||f){var g=h?e.value():e,p=f?t.value():t;return o||(o=new fe),i(g,p,n,a,o)}}return!!m&&(o||(o=new fe),function(e,t,n,a,i,o){var r=1&n,l=tt(e),s=l.length;if(s!=tt(t).length&&!r)return!1;for(var c=s;c--;){var d=l[c];if(!(r?d in t:Xi.call(t,d)))return!1}var u=o.get(e);if(u&&o.get(t))return u==t;var m=!0;o.set(e,t),o.set(t,e);for(var h=r;++c<s;){var f=e[d=l[c]],g=t[d];if(a)var p=r?a(g,f,d,t,e,o):a(f,g,d,e,t,o);if(!(void 0===p?f===g||i(f,g,n,a,o):p)){m=!1;break}h||(h="constructor"==d)}if(m&&!h){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,a,i,o))},oo=function e(t,n,a,i,o){return t===n||(null==t||null==n||!D(t)&&!D(n)?t!=t&&n!=n:io(t,n,a,i,e,o))},ro=function(e,t,n){var a=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===a?oo(e,t,void 0,n):!!a},lo=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e))._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},a.domConverter=e.domConverter,a.renderer=e._renderer,a._domElements=[],a._mutationObserver=new window.MutationObserver(a._onMutations.bind(r(a))),a}return f(n,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}},{key:"enable",value:function(){i(o(n.prototype),"enable",this).call(this);var e,t=d(this._domElements);try{for(t.s();!(e=t.n()).done;){var a=e.value;this._mutationObserver.observe(a,this._config)}}catch(r){t.e(r)}finally{t.f()}}},{key:"disable",value:function(){i(o(n.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){i(o(n.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(e){if(0!==e.length){var t,n=this.domConverter,a=new Map,i=new Set,o=d(e);try{for(o.s();!(t=o.n()).done;){var r=t.value;if("childList"===r.type){var l=n.mapDomToView(r.target);if(l&&(l.is("uiElement")||l.is("rawElement")))continue;l&&!this._isBogusBrMutation(r)&&i.add(l)}}}catch(x){o.e(x)}finally{o.f()}var s,c=d(e);try{for(c.s();!(s=c.n()).done;){var u=s.value,m=n.mapDomToView(u.target);if((!m||!m.is("uiElement")&&!m.is("rawElement"))&&"characterData"===u.type){var h=n.findCorrespondingViewText(u.target);h&&!i.has(h.parent)?a.set(h,{type:"text",oldText:h.data,newText:bi(u.target),node:h}):!h&&pi(u.target)&&i.add(n.mapDomToView(u.target.parentNode))}}}catch(x){c.e(x)}finally{c.f()}var f,g=[],p=d(a.values());try{for(p.s();!(f=p.n()).done;){var v=f.value;this.renderer.markToSync("text",v.node),g.push(v)}}catch(x){p.e(x)}finally{p.f()}var b,k=d(i);try{for(k.s();!(b=k.n()).done;){var C=b.value,y=n.mapViewToDom(C),w=Array.from(C.getChildren()),A=Array.from(n.domChildrenToView(y,{withChildren:!1}));ro(w,A,T)||(this.renderer.markToSync("children",C),g.push({type:"children",oldChildren:w,newChildren:A,node:C}))}}catch(x){k.e(x)}finally{k.f()}var _=e[0].target.ownerDocument.getSelection(),S=null;if(_&&_.anchorNode){var E=n.domPositionToView(_.anchorNode,_.anchorOffset),O=n.domPositionToView(_.focusNode,_.focusOffset);E&&O&&(S=new Ta(E)).setFocus(O)}g.length&&(this.document.fire("mutations",g,S),this.view.forceRender())}function T(e,t){if(!Array.isArray(e))return e===t||!(!e.is("$text")||!t.is("$text"))&&e.data===t.data}}},{key:"_isBogusBrMutation",value:function(e){var t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}]),n}(Ui),so=function(){function e(t,n,a){h(this,e),this.view=t,this.document=t.document,this.domEvent=n,this.domTarget=n.target,ca(this,a)}return f(e,[{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}},{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}}]),e}(),co=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).useCapture=!1,a}return f(n,[{key:"observe",value:function(e){var t=this;("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((function(n){t.listenTo(e,n,(function(e,n){t.isEnabled&&!t.checkShouldIgnoreEventFromTarget(n.target)&&t.onDomEvent(n)}),{useCapture:t.useCapture})}))}},{key:"fire",value:function(e,t,n){this.isEnabled&&this.document.fire(e,new so(this.view,t,n))}}]),n}(Ui),uo=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).domEventType=["keydown","keyup"],a}return f(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return Ha(this)}})}}]),n}(co),mo=function(){return C.a.Date.now()},ho=/^\s+|\s+$/g,fo=/^[-+]0x[0-9a-f]+$/i,go=/^0b[01]+$/i,po=/^0o[0-7]+$/i,vo=parseInt,bo=function(e){if("number"==typeof e)return e;if(wn(e))return NaN;if(H(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=H(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ho,"");var n=go.test(e);return n||po.test(e)?vo(e.slice(2),n?2:8):fo.test(e)?NaN:+e},ko=Math.max,Co=Math.min,yo=function(e,t,n){var a,i,o,r,l,s,c=0,d=!1,u=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=a,o=i;return a=i=void 0,c=t,r=e.apply(o,n)}function f(e){return c=e,l=setTimeout(p,t),d?h(e):r}function g(e){var n=e-s;return void 0===s||n>=t||n<0||u&&e-c>=o}function p(){var e=mo();if(g(e))return v(e);l=setTimeout(p,function(e){var n=t-(e-s);return u?Co(n,o-(e-c)):n}(e))}function v(e){return l=void 0,m&&a?h(e):(a=i=void 0,r)}function b(){var e=mo(),n=g(e);if(a=arguments,i=this,s=e,n){if(void 0===l)return f(s);if(u)return clearTimeout(l),l=setTimeout(p,t),h(s)}return void 0===l&&(l=setTimeout(p,t)),r}return t=bo(t)||0,H(n)&&(d=!!n.leading,o=(u="maxWait"in n)?ko(bo(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m),b.cancel=function(){void 0!==l&&clearTimeout(l),c=0,a=s=i=l=void 0},b.flush=function(){return void 0===l?r:v(mo())},b},wo=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e))._fireSelectionChangeDoneDebounced=yo((function(e){return a.document.fire("selectionChangeDone",e)}),200),a}return f(n,[{key:"observe",value:function(){var e=this,t=this.document;t.on("keydown",(function(n,a){t.selection.isFake&&Ka(a.keyCode)&&e.isEnabled&&(a.preventDefault(),e._handleSelectionMove(a.keyCode))}),{priority:"lowest"})}},{key:"destroy",value:function(){i(o(n.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(e){var t=this.document.selection,n=new Ta(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Ua.arrowleft&&e!=Ua.arrowup||n.setTo(n.getFirstPosition()),e!=Ua.arrowright&&e!=Ua.arrowdown||n.setTo(n.getLastPosition());var a={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}]),n}(Ui),Ao=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).mutationObserver=e.getObserver(lo),a.selection=a.document.selection,a.domConverter=e.domConverter,a._documents=new WeakSet,a._fireSelectionChangeDoneDebounced=yo((function(e){return a.document.fire("selectionChangeDone",e)}),200),a._clearInfiniteLoopInterval=setInterval((function(){return a._clearInfiniteLoop()}),1e3),a._loopbackCounter=0,a}return f(n,[{key:"observe",value:function(e){var t=this,n=e.ownerDocument;this._documents.has(n)||(this.listenTo(n,"selectionchange",(function(e,a){t._handleSelectionChange(a,n)})),this._documents.add(n))}},{key:"destroy",value:function(){i(o(n.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(e,t){if(this.isEnabled){var n=t.defaultView.getSelection();if(!this.checkShouldIgnoreEventFromTarget(n.anchorNode)){this.mutationObserver.flush();var a=this.domConverter.domSelectionToView(n);if(0!=a.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(a)&&this.domConverter.isDomSelectionCorrect(n)||++this._loopbackCounter>60))if(this.selection.isSimilar(a))this.view.forceRender();else{var i={oldSelection:this.selection,newSelection:a,domSelection:n};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}else this.view.hasDomSelection=!1}}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),n}(Ui),_o=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n),(a=t.call(this,e)).domEventType=["focus","blur"],a.useCapture=!0;var i=a.document;return i.on("focus",(function(){i.isFocused=!0,a._renderTimeoutId=setTimeout((function(){return e.forceRender()}),50)})),i.on("blur",(function(t,n){var a=i.selection.editableElement;null!==a&&a!==n.target||(i.isFocused=!1,e.forceRender())})),a}return f(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),i(o(n.prototype),"destroy",this).call(this)}}]),n}(co),So=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n),(a=t.call(this,e)).domEventType=["compositionstart","compositionupdate","compositionend"];var i=a.document;return i.on("compositionstart",(function(){i.isComposing=!0})),i.on("compositionend",(function(){i.isComposing=!1})),a}return f(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(co),Eo=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).domEventType=["beforeinput"],a}return f(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(co);function Oo(e){return"[object Range]"==Object.prototype.toString.apply(e)}function To(e){var t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}var xo=["top","right","bottom","left","width","height"],Po=function(){function e(t){h(this,e);var n=Oo(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),jt(t)||n)if(n){var a=e.getDomRangeRects(t);Do(this,e.getBoundingRect(a))}else Do(this,t.getBoundingClientRect());else if(ji(t)){var i=t.innerWidth,o=t.innerHeight;Do(this,{top:0,right:i,bottom:o,left:0,width:i,height:o})}else Do(this,t)}return f(e,[{key:"clone",value:function(){return new e(this)}},{key:"moveTo",value:function(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}},{key:"moveBy",value:function(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}},{key:"getIntersection",value:function(t){var n={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new e(n)}},{key:"getIntersectionArea",value:function(e){var t=this.getIntersection(e);return t?t.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var t=this._source,n=this.clone();if(!Mo(t))for(var a=t.parentNode||t.commonAncestorContainer;a&&!Mo(a);){var i=new e(a),o=n.getIntersection(i);if(!o)return null;o.getArea()<n.getArea()&&(n=o),a=a.parentNode}return n}},{key:"isEqual",value:function(e){var t,n=d(xo);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(this[a]!==e[a])return!1}}catch(i){n.e(i)}finally{n.f()}return!0}},{key:"contains",value:function(e){var t=this.getIntersection(e);return!(!t||!t.isEqual(e))}},{key:"excludeScrollbarsAndBorders",value:function(){var e,t,n,a=this._source;if(ji(a))e=a.innerWidth-a.document.documentElement.clientWidth,t=a.innerHeight-a.document.documentElement.clientHeight,n=a.getComputedStyle(a.document.documentElement).direction;else{var i=To(this._source);e=a.offsetWidth-a.clientWidth-i.left-i.right,t=a.offsetHeight-a.clientHeight-i.top-i.bottom,n=a.ownerDocument.defaultView.getComputedStyle(a).direction,this.left+=i.left,this.top+=i.top,this.right-=i.right,this.bottom-=i.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===n?this.right-=e:this.left+=e,this.height-=t,this.bottom-=t,this}}],[{key:"getDomRangeRects",value:function(t){var n=[],a=Array.from(t.getClientRects());if(a.length){var i,o=d(a);try{for(o.s();!(i=o.n()).done;){var r=i.value;n.push(new e(r))}}catch(c){o.e(c)}finally{o.f()}}else{var l=t.startContainer;mi(l)&&(l=l.parentNode);var s=new e(l.getBoundingClientRect());s.right=s.left,s.width=0,n.push(s)}return n}},{key:"getBoundingRect",value:function(t){var n,a={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY},i=0,o=d(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;i++,a.left=Math.min(a.left,r.left),a.top=Math.min(a.top,r.top),a.right=Math.max(a.right,r.right),a.bottom=Math.max(a.bottom,r.bottom)}}catch(l){o.e(l)}finally{o.f()}return 0==i?null:(a.width=a.right-a.left,a.height=a.bottom-a.top,new e(a))}}]),e}();function Do(e,t){var n,a=d(xo);try{for(a.s();!(n=a.n()).done;){var i=n.value;e[i]=t[i]}}catch(o){a.e(o)}finally{a.f()}}function Mo(e){return!!jt(e)&&e===e.ownerDocument.body}function Ro(e){for(var t=e.target,n=e.viewportOffset,a=void 0===n?0:n,i=Fo(t),o=i,r=null;o;){Bo(No(o==i?t:r),(function(){return Go(t,o)}));var l=Go(t,o);if(Io(o,l,a),o.parent!=o){if(r=o.frameElement,o=o.parent,!r)return}else o=null}}function Io(e,t,n){var a=t.clone().moveBy(0,n),i=t.clone().moveBy(0,-n),o=new Po(e).excludeScrollbarsAndBorders();if(![i,a].every((function(e){return o.contains(e)}))){var r=e.scrollX,l=e.scrollY;zo(i,o)?l-=o.top-t.top+n:Lo(a,o)&&(l+=t.bottom-o.bottom+n),Vo(t,o)?r-=o.left-t.left+n:jo(t,o)&&(r+=t.right-o.right+n),e.scrollTo(r,l)}}function Bo(e,t){for(var n,a,i=Fo(e);e!=i.document.body;)a=t(),(n=new Po(e).excludeScrollbarsAndBorders()).contains(a)||(zo(a,n)?e.scrollTop-=n.top-a.top:Lo(a,n)&&(e.scrollTop+=a.bottom-n.bottom),Vo(a,n)?e.scrollLeft-=n.left-a.left:jo(a,n)&&(e.scrollLeft+=a.right-n.right)),e=e.parentNode}function Lo(e,t){return e.bottom>t.bottom}function zo(e,t){return e.top<t.top}function Vo(e,t){return e.left<t.left}function jo(e,t){return e.right>t.right}function Fo(e){return Oo(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function No(e){if(Oo(e)){var t=e.commonAncestorContainer;return mi(t)&&(t=t.parentNode),t}return e.parentNode}function Go(e,t){var n=Fo(e),a=new Po(e);if(n===t)return a;for(var i=n;i!=t;){var o=i.frameElement,r=new Po(o).excludeScrollbarsAndBorders();a.moveBy(r.left,r.top),i=i.parent}return a}Object.assign({},{scrollViewportToShowTarget:Ro,scrollAncestorsToShowTarget:function(e){Bo(No(e),(function(){return new Po(e)}))}});var Uo=function(){function e(t){var n=this;h(this,e),this.document=new Pa(t),this.domConverter=new Bi(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Oi(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new ni(this.document),this.addObserver(lo),this.addObserver(Ao),this.addObserver(_o),this.addObserver(uo),this.addObserver(wo),this.addObserver(So),Fa&&this.addObserver(Eo),this.document.on("keydown",ki),function(e){e.document.on("keydown",(function(t,n){return function(e,t,n){if(t.keyCode==Ua.arrowright){var a=t.domTarget.ownerDocument.defaultView.getSelection(),i=1==a.rangeCount&&a.getRangeAt(0).collapsed;if(i||t.shiftKey){var o=a.focusNode,r=a.focusOffset,l=n.domPositionToView(o,r);if(null===l)return;var s=!1,c=l.getLastMatchingPosition((function(e){return e.item.is("uiElement")&&(s=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement"))}));if(s){var d=n.viewPositionToDom(c);i?a.collapse(d.parent,d.offset):a.extend(d.parent,d.offset)}}}}(0,n,e.domConverter)}))}(this),this.on("render",(function(){n._render(),n.document.fire("layoutChanged"),n._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(function(){n._hasChangedSinceTheLastRendering=!0}))}return f(e,[{key:"attachDomRoot",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",a=this.document.getRoot(n);a._name=e.tagName.toLowerCase();for(var i={},o=0,r=Array.from(e.attributes);o<r.length;o++){var l=r[o],s=l.name,c=l.value;i[s]=c,"class"===s?this._writer.addClass(c.split(" "),a):this._writer.setAttribute(s,c,a)}this._initialDomRootAttributes.set(e,i);var u=function(){t._writer.setAttribute("contenteditable",!a.isReadOnly,a),a.isReadOnly?t._writer.addClass("ck-read-only",a):t._writer.removeClass("ck-read-only",a)};u(),this.domRoots.set(n,e),this.domConverter.bindElements(e,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(e.ownerDocument),a.on("change:children",(function(e,n){return t._renderer.markToSync("children",n)})),a.on("change:attributes",(function(e,n){return t._renderer.markToSync("attributes",n)})),a.on("change:text",(function(e,n){return t._renderer.markToSync("text",n)})),a.on("change:isReadOnly",(function(){return t.change(u)})),a.on("change",(function(){t._hasChangedSinceTheLastRendering=!0}));var m,h=d(this._observers.values());try{for(h.s();!(m=h.n()).done;){var f=m.value;f.observe(e,n)}}catch(g){h.e(g)}finally{h.f()}}},{key:"detachDomRoot",value:function(e){var t=this.domRoots.get(e);Array.from(t.attributes).forEach((function(e){var n=e.name;return t.removeAttribute(n)}));var n=this._initialDomRootAttributes.get(t);for(var a in n)t.setAttribute(a,n[a]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}},{key:"getDomRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(e)}},{key:"addObserver",value:function(e){var t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);var n,a=d(this.domRoots);try{for(a.s();!(n=a.n()).done;){var i=c(n.value,2),o=i[0],r=i[1];t.observe(r,o)}}catch(l){a.e(l)}finally{a.f()}return t.enable(),t}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"disableObservers",value:function(){var e,t=d(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.disable()}catch(n){t.e(n)}finally{t.f()}}},{key:"enableObservers",value:function(){var e,t=d(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.enable()}catch(n){t.e(n)}finally{t.f()}}},{key:"scrollToTheSelection",value:function(){var e=this.document.selection.getFirstRange();e&&Ro({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}},{key:"change",value:function(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Kt.a("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){Kt.a.rethrowUnexpectedError(e,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change((function(){}))}},{key:"destroy",value:function(){var e,t=d(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(n){t.e(n)}finally{t.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(e,t){return _a._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return _a._createAfter(e)}},{key:"createPositionBefore",value:function(e){return _a._createBefore(e)}},{key:"createRange",value:function(e,t){return new Sa(e,t)}},{key:"createRangeOn",value:function(e){return Sa._createOn(e)}},{key:"createRangeIn",value:function(e){return Sa._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new Ta(e,t,n)}},{key:"_disableRendering",value:function(e){this._renderingDisabled=e,0==e&&this.change((function(){}))}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),e}();rn(Uo,fa);var Ho=function(){function e(t){h(this,e),this.parent=null,this._attrs=kn(t)}return f(e,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),a=e.getAncestors(t),i=0;n[i]==a[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),a=fn(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((function(e,t){return e[t[0]]=t[1],e}),{})),e}},{key:"is",value:function(e){return"node"===e||"model:node"===e}},{key:"_clone",value:function(){return new e(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,t){this._attrs.set(e,t)}},{key:"_setAttributesTo",value:function(e){this._attrs=kn(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}},{key:"index",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new Kt.a("model-node-not-found-in-parent",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new Kt.a("model-node-not-found-in-parent",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]),e}(),qo=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,a))._data=e||"",i}return f(n,[{key:"is",value:function(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){var e=i(o(n.prototype),"toJSON",this).call(this);return e.data=this.data,e}},{key:"_clone",value:function(){return new n(this.data,this.getAttributes())}},{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}}],[{key:"fromJSON",value:function(e){return new n(e.data,e.attributes)}}]),n}(Ho),Wo=function(){function e(t,n,a){if(h(this,e),this.textNode=t,n<0||n>t.offsetSize)throw new Kt.a("model-textproxy-wrong-offsetintext",this);if(a<0||n+a>t.offsetSize)throw new Kt.a("model-textproxy-wrong-length",this);this.data=t.data.substring(n,n+a),this.offsetInText=n}return f(e,[{key:"is",value:function(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e}},{key:"getPath",value:function(){var e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}},{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}}]),e}(),Ko=function(){function e(t){h(this,e),this._nodes=[],t&&this._insertNodes(0,t)}return f(e,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){var t=this._nodes.indexOf(e);return-1==t?null:t}},{key:"getNodeStartOffset",value:function(e){var t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((function(e,t){return e+t.offsetSize}),0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;var t=this._nodes[e];if(!t)throw new Kt.a("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(e){var t,n=0,a=d(this._nodes);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(e>=n&&e<n+i.offsetSize)return this.getNodeIndex(i);n+=i.offsetSize}}catch(o){a.e(o)}finally{a.f()}if(n!=e)throw new Kt.a("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}},{key:"_insertNodes",value:function(e,t){var n,a,i=d(t);try{for(i.s();!(a=i.n()).done;)if(!(a.value instanceof Ho))throw new Kt.a("model-nodelist-insertnodes-not-node",this)}catch(o){i.e(o)}finally{i.f()}(n=this._nodes).splice.apply(n,[e,0].concat(m(t)))}},{key:"_removeNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}},{key:"toJSON",value:function(){return this._nodes.map((function(e){return e.toJSON()}))}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce((function(e,t){return e+t.offsetSize}),0)}}]),e}(),Yo=function(e){g(n,e);var t=p(n);function n(e,a,i){var o;return h(this,n),(o=t.call(this,a)).name=e,o._children=new Ko,i&&o._insertChild(0,i),o}return f(n,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"getNodeByPath",value:function(e){var t,n=this,a=d(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n=n.getChild(n.offsetToIndex(i))}}catch(o){a.e(o)}finally{a.f()}return n}},{key:"findAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeSelf:!1},n=t.includeSelf?this:this.parent;n;){if(n.name===e)return n;n=n.parent}return null}},{key:"toJSON",value:function(){var e=i(o(n.prototype),"toJSON",this).call(this);if(e.name=this.name,this._children.length>0){e.children=[];var t,a=d(this._children);try{for(a.s();!(t=a.n()).done;){var r=t.value;e.children.push(r.toJSON())}}catch(l){a.e(l)}finally{a.f()}}return e}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?Array.from(this._children).map((function(e){return e._clone(!0)})):null;return new n(this.name,this.getAttributes(),t)}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n,a=function(e){return"string"==typeof e?[new qo(e)]:(on(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new qo(e):e instanceof Wo?new qo(e.data,e.getAttributes()):e})))}(t),i=d(a);try{for(i.s();!(n=i.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this}}catch(r){i.e(r)}finally{i.f()}this._children._insertNodes(e,a)}},{key:"_removeChildren",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this._children._removeNodes(e,n),i=d(a);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.parent=null}}catch(r){i.e(r)}finally{i.f()}return a}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}}],[{key:"fromJSON",value:function(e){var t=null;if(e.children){t=[];var a,i=d(e.children);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.name?t.push(n.fromJSON(o)):t.push(qo.fromJSON(o))}}catch(r){i.e(r)}finally{i.f()}}return new n(e.name,e.attributes,t)}}]),n}(Ho),Jo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h(this,e),!t.boundaries&&!t.startPosition)throw new Kt.a("model-tree-walker-no-start-position",null);var n=t.direction||"forward";if("forward"!=n&&"backward"!=n)throw new Kt.a("model-tree-walker-unknown-direction",t,{direction:n});this.direction=n,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=Qo._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return f(e,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t,n,a,i;do{var o;a=this.position,i=this._visitedParent,t=(o=this.next()).done,n=o.value}while(!t&&e(n));t||(this.position=a,this._visitedParent=i)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};var a=t.parent,i=Zo(t,a),o=i||Xo(t,a,i);if(o instanceof Yo)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=o),this.position=t,$o("elementStart",o,e,t,1);if(o instanceof qo){var r;if(this.singleCharacters)r=1;else{var l=o.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<l&&(l=this.boundaries.end.offset),r=l-t.offset}var s=t.offset-o.startOffset,c=new Wo(o,s,r);return t.offset+=r,this.position=t,$o("text",c,e,t,r)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():$o("elementEnd",n,e,t)}},{key:"_previous",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};var a=t.parent,i=Zo(t,a),o=i||er(t,a,i);if(o instanceof Yo)return t.offset--,this.shallow?(this.position=t,$o("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this.position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():$o("elementEnd",o,e,t));if(o instanceof qo){var r;if(this.singleCharacters)r=1;else{var l=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>l&&(l=this.boundaries.start.offset),r=t.offset-l}var s=t.offset-o.startOffset,c=new Wo(o,s-r,r);return t.offset-=r,this.position=t,$o("text",c,e,t,r)}return t.path.pop(),this.position=t,this._visitedParent=n.parent,$o("elementStart",n,e,t,1)}}]),e}();function $o(e,t,n,a,i){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:a,length:i}}}var Qo=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(h(this,e),!t.is("element")&&!t.is("documentFragment"))throw new Kt.a("model-position-root-invalid",t);if(!(n instanceof Array)||0===n.length)throw new Kt.a("model-position-path-incorrect-format",t,{path:n});t.is("rootElement")?n=n.slice():(n=[].concat(m(t.getPath()),m(n)),t=t.root),this.root=t,this.path=n,this.stickiness=a}return f(e,[{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var t=fn(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new Jo(t);return n.skip(e),n.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}},{key:"findAncestor",value:function(e){var t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var t=fn(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),a=0;t[a]==n[a]&&t[a];)a++;return 0===a?null:t[a-1]}},{key:"getShiftedBy",value:function(e){var t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isEqual",value:function(e){return"same"==this.compareWith(e)}},{key:"isTouching",value:function(t){var n=null,a=null;switch(this.compareWith(t)){case"same":return!0;case"before":n=e._createAt(this),a=e._createAt(t);break;case"after":n=e._createAt(t),a=e._createAt(this);break;default:return!1}for(var i=n.parent;n.path.length+a.path.length;){if(n.isEqual(a))return!0;if(n.path.length>a.path.length){if(n.offset!==i.maxOffset)return!1;n.path=n.path.slice(0,-1),i=i.parent,n.offset++}else{if(0!==a.offset)return!1;a.path=a.path.slice(0,-1)}}}},{key:"is",value:function(e){return"position"===e||"model:position"===e}},{key:"hasSameParentAs",value:function(e){return this.root===e.root&&"same"==fn(this.getParentPath(),e.getParentPath())}},{key:"getTransformedByOperation",value:function(t){var n;switch(t.type){case"insert":n=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(t);break;case"split":n=this._getTransformedBySplitOperation(t);break;case"merge":n=this._getTransformedByMergeOperation(t);break;default:n=e._createAt(this)}return n}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(t){var n,a=t.movedRange;return a.containsPosition(this)||a.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?e._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}},{key:"_getTransformedByDeletion",value:function(t,n){var a=e._createAt(this);if(this.root!=t.root)return a;if("same"==fn(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+n>this.offset)return null;a.offset-=n}}else if("prefix"==fn(t.getParentPath(),this.getParentPath())){var i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+n>this.path[i])return null;a.path[i]-=n}}return a}},{key:"_getTransformedByInsertion",value:function(t,n){var a=e._createAt(this);if(this.root!=t.root)return a;if("same"==fn(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(a.offset+=n);else if("prefix"==fn(t.getParentPath(),this.getParentPath())){var i=t.path.length-1;t.offset<=this.path[i]&&(a.path[i]+=n)}return a}},{key:"_getTransformedByMove",value:function(t,n,a){if(n=n._getTransformedByDeletion(t,a),t.isEqual(n))return e._createAt(this);var i=this._getTransformedByDeletion(t,a);return null===i||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(a).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,n):i._getTransformedByInsertion(n,a)}},{key:"_getCombined",value:function(t,n){var a=t.path.length-1,i=e._createAt(n);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[a]-t.offset,i.path=[].concat(m(i.path),m(this.path.slice(a+1))),i}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}},{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,t=0;t<this.path.length-1;t++)if(!(e=e.getChild(e.offsetToIndex(this.path[t]))))throw new Kt.a("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new Kt.a("model-position-path-incorrect",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return Zo(this,this.parent)}},{key:"nodeAfter",get:function(){var e=this.parent;return Xo(this,e,Zo(this,e))}},{key:"nodeBefore",get:function(){var e=this.parent;return er(this,e,Zo(this,e))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}}],[{key:"_createAt",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(t instanceof e)return new e(t.root,t.path,t.stickiness);var i=t;if("end"==n)n=i.maxOffset;else{if("before"==n)return this._createBefore(i,a);if("after"==n)return this._createAfter(i,a);if(0!==n&&!n)throw new Kt.a("model-createpositionat-offset-required",[this,t])}if(!i.is("element")&&!i.is("documentFragment"))throw new Kt.a("model-position-parent-incorrect",[this,t]);var o=i.getPath();return o.push(n),new this(i.root,o,a)}},{key:"_createAfter",value:function(e,t){if(!e.parent)throw new Kt.a("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}},{key:"_createBefore",value:function(e,t){if(!e.parent)throw new Kt.a("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}},{key:"fromJSON",value:function(t,n){if("$graveyard"===t.root){var a=new e(n.graveyard,t.path);return a.stickiness=t.stickiness,a}if(!n.getRoot(t.root))throw new Kt.a("model-position-fromjson-no-root",n,{rootName:t.root});return new e(n.getRoot(t.root),t.path,t.stickiness)}}]),e}();function Zo(e,t){var n=t.getChild(t.offsetToIndex(e.offset));return n&&n.is("$text")&&n.startOffset<e.offset?n:null}function Xo(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset))}function er(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}var tr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;h(this,e),this.start=Qo._createAt(t),this.end=n?Qo._createAt(n):Qo._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return f(e,[{key:Symbol.iterator,value:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new Jo({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}},{key:"containsItem",value:function(e){var t=Qo._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}},{key:"is",value:function(e){return"range"===e||"model:range"===e}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(new e(this.start,this.end)),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,a=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(a=t.end),new e(n,a)}return null}},{key:"getJoined",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.isIntersecting(t);if(a||(a=this.start.isBefore(t.start)?n?this.end.isTouching(t.start):this.end.isEqual(t.start):n?t.end.isTouching(this.start):t.end.isEqual(this.start)),!a)return null;var i=this.start,o=this.end;return t.start.isBefore(i)&&(i=t.start),t.end.isAfter(o)&&(o=t.end),new e(i,o)}},{key:"getMinimalFlatRanges",value:function(){for(var t=[],n=this.start.getCommonPath(this.end).length,a=Qo._createAt(this.start),i=a.parent;a.path.length>n+1;){var o=i.maxOffset-a.offset;0!==o&&t.push(new e(a,a.getShiftedBy(o))),a.path=a.path.slice(0,-1),a.offset++,i=i.parent}for(;a.path.length<=this.end.path.length;){var r=this.end.path[a.path.length-1],l=r-a.offset;0!==l&&t.push(new e(a,a.getShiftedBy(l))),a.offset=r,a.path.push(0)}return t}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Jo(e)}},{key:"getItems",value:u.mark((function e(){var t,n,a,i,o,r=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=r.length>0&&void 0!==r[0]?r[0]:{}).boundaries=this,t.ignoreElementEnd=!0,n=new Jo(t),a=d(n),e.prev=4,a.s();case 6:if((i=a.n()).done){e.next=12;break}return o=i.value,e.next=10,o.item;case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])}))},{key:"getPositions",value:u.mark((function e(){var t,n,a,i,o,r=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=r.length>0&&void 0!==r[0]?r[0]:{}).boundaries=this,n=new Jo(t),e.next=5,n.position;case 5:a=d(n),e.prev=6,a.s();case 8:if((i=a.n()).done){e.next=14;break}return o=i.value,e.next=12,o.nextPosition;case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[6,16,19,22]])}))},{key:"getTransformedByOperation",value:function(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new e(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(t){var n,a=[new e(this.start,this.end)],i=d(t);try{for(i.s();!(n=i.n()).done;)for(var o=n.value,r=0;r<a.length;r++){var l=a[r].getTransformedByOperation(o);a.splice.apply(a,[r,1].concat(m(l))),r+=l.length-1}}catch(f){i.e(f)}finally{i.f()}for(var s=0;s<a.length;s++)for(var c=a[s],u=s+1;u<a.length;u++){var h=a[u];(c.containsRange(h)||h.containsRange(c)||c.isEqual(h))&&a.splice(u,1)}return a}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(e.position,e.howMany,t)}},{key:"_getTransformedByMoveOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.sourcePosition,a=e.howMany,i=e.targetPosition;return this._getTransformedByMove(n,i,a,t)}},{key:"_getTransformedBySplitOperation",value:function(t){var n=this.start._getTransformedBySplitOperation(t),a=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(a=this.end.getShiftedBy(1)),n.root!=a.root&&(a=this.end.getShiftedBy(-1)),new e(n,a)}},{key:"_getTransformedByMergeOperation",value:function(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new e(this.start);var n=this.start._getTransformedByMergeOperation(t),a=this.end._getTransformedByMergeOperation(t);return n.root!=a.root&&(a=this.end.getShiftedBy(-1)),n.isAfter(a)?(t.sourcePosition.isBefore(t.targetPosition)?(n=Qo._createAt(a)).offset=0:(t.deletionPosition.isEqual(n)||(a=t.deletionPosition),n=t.targetPosition),new e(n,a)):new e(n,a)}},{key:"_getTransformedByInsertion",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(a&&this.containsPosition(t))return[new e(this.start,t),new e(t.getShiftedBy(n),this.end._getTransformedByInsertion(t,n))];var i=new e(this.start,this.end);return i.start=i.start._getTransformedByInsertion(t,n),i.end=i.end._getTransformedByInsertion(t,n),[i]}},{key:"_getTransformedByMove",value:function(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed){var o=this.start._getTransformedByMove(t,n,a);return[new e(o)]}var r,l=e._createFromPositionAndShift(t,a),s=n._getTransformedByDeletion(t,a);if(this.containsPosition(n)&&!i&&(l.containsPosition(this.start)||l.containsPosition(this.end))){var c=this.start._getTransformedByMove(t,n,a),d=this.end._getTransformedByMove(t,n,a);return[new e(c,d)]}var u=this.getDifference(l),m=null,h=this.getIntersection(l);if(1==u.length?m=new e(u[0].start._getTransformedByDeletion(t,a),u[0].end._getTransformedByDeletion(t,a)):2==u.length&&(m=new e(this.start,this.end._getTransformedByDeletion(t,a))),r=m?m._getTransformedByInsertion(s,a,null!==h||i):[],h){var f=new e(h.start._getCombined(l.start,s),h.end._getCombined(l.start,s));2==r.length?r.splice(1,0,f):r.push(f)}return r}},{key:"_getTransformedByDeletion",value:function(t,n){var a=this.start._getTransformedByDeletion(t,n),i=this.end._getTransformedByDeletion(t,n);return null==a&&null==i?null:(null==a&&(a=t),null==i&&(i=t),new e(a,i))}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return"same"==fn(this.start.getParentPath(),this.end.getParentPath())}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromPositionAndShift",value:function(e,t){var n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}},{key:"_createIn",value:function(e){return new this(Qo._createAt(e,0),Qo._createAt(e,e.maxOffset))}},{key:"_createOn",value:function(e){return this._createFromPositionAndShift(Qo._createBefore(e),e.offsetSize)}},{key:"_createFromRanges",value:function(e){if(0===e.length)throw new Kt.a("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();var t=e[0];e.sort((function(e,t){return e.start.isAfter(t.start)?1:-1}));var n=e.indexOf(t),a=new this(t.start,t.end);if(n>0)for(var i=n-1;e[i].end.isEqual(a.start);i++)a.start=Qo._createAt(e[i].start);for(var o=n+1;o<e.length&&e[o].start.isEqual(a.end);o++)a.end=Qo._createAt(e[o].end);return a}},{key:"fromJSON",value:function(e,t){return new this(Qo.fromJSON(e.start,t),Qo.fromJSON(e.end,t))}}]),e}(),nr=function(){function e(){var t=this;h(this,e),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(function(e,n){if(!n.viewPosition){var a=t._modelToViewMapping.get(n.modelPosition.parent);n.viewPosition=t.findPositionIn(a,n.modelPosition.offset)}}),{priority:"low"}),this.on("viewToModelPosition",(function(e,n){if(!n.modelPosition){var a=t.findMappedViewAncestor(n.viewPosition),i=t._viewToModelMapping.get(a),o=t._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,a);n.modelPosition=Qo._createAt(i,o)}}),{priority:"low"})}return f(e,[{key:"bindElements",value:function(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}},{key:"unbindViewElement",value:function(e){var t=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e)){var n,a=d(this._elementToMarkerNames.get(e));try{for(a.s();!(n=a.n()).done;){var i=n.value;this._unboundMarkerNames.add(i)}}catch(o){a.e(o)}finally{a.f()}}this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}},{key:"unbindModelElement",value:function(e){var t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}},{key:"bindElementToMarker",value:function(e,t){var n=this._markerNameToElements.get(t)||new Set;n.add(e);var a=this._elementToMarkerNames.get(e)||new Set;a.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,a)}},{key:"unbindElementFromMarkerName",value:function(e,t){var n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));var a=this._elementToMarkerNames.get(e);a&&(a.delete(t),0==a.size&&this._elementToMarkerNames.delete(e))}},{key:"flushUnboundMarkerNames",value:function(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new tr(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new Sa(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){var t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}},{key:"toViewPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPhantom:!1},n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}},{key:"markerNameToElements",value:function(e){var t=this._markerNameToElements.get(e);if(!t)return null;var n,a=new Set,i=d(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.is("attributeElement")){var r,l=d(o.getElementsWithSameId());try{for(l.s();!(r=l.n()).done;){var s=r.value;a.add(s)}}catch(c){l.e(c)}finally{l.f()}}else a.add(o)}}catch(c){i.e(c)}finally{i.f()}return a}},{key:"registerViewToModelLength",value:function(e,t){this._viewToModelLengthCallbacks.set(e,t)}},{key:"findMappedViewAncestor",value:function(e){for(var t=e.parent;!this._viewToModelMapping.has(t);)t=t.parent;return t}},{key:"_toModelOffset",value:function(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;for(var a=0,i=0;i<t;i++)a+=this.getModelLength(e.getChild(i));return a}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;var t,n=0,a=d(e.getChildren());try{for(a.s();!(t=a.n()).done;){var i=t.value;n+=this.getModelLength(i)}}catch(o){a.e(o)}finally{a.f()}return n}},{key:"findPositionIn",value:function(e,t){var n,a=0,i=0,o=0;if(e.is("$text"))return new _a(e,t);for(;i<t;)n=e.getChild(o),i+=a=this.getModelLength(n),o++;return i==t?this._moveViewPositionToTextNode(new _a(e,o)):this.findPositionIn(n,t-(i-a))}},{key:"_moveViewPositionToTextNode",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;return t instanceof vn?new _a(t,t.data.length):n instanceof vn?new _a(n,0):e}}]),e}();rn(nr,$t);var ar=function(){function e(){h(this,e),this._consumable=new Map,this._textProxyRegistry=new Map}return f(e,[{key:"add",value:function(e,t){t=ir(t),e instanceof Wo&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}},{key:"consume",value:function(e,t){return t=ir(t),e instanceof Wo&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}},{key:"test",value:function(e,t){t=ir(t),e instanceof Wo&&(e=this._getSymbolForTextProxy(e));var n=this._consumable.get(e);if(void 0===n)return null;var a=n.get(t);return void 0===a?null:a}},{key:"revert",value:function(e,t){t=ir(t),e instanceof Wo&&(e=this._getSymbolForTextProxy(e));var n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}},{key:"_getSymbolForTextProxy",value:function(e){var t=null,n=this._textProxyRegistry.get(e.startOffset);if(n){var a=n.get(e.endOffset);a&&(t=a.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),t}},{key:"_addSymbolForTextProxy",value:function(e,t,n){var a,i,o=Symbol("textProxySymbol");return(a=this._textProxyRegistry.get(e))||(a=new Map,this._textProxyRegistry.set(e,a)),(i=a.get(t))||(i=new Map,a.set(t,i)),i.set(n,o),o}}]),e}();function ir(e){var t=e.split(":");return t.length>1?t[0]+":"+t[1]:t[0]}var or=function(){function e(t){h(this,e),this.conversionApi=Object.assign({dispatcher:this},t),this._reconversionEventsMapping=new Map}return f(e,[{key:"convertChanges",value:function(e,t,n){var a,i=d(e.getMarkersToRemove());try{for(i.s();!(a=i.n()).done;){var o=a.value;this.convertMarkerRemove(o.name,o.range,n)}}catch(b){i.e(b)}finally{i.f()}var r,l=this._mapChangesWithAutomaticReconversion(e),s=d(l);try{for(s.s();!(r=s.n()).done;){var c=r.value;"insert"===c.type?this.convertInsert(tr._createFromPositionAndShift(c.position,c.length),n):"remove"===c.type?this.convertRemove(c.position,c.length,c.name,n):"reconvert"===c.type?this.reconvertElement(c.element,n):this.convertAttribute(c.range,c.attributeKey,c.attributeOldValue,c.attributeNewValue,n)}}catch(b){s.e(b)}finally{s.f()}var u,m=d(this.conversionApi.mapper.flushUnboundMarkerNames());try{for(m.s();!(u=m.n()).done;){var h=u.value,f=t.get(h).getRange();this.convertMarkerRemove(h,f,n),this.convertMarkerAdd(h,f,n)}}catch(b){m.e(b)}finally{m.f()}var g,p=d(e.getMarkersToAdd());try{for(p.s();!(g=p.n()).done;){var v=g.value;this.convertMarkerAdd(v.name,v.range,n)}}catch(b){p.e(b)}finally{p.f()}}},{key:"convertInsert",value:function(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);var n,a=d(Array.from(e).map(lr));try{for(a.s();!(n=a.n()).done;){var i=n.value;this._convertInsertWithAttributes(i)}}catch(o){a.e(o)}finally{a.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(e,t,n,a){this.conversionApi.writer=a,this.fire("remove:"+n,{position:e,length:t},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(e,t,n,a,i){this.conversionApi.writer=i,this.conversionApi.consumable=this._createConsumableForRange(e,"attribute:".concat(t));var o,r=d(e);try{for(r.s();!(o=r.n()).done;){var l=o.value,s={item:l.item,range:tr._createFromPositionAndShift(l.previousPosition,l.length),attributeKey:t,attributeOldValue:n,attributeNewValue:a};this._testAndFire("attribute:".concat(t),s)}}catch(c){r.e(c)}finally{r.f()}this._clearConversionApi()}},{key:"reconvertElement",value:function(e,t){var n=tr._createOn(e);this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(n);var a=this.conversionApi.mapper,i=a.toViewElement(e);t.remove(i),this._convertInsertWithAttributes({item:e,range:n});var o,r=a.toViewElement(e),l=d(tr._createIn(e));try{for(l.s();!(o=l.n()).done;){var s=o.value,c=s.item,u=sr(c,a);u?u.root!==r.root&&t.move(t.createRangeOn(u),a.toViewPosition(Qo._createBefore(c))):this._convertInsertWithAttributes(lr(s))}}catch(m){l.e(m)}finally{l.f()}a.unbindViewElement(i),this._clearConversionApi()}},{key:"convertSelection",value:function(e,t,n){var a=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(e,a),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){var i,o=d(a);try{for(o.s();!(i=o.n()).done;){var r=i.value,l=r.getRange();if(rr(e.getFirstPosition(),r,this.conversionApi.mapper)){var s={item:e,markerName:r.name,markerRange:l};this.conversionApi.consumable.test(e,"addMarker:"+r.name)&&this.fire("addMarker:"+r.name,s,this.conversionApi)}}}catch(f){o.e(f)}finally{o.f()}var c,u=d(e.getAttributeKeys());try{for(u.s();!(c=u.n()).done;){var m=c.value,h={item:e,range:e.getFirstRange(),attributeKey:m,attributeOldValue:null,attributeNewValue:e.getAttribute(m)};this.conversionApi.consumable.test(e,"attribute:"+h.attributeKey)&&this.fire("attribute:"+h.attributeKey+":$text",h,this.conversionApi)}}catch(f){u.e(f)}finally{u.f()}this._clearConversionApi()}}},{key:"convertMarkerAdd",value:function(e,t,n){if(t.root.document&&"$graveyard"!=t.root.rootName){this.conversionApi.writer=n;var a="addMarker:"+e,i=new ar;if(i.add(t,a),this.conversionApi.consumable=i,this.fire(a,{markerName:e,markerRange:t},this.conversionApi),i.test(t,a)){this.conversionApi.consumable=this._createConsumableForRange(t,a);var o,r=d(t.getItems());try{for(r.s();!(o=r.n()).done;){var l=o.value;if(this.conversionApi.consumable.test(l,a)){var s={item:l,range:tr._createOn(l),markerName:e,markerRange:t};this.fire(a,s,this.conversionApi)}}}catch(c){r.e(c)}finally{r.f()}this._clearConversionApi()}}}},{key:"convertMarkerRemove",value:function(e,t,n){t.root.document&&"$graveyard"!=t.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}},{key:"_mapReconversionTriggerEvent",value:function(e,t){this._reconversionEventsMapping.set(t,e)}},{key:"_createInsertConsumable",value:function(e){var t,n=new ar,a=d(e);try{for(a.s();!(t=a.n()).done;){var i=t.value.item;n.add(i,"insert");var o,r=d(i.getAttributeKeys());try{for(r.s();!(o=r.n()).done;){var l=o.value;n.add(i,"attribute:"+l)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){a.e(s)}finally{a.f()}return n}},{key:"_createConsumableForRange",value:function(e,t){var n,a=new ar,i=d(e.getItems());try{for(i.s();!(n=i.n()).done;){var o=n.value;a.add(o,t)}}catch(r){i.e(r)}finally{i.f()}return a}},{key:"_createSelectionConsumable",value:function(e,t){var n=new ar;n.add(e,"selection");var a,i=d(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;n.add(e,"addMarker:"+o.name)}}catch(c){i.e(c)}finally{i.f()}var r,l=d(e.getAttributeKeys());try{for(l.s();!(r=l.n()).done;){var s=r.value;n.add(e,"attribute:"+s)}}catch(c){l.e(c)}finally{l.f()}return n}},{key:"_testAndFire",value:function(e,t){this.conversionApi.consumable.test(t.item,e)&&this.fire(function(e,t){var n=t.item.name||"$text";return"".concat(e,":").concat(n)}(e,t),t,this.conversionApi)}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}},{key:"_convertInsertWithAttributes",value:function(e){this._testAndFire("insert",e);var t,n=d(e.item.getAttributeKeys());try{for(n.s();!(t=n.n()).done;){var a=t.value;e.attributeKey=a,e.attributeOldValue=null,e.attributeNewValue=e.item.getAttribute(a),this._testAndFire("attribute:".concat(a),e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_mapChangesWithAutomaticReconversion",value:function(e){var t,n=new Set,a=[],i=d(e.getChanges());try{for(i.s();!(t=i.n()).done;){var o=t.value,r=o.position||o.range.start,l=r.parent;if(Zo(r,l))a.push(o);else{var s,c="attribute"===o.type?Xo(r,l,null):l;if(c.is("$text"))a.push(o);else if(s="attribute"===o.type?"attribute:".concat(o.attributeKey,":").concat(c.name):"".concat(o.type,":").concat(o.name),this._isReconvertTriggerEvent(s,c.name)){if(n.has(c))continue;n.add(c),a.push({type:"reconvert",element:c})}else a.push(o)}}}catch(u){i.e(u)}finally{i.f()}return a}},{key:"_isReconvertTriggerEvent",value:function(e,t){return this._reconversionEventsMapping.get(e)===t}}]),e}();function rr(e,t,n){var a=t.getRange(),i=Array.from(e.getAncestors());return i.shift(),i.reverse(),!i.some((function(e){if(a.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")}))}function lr(e){return{item:e.item,range:tr._createFromPositionAndShift(e.previousPosition,e.length)}}function sr(e,t){if(e.is("textProxy")){var n=t.toViewPosition(Qo._createBefore(e)).parent;return n.is("$text")?n:null}return t.toViewElement(e)}rn(or,$t);var cr=function(){function e(t,n,a){h(this,e),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,n,a)}return f(e,[{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=d(this._ranges);try{for(n.s();!(t=n.n()).done;){var a,i=t.value,o=!1,r=d(e._ranges);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(i.isEqual(l)){o=!0;break}}}catch(s){r.e(s)}finally{r.f()}if(!o)return!1}}catch(s){n.e(s)}finally{n.f()}return!0}},{key:"getRanges",value:u.mark((function e(){var t,n,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return a=n.value,e.next=7,new tr(a.start,a.end);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var a=e.value;t&&!a.start.isBefore(t.start)||(t=a)}}catch(i){n.e(i)}finally{n.f()}return t?new tr(t.start,t.end):null}},{key:"getLastRange",value:function(){var e,t=null,n=d(this._ranges);try{for(n.s();!(e=n.n()).done;){var a=e.value;t&&!a.end.isAfter(t.end)||(t=a)}}catch(i){n.e(i)}finally{n.f()}return t?new tr(t.start,t.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(t,n,a){if(null===t)this._setRanges([]);else if(t instanceof e)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof tr)this._setRanges([t],!!n&&!!n.backward);else if(t instanceof Qo)this._setRanges([new tr(t)]);else if(t instanceof Ho){var i,o=!!a&&!!a.backward;if("in"==n)i=tr._createIn(t);else if("on"==n)i=tr._createOn(t);else{if(void 0===n)throw new Kt.a("model-selection-setto-required-second-parameter",[this,t]);i=new tr(Qo._createAt(t,n))}this._setRanges([i],o)}else{if(!on(t))throw new Kt.a("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,n&&!!n.backward)}}},{key:"_setRanges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=(e=Array.from(e)).some((function(n){if(!(n instanceof tr))throw new Kt.a("model-selection-set-ranges-not-range",[t,e]);return t._ranges.every((function(e){return!e.isEqual(n)}))}));if(e.length!==this._ranges.length||a){this._removeAllRanges();var i,o=d(e);try{for(o.s();!(i=o.n()).done;){var r=i.value;this._pushRange(r)}}catch(l){o.e(l)}finally{o.f()}this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new Kt.a("model-selection-setfocus-no-ranges",[this,e]);var n=Qo._createAt(e,t);if("same"!=n.compareWith(this.focus)){var a=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(a)?(this._pushRange(new tr(n,a)),this._lastRangeBackward=!0):(this._pushRange(new tr(a,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(e){return"selection"===e||"model:selection"===e}},{key:"getSelectedBlocks",value:u.mark((function e(){var t,n,a,i,o,r,l,s,c,m;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new WeakSet,n=d(this.getRanges()),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=38;break}if(i=a.value,o=mr(i.start,t),e.t0=o&&hr(o,i),!e.t0){e.next=11;break}return e.next=11,o;case 11:r=d(i.getWalker()),e.prev=12,r.s();case 14:if((l=r.n()).done){e.next=23;break}if(s=l.value,c=s.item,e.t1="elementEnd"==s.type&&ur(c,t,i),!e.t1){e.next=21;break}return e.next=21,c;case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t2=e.catch(12),r.e(e.t2);case 28:return e.prev=28,r.f(),e.finish(28);case 31:if(m=mr(i.end,t),e.t3=m&&!i.end.isTouching(Qo._createAt(m,0))&&hr(m,i),!e.t3){e.next=36;break}return e.next=36,m;case 36:e.next=4;break;case 38:e.next=43;break;case 40:e.prev=40,e.t4=e.catch(2),n.e(e.t4);case 43:return e.prev=43,n.f(),e.finish(43);case 46:case"end":return e.stop()}}),e,this,[[2,40,43,46],[12,25,28,31]])}))},{key:"containsEntireContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root,t=Qo._createAt(e,0),n=Qo._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new tr(e.start,e.end))}},{key:"_checkRange",value:function(e){for(var t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new Kt.a("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}},{key:"anchor",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}}]),e}();function dr(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&e.parent)}function ur(e,t,n){return dr(e,t)&&hr(e,n)}function mr(e,t){var n=e.parent.root.document.model.schema,a=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),i=!1,o=a.find((function(e){return!i&&!(i=n.isLimit(e))&&dr(e,t)}));return a.forEach((function(e){return t.add(e)})),o}function hr(e,t){var n=function(e){for(var t=e.root.document.model.schema,n=e.parent;n;){if(t.isBlock(n))return n;n=n.parent}}(e);return!n||!t.containsRange(tr._createOn(n),!0)}rn(cr,$t);var fr=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),i=t.call(this,e,a),gr.call(r(i)),i}return f(n,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e}},{key:"toRange",value:function(){return new tr(this.start,this.end)}}],[{key:"fromRange",value:function(e){return new n(e.start,e.end)}}]),n}(tr);function gr(){var e=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,n){var a=n[0];a.isDocumentOperation&&pr.call(e,a)}),{priority:"low"})}function pr(e){var t=this.getTransformedByOperation(e),n=tr._createFromRanges(t),a=!n.isEqual(this),i=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e),o=null;if(a){"$graveyard"==n.root.rootName&&(o="remove"==e.type?e.sourcePosition:e.deletionPosition);var r=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",r,{deletionPosition:o})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:o})}rn(fr,$t);var vr="selection:",br=function(){function e(t){h(this,e),this._selection=new kr(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}return f(e,[{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(e){return this._selection.containsEntireContent(e)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(e){return this._selection.getAttribute(e)}},{key:"hasAttribute",value:function(e){return this._selection.hasAttribute(e)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"is",value:function(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setAttribute",value:function(e,t){this._selection.setAttribute(e,t)}},{key:"_removeAttribute",value:function(e){this._selection.removeAttribute(e)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(e){this._selection.restoreGravity(e)}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}}],[{key:"_getStoreAttributeKey",value:function(e){return vr+e}},{key:"_isStoreAttributeKey",value:function(e){return e.startsWith(vr)}}]),e}();rn(br,$t);var kr=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this)).markers=new ln({idProperty:"name"}),a._model=e.model,a._document=e,a._attributePriority=new Map,a._selectionRestorePosition=null,a._hasChangedRange=!1,a._overriddenGravityRegister=new Set,a.listenTo(a._model,"applyOperation",(function(e,t){var n=t[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==a._ranges.length&&a._selectionRestorePosition&&a._fixGraveyardSelection(a._selectionRestorePosition),a._selectionRestorePosition=null,a._hasChangedRange&&(a._hasChangedRange=!1,a.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),a.on("change:range",(function(){var e,t=d(a.getRanges());try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!a._document._validateSelectionRange(n))throw new Kt.a("document-selection-wrong-position",r(a),{range:n})}}catch(i){t.e(i)}finally{t.f()}})),a.listenTo(a._model.markers,"update",(function(){return a._updateMarkers()})),a.listenTo(a._document,"change",(function(e,t){!function(e,t){var n,a=e.document.differ,i=d(a.getChanges());try{var o=function(){var a=n.value;if("insert"!=a.type)return"continue";var i=a.position.parent;a.length===i.maxOffset&&e.enqueueChange(t,(function(e){var t,n=Array.from(i.getAttributeKeys()).filter((function(e){return e.startsWith(vr)})),a=d(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;e.removeAttribute(o,i)}}catch(r){a.e(r)}finally{a.f()}}))};for(i.s();!(n=i.n()).done;)o()}catch(r){i.e(r)}finally{i.f()}}(a._model,t)})),a}return f(n,[{key:"destroy",value:function(){for(var e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}},{key:"getRanges",value:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ranges.length){e.next=4;break}return e.delegateYield(i(o(n.prototype),"getRanges",this).call(this),"t0",2);case 2:e.next=6;break;case 4:return e.next=6,this._document._getDefaultRange();case 6:case"end":return e.stop()}}),e,this)}))},{key:"getFirstRange",value:function(){return i(o(n.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return i(o(n.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(e,t,a){i(o(n.prototype),"setTo",this).call(this,e,t,a),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(e,t){i(o(n.prototype),"setFocus",this).call(this,e,t),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(e,t){if(this._setAttribute(e,t)){var n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}},{key:"removeAttribute",value:function(e){if(this._removeAttribute(e)){var t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}},{key:"overrideGravity",value:function(){var e=qt();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}},{key:"restoreGravity",value:function(e){if(!this._overriddenGravityRegister.has(e))throw new Kt.a("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(e){var t=this._prepareRange(e);t&&this._ranges.push(t)}},{key:"_prepareRange",value:function(e){var t=this;if(this._checkRange(e),e.root!=this._document.graveyard){var n=fr.fromRange(e);return n.on("change:range",(function(e,a,i){if(t._hasChangedRange=!0,n.root==t._document.graveyard){t._selectionRestorePosition=i.deletionPosition;var o=t._ranges.indexOf(n);t._ranges.splice(o,1),n.detach()}})),n}}},{key:"_updateMarkers",value:function(){var e,t=[],n=!1,a=d(this._model.markers);try{for(a.s();!(e=a.n()).done;){var i,o=e.value,r=o.getRange(),l=d(this.getRanges());try{for(l.s();!(i=l.n()).done;){var s=i.value;r.containsRange(s,!s.isCollapsed)&&t.push(o)}}catch(v){l.e(v)}finally{l.f()}}}catch(v){a.e(v)}finally{a.f()}for(var c=Array.from(this.markers),u=0,m=t;u<m.length;u++){var h=m[u];this.markers.has(h)||(this.markers.add(h),n=!0)}for(var f=0,g=Array.from(this.markers);f<g.length;f++){var p=g[f];t.includes(p)||(this.markers.remove(p),n=!0)}n&&this.fire("change:marker",{oldMarkers:c,directChange:!1})}},{key:"_updateAttributes",value:function(e){var t=kn(this._getSurroundingAttributes()),n=kn(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else{var a,i=d(this._attributePriority);try{for(i.s();!(a=i.n()).done;){var o=c(a.value,2),r=o[0];"low"==o[1]&&(this._attrs.delete(r),this._attributePriority.delete(r))}}catch(b){i.e(b)}finally{i.f()}}this._setAttributesTo(t);var l,s=[],u=d(this.getAttributes());try{for(u.s();!(l=u.n()).done;){var m=c(l.value,2),h=m[0],f=m[1];n.has(h)&&n.get(h)===f||s.push(h)}}catch(b){u.e(b)}finally{u.f()}var g,p=d(n);try{for(p.s();!(g=p.n()).done;){var v=c(g.value,1)[0];this.hasAttribute(v)||s.push(v)}}catch(b){p.e(b)}finally{p.f()}s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}},{key:"_setAttribute",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=a?"normal":"low";return("low"!=r||"normal"!=this._attributePriority.get(e))&&i(o(n.prototype),"getAttribute",this).call(this,e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,r),!0)}},{key:"_removeAttribute",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=t?"normal":"low";return("low"!=a||"normal"!=this._attributePriority.get(e))&&(this._attributePriority.set(e,a),!!i(o(n.prototype),"hasAttribute",this).call(this,e)&&(this._attrs.delete(e),!0))}},{key:"_setAttributesTo",value:function(e){var t,n=new Set,a=d(this.getAttributes());try{for(a.s();!(t=a.n()).done;){var i=c(t.value,2),o=i[0],r=i[1];e.get(o)!==r&&this._removeAttribute(o,!1)}}catch(f){a.e(f)}finally{a.f()}var l,s=d(e);try{for(s.s();!(l=s.n()).done;){var u=c(l.value,2),m=u[0],h=u[1];this._setAttribute(m,h,!1)&&n.add(m)}}catch(f){s.e(f)}finally{s.f()}return n}},{key:"_getStoredAttributes",value:u.mark((function e(){var t,n,a,i,o;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getFirstPosition().parent,!this.isCollapsed||!t.isEmpty){e.next=21;break}n=d(t.getAttributeKeys()),e.prev=3,n.s();case 5:if((a=n.n()).done){e.next=13;break}if(!(i=a.value).startsWith(vr)){e.next=11;break}return o=i.substr(vr.length),e.next=11,[o,t.getAttribute(i)];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,15,18,21]])}))},{key:"_getSurroundingAttributes",value:function(){var e=this.getFirstPosition(),t=this._model.schema,n=null;if(this.isCollapsed){var a=e.textNode?e.textNode:e.nodeBefore,i=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=Cr(a)),n||(n=Cr(i)),!this.isGravityOverridden&&!n)for(var o=a;o&&!t.isInline(o)&&!n;)n=Cr(o=o.previousSibling);if(!n)for(var r=i;r&&!t.isInline(r)&&!n;)n=Cr(r=r.nextSibling);n||(n=this._getStoredAttributes())}else{var l,s=this.getFirstRange(),c=d(s);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u.item.is("element")&&t.isObject(u.item))break;if("text"==u.type){n=u.item.getAttributes();break}}}catch(m){c.e(m)}finally{c.f()}}return n}},{key:"_fixGraveyardSelection",value:function(e){var t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}},{key:"isCollapsed",get:function(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:i(o(n.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return i(o(n.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return i(o(n.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}}]),n}(cr);function Cr(e){return e instanceof Wo||e instanceof qo?e.getAttributes():null}var yr=function(){function e(t){h(this,e),this._dispatchers=t}return f(e,[{key:"add",value:function(e){var t,n=d(this._dispatchers);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(a){n.e(a)}finally{n.f()}return this}}]),e}(),wr=function(e){return zt(e,5)},Ar=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"elementToElement",value:function(e){return this.add(function(e){return(e=wr(e)).view=Er(e.view,"container"),function(t){var n;if(t.on("insert:"+e.model,(n=e.view,function(e,t,a){var i=n(t.item,a);if(i&&a.consumable.consume(t.item,"insert")){var o=a.mapper.toViewPosition(t.range.start);a.mapper.bindElements(t.item,i),a.writer.insert(o,i)}}),{priority:e.converterPriority||"normal"}),e.triggerBy){if(e.triggerBy.attributes){var a,i=d(e.triggerBy.attributes);try{for(i.s();!(a=i.n()).done;){var o=a.value;t._mapReconversionTriggerEvent(e.model,"attribute:".concat(o,":").concat(e.model))}}catch(c){i.e(c)}finally{i.f()}}if(e.triggerBy.children){var r,l=d(e.triggerBy.children);try{for(l.s();!(r=l.n()).done;){var s=r.value;t._mapReconversionTriggerEvent(e.model,"insert:".concat(s)),t._mapReconversionTriggerEvent(e.model,"remove:".concat(s))}}catch(c){l.e(c)}finally{l.f()}}}}}(e))}},{key:"attributeToElement",value:function(e){return this.add(function(e){var t="attribute:"+((e=wr(e)).model.key?e.model.key:e.model);if(e.model.name&&(t+=":"+e.model.name),e.model.values){var n,a=d(e.model.values);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.view[i]=Er(e.view[i],"attribute")}}catch(r){a.e(r)}finally{a.f()}}else e.view=Er(e.view,"attribute");var o=Or(e);return function(n){n.on(t,function(e){return function(t,n,a){var i=e(n.attributeOldValue,a),o=e(n.attributeNewValue,a);if((i||o)&&a.consumable.consume(n.item,t.name)){var r=a.writer,l=r.document.selection;if(n.item instanceof cr||n.item instanceof br)r.wrap(l.getFirstRange(),o);else{var s=a.mapper.toViewRange(n.range);null!==n.attributeOldValue&&i&&(s=r.unwrap(s,i)),null!==n.attributeNewValue&&o&&r.wrap(s,o)}}}}(o),{priority:e.converterPriority||"normal"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(e){var t="attribute:"+((e=wr(e)).model.key?e.model.key:e.model);if(e.model.name&&(t+=":"+e.model.name),e.model.values){var n,a=d(e.model.values);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.view[i]=Tr(e.view[i])}}catch(r){a.e(r)}finally{a.f()}}else e.view=Tr(e.view);var o=Or(e);return function(n){var a;n.on(t,(a=o,function(e,t,n){var i=a(t.attributeOldValue,n),o=a(t.attributeNewValue,n);if((i||o)&&n.consumable.consume(t.item,e.name)){var l=n.mapper.toViewElement(t.item),s=n.writer;if(!l)throw new Kt.a("conversion-attribute-to-attribute-on-text",[t,n]);if(null!==t.attributeOldValue&&i)if("class"==i.key){var c,u=Array.isArray(i.value)?i.value:[i.value],m=d(u);try{for(m.s();!(c=m.n()).done;){var h=c.value;s.removeClass(h,l)}}catch(r){m.e(r)}finally{m.f()}}else if("style"==i.key)for(var f=0,g=Object.keys(i.value);f<g.length;f++){var p=g[f];s.removeStyle(p,l)}else s.removeAttribute(i.key,l);if(null!==t.attributeNewValue&&o)if("class"==o.key){var v,b=Array.isArray(o.value)?o.value:[o.value],k=d(b);try{for(k.s();!(v=k.n()).done;){var C=v.value;s.addClass(C,l)}}catch(r){k.e(r)}finally{k.f()}}else if("style"==o.key)for(var y=0,w=Object.keys(o.value);y<w.length;y++){var A=w[y];s.setStyle(A,o.value[A],l)}else s.setAttribute(o.key,o.value,l)}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToElement",value:function(e){return this.add(function(e){return(e=wr(e)).view=Er(e.view,"ui"),function(t){var n;t.on("addMarker:"+e.model,(n=e.view,function(e,t,a){t.isOpening=!0;var i=n(t,a);t.isOpening=!1;var o=n(t,a);if(i&&o){var r=t.markerRange;if(!r.isCollapsed||a.consumable.consume(r,e.name)){var l,s=d(r);try{for(s.s();!(l=s.n()).done;){var c=l.value;if(!a.consumable.consume(c.item,e.name))return}}catch(h){s.e(h)}finally{s.f()}var u=a.mapper,m=a.writer;m.insert(u.toViewPosition(r.start),i),a.mapper.bindElementToMarker(i,t.markerName),r.isCollapsed||(m.insert(u.toViewPosition(r.end),o),a.mapper.bindElementToMarker(o,t.markerName)),e.stop()}}}),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,(e.view,function(e,t,n){var a=n.mapper.markerNameToElements(t.markerName);if(a){var i,o=d(a);try{for(o.s();!(i=o.n()).done;){var r=i.value;n.mapper.unbindElementFromMarkerName(r,t.markerName),n.writer.clear(n.writer.createRangeOn(r),r)}}catch(l){o.e(l)}finally{o.f()}n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToHighlight",value:function(e){return this.add(function(e){return function(t){var n;t.on("addMarker:"+e.model,(n=e.view,function(e,t,a){if(t.item&&(t.item instanceof cr||t.item instanceof br||t.item.is("$textProxy"))){var i=xr(n,t,a);if(i&&a.consumable.consume(t.item,e.name)){var o=a.writer,r=_r(o,i),l=o.document.selection;if(t.item instanceof cr||t.item instanceof br)o.wrap(l.getFirstRange(),r,l);else{var s,c=a.mapper.toViewRange(t.range),u=o.wrap(c,r),m=d(u.getItems());try{for(m.s();!(s=m.n()).done;){var h=s.value;if(h.is("attributeElement")&&h.isSimilar(r)){a.mapper.bindElementToMarker(h,t.markerName);break}}}catch(f){m.e(f)}finally{m.f()}}}}}),{priority:e.converterPriority||"normal"}),t.on("addMarker:"+e.model,function(e){return function(t,n,a){if(n.item&&n.item instanceof Yo){var i=xr(e,n,a);if(i&&a.consumable.test(n.item,t.name)){var o=a.mapper.toViewElement(n.item);if(o&&o.getCustomProperty("addHighlight")){a.consumable.consume(n.item,t.name);var r,l=d(tr._createIn(n.item));try{for(l.s();!(r=l.n()).done;){var s=r.value;a.consumable.consume(s.item,t.name)}}catch(c){l.e(c)}finally{l.f()}o.getCustomProperty("addHighlight")(o,i,a.writer),a.mapper.bindElementToMarker(o,n.markerName)}}}}}(e.view),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,function(e){return function(t,n,a){if(!n.markerRange.isCollapsed){var i=xr(e,n,a);if(i){var o=_r(a.writer,i),r=a.mapper.markerNameToElements(n.markerName);if(r){var l,s=d(r);try{for(s.s();!(l=s.n()).done;){var c=l.value;a.mapper.unbindElementFromMarkerName(c,n.markerName),c.is("attributeElement")?a.writer.unwrap(a.writer.createRangeOn(c),o):c.getCustomProperty("removeHighlight")(c,i.id,a.writer)}}catch(u){s.e(u)}finally{s.f()}a.writer.clearClonedElementsGroup(n.markerName),t.stop()}}}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToData",value:function(e){return this.add(function(e){var t=(e=wr(e)).model;return e.view||(e.view=function(n){return{group:t,name:n.substr(e.model.length+1)}}),function(n){var a;n.on("addMarker:"+t,(a=e.view,function(e,t,n){var i=a(t.markerName,n);if(i){var o=t.markerRange;n.consumable.consume(o,e.name)&&(Sr(o,!1,n,t,i),Sr(o,!0,n,t,i),e.stop())}}),{priority:e.converterPriority||"normal"}),n.on("removeMarker:"+t,function(e){return function(t,n,a){var i=e(n.markerName,a);if(i){var o=a.mapper.markerNameToElements(n.markerName);if(o){var r,l=d(o);try{for(l.s();!(r=l.n()).done;){var s=r.value;a.mapper.unbindElementFromMarkerName(s,n.markerName),s.is("containerElement")?(c("data-".concat(i.group,"-start-before"),s),c("data-".concat(i.group,"-start-after"),s),c("data-".concat(i.group,"-end-before"),s),c("data-".concat(i.group,"-end-after"),s)):a.writer.clear(a.writer.createRangeOn(s),s)}}catch(u){l.e(u)}finally{l.f()}a.writer.clearClonedElementsGroup(n.markerName),t.stop()}}function c(e,t){if(t.hasAttribute(e)){var n=new Set(t.getAttribute(e).split(","));n.delete(i.name),0==n.size?a.writer.removeAttribute(e,t):a.writer.setAttribute(e,Array.from(n).join(","),t)}}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}}]),n}(yr);function _r(e,t){var n=e.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),t.priority&&(n._priority=t.priority),n._id=t.id,n}function Sr(e,t,n,a,i){var o,r,l=t?e.start:e.end;n.schema.checkChild(l,"$text")?function(e,t,n,a,i){var o="".concat(i.group,"-").concat(t?"start":"end"),r=i.name?{name:i.name}:null,l=n.writer.createUIElement(o,r);n.writer.insert(e,l),n.mapper.bindElementToMarker(l,a.markerName)}(n.mapper.toViewPosition(l),t,n,a,i):(t&&l.nodeAfter||!t&&!l.nodeBefore?(o=l.nodeAfter,r=!0):(o=l.nodeBefore,r=!1),function(e,t,n,a,i,o){var r="data-".concat(o.group,"-").concat(t?"start":"end","-").concat(n?"before":"after"),l=e.hasAttribute(r)?e.getAttribute(r).split(","):[];l.unshift(o.name),a.writer.setAttribute(r,l.join(","),e),a.mapper.bindElementToMarker(e,i.markerName)}(n.mapper.toViewElement(o),t,r,n,a,i))}function Er(e,t){return"function"==typeof e?e:function(n,a){return function(e,t,n){var a;"string"==typeof e&&(e={name:e});var i=t.writer,o=Object.assign({},e.attributes);if("container"==n)a=i.createContainerElement(e.name,o);else if("attribute"==n){var r={priority:e.priority||Da.DEFAULT_PRIORITY};a=i.createAttributeElement(e.name,o,r)}else a=i.createUIElement(e.name,o);if(e.styles)for(var l=0,s=Object.keys(e.styles);l<s.length;l++){var c=s[l];i.setStyle(c,e.styles[c],a)}if(e.classes){var u=e.classes;if("string"==typeof u)i.addClass(u,a);else{var m,h=d(u);try{for(h.s();!(m=h.n()).done;){var f=m.value;i.addClass(f,a)}}catch(g){h.e(g)}finally{h.f()}}}return a}(e,a,t)}}function Or(e){return e.model.values?function(t,n){var a=e.view[t];return a?a(t,n):null}:e.view}function Tr(e){return"string"==typeof e?function(t){return{key:e,value:t}}:"object"==typeof e?e.value?function(){return e}:function(t){return{key:e.key,value:t}}:e}function xr(e,t,n){var a="function"==typeof e?e(t,n):e;return a?(a.priority||(a.priority=10),a.id||(a.id=t.markerName),a):null}function Pr(e){var t,n=e.model,a=n.schema,i=n.document,o=d(i.getRootNames());try{for(o.s();!(t=o.n()).done;){var r=t.value,l=i.getRoot(r);if(l.isEmpty&&!a.checkChild(l,"$text")&&a.checkChild(l,"paragraph"))return e.insertElement("paragraph",l),!0}}catch(s){o.e(s)}finally{o.f()}return!1}function Dr(e,t,n){var a=n.createContext(e);return!!n.checkChild(a,"paragraph")&&!!n.checkChild(a.push("paragraph"),t)}function Mr(e,t){var n=t.createElement("paragraph");return t.insert(n,e),t.createPositionAt(n,0)}var Rr=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"elementToElement",value:function(e){return this.add(Ir(e))}},{key:"elementToAttribute",value:function(e){return this.add(function(e){zr(e=wr(e));var t=Vr(e,!1),n=Br(e.view),a=n?"element:"+n:"element";return function(n){n.on(a,t,{priority:e.converterPriority||"low"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(e){var t=null;("string"==typeof(e=wr(e)).view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});var t,n=e.view.key;return t="class"==n||"style"==n?a({},"class"==n?"classes":"styles",e.view.value):{attributes:a({},n,void 0===e.view.value?/[\s\S]*/:e.view.value)},e.view.name&&(t.name=e.view.name),e.view=t,n}(e)),zr(e,t);var n=Vr(e,!0);return function(t){t.on("element",n,{priority:e.converterPriority||"low"})}}(e))}},{key:"elementToMarker",value:function(e){return Object(Kt.c)("upcast-helpers-element-to-marker-deprecated"),this.add(function(e){return function(e){var t=e.model;e.model=function(e,n){var a="string"==typeof t?t:t(e,n);return n.writer.createElement("$marker",{"data-name":a})}}(e=wr(e)),Ir(e)}(e))}},{key:"dataToMarker",value:function(e){return this.add(function(e){(e=wr(e)).model||(e.model=function(t){return t?e.view+":"+t:e.view});var t=Lr(jr(e,"start")),n=Lr(jr(e,"end"));return function(a){a.on("element:"+e.view+"-start",t,{priority:e.converterPriority||"normal"}),a.on("element:"+e.view+"-end",n,{priority:e.converterPriority||"normal"});var i=Wt.get("low"),o=Wt.get("highest"),r=Wt.get(e.converterPriority)/o;a.on("element",function(e){return function(t,n,a){var i="data-".concat(e.view);function o(t,i){var o,r=d(i);try{for(r.s();!(o=r.n()).done;){var l=o.value,s=e.model(l,a),c=a.writer.createElement("$marker",{"data-name":s});a.writer.insert(c,t),n.modelCursor.isEqual(t)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(t,1),n.modelRange=n.modelRange._getTransformedByInsertion(t,1)[0]}}catch(u){r.e(u)}finally{r.f()}}n.modelRange||(n=Object.assign(n,a.convertChildren(n.viewItem,n.modelCursor))),a.consumable.consume(n.viewItem,{attributes:i+"-end-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-end-after").split(",")),a.consumable.consume(n.viewItem,{attributes:i+"-start-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-start-after").split(",")),a.consumable.consume(n.viewItem,{attributes:i+"-end-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-end-before").split(",")),a.consumable.consume(n.viewItem,{attributes:i+"-start-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-start-before").split(","))}}(e),{priority:i+r})}}(e))}}]),n}(yr);function Ir(e){var t=Lr(e=wr(e)),n=Br(e.view),a=n?"element:"+n:"element";return function(n){n.on(a,t,{priority:e.converterPriority||"normal"})}}function Br(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function Lr(e){var t=new Cn(e.view);return function(n,a,i){var o=t.match(a.viewItem);if(o){var r=o.match;if(r.name=!0,i.consumable.test(a.viewItem,r)){var l=function(e,t,n){return e instanceof Function?e(t,n):n.writer.createElement(e)}(e.model,a.viewItem,i);l&&i.safeInsert(l,a.modelCursor)&&(i.consumable.consume(a.viewItem,r),i.convertChildren(a.viewItem,l),i.updateConversionResult(l,a))}}}}function zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===t||function(e){return e.getAttribute(t)},a="object"!=typeof e.model?e.model:e.model.key,i="object"!=typeof e.model||void 0===e.model.value?n:e.model.value;e.model={key:a,value:i}}function Vr(e,t){var n=new Cn(e.view);return function(a,i,o){var r=n.match(i.viewItem);if(r){var l=e.model.key,s="function"==typeof e.model.value?e.model.value(i.viewItem,o):e.model.value;null!==s&&(function(e,t){var n="function"==typeof e?e(t):e;return!("object"==typeof n&&!Br(n))&&!n.classes&&!n.attributes&&!n.styles}(e.view,i.viewItem)?r.match.name=!0:delete r.match.name,o.consumable.test(i.viewItem,r.match)&&(i.modelRange||(i=Object.assign(i,o.convertChildren(i.viewItem,i.modelCursor))),function(e,t,n,a){for(var i=!1,o=0,r=Array.from(e.getItems({shallow:n}));o<r.length;o++){var l=r[o];a.schema.checkAttribute(l,t.key)&&(a.writer.setAttribute(t.key,t.value,l),i=!0)}return i}(i.modelRange,{key:l,value:s},t,o)&&o.consumable.consume(i.viewItem,r.match)))}}}function jr(e,t){var n={};return n.view=e.view+"-"+t,n.model=function(t,n){var a=t.getAttribute("name"),i=e.model(a,n);return n.writer.createElement("$marker",{"data-name":i})},n}var Fr=function(){function e(t,n){var a=this;h(this,e),this.model=t,this.view=new Uo(n),this.mapper=new nr,this.downcastDispatcher=new or({mapper:this.mapper,schema:t.schema});var i=this.model.document,o=i.selection,r=this.model.markers;this.listenTo(this.model,"_beforeChanges",(function(){a.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(function(){a.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(i,"change",(function(){a.view.change((function(e){a.downcastDispatcher.convertChanges(i.differ,r,e),a.downcastDispatcher.convertSelection(o,r,e)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(e,t){return function(n,a){var i,o=a.newSelection,r=[],l=d(o.getRanges());try{for(l.s();!(i=l.n()).done;){var s=i.value;r.push(t.toModelRange(s))}}catch(u){l.e(u)}finally{l.f()}var c=e.createSelection(r,{backward:o.isBackward});c.isEqual(e.document.selection)||e.change((function(e){e.setSelection(c)}))}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(function(e,t,n){if(n.consumable.consume(t.item,"insert")){var a=n.writer,i=n.mapper.toViewPosition(t.range.start),o=a.createText(t.item.data);a.insert(i,o)}}),{priority:"lowest"}),this.downcastDispatcher.on("remove",(function(e,t,n){var a,i=n.mapper.toViewPosition(t.position),o=t.position.getShiftedBy(t.length),r=n.mapper.toViewPosition(o,{isPhantom:!0}),l=n.writer.createRange(i,r),s=n.writer.remove(l.getTrimmed()),c=d(n.writer.createRangeIn(s).getItems());try{for(c.s();!(a=c.n()).done;){var u=a.value;n.mapper.unbindViewElement(u)}}catch(m){c.e(m)}finally{c.f()}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var a,i=n.writer,o=i.document.selection,r=d(o.getRanges());try{for(r.s();!(a=r.n()).done;){var l=a.value;l.isCollapsed&&l.end.parent.isAttached()&&n.writer.mergeAttributes(l.start)}}catch(s){r.e(s)}finally{r.f()}i.setSelection(null)}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var a=t.selection;if(!a.isCollapsed&&n.consumable.consume(a,"selection")){var i,o=[],r=d(a.getRanges());try{for(r.s();!(i=r.n()).done;){var l=i.value,s=n.mapper.toViewRange(l);o.push(s)}}catch(c){r.e(c)}finally{r.f()}n.writer.setSelection(o,{backward:a.isBackward})}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var a=t.selection;if(a.isCollapsed&&n.consumable.consume(a,"selection")){var i=n.writer,o=a.getFirstPosition(),r=n.mapper.toViewPosition(o),l=i.breakAttributes(r);i.setSelection(l)}}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((function(e){if("$graveyard"==e.rootName)return null;var t=new wa(a.view.document,e.name);return t.rootName=e.rootName,a.mapper.bindElements(e,t),t}))}return f(e,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]),e}();rn(Fr,fa);var Nr=function(){function e(){h(this,e),this._commands=new Map}return f(e,[{key:"add",value:function(e,t){this._commands.set(e,t)}},{key:"get",value:function(e){return this._commands.get(e)}},{key:"execute",value:function(e){var t=this.get(e);if(!t)throw new Kt.a("commandcollection-command-not-found",this,{commandName:e});for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.execute.apply(t,a)}},{key:"names",value:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"commands",value:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var e,t=d(this.commands());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(n){t.e(n)}finally{t.f()}}}]),e}(),Gr=function(){function e(){h(this,e),this._consumables=new Map}return f(e,[{key:"add",value:function(e,t){var n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new Ur(e),this._consumables.set(e,n)),n.add(t))}},{key:"test",value:function(e,t){var n=this._consumables.get(e);return void 0===n?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}},{key:"consume",value:function(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}},{key:"revert",value:function(e,t){var n=this._consumables.get(e);void 0!==n&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}}],[{key:"consumablesFromElement",value:function(e){var t,n={element:e,name:!0,attributes:[],classes:[],styles:[]},a=e.getAttributeKeys(),i=d(a);try{for(i.s();!(t=i.n()).done;){var o=t.value;"style"!=o&&"class"!=o&&n.attributes.push(o)}}catch(g){i.e(g)}finally{i.f()}var r,l=e.getClassNames(),s=d(l);try{for(s.s();!(r=s.n()).done;){var c=r.value;n.classes.push(c)}}catch(g){s.e(g)}finally{s.f()}var u,m=e.getStyleNames(),h=d(m);try{for(h.s();!(u=h.n()).done;){var f=u.value;n.styles.push(f)}}catch(g){h.e(g)}finally{h.f()}return n}},{key:"createFrom",value:function(t,n){if(n||(n=new e(t)),t.is("$text"))return n.add(t),n;t.is("element")&&n.add(t,e.consumablesFromElement(t)),t.is("documentFragment")&&n.add(t);var a,i=d(t.getChildren());try{for(i.s();!(a=i.n()).done;){var o=a.value;n=e.createFrom(o,n)}}catch(r){i.e(r)}finally{i.f()}return n}}]),e}(),Ur=function(){function e(t){h(this,e),this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return f(e,[{key:"add",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._add(t,e[t])}},{key:"test",value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var t in this._consumables)if(t in e){var n=this._test(t,e[t]);if(!0!==n)return n}return!0}},{key:"consume",value:function(e){for(var t in e.name&&(this._canConsumeName=!1),this._consumables)t in e&&this._consume(t,e[t])}},{key:"revert",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._revert(t,e[t])}},{key:"_add",value:function(e,t){var n,a=Se(t)?t:[t],i=this._consumables[e],o=d(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;if("attributes"===e&&("class"===r||"style"===r))throw new Kt.a("viewconsumable-invalid-attribute",this);if(i.set(r,!0),"styles"===e){var l,s=d(this.element.document.stylesProcessor.getRelatedStyles(r));try{for(s.s();!(l=s.n()).done;){var c=l.value;i.set(c,!0)}}catch(u){s.e(u)}finally{s.f()}}}}catch(u){o.e(u)}finally{o.f()}}},{key:"_test",value:function(e,t){var n,a=Se(t)?t:[t],i=this._consumables[e],o=d(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;if("attributes"!==e||"class"!==r&&"style"!==r){var l=i.get(r);if(void 0===l)return null;if(!l)return!1}else{var s="class"==r?"classes":"styles",c=this._test(s,m(this._consumables[s].keys()));if(!0!==c)return c}}}catch(u){o.e(u)}finally{o.f()}return!0}},{key:"_consume",value:function(e,t){var n,a=Se(t)?t:[t],i=this._consumables[e],o=d(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;if("attributes"!==e||"class"!==r&&"style"!==r){if(i.set(r,!1),"styles"==e){var l,s=d(this.element.document.stylesProcessor.getRelatedStyles(r));try{for(s.s();!(l=s.n()).done;){var c=l.value;i.set(c,!1)}}catch(h){s.e(h)}finally{s.f()}}}else{var u="class"==r?"classes":"styles";this._consume(u,m(this._consumables[u].keys()))}}}catch(h){o.e(h)}finally{o.f()}}},{key:"_revert",value:function(e,t){var n,a=Se(t)?t:[t],i=this._consumables[e],o=d(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;if("attributes"!==e||"class"!==r&&"style"!==r)!1===i.get(r)&&i.set(r,!0);else{var l="class"==r?"classes":"styles";this._revert(l,m(this._consumables[l].keys()))}}}catch(s){o.e(s)}finally{o.f()}}}]),e}(),Hr=function(){function e(){var t=this;h(this,e),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(function(e,t){t[0]=new qr(t[0])}),{priority:"highest"}),this.on("checkChild",(function(e,n){n[0]=new qr(n[0]),n[1]=t.getDefinition(n[1])}),{priority:"highest"})}return f(e,[{key:"register",value:function(e,t){if(this._sourceDefinitions[e])throw new Kt.a("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}},{key:"extend",value:function(e,t){if(!this._sourceDefinitions[e])throw new Kt.a("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(e){var t;return t="string"==typeof e?e:e.is&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}},{key:"isRegistered",value:function(e){return!!this.getDefinition(e)}},{key:"isBlock",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isBlock)}},{key:"isLimit",value:function(e){var t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}},{key:"isObject",value:function(e){var t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}},{key:"isInline",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isInline)}},{key:"isSelectable",value:function(e){var t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}},{key:"isContent",value:function(e){var t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}},{key:"checkChild",value:function(e,t){return!!t&&this._checkContextMatch(t,e)}},{key:"checkAttribute",value:function(e,t){var n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}},{key:"checkMerge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e instanceof Qo){var n=e.nodeBefore,a=e.nodeAfter;if(!(n instanceof Yo))throw new Kt.a("schema-check-merge-no-element-before",this);if(!(a instanceof Yo))throw new Kt.a("schema-check-merge-no-element-after",this);return this.checkMerge(n,a)}var i,o=d(t.getChildren());try{for(o.s();!(i=o.n()).done;){var r=i.value;if(!this.checkChild(e,r))return!1}}catch(l){o.e(l)}finally{o.f()}return!0}},{key:"addChildCheck",value:function(e){this.on("checkChild",(function(t,n){var a=c(n,2),i=a[0],o=a[1];if(o){var r=e(i,o);"boolean"==typeof r&&(t.stop(),t.return=r)}}),{priority:"high"})}},{key:"addAttributeCheck",value:function(e){this.on("checkAttribute",(function(t,n){var a=c(n,2),i=a[0],o=a[1],r=e(i,o);"boolean"==typeof r&&(t.stop(),t.return=r)}),{priority:"high"})}},{key:"setAttributeProperties",value:function(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}},{key:"getAttributeProperties",value:function(e){return this._attributeProperties[e]||{}}},{key:"getLimitElement",value:function(e){var t;for(t=e instanceof Qo?e.parent:(e instanceof tr?[e]:Array.from(e.getRanges())).reduce((function(e,t){var n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n}),null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}},{key:"checkAttributeInSelection",value:function(e,t){if(e.isCollapsed){var n=[].concat(m(e.getFirstPosition().getAncestors()),[new qo("",e.getAttributes())]);return this.checkAttribute(n,t)}var a,i=e.getRanges(),o=d(i);try{for(o.s();!(a=o.n()).done;){var r,l=a.value,s=d(l);try{for(s.s();!(r=s.n()).done;){var c=r.value;if(this.checkAttribute(c.item,t))return!0}}catch(u){s.e(u)}finally{s.f()}}}catch(u){o.e(u)}finally{o.f()}return!1}},{key:"getValidRanges",value:u.mark((function e(t,n){var a,i,o;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.mark((function e(t){var n,a,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(t),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=8;break}return i=a.value,e.delegateYield(i.getMinimalFlatRanges(),"t0",6);case 6:e.next=3;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])}))(t),a=d(t),e.prev=2,a.s();case 4:if((i=a.n()).done){e.next=9;break}return o=i.value,e.delegateYield(this._getValidRangesForRange(o,n),"t0",7);case 7:e.next=4;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),a.e(e.t1);case 14:return e.prev=14,a.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,11,14,17]])}))},{key:"getNearestSelectionRange",value:function(e){var t,n,a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(e,"$text"))return new tr(e);var o=e.getAncestors().reverse().find((function(e){return a.isLimit(e)}))||e.root;"both"!=i&&"backward"!=i||(t=new Jo({boundaries:tr._createIn(o),startPosition:e,direction:"backward"})),"both"!=i&&"forward"!=i||(n=new Jo({boundaries:tr._createIn(o),startPosition:e}));var r,l=d(u.mark((function e(t,n){var a,i,o;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!1;case 1:if(a){e.next=18;break}if(a=!0,!t){e.next=9;break}if(i=t.next(),e.t0=i.done,e.t0){e.next=9;break}return a=!1,e.next=9,{walker:t,value:i.value};case 9:if(!n){e.next=16;break}if(o=n.next(),e.t1=o.done,e.t1){e.next=16;break}return a=!1,e.next=16,{walker:n,value:o.value};case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e)}))(t,n));try{for(l.s();!(r=l.n()).done;){var s=r.value,c=s.walker==t?"elementEnd":"elementStart",m=s.value;if(m.type==c&&this.isObject(m.item))return tr._createOn(m.item);if(this.checkChild(m.nextPosition,"$text"))return new tr(m.nextPosition)}}catch(h){l.e(h)}finally{l.f()}return null}},{key:"findAllowedParent",value:function(e,t){for(var n=e.parent;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"removeDisallowedAttributes",value:function(e,t){var n,a=d(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.is("$text"))nl(this,i,t);else{var o,r=tr._createIn(i).getPositions(),l=d(r);try{for(l.s();!(o=l.n()).done;){var s=o.value;nl(this,s.nodeBefore||s.parent,t)}}catch(c){l.e(c)}finally{l.f()}}}}catch(c){a.e(c)}finally{a.f()}}},{key:"createContext",value:function(e){return new qr(e)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var e={},t=this._sourceDefinitions,n=Object.keys(t),a=0,i=n;a<i.length;a++){var o=i[a];e[o]=Wr(t[o],o)}for(var r=0,l=n;r<l.length;r++)Kr(e,l[r]);for(var s=0,c=n;s<c.length;s++)Yr(e,c[s]);for(var d=0,u=n;d<u.length;d++){var m=u[d];Jr(e,m),$r(e,m)}for(var h=0,f=n;h<f.length;h++){var g=f[h];Qr(e,g),Zr(e,g)}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1,a=t.getItem(n);if(e.allowIn.includes(a.name)){if(0==n)return!0;var i=this.getDefinition(a);return this._checkContextMatch(i,t,n-1)}return!1}},{key:"_getValidRangesForRange",value:u.mark((function e(t,n){var a,i,o,r,l;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.start,i=t.start,o=d(t.getItems({shallow:!0})),e.prev=2,o.s();case 4:if((r=o.n()).done){e.next=19;break}if(l=r.value,e.t0=l.is("element"),!e.t0){e.next=9;break}return e.delegateYield(this._getValidRangesForRange(tr._createIn(l),n),"t1",9);case 9:if(e.t2=this.checkAttribute(l,n),e.t2){e.next=16;break}if(e.t3=a.isEqual(i),e.t3){e.next=15;break}return e.next=15,new tr(a,i);case 15:a=Qo._createAfter(l);case 16:i=Qo._createAfter(l);case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t4=e.catch(2),o.e(e.t4);case 24:return e.prev=24,o.f(),e.finish(24);case 27:if(e.t5=a.isEqual(i),e.t5){e.next=31;break}return e.next=31,new tr(a,i);case 31:case"end":return e.stop()}}),e,this,[[2,21,24,27]])}))}]),e}();rn(Hr,fa);var qr=function(){function e(t){if(h(this,e),t instanceof e)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(tl)}return f(e,[{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(t){var n=new e([t]);return n._items=[].concat(m(this._items),m(n._items)),n}},{key:"getItem",value:function(e){return this._items[e]}},{key:"getNames",value:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._items.map((function(e){return e.name})),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"endsWith",value:function(e){return Array.from(this.getNames()).join(" ").endsWith(e)}},{key:"startsWith",value:function(e){return Array.from(this.getNames()).join(" ").startsWith(e)}},{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}}]),e}();function Wr(e,t){var n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(e,t){var n,a=d(e);try{for(a.s();!(n=a.n()).done;){var i,o=n.value,r=Object.keys(o).filter((function(e){return e.startsWith("is")})),l=d(r);try{for(l.s();!(i=l.n()).done;){var s=i.value;t[s]=o[s]}}catch(c){l.e(c)}finally{l.f()}}}catch(c){a.e(c)}finally{a.f()}}(e,n),Xr(e,n,"allowIn"),Xr(e,n,"allowContentOf"),Xr(e,n,"allowWhere"),Xr(e,n,"allowAttributes"),Xr(e,n,"allowAttributesOf"),Xr(e,n,"inheritTypesFrom"),function(e,t){var n,a=d(e);try{for(a.s();!(n=a.n()).done;){var i=n.value.inheritAllFrom;i&&(t.allowContentOf.push(i),t.allowWhere.push(i),t.allowAttributesOf.push(i),t.inheritTypesFrom.push(i))}}catch(o){a.e(o)}finally{a.f()}}(e,n),n}function Kr(e,t){var n,a=d(e[t].allowContentOf);try{for(a.s();!(n=a.n()).done;){var i=n.value;e[i]&&el(e,i).forEach((function(e){e.allowIn.push(t)}))}}catch(o){a.e(o)}finally{a.f()}delete e[t].allowContentOf}function Yr(e,t){var n,a=d(e[t].allowWhere);try{for(a.s();!(n=a.n()).done;){var i=e[n.value];if(i){var o,r=i.allowIn;(o=e[t].allowIn).push.apply(o,m(r))}}}catch(l){a.e(l)}finally{a.f()}delete e[t].allowWhere}function Jr(e,t){var n,a=d(e[t].allowAttributesOf);try{for(a.s();!(n=a.n()).done;){var i=e[n.value];if(i){var o,r=i.allowAttributes;(o=e[t].allowAttributes).push.apply(o,m(r))}}}catch(l){a.e(l)}finally{a.f()}delete e[t].allowAttributesOf}function $r(e,t){var n,a=e[t],i=d(a.inheritTypesFrom);try{for(i.s();!(n=i.n()).done;){var o=e[n.value];if(o){var r,l=Object.keys(o).filter((function(e){return e.startsWith("is")})),s=d(l);try{for(s.s();!(r=s.n()).done;){var c=r.value;c in a||(a[c]=o[c])}}catch(u){s.e(u)}finally{s.f()}}}}catch(u){i.e(u)}finally{i.f()}delete a.inheritTypesFrom}function Qr(e,t){var n=e[t],a=n.allowIn.filter((function(t){return e[t]}));n.allowIn=Array.from(new Set(a))}function Zr(e,t){var n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Xr(e,t,n){var a,i=d(e);try{for(i.s();!(a=i.n()).done;){var o,r=a.value;"string"==typeof r[n]?t[n].push(r[n]):Array.isArray(r[n])&&(o=t[n]).push.apply(o,m(r[n]))}}catch(l){i.e(l)}finally{i.f()}}function el(e,t){var n,a=e[t];return(n=e,Object.keys(n).map((function(e){return n[e]}))).filter((function(e){return e.allowIn.includes(a.name)}))}function tl(e){return"string"==typeof e?{name:e,getAttributeKeys:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})),getAttribute:function(){}}:{name:e.is("element")?e.name:"$text",getAttributeKeys:u.mark((function t(){return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e.getAttributeKeys(),"t0",1);case 1:case"end":return t.stop()}}),t)})),getAttribute:function(t){return e.getAttribute(t)}}}function nl(e,t,n){var a,i=d(t.getAttributeKeys());try{for(i.s();!(a=i.n()).done;){var o=a.value;e.checkAttribute(t,o)||n.removeAttribute(o,t)}}catch(r){i.e(r)}finally{i.f()}}var al=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}return f(e,[{key:"convert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(e,t){var n,a,i=d(new qr(e));try{for(i.s();!(a=i.n()).done;){var o,r=a.value,l={},s=d(r.getAttributeKeys());try{for(s.s();!(o=s.n()).done;){var c=o.value;l[c]=r.getAttribute(c)}}catch(m){s.e(m)}finally{s.f()}var u=t.createElement(r.name,l);n&&t.append(u,n),n=Qo._createAt(u,0)}}catch(m){i.e(m)}finally{i.f()}return n}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=Gr.createFrom(e),this.conversionApi.store={};var a=this._convertItem(e,this._modelCursor),i=a.modelRange,o=t.createDocumentFragment();if(i){this._removeEmptyElements();for(var r=0,l=Array.from(this._modelCursor.parent.getChildren());r<l.length;r++){var s=l[r];t.append(s,o)}o.markers=function(e,t){var n,a=new Set,i=new Map,o=tr._createIn(e).getItems(),r=d(o);try{for(r.s();!(n=r.n()).done;){var l=n.value;"$marker"==l.name&&a.add(l)}}catch(f){r.e(f)}finally{r.f()}var s,c=d(a);try{for(c.s();!(s=c.n()).done;){var u=s.value,m=u.getAttribute("data-name"),h=t.createPositionBefore(u);i.has(m)?i.get(m).end=h.clone():i.set(m,new tr(h.clone())),t.remove(u)}}catch(f){c.e(f)}finally{c.f()}return i}(o,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}},{key:"_convertItem",value:function(e,t){var n=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof tr))throw new Kt.a("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}},{key:"_convertChildren",value:function(e,t){for(var n=t.is("position")?t:Qo._createAt(t,0),a=new tr(n),i=0,o=Array.from(e.getChildren());i<o.length;i++){var r=o[i],l=this._convertItem(r,n);l.modelRange instanceof tr&&(a.end=l.modelRange.end,n=l.modelCursor)}return{modelRange:a,modelCursor:n}}},{key:"_safeInsert",value:function(e,t){var n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}},{key:"_updateConversionResult",value:function(e,t){var n=this._getSplitParts(e),a=this.conversionApi.writer;t.modelRange||(t.modelRange=a.createRange(a.createPositionBefore(e),a.createPositionAfter(n[n.length-1])));var i=this._cursorParents.get(e);t.modelCursor=i?a.createPositionAt(i,0):t.modelRange.end}},{key:"_splitToAllowedParent",value:function(e,t){var n=this.conversionApi,a=n.schema,i=n.writer,o=a.findAllowedParent(t,e);if(o){if(o===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(o)&&(o=null)}if(!o)return Dr(t,e,a)?{position:Mr(t,i)}:null;var r,l=this.conversionApi.writer.split(t,o),s=[],c=d(l.range.getWalker());try{for(c.s();!(r=c.n()).done;){var u=r.value;if("elementEnd"==u.type)s.push(u.item);else{var m=s.pop(),h=u.item;this._registerSplitPair(m,h)}}}catch(g){c.e(g)}finally{c.f()}var f=l.range.end.parent;return this._cursorParents.set(e,f),{position:l.position,cursorParent:f}}},{key:"_registerSplitPair",value:function(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);var n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}},{key:"_getSplitParts",value:function(e){return this._splitParts.has(e)?this._splitParts.get(e):[e]}},{key:"_removeEmptyElements",value:function(){var e,t=!1,n=d(this._splitParts.keys());try{for(n.s();!(e=n.n()).done;){var a=e.value;a.isEmpty&&(this.conversionApi.writer.remove(a),this._splitParts.delete(a),t=!0)}}catch(i){n.e(i)}finally{n.f()}t&&this._removeEmptyElements()}}]),e}();rn(al,$t);var il=function(){function e(t,n){var a=this;h(this,e),this.model=t,this.stylesProcessor=n,this.processor=void 0,this.mapper=new nr,this.downcastDispatcher=new or({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(function(e,t,n){if(n.consumable.consume(t.item,"insert")){var a=n.writer,i=n.mapper.toViewPosition(t.range.start),o=a.createText(t.item.data);a.insert(i,o)}}),{priority:"lowest"}),this.upcastDispatcher=new al({schema:t.schema}),this.viewDocument=new Pa(n),this._viewWriter=new ni(this.viewDocument),this.upcastDispatcher.on("text",(function(e,t,n){var a=n.schema,i=n.consumable,o=n.writer,r=t.modelCursor;if(i.test(t.viewItem)){if(!a.checkChild(r,"$text")){if(!Dr(r,"$text",a))return;r=Mr(r,o)}i.consume(t.viewItem);var l=o.createText(t.viewItem.data);o.insert(l,r),t.modelRange=o.createRange(r,r.getShiftedBy(l.offsetSize)),t.modelCursor=t.modelRange.end}}),{priority:"lowest"}),this.upcastDispatcher.on("element",(function(e,t,n){if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){var a=n.convertChildren(t.viewItem,t.modelCursor),i=a.modelRange,o=a.modelCursor;t.modelRange=i,t.modelCursor=o}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(function(e,t,n){if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){var a=n.convertChildren(t.viewItem,t.modelCursor),i=a.modelRange,o=a.modelCursor;t.modelRange=i,t.modelCursor=o}}),{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.on("init",(function(){a.fire("ready")}),{priority:"lowest"}),this.on("ready",(function(){a.model.enqueueChange("transparent",Pr)}),{priority:"lowest"})}return f(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.rootName,n=void 0===t?"main":t,a=e.trim,i=void 0===a?"empty":a;if(!this._checkIfRootsExists([n]))throw new Kt.a("datacontroller-get-non-existent-root",this);var o=this.model.document.getRoot(n);return"empty"!==i||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,e):""}},{key:"stringify",value:function(e,t){var n=this.toView(e,t);return this.processor.toData(n)}},{key:"toView",value:function(e,t){var n=this.viewDocument,a=this._viewWriter;this.mapper.clearBindings();var i=tr._createIn(e),o=new ti(n);if(this.mapper.bindElements(e,o),this.downcastDispatcher.conversionApi.options=t,this.downcastDispatcher.convertInsert(i,a),!e.is("documentFragment")){var r,l=function(e){var t=[],n=e.root.document;if(!n)return[];var a,i=tr._createIn(e),o=d(n.model.markers);try{for(o.s();!(a=o.n()).done;){var r=a.value,l=i.getIntersection(r.getRange());l&&t.push([r.name,l])}}catch(s){o.e(s)}finally{o.f()}return t}(e),s=d(l);try{for(s.s();!(r=s.n()).done;){var u=c(r.value,2),m=u[0],h=u[1];this.downcastDispatcher.convertMarkerAdd(m,h,a)}}catch(f){s.e(f)}finally{s.f()}}return delete this.downcastDispatcher.conversionApi.options,o}},{key:"init",value:function(e){var t=this;if(this.model.document.version)throw new Kt.a("datacontroller-init-document-not-empty",this);var n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new Kt.a("datacontroller-init-non-existent-root",this);return this.model.enqueueChange("transparent",(function(e){for(var a=0,i=Object.keys(n);a<i.length;a++){var o=i[a],r=t.model.document.getRoot(o);e.insert(t.parse(n[o],r),r,0)}})),Promise.resolve()}},{key:"set",value:function(e){var t=this,n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new Kt.a("datacontroller-set-non-existent-root",this);this.model.enqueueChange("transparent",(function(e){e.setSelection(null),e.removeSelectionAttribute(t.model.document.selection.getAttributeKeys());for(var a=0,i=Object.keys(n);a<i.length;a++){var o=i[a],r=t.model.document.getRoot(o);e.remove(e.createRangeIn(r)),e.insert(t.parse(n[o],r),r,0)}}))}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(e);return this.toModel(n,t)}},{key:"toModel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((function(a){return t.upcastDispatcher.convert(e,a,n)}))}},{key:"addStyleProcessorRules",value:function(e){e(this.stylesProcessor)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(!this.model.document.getRootNames().includes(a))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}}]),e}();rn(il,fa);var ol=function(){function e(t,n){h(this,e),this._helpers=new Map,this._downcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(n)?n:[n],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}return f(e,[{key:"addAlias",value:function(e,t){var n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new Kt.a("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}},{key:"for",value:function(e){if(!this._helpers.has(e))throw new Kt.a("conversion-for-unknown-group",this);return this._helpers.get(e)}},{key:"elementToElement",value:function(e){this.for("downcast").elementToElement(e);var t,n=d(rl(e));try{for(n.s();!(t=n.n()).done;){var a=t.value,i=a.model,o=a.view;this.for("upcast").elementToElement({model:i,view:o,converterPriority:e.converterPriority})}}catch(r){n.e(r)}finally{n.f()}}},{key:"attributeToElement",value:function(e){this.for("downcast").attributeToElement(e);var t,n=d(rl(e));try{for(n.s();!(t=n.n()).done;){var a=t.value,i=a.model,o=a.view;this.for("upcast").elementToAttribute({view:o,model:i,converterPriority:e.converterPriority})}}catch(r){n.e(r)}finally{n.f()}}},{key:"attributeToAttribute",value:function(e){this.for("downcast").attributeToAttribute(e);var t,n=d(rl(e));try{for(n.s();!(t=n.n()).done;){var a=t.value,i=a.model,o=a.view;this.for("upcast").attributeToAttribute({view:o,model:i})}}catch(r){n.e(r)}finally{n.f()}}},{key:"_createConversionHelpers",value:function(e){var t=e.name,n=e.dispatchers,a=e.isDowncast;if(this._helpers.has(t))throw new Kt.a("conversion-group-exists",this);var i=a?new Ar(n):new Rr(n);this._helpers.set(t,i)}}]),e}();function rl(e){var t,n,a,i,o,r;return u.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!e.model.values){l.next=20;break}t=d(e.model.values),l.prev=2,t.s();case 4:if((n=t.n()).done){l.next=10;break}return a=n.value,i={key:e.model.key,value:a},o=e.view[a],r=e.upcastAlso?e.upcastAlso[a]:void 0,l.delegateYield(ll(i,o,r),"t0",8);case 8:l.next=4;break;case 10:l.next=15;break;case 12:l.prev=12,l.t1=l.catch(2),t.e(l.t1);case 15:return l.prev=15,t.f(),l.finish(15);case 18:l.next=21;break;case 20:return l.delegateYield(ll(e.model,e.view,e.upcastAlso),"t2",21);case 21:case"end":return l.stop()}}),v,null,[[2,12,15,18]])}function ll(e,t,n){var a,i,o;return u.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{model:e,view:t};case 2:if(!n){r.next=21;break}n=Array.isArray(n)?n:[n],a=d(n),r.prev=5,a.s();case 7:if((i=a.n()).done){r.next=13;break}return o=i.value,r.next=11,{model:e,view:o};case 11:r.next=7;break;case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(5),a.e(r.t0);case 18:return r.prev=18,a.f(),r.finish(18);case 21:case"end":return r.stop()}}),b,null,[[5,15,18,21]])}var sl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";h(this,e),this.operations=[],this.type=t}return f(e,[{key:"addOperation",value:function(e){return e.batch=this,this.operations.push(e),e}},{key:"baseVersion",get:function(){var e,t=d(this.operations);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!==n.baseVersion)return n.baseVersion}}catch(a){t.e(a)}finally{t.f()}return null}}]),e}(),cl=function(){function e(t){h(this,e),this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}return f(e,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}}],[{key:"fromJSON",value:function(e){return new this(e.baseVersion)}},{key:"className",get:function(){return"Operation"}}]),e}(),dl=function(){function e(t){h(this,e),this.markers=new Map,this._children=new Ko,t&&this._insertChild(0,t)}return f(e,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"is",value:function(e){return"documentFragment"===e||"model:documentFragment"===e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(e){var t,n=this,a=d(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n=n.getChild(n.offsetToIndex(i))}}catch(o){a.e(o)}finally{a.f()}return n}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"toJSON",value:function(){var e,t=[],n=d(this._children);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(a.toJSON())}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n,a=function(e){return"string"==typeof e?[new qo(e)]:(on(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new qo(e):e instanceof Wo?new qo(e.data,e.getAttributes()):e})))}(t),i=d(a);try{for(i.s();!(n=i.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this}}catch(r){i.e(r)}finally{i.f()}this._children._insertNodes(e,a)}},{key:"_removeChildren",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this._children._removeNodes(e,n),i=d(a);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.parent=null}}catch(r){i.e(r)}finally{i.f()}return a}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}],[{key:"fromJSON",value:function(t){var n,a=[],i=d(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.name?a.push(Yo.fromJSON(o)):a.push(qo.fromJSON(o))}}catch(r){i.e(r)}finally{i.f()}return new e(a)}}]),e}();function ul(e,t){var n=(t=fl(t)).reduce((function(e,t){return e+t.offsetSize}),0),a=e.parent;pl(e);var i=e.index;return a._insertChild(i,t),gl(a,i+t.length),gl(a,i),new tr(e,e.getShiftedBy(n))}function ml(e){if(!e.isFlat)throw new Kt.a("operation-utils-remove-range-not-flat",this);var t=e.start.parent;pl(e.start),pl(e.end);var n=t._removeChildren(e.start.index,e.end.index-e.start.index);return gl(t,e.start.index),n}function hl(e,t){if(!e.isFlat)throw new Kt.a("operation-utils-move-range-not-flat",this);var n=ml(e);return ul(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function fl(e){var t=[];e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++)if("string"==typeof e[n])t.push(new qo(e[n]));else if(e[n]instanceof Wo)t.push(new qo(e[n].data,e[n].getAttributes()));else if(e[n]instanceof dl||e[n]instanceof Ko){var a,i=d(e[n]);try{for(i.s();!(a=i.n()).done;){var o=a.value;t.push(o)}}catch(c){i.e(c)}finally{i.f()}}else e[n]instanceof Ho&&t.push(e[n]);for(var r=1;r<t.length;r++){var l=t[r],s=t[r-1];l instanceof qo&&s instanceof qo&&vl(l,s)&&(t.splice(r-1,2,new qo(s.data+l.data,s.getAttributes())),r--)}return t}function gl(e,t){var n=e.getChild(t-1),a=e.getChild(t);if(n&&a&&n.is("$text")&&a.is("$text")&&vl(n,a)){var i=new qo(n.data+a.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,i)}}function pl(e){var t=e.textNode,n=e.parent;if(t){var a=e.offset-t.startOffset,i=t.index;n._removeChildren(i,1);var o=new qo(t.data.substr(0,a),t.getAttributes()),r=new qo(t.data.substr(a),t.getAttributes());n._insertChild(i,[o,r])}}function vl(e,t){var n,a=e.getAttributes(),i=t.getAttributes(),o=d(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(r[1]!==t.getAttribute(r[0]))return!1;i.next()}}catch(l){o.e(l)}finally{o.f()}return i.next().done}var bl=function(e,t){return oo(e,t)},kl=function(e){g(n,e);var t=p(n);function n(e,a,i,o,r){var l;return h(this,n),(l=t.call(this,r)).range=e.clone(),l.key=a,l.oldValue=void 0===i?null:i,l.newValue=void 0===o?null:o,l}return f(n,[{key:"clone",value:function(){return new n(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var e=i(o(n.prototype),"toJSON",this).call(this);return e.range=this.range.toJSON(),e}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new Kt.a("attribute-operation-range-not-flat",this);var e,t=d(this.range.getItems({shallow:!0}));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!==this.oldValue&&!bl(n.getAttribute(this.key),this.oldValue))throw new Kt.a("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&n.hasAttribute(this.key))throw new Kt.a("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}catch(a){t.e(a)}finally{t.f()}}},{key:"_execute",value:function(){bl(this.oldValue,this.newValue)||function(e,t,n){pl(e.start),pl(e.end);var a,i=d(e.getItems({shallow:!0}));try{for(i.s();!(a=i.n()).done;){var o=a.value,r=o.is("$textProxy")?o.textNode:o;null!==n?r._setAttribute(t,n):r._removeAttribute(t),gl(r.parent,r.index)}}catch(l){i.e(l)}finally{i.f()}gl(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}},{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}}],[{key:"fromJSON",value:function(e,t){return new n(tr.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"AttributeOperation"}}]),n}(cl),Cl=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,null)).sourcePosition=e.clone(),i.howMany=a,i}return f(n,[{key:"toJSON",value:function(){var e=i(o(n.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new Kt.a("detach-operation-on-document-node",this)}},{key:"_execute",value:function(){ml(tr._createFromPositionAndShift(this.sourcePosition,this.howMany))}},{key:"type",get:function(){return"detach"}}],[{key:"className",get:function(){return"DetachOperation"}}]),n}(cl),yl=function(e){g(n,e);var t=p(n);function n(e,a,i,o){var r;return h(this,n),(r=t.call(this,o)).sourcePosition=e.clone(),r.sourcePosition.stickiness="toNext",r.howMany=a,r.targetPosition=i.clone(),r.targetPosition.stickiness="toNone",r}return f(n,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,a=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new Kt.a("move-operation-nodes-do-not-exist",this);if(e===t&&n<a&&a<n+this.howMany)throw new Kt.a("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==fn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var i=this.sourcePosition.path.length-1;if(this.targetPosition.path[i]>=n&&this.targetPosition.path[i]<n+this.howMany)throw new Kt.a("move-operation-node-into-itself",this)}}},{key:"_execute",value:function(){hl(tr._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var e=i(o(n.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}},{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}}],[{key:"fromJSON",value:function(e,t){var n=Qo.fromJSON(e.sourcePosition,t),a=Qo.fromJSON(e.targetPosition,t);return new this(n,e.howMany,a,e.baseVersion)}},{key:"className",get:function(){return"MoveOperation"}}]),n}(cl),wl=function(e){g(n,e);var t=p(n);function n(e,a,i){var o;return h(this,n),(o=t.call(this,i)).position=e.clone(),o.position.stickiness="toNone",o.nodes=new Ko(fl(a)),o.shouldReceiveAttributes=!1,o}return f(n,[{key:"clone",value:function(){var e=new Ko(m(this.nodes).map((function(e){return e._clone(!0)}))),t=new n(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}},{key:"getReversed",value:function(){var e=this.position.root.document.graveyard,t=new Qo(e,[0]);return new yl(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new Kt.a("insert-operation-position-invalid",this)}},{key:"_execute",value:function(){var e=this.nodes;this.nodes=new Ko(m(e).map((function(e){return e._clone(!0)}))),ul(this.position,e)}},{key:"toJSON",value:function(){var e=i(o(n.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}},{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}}],[{key:"fromJSON",value:function(e,t){var a,i=[],o=d(e.nodes);try{for(o.s();!(a=o.n()).done;){var r=a.value;r.name?i.push(Yo.fromJSON(r)):i.push(qo.fromJSON(r))}}catch(s){o.e(s)}finally{o.f()}var l=new n(Qo.fromJSON(e.position,t),i,e.baseVersion);return l.shouldReceiveAttributes=e.shouldReceiveAttributes,l}},{key:"className",get:function(){return"InsertOperation"}}]),n}(cl),Al=function(e){g(n,e);var t=p(n);function n(e,a,i,o,r,l){var s;return h(this,n),(s=t.call(this,l)).name=e,s.oldRange=a?a.clone():null,s.newRange=i?i.clone():null,s.affectsData=r,s._markers=o,s}return f(n,[{key:"clone",value:function(){return new n(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var e=this.newRange?"_set":"_remove";this._markers[e](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var e=i(o(n.prototype),"toJSON",this).call(this);return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}},{key:"type",get:function(){return"marker"}}],[{key:"fromJSON",value:function(e,t){return new n(e.name,e.oldRange?tr.fromJSON(e.oldRange,t):null,e.newRange?tr.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}},{key:"className",get:function(){return"MarkerOperation"}}]),n}(cl),_l=function(e){g(n,e);var t=p(n);function n(e,a,i,o){var r;return h(this,n),(r=t.call(this,o)).position=e,r.position.stickiness="toNext",r.oldName=a,r.newName=i,r}return f(n,[{key:"clone",value:function(){return new n(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.nodeAfter;if(!(e instanceof Yo))throw new Kt.a("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new Kt.a("rename-operation-wrong-name",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var e=i(o(n.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e}},{key:"type",get:function(){return"rename"}}],[{key:"fromJSON",value:function(e,t){return new n(Qo.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}},{key:"className",get:function(){return"RenameOperation"}}]),n}(cl),Sl=function(e){g(n,e);var t=p(n);function n(e,a,i,o,r){var l;return h(this,n),(l=t.call(this,r)).root=e,l.key=a,l.oldValue=i,l.newValue=o,l}return f(n,[{key:"clone",value:function(){return new n(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new Kt.a("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new Kt.a("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new Kt.a("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var e=i(o(n.prototype),"toJSON",this).call(this);return e.root=this.root.toJSON(),e}},{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}}],[{key:"fromJSON",value:function(e,t){if(!t.getRoot(e.root))throw new Kt.a("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new n(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"RootAttributeOperation"}}]),n}(cl),El=function(e){g(n,e);var t=p(n);function n(e,a,i,o,r){var l;return h(this,n),(l=t.call(this,r)).sourcePosition=e.clone(),l.sourcePosition.stickiness="toPrevious",l.howMany=a,l.targetPosition=i.clone(),l.targetPosition.stickiness="toNext",l.graveyardPosition=o.clone(),l}return f(n,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new Qo(this.sourcePosition.root,t)._getTransformedByMergeOperation(this),a=new Ol(e,this.howMany,this.graveyardPosition,this.baseVersion+1);return a.insertionPosition=n,a}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new Kt.a("merge-operation-source-position-invalid",this);if(!t.parent)throw new Kt.a("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new Kt.a("merge-operation-how-many-invalid",this)}},{key:"_execute",value:function(){var e=this.sourcePosition.parent;hl(tr._createIn(e),this.targetPosition),hl(tr._createOn(e),this.graveyardPosition)}},{key:"toJSON",value:function(){var e=i(o(n.prototype),"toJSON",this).call(this);return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}},{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new Qo(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new tr(this.sourcePosition,e)}}],[{key:"fromJSON",value:function(e,t){var n=Qo.fromJSON(e.sourcePosition,t),a=Qo.fromJSON(e.targetPosition,t),i=Qo.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,a,i,e.baseVersion)}},{key:"className",get:function(){return"MergeOperation"}}]),n}(cl),Ol=function(e){g(n,e);var t=p(n);function n(e,a,i,o){var r;return h(this,n),(r=t.call(this,o)).splitPosition=e.clone(),r.splitPosition.stickiness="toNext",r.howMany=a,r.insertionPosition=n.getInsertionPosition(e),r.insertionPosition.stickiness="toNone",r.graveyardPosition=i?i.clone():null,r.graveyardPosition&&(r.graveyardPosition.stickiness="toNext"),r}return f(n,[{key:"clone",value:function(){var e=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return e.insertionPosition=this.insertionPosition,e}},{key:"getReversed",value:function(){var e=this.splitPosition.root.document.graveyard,t=new Qo(e,[0]);return new El(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new Kt.a("split-operation-position-invalid",this);if(!e.parent)throw new Kt.a("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new Kt.a("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new Kt.a("split-operation-graveyard-position-invalid",this)}},{key:"_execute",value:function(){var e=this.splitPosition.parent;if(this.graveyardPosition)hl(tr._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var t=e._clone();ul(this.insertionPosition,t)}hl(new tr(Qo._createAt(e,this.splitPosition.offset),Qo._createAt(e,e.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var e=i(o(n.prototype),"toJSON",this).call(this);return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}},{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var e=this.insertionPosition.path.slice();return e.push(0),new Qo(this.insertionPosition.root,e)}},{key:"movedRange",get:function(){var e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new tr(this.splitPosition,e)}}],[{key:"getInsertionPosition",value:function(e){var t=e.path.slice(0,-1);return t[t.length-1]++,new Qo(e.root,t)}},{key:"fromJSON",value:function(e,t){var n=Qo.fromJSON(e.splitPosition,t),a=Qo.fromJSON(e.insertionPosition,t),i=e.graveyardPosition?Qo.fromJSON(e.graveyardPosition,t):null,o=new this(n,e.howMany,i,e.baseVersion);return o.insertionPosition=a,o}},{key:"className",get:function(){return"SplitOperation"}}]),n}(cl),Tl=function(e){g(n,e);var t=p(n);function n(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";return h(this,n),(i=t.call(this,a))._document=e,i.rootName=o,i}return f(n,[{key:"is",value:function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){return this.rootName}},{key:"document",get:function(){return this._document}}]),n}(Yo),xl=function(){function e(t,n){h(this,e),this.model=t,this.batch=n}return f(e,[{key:"createText",value:function(e,t){return new qo(e,t)}},{key:"createElement",value:function(e,t){return new Yo(e,t)}},{key:"createDocumentFragment",value:function(){return new dl}},{key:"cloneElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e._clone(t)}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(e instanceof qo&&""==e.data)){var a=Qo._createAt(t,n);if(e.parent){if(Il(e.root,a.root))return void this.move(tr._createOn(e),a);if(e.root.document)throw new Kt.a("model-writer-insert-forbidden-move",this);this.remove(e)}var i=a.root.document?a.root.document.version:null,o=new wl(a,e,i);if(e instanceof qo&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof dl){var r,l=d(e.markers);try{for(l.s();!(r=l.n()).done;){var s=c(r.value,2),u=s[0],m=s[1],h=Qo._createAt(m.root,0),f={range:new tr(m.start._getCombined(h,a),m.end._getCombined(h,a)),usingOperation:!0,affectsData:!0};this.model.markers.has(u)?this.updateMarker(u,f):this.addMarker(u,f)}}catch(g){l.e(g)}finally{l.f()}}}}},{key:"insertText",value:function(e,t,n,a){t instanceof dl||t instanceof Yo||t instanceof Qo?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,a)}},{key:"insertElement",value:function(e,t,n,a){t instanceof dl||t instanceof Yo||t instanceof Qo?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,a)}},{key:"append",value:function(e,t){this.insert(e,t,"end")}},{key:"appendText",value:function(e,t,n){t instanceof dl||t instanceof Yo?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}},{key:"appendElement",value:function(e,t,n){t instanceof dl||t instanceof Yo?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}},{key:"setAttribute",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof tr){var a,i=n.getMinimalFlatRanges(),o=d(i);try{for(o.s();!(a=o.n()).done;)Pl(this,e,t,a.value)}catch(r){o.e(r)}finally{o.f()}}else Dl(this,e,t,n)}},{key:"setAttributes",value:function(e,t){var n,a=d(kn(e));try{for(a.s();!(n=a.n()).done;){var i=c(n.value,2),o=i[0],r=i[1];this.setAttribute(o,r,t)}}catch(l){a.e(l)}finally{a.f()}}},{key:"removeAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),t instanceof tr){var n,a=t.getMinimalFlatRanges(),i=d(a);try{for(i.s();!(n=i.n()).done;)Pl(this,e,null,n.value)}catch(o){i.e(o)}finally{i.f()}}else Dl(this,e,null,t)}},{key:"clearAttributes",value:function(e){var t=this;this._assertWriterUsedCorrectly();var n=function(e){var n,a=d(e.getAttributeKeys());try{for(a.s();!(n=a.n()).done;){var i=n.value;t.removeAttribute(i,e)}}catch(o){a.e(o)}finally{a.f()}};if(e instanceof tr){var a,i=d(e.getItems());try{for(i.s();!(a=i.n()).done;)n(a.value)}catch(o){i.e(o)}finally{i.f()}}else n(e)}},{key:"move",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof tr))throw new Kt.a("writer-move-invalid-range",this);if(!e.isFlat)throw new Kt.a("writer-move-range-not-flat",this);var a=Qo._createAt(t,n);if(!a.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!Il(e.root,a.root))throw new Kt.a("writer-move-different-document",this);var i=e.root.document?e.root.document.version:null,o=new yl(e.start,e.end.offset-e.start.offset,a,i);this.batch.addOperation(o),this.model.applyOperation(o)}}},{key:"remove",value:function(e){this._assertWriterUsedCorrectly();var t,n=(e instanceof tr?e:tr._createOn(e)).getMinimalFlatRanges().reverse(),a=d(n);try{for(a.s();!(t=a.n()).done;){var i=t.value;this._addOperationForAffectedMarkers("move",i),Rl(i.start,i.end.offset-i.start.offset,this.batch,this.model)}}catch(o){a.e(o)}finally{a.f()}}},{key:"merge",value:function(e){this._assertWriterUsedCorrectly();var t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Yo))throw new Kt.a("writer-merge-no-element-before",this);if(!(n instanceof Yo))throw new Kt.a("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}},{key:"createPositionFromPath",value:function(e,t,n){return this.model.createPositionFromPath(e,t,n)}},{key:"createPositionAt",value:function(e,t){return this.model.createPositionAt(e,t)}},{key:"createPositionAfter",value:function(e){return this.model.createPositionAfter(e)}},{key:"createPositionBefore",value:function(e){return this.model.createPositionBefore(e)}},{key:"createRange",value:function(e,t){return this.model.createRange(e,t)}},{key:"createRangeIn",value:function(e){return this.model.createRangeIn(e)}},{key:"createRangeOn",value:function(e){return this.model.createRangeOn(e)}},{key:"createSelection",value:function(e,t,n){return this.model.createSelection(e,t,n)}},{key:"_mergeDetached",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;this.move(tr._createIn(n),Qo._createAt(t,"end")),this.remove(n)}},{key:"_merge",value:function(e){var t=Qo._createAt(e.nodeBefore,"end"),n=Qo._createAt(e.nodeAfter,0),a=e.root.document.graveyard,i=new Qo(a,[0]),o=e.root.document.version,r=new El(n,e.nodeAfter.maxOffset,t,i,o);this.batch.addOperation(r),this.model.applyOperation(r)}},{key:"rename",value:function(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Yo))throw new Kt.a("writer-rename-not-element-instance",this);var n=e.root.document?e.root.document.version:null,a=new _l(Qo._createBefore(e),e.name,t,n);this.batch.addOperation(a),this.model.applyOperation(a)}},{key:"split",value:function(e,t){this._assertWriterUsedCorrectly();var n,a,i=e.parent;if(!i.parent)throw new Kt.a("writer-split-element-no-parent",this);if(t||(t=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new Kt.a("writer-split-invalid-limit-element",this);do{var o=i.root.document?i.root.document.version:null,r=i.maxOffset-e.offset,l=new Ol(e,r,null,o);this.batch.addOperation(l),this.model.applyOperation(l),n||a||(n=i,a=e.parent.nextSibling),i=(e=this.createPositionAfter(e.parent)).parent}while(i!==t);return{position:e,range:new tr(Qo._createAt(n,"end"),Qo._createAt(a,0))}}},{key:"wrap",value:function(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new Kt.a("writer-wrap-range-not-flat",this);var n=t instanceof Yo?t:new Yo(t);if(n.childCount>0)throw new Kt.a("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new Kt.a("writer-wrap-element-attached",this);this.insert(n,e.start);var a=new tr(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(a,Qo._createAt(n,0))}},{key:"unwrap",value:function(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new Kt.a("writer-unwrap-element-no-parent",this);this.move(tr._createIn(e),this.createPositionAfter(e)),this.remove(e)}},{key:"addMarker",value:function(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new Kt.a("writer-addmarker-no-usingoperation",this);var n=t.usingOperation,a=t.range,i=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new Kt.a("writer-addmarker-marker-exists",this);if(!a)throw new Kt.a("writer-addmarker-no-range",this);return n?(Ml(this,e,null,a,i),this.model.markers.get(e)):this.model.markers._set(e,a,n,i)}},{key:"updateMarker",value:function(e,t){this._assertWriterUsedCorrectly();var n="string"==typeof e?e:e.name,a=this.model.markers.get(n);if(!a)throw new Kt.a("writer-updatemarker-marker-not-exists",this);if(t){var i="boolean"==typeof t.usingOperation,o="boolean"==typeof t.affectsData,r=o?t.affectsData:a.affectsData;if(!i&&!t.range&&!o)throw new Kt.a("writer-updatemarker-wrong-options",this);var l=a.getRange(),s=t.range?t.range:l;i&&t.usingOperation!==a.managedUsingOperations?t.usingOperation?Ml(this,n,null,s,r):(Ml(this,n,l,null,r),this.model.markers._set(n,s,void 0,r)):a.managedUsingOperations?Ml(this,n,l,s,r):this.model.markers._set(n,s,void 0,r)}else this.model.markers._refresh(a)}},{key:"removeMarker",value:function(e){this._assertWriterUsedCorrectly();var t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new Kt.a("writer-removemarker-no-marker",this);var n=this.model.markers.get(t);n.managedUsingOperations?Ml(this,t,n.getRange(),null,n.affectsData):this.model.markers._remove(t)}},{key:"setSelection",value:function(e,t,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}},{key:"setSelectionAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else{var n,a=d(kn(e));try{for(a.s();!(n=a.n()).done;){var i=c(n.value,2),o=i[0],r=i[1];this._setSelectionAttribute(o,r)}}catch(l){a.e(l)}finally{a.f()}}}},{key:"removeSelectionAttribute",value:function(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else{var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this._removeSelectionAttribute(a)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(e){this.model.document.selection._restoreGravity(e)}},{key:"_setSelectionAttribute",value:function(e,t){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var a=br._getStoreAttributeKey(e);this.setAttribute(a,t,n.anchor.parent)}n._setAttribute(e,t)}},{key:"_removeSelectionAttribute",value:function(e){var t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){var n=br._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new Kt.a("writer-incorrect-use",this)}},{key:"_addOperationForAffectedMarkers",value:function(e,t){var n,a=d(this.model.markers);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.managedUsingOperations){var o=i.getRange(),r=!1;if("move"===e)r=t.containsPosition(o.start)||t.start.isEqual(o.start)||t.containsPosition(o.end)||t.end.isEqual(o.end);else{var l=t.nodeBefore,s=t.nodeAfter,c=o.start.parent==l&&o.start.isAtEnd,u=o.end.parent==s&&0==o.end.offset,m=o.end.nodeAfter==s,h=o.start.nodeAfter==s;r=c||u||m||h}r&&this.updateMarker(i.name,{range:o})}}}catch(f){a.e(f)}finally{a.f()}}}]),e}();function Pl(e,t,n,a){var i,o,r,l,s=e.model,c=s.document,u=a.start,m=d(a.getWalker({shallow:!0}));try{for(m.s();!(l=m.n()).done;){var h=l.value;r=h.item.getAttribute(t),i&&o!=r&&(o!=n&&f(),u=i),i=h.nextPosition,o=r}}catch(g){m.e(g)}finally{m.f()}function f(){var a=new tr(u,i),r=a.root.document?c.version:null,l=new kl(a,t,o,n,r);e.batch.addOperation(l),s.applyOperation(l)}i instanceof Qo&&i!=u&&o!=n&&f()}function Dl(e,t,n,a){var i,o,r=e.model,l=r.document,s=a.getAttribute(t);if(s!=n){if(a.root===a){var c=a.document?l.version:null;o=new Sl(a,t,s,n,c)}else{var d=(i=new tr(Qo._createBefore(a),e.createPositionAfter(a))).root.document?l.version:null;o=new kl(i,t,s,n,d)}e.batch.addOperation(o),r.applyOperation(o)}}function Ml(e,t,n,a,i){var o=e.model,r=o.document,l=new Al(t,n,a,o.markers,i,r.version);e.batch.addOperation(l),o.applyOperation(l)}function Rl(e,t,n,a){var i;if(e.root.document){var o=a.document,r=new Qo(o.graveyard,[0]);i=new yl(e,t,r,o.version)}else i=new Cl(e,t);n.addOperation(i),a.applyOperation(i)}function Il(e,t){return e===t||e instanceof Tl&&t instanceof Tl}var Bl=function(){function e(t){h(this,e),this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}return f(e,[{key:"refreshItem",value:function(e){if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);var t,n=tr._createOn(e),a=d(this._markerCollection.getMarkersIntersectingRange(n));try{for(a.s();!(t=a.n()).done;){var i=t.value,o=i.getRange();this.bufferMarkerChange(i.name,o,o,i.affectsData)}}catch(r){a.e(r)}finally{a.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var t,n=d(e.range.getItems({shallow:!0}));try{for(n.s();!(t=n.n()).done;){var a=t.value;this._isInInsertedElement(a.parent)||this._markAttribute(a)}}catch(p){n.e(p)}finally{n.f()}break;case"remove":case"move":case"reinsert":if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;var i=this._isInInsertedElement(e.sourcePosition.parent),o=this._isInInsertedElement(e.targetPosition.parent);i||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),o||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break;case"rename":if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);var r,l=tr._createFromPositionAndShift(e.position,1),s=d(this._markerCollection.getMarkersIntersectingRange(l));try{for(s.s();!(r=s.n()).done;){var c=r.value,u=c.getRange();this.bufferMarkerChange(c.name,u,u,c.affectsData)}}catch(p){s.e(p)}finally{s.f()}break;case"split":var m=e.splitPosition.parent;this._isInInsertedElement(m)||this._markRemove(m,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break;case"merge":var h=e.sourcePosition.parent;this._isInInsertedElement(h.parent)||this._markRemove(h.parent,h.startOffset,1);var f=e.graveyardPosition.parent;this._markInsert(f,e.graveyardPosition.offset,1);var g=e.targetPosition.parent;this._isInInsertedElement(g)||this._markInsert(g,e.targetPosition.offset,h.maxOffset)}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(e,t,n,a){var i=this._changedMarkers.get(e);i?(i.newRange=n,i.affectsData=a,null==i.oldRange&&null==i.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:n,affectsData:a})}},{key:"getMarkersToRemove",value:function(){var e,t=[],n=d(this._changedMarkers);try{for(n.s();!(e=n.n()).done;){var a=c(e.value,2),i=a[0],o=a[1];null!=o.oldRange&&t.push({name:i,range:o.oldRange})}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"getMarkersToAdd",value:function(){var e,t=[],n=d(this._changedMarkers);try{for(n.s();!(e=n.n()).done;){var a=c(e.value,2),i=a[0],o=a[1];null!=o.newRange&&t.push({name:i,range:o.newRange})}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map((function(e){return{name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}}))}},{key:"hasDataChanges",value:function(){var e,t=d(this._changedMarkers);try{for(t.s();!(e=t.n()).done;)if(c(e.value,2)[1].affectsData)return!0}catch(n){t.e(n)}finally{t.f()}return this._changesInElement.size>0}},{key:"getChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var t,n=[],a=d(this._changesInElement.keys());try{for(a.s();!(t=a.n()).done;){var i,o=t.value,r=this._changesInElement.get(o).sort((function(e,t){return e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1})),l=this._elementSnapshots.get(o),s=Ll(o.getChildren()),c=zl(l.length,r),u=0,h=0,f=d(c);try{for(f.s();!(i=f.n()).done;){var g=i.value;if("i"===g)n.push(this._getInsertDiff(o,u,s[u].name)),u++;else if("r"===g)n.push(this._getRemoveDiff(o,u,l[h].name)),h++;else if("a"===g){var p=s[u].attributes,v=l[h].attributes,b=void 0;if("$text"==s[u].name)b=new tr(Qo._createAt(o,u),Qo._createAt(o,u+1));else{var k=o.offsetToIndex(u);b=new tr(Qo._createAt(o,u),Qo._createAt(o.getChild(k),0))}n.push.apply(n,m(this._getAttributesDiff(b,v,p))),u++,h++}else u++,h++}}catch(x){f.e(x)}finally{f.f()}}}catch(x){a.e(x)}finally{a.f()}n.sort((function(e,t){return e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1}));for(var C=1;C<n.length;C++){var y=n[C-1],w=n[C],A="remove"==y.type&&"remove"==w.type&&"$text"==y.name&&"$text"==w.name&&y.position.isEqual(w.position),_="insert"==y.type&&"insert"==w.type&&"$text"==y.name&&"$text"==w.name&&y.position.parent==w.position.parent&&y.position.offset+y.length==w.position.offset,S="attribute"==y.type&&"attribute"==w.type&&y.position.parent==w.position.parent&&y.range.isFlat&&w.range.isFlat&&y.position.offset+y.length==w.position.offset&&y.attributeKey==w.attributeKey&&y.attributeOldValue==w.attributeOldValue&&y.attributeNewValue==w.attributeNewValue;(A||_||S)&&(n[C-1].length++,S&&(n[C-1].range.end=n[C-1].range.end.getShiftedBy(1)),n.splice(C,1),C--)}for(var E=0,O=n;E<O.length;E++){var T=O[E];delete T.changeCount,"attribute"==T.type&&(delete T.position,delete T.length)}return this._changeCount=0,this._cachedChangesWithGraveyard=n.slice(),this._cachedChanges=n.slice().filter(Vl),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(e,t,n){var a={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a)}},{key:"_markRemove",value:function(e,t,n){var a={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a),this._removeAllNestedChanges(e,t,n)}},{key:"_markAttribute",value:function(e){var t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}},{key:"_markChange",value:function(e,t){this._makeSnapshot(e);var n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(var a=0;a<n.length;a++)n[a].howMany<1&&(n.splice(a,1),a--)}},{key:"_getChangesForElement",value:function(e){var t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}},{key:"_makeSnapshot",value:function(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Ll(e.getChildren()))}},{key:"_handleChange",value:function(e,t){e.nodesToHandle=e.howMany;var n,a=d(t);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=e.offset+e.howMany,r=i.offset+i.howMany;if("insert"==e.type&&("insert"==i.type&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<r&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==i.type&&e.offset<i.offset&&(i.offset+=e.howMany),"attribute"==i.type))if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<r){var l=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:o,howMany:l-i.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==i.type)if(o<=i.offset)i.offset-=e.howMany;else if(o<=r)if(e.offset<i.offset){var s=o-i.offset;i.offset=e.offset,i.howMany-=s,e.nodesToHandle-=s}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<r){var c=r-e.offset;i.howMany-=c,e.nodesToHandle-=c}if("remove"==i.type&&(o<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),"attribute"==i.type)if(o<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){var u=o-i.offset;i.offset=e.offset,i.howMany-=u}else if(e.offset<r)if(o<=r){var m=i.howMany;i.howMany=e.offset-i.offset;var h=m-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:h,count:this._changeCount++})}else i.howMany-=r-e.offset}if("attribute"==e.type){if("insert"==i.type)if(e.offset<i.offset&&o>i.offset){if(o>r){var f={type:"attribute",offset:r,howMany:o-r,count:this._changeCount++};this._handleChange(f,t),t.push(f)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<r&&(o>r?(e.nodesToHandle=o-r,e.offset=r):e.nodesToHandle=0);if("remove"==i.type&&e.offset<i.offset&&o>i.offset){var g={type:"attribute",offset:i.offset,howMany:o-i.offset,count:this._changeCount++};this._handleChange(g,t),t.push(g),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==i.type&&(e.offset>=i.offset&&o<=r?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&o>=r&&(i.howMany=0))}}}catch(p){a.e(p)}finally{a.f()}e.howMany=e.nodesToHandle,delete e.nodesToHandle}},{key:"_getInsertDiff",value:function(e,t,n){return{type:"insert",position:Qo._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(e,t,n){return{type:"remove",position:Qo._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(e,t,n){var a=[];n=new Map(n);var i,o=d(t);try{for(o.s();!(i=o.n()).done;){var r=c(i.value,2),l=r[0],s=r[1],u=n.has(l)?n.get(l):null;u!==s&&a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:l,attributeOldValue:s,attributeNewValue:u,changeCount:this._changeCount++}),n.delete(l)}}catch(v){o.e(v)}finally{o.f()}var m,h=d(n);try{for(h.s();!(m=h.n()).done;){var f=c(m.value,2),g=f[0],p=f[1];a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:g,attributeOldValue:null,attributeNewValue:p,changeCount:this._changeCount++})}}catch(v){h.e(v)}finally{h.f()}return a}},{key:"_isInInsertedElement",value:function(e){var t=e.parent;if(!t)return!1;var n=this._changesInElement.get(t),a=e.startOffset;if(n){var i,o=d(n);try{for(o.s();!(i=o.n()).done;){var r=i.value;if("insert"==r.type&&a>=r.offset&&a<r.offset+r.howMany)return!0}}catch(l){o.e(l)}finally{o.f()}}return this._isInInsertedElement(t)}},{key:"_removeAllNestedChanges",value:function(e,t,n){var a,i=new tr(Qo._createAt(e,t),Qo._createAt(e,t+n)),o=d(i.getItems({shallow:!0}));try{for(o.s();!(a=o.n()).done;){var r=a.value;r.is("element")&&(this._elementSnapshots.delete(r),this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}}catch(l){o.e(l)}finally{o.f()}}},{key:"isEmpty",get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}}]),e}();function Ll(e){var t,n=[],a=d(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.is("$text"))for(var o=0;o<i.data.length;o++)n.push({name:"$text",attributes:new Map(i.getAttributes())});else n.push({name:i.name,attributes:new Map(i.getAttributes())})}}catch(r){a.e(r)}finally{a.f()}return n}function zl(e,t){var n,a=[],i=0,o=0,r=d(t);try{for(r.s();!(n=r.n()).done;){var l=n.value;if(l.offset>i){for(var s=0;s<l.offset-i;s++)a.push("e");o+=l.offset-i}if("insert"==l.type){for(var c=0;c<l.howMany;c++)a.push("i");i=l.offset+l.howMany}else if("remove"==l.type){for(var u=0;u<l.howMany;u++)a.push("r");i=l.offset,o+=l.howMany}else a.push.apply(a,m("a".repeat(l.howMany).split(""))),i=l.offset+l.howMany,o+=l.howMany}}catch(f){r.e(f)}finally{r.f()}if(o<e)for(var h=0;h<e-o-i;h++)a.push("e");return a}function Vl(e){var t=e.position&&"$graveyard"==e.position.root.rootName,n=e.range&&"$graveyard"==e.range.root.rootName;return!t&&!n}var jl=function(){function e(){h(this,e),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}return f(e,[{key:"addOperation",value:function(e){this._operations.includes(e)||this._operations.push(e)}},{key:"getOperations",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NEGATIVE_INFINITY,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=[],i=d(this._operations);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.baseVersion>=t&&o.baseVersion<n&&a.push(o)}}catch(r){i.e(r)}finally{i.f()}return a}},{key:"getOperation",value:function(e){var t,n=d(this._operations);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.baseVersion==e)return a}}catch(i){n.e(i)}finally{n.f()}}},{key:"setOperationAsUndone",value:function(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}},{key:"isUndoingOperation",value:function(e){return this._undoPairs.has(e)}},{key:"isUndoneOperation",value:function(e){return this._undoneOperations.has(e)}},{key:"getUndoneOperation",value:function(e){return this._undoPairs.get(e)}}]),e}();function Fl(e,t){return!!(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t));var n}function Nl(e,t){return!!(n=e.charAt(t))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}var Gl="$graveyard",Ul=function(){function e(t){var n=this;h(this,e),this.model=t,this.version=0,this.history=new jl(this),this.selection=new br(this),this.roots=new ln({idProperty:"rootName"}),this.differ=new Bl(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Gl),this.listenTo(t,"applyOperation",(function(e,t){var a=t[0];if(a.isDocumentOperation&&a.baseVersion!==n.version)throw new Kt.a("model-document-applyoperation-wrong-version",n,{operation:a})}),{priority:"highest"}),this.listenTo(t,"applyOperation",(function(e,t){var a=t[0];a.isDocumentOperation&&n.differ.bufferOperation(a)}),{priority:"high"}),this.listenTo(t,"applyOperation",(function(e,t){var a=t[0];a.isDocumentOperation&&(n.version++,n.history.addOperation(a))}),{priority:"low"}),this.listenTo(this.selection,"change",(function(){n._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(t.markers,"update",(function(e,t,a,i){n.differ.bufferMarkerChange(t.name,a,i,t.affectsData),null===a&&t.on("change",(function(e,a){n.differ.bufferMarkerChange(t.name,a,t.getRange(),t.affectsData)}))}))}return f(e,[{key:"createRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(t))throw new Kt.a("model-document-createroot-name-exists",this,{name:t});var n=new Tl(this,e,t);return this.roots.add(n),n}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"getRootNames",value:function(){return Array.from(this.roots,(function(e){return e.rootName})).filter((function(e){return e!=Gl}))}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"toJSON",value:function(){var e=gn(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}},{key:"_handleChangeBlock",value:function(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var e,t=d(this.roots);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n!==this.graveyard)return n}}catch(a){t.e(a)}finally{t.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),t=this.model,n=t.schema,a=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(a)||t.createRange(a)}},{key:"_validateSelectionRange",value:function(e){return Hl(e.start)&&Hl(e.end)}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n,a=d(this._postFixers);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(this.selection.refresh(),t=i(e))break}}catch(o){a.e(o)}finally{a.f()}}while(t)}},{key:"graveyard",get:function(){return this.getRoot(Gl)}}]),e}();function Hl(e){var t=e.textNode;if(t){var n=t.data,a=e.offset-t.startOffset;return!Fl(n,a)&&!Nl(n,a)}return!0}rn(Ul,$t);var ql=function(){function e(){h(this,e),this._markers=new Map}return f(e,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(e){return this._markers.has(e)}},{key:"get",value:function(e){return this._markers.get(e)||null}},{key:"_set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e instanceof Wl?e.name:e;if(i.includes(","))throw new Kt.a("markercollection-incorrect-marker-name",this);var o=this._markers.get(i);if(o){var r=o.getRange(),l=!1;return r.isEqual(t)||(o._attachLiveRange(fr.fromRange(t)),l=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,l=!0),"boolean"==typeof a&&a!=o.affectsData&&(o._affectsData=a,l=!0),l&&this.fire("update:"+i,o,r,t),o}var s=fr.fromRange(t),c=new Wl(i,s,n,a);return this._markers.set(i,c),this.fire("update:"+i,c,null,t),c}},{key:"_remove",value:function(e){var t=e instanceof Wl?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire("update:"+t,n,n.getRange(),null),this._destroyMarker(n),!0)}},{key:"_refresh",value:function(e){var t=e instanceof Wl?e.name:e,n=this._markers.get(t);if(!n)throw new Kt.a("markercollection-refresh-marker-not-exists",this);var a=n.getRange();this.fire("update:"+t,n,a,a,n.managedUsingOperations,n.affectsData)}},{key:"getMarkersAtPosition",value:u.mark((function e(t){var n,a,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(this),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=11;break}if(i=a.value,e.t0=i.getRange().containsPosition(t),!e.t0){e.next=9;break}return e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"getMarkersIntersectingRange",value:u.mark((function e(t){var n,a,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(this),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=11;break}if(i=a.value,e.t0=null!==i.getRange().getIntersection(t),!e.t0){e.next=9;break}return e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"destroy",value:function(){var e,t=d(this._markers.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;this._destroyMarker(n)}}catch(a){t.e(a)}finally{t.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:u.mark((function e(t){var n,a,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(this._markers.values()),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=11;break}if(i=a.value,e.t0=i.name.startsWith(t+":"),!e.t0){e.next=9;break}return e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"_destroyMarker",value:function(e){e.stopListening(),e._detachLiveRange()}}]),e}();rn(ql,$t);var Wl=function(){function e(t,n,a,i){h(this,e),this.name=t,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=a,this._affectsData=i}return f(e,[{key:"getStart",value:function(){if(!this._liveRange)throw new Kt.a("marker-destroyed",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new Kt.a("marker-destroyed",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new Kt.a("marker-destroyed",this);return this._liveRange.toRange()}},{key:"is",value:function(e){return"marker"===e||"model:marker"===e}},{key:"_attachLiveRange",value:function(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}},{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new Kt.a("marker-destroyed",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new Kt.a("marker-destroyed",this);return this._affectsData}}]),e}();rn(Wl,$t);var Kl=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"clone",value:function(){return new n(this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.baseVersion+1)}},{key:"_execute",value:function(){}},{key:"type",get:function(){return"noop"}}],[{key:"className",get:function(){return"NoOperation"}}]),n}(cl),Yl={};Yl[kl.className]=kl,Yl[wl.className]=wl,Yl[Al.className]=Al,Yl[yl.className]=yl,Yl[Kl.className]=Kl,Yl[cl.className]=cl,Yl[_l.className]=_l,Yl[Sl.className]=Sl,Yl[Ol.className]=Ol,Yl[El.className]=El;var Jl=function(e){g(n,e);var t=p(n);function n(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(h(this,n),!(i=t.call(this,e,a,o)).root.is("rootElement"))throw new Kt.a("model-liveposition-root-not-rootelement",e);return $l.call(r(i)),s(i)}return f(n,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e}},{key:"toPosition",value:function(){return new Qo(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}]),n}(Qo);function $l(){var e=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,n){var a=n[0];a.isDocumentOperation&&Ql.call(e,a)}),{priority:"low"})}function Ql(e){var t=this.getTransformedByOperation(e);if(!this.isEqual(t)){var n=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",n)}}rn(Jl,$t);var Zl=function(){function e(t,n,a){h(this,e),this.model=t,this.writer=n,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return f(e,[{key:"handleNodes",value:function(e,t){e=Array.from(e);for(var n=0;n<e.length;n++){var a=e[n];this._handleNode(a,{isFirst:0===n&&t.isFirst,isLast:n===e.length-1&&t.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?tr._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new tr(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(e,t){this.schema.isObject(e)?this._handleObject(e,t):this._checkAndSplitToAllowedPosition(e,t)?(this._insert(e),this._mergeSiblingsOf(e,t)):this._handleDisallowedNode(e,t)}},{key:"_handleObject",value:function(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}},{key:"_handleDisallowedNode",value:function(e,t){e.is("element")?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}},{key:"_insert",value:function(e){if(!this.schema.checkChild(this.position,e))throw new Kt.a("insertcontent-wrong-position",this,{node:e,position:this.position});var t=Jl.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(e,this.position),this.position=t.toPosition(),t.detach(),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=e:this.nodeToSelect=null,this._filterAttributesOf.push(e)}},{key:"_setAffectedBoundaries",value:function(e){this._affectedStart||(this._affectedStart=Jl.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Jl.fromPosition(e,"toNext"))}},{key:"_mergeSiblingsOf",value:function(e,t){if(e instanceof Yo){var n=this._canMergeLeft(e,t),a=this._canMergeRight(e,t),i=Jl._createBefore(e);i.stickiness="toNext";var o=Jl._createAfter(e);if(o.stickiness="toNext",n){var r=Jl.fromPosition(this.position);r.stickiness="toNext",this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=Jl._createAt(i.nodeBefore,"end","toPrevious")),this.writer.merge(i),i.isEqual(this._affectedEnd)&&t.isLast&&(this._affectedEnd.detach(),this._affectedEnd=Jl._createAt(i.nodeBefore,"end","toNext")),this.position=r.toPosition(),r.detach()}if(a){if(!this.position.isEqual(o))throw new Kt.a("insertcontent-invalid-insertion-position",this);this.position=Qo._createAt(o.nodeBefore,"end");var l=Jl.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=Jl._createAt(o.nodeBefore,"end","toNext")),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&t.isFirst&&(this._affectedStart.detach(),this._affectedStart=Jl._createAt(o.nodeBefore,0,"toPrevious")),this.position=l.toPosition(),l.detach()}(n||a)&&this._filterAttributesOf.push(this.position.parent),i.detach(),o.detach()}}},{key:"_canMergeLeft",value:function(e,t){var n=e.previousSibling;return t.isFirst&&n instanceof Yo&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}},{key:"_canMergeRight",value:function(e,t){var n=e.nextSibling;return t.isLast&&n instanceof Yo&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}},{key:"_tryAutoparagraphing",value:function(e,t){var n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,e)&&(n._appendChild(e),this._handleNode(n,t))}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){var n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:"_getAllowedIn",value:function(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}]),e}();function Xl(e,t,n,a){var i=t.parent,o=n.parent;if(i!=a&&o!=a){for(t=e.createPositionAfter(i),(n=e.createPositionBefore(o)).isEqual(t)||e.insert(o,t),e.merge(t);n.parent.isEmpty;){var r=n.parent;n=e.createPositionBefore(r),e.remove(r)}ts(e.model.schema,t,n)&&Xl(e,t,n,a)}}function es(e,t,n,a){var i=t.parent,o=n.parent;if(i!=a&&o!=a){for(t=e.createPositionAfter(i),(n=e.createPositionBefore(o)).isEqual(t)||e.insert(i,n);t.parent.isEmpty;){var r=t.parent;t=e.createPositionBefore(r),e.remove(r)}n=e.createPositionBefore(o),function(e,t){var n=t.nodeBefore,a=t.nodeAfter;n.name!=a.name&&e.rename(n,a.name),e.clearAttributes(n),e.setAttributes(Object.fromEntries(a.getAttributes()),n),e.merge(t)}(e,n),ts(e.model.schema,t,n)&&es(e,t,n,a)}}function ts(e,t,n){var a=t.parent,i=n.parent;return a!=i&&!e.isLimit(a)&&!e.isLimit(i)&&function(e,t,n){var a,i=new tr(e,t),o=d(i.getWalker());try{for(o.s();!(a=o.n()).done;){var r=a.value;if(n.isLimit(r.item))return!1}}catch(l){o.e(l)}finally{o.f()}return!0}(t,n,e)}function ns(e,t,n){var a=e.createElement("paragraph");e.insert(a,t),as(e,n,e.createPositionAt(a,0))}function as(e,t,n){t instanceof br?e.setSelection(n):t.setTo(n)}var is=' ,.?!:;"-()';function os(e,t){var n=e.isForward,a=e.walker,i=e.unit,o=e.schema,r=t.type,l=t.item,s=t.nextPosition;if("text"==r)return"word"===e.unit?function(e,t){var n=e.position.textNode;if(n)for(var a=e.position.offset-n.startOffset;!ls(n.data,a,t)&&!ss(n,a,t);){e.next();var i=t?e.position.nodeAfter:e.position.nodeBefore;if(i&&i.is("$text")){var o=i.data.charAt(t?0:i.data.length-1);is.includes(o)||(e.next(),n=e.position.textNode)}a=e.position.offset-n.startOffset}return e.position}(a,n):function(e,t){var n=e.position.textNode;if(n)for(var a=n.data,i=e.position.offset-n.startOffset;Fl(a,i)||"character"==t&&Nl(a,i);)e.next(),i=e.position.offset-n.startOffset;return e.position}(a,i);if(r==(n?"elementStart":"elementEnd")){if(o.isSelectable(l))return Qo._createAt(l,n?"after":"before");if(o.checkChild(s,"$text"))return s}else{if(o.isLimit(l))return void a.skip((function(){return!0}));if(o.checkChild(s,"$text"))return s}}function rs(e,t){var n=e.root,a=Qo._createAt(n,t?"end":0);return t?new tr(e,a):new tr(a,e)}function ls(e,t,n){var a=t+(n?0:-1);return is.includes(e.charAt(a))}function ss(e,t,n){return t===(n?e.endOffset:0)}function cs(e,t){var n=[];Array.from(e.getItems({direction:"backward"})).map((function(e){return t.createRangeOn(e)})).filter((function(t){return(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end))})).forEach((function(e){n.push(e.start.parent),t.remove(e)})),n.forEach((function(e){for(var n=e;n.parent&&n.isEmpty;){var a=t.createRangeOn(n);n=n.parent,t.remove(a)}}))}function ds(e,t){return e.isCollapsed?function(e,t){var n=e.start,a=t.getNearestSelectionRange(n);if(!a)return null;if(!a.isCollapsed)return a;var i=a.start;return n.isEqual(i)?null:new tr(i)}(e,t):function(e,t){var n=e.start,a=e.end,i=t.checkChild(n,"$text"),o=t.checkChild(a,"$text"),r=t.getLimitElement(n),l=t.getLimitElement(a);if(r===l){if(i&&o)return null;if(function(e,t,n){var a=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),i=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return a||i}(n,a,t)){var s=n.nodeAfter&&t.isSelectable(n.nodeAfter)?null:t.getNearestSelectionRange(n,"forward"),c=a.nodeBefore&&t.isSelectable(a.nodeBefore)?null:t.getNearestSelectionRange(a,"backward"),d=s?s.start:n,u=c?c.start:a;return new tr(d,u)}}var m=r&&!r.is("rootElement"),h=l&&!l.is("rootElement");if(m||h){var f=n.nodeAfter&&a.nodeBefore&&n.nodeAfter.parent===a.nodeBefore.parent,g=m&&(!f||!ms(n.nodeAfter,t)),p=h&&(!f||!ms(a.nodeBefore,t)),v=n,b=a;return g&&(v=Qo._createBefore(us(r,t))),p&&(b=Qo._createAfter(us(l,t))),new tr(v,b)}return null}(e,t)}function us(e,t){for(var n=e,a=n;t.isLimit(a)&&a.parent;)n=a,a=a.parent;return n}function ms(e,t){return e&&t.isSelectable(e)}var hs=function(){function e(){var t=this;h(this,e),this.markers=new ql,this.document=new Ul(this),this.schema=new Hr,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((function(e){return t.decorate(e)})),this.on("applyOperation",(function(e,t){t[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((function(e,t){if("$marker"===t.name)return!0})),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n,a=t.document.selection,i=t.schema,o=[],r=!1,l=d(a.getRanges());try{for(l.s();!(n=l.n()).done;){var s=n.value,c=ds(s,i);c&&!c.isEqual(s)?(o.push(c),r=!0):o.push(s)}}catch(u){l.e(u)}finally{l.f()}r&&e.setSelection(function(e){var t=[];t.push(e.shift());var n,a=d(e);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=t.pop();if(i.isIntersecting(o)){var r=o.start.isAfter(i.start)?i.start:o.start,l=o.end.isAfter(i.end)?o.end:i.end,s=new tr(r,l);t.push(s)}else t.push(o),t.push(i)}}catch(u){a.e(u)}finally{a.f()}return t}(o),{backward:a.isBackward})}(t,e)}))}(this),this.document.registerPostFixer(Pr)}return f(e,[{key:"change",value:function(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new sl,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){Kt.a.rethrowUnexpectedError(e,this)}}},{key:"enqueueChange",value:function(e,t){try{"string"==typeof e?e=new sl(e):"function"==typeof e&&(t=e,e=new sl),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){Kt.a.rethrowUnexpectedError(e,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,t,n){return function(e,t,n,a){return e.change((function(i){var o;(o=n?n instanceof cr||n instanceof br?n:i.createSelection(n,a):e.document.selection).isCollapsed||e.deleteContent(o,{doNotAutoparagraph:!0});var r,l=new Zl(e,i,o.anchor);r=t.is("documentFragment")?t.getChildren():[t],l.handleNodes(r,{isFirst:!0,isLast:!0});var s=l.getSelectionRange();s&&(o instanceof br?i.setSelection(s):o.setTo(s));var c=l.getAffectedRange()||e.createRange(o.anchor);return l.destroy(),c}))}(this,e,t,n)}},{key:"deleteContent",value:function(e,t){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.isCollapsed){var a=t.getFirstRange();if("$graveyard"!=a.root.rootName){var i=e.schema;e.change((function(e){if(n.doNotResetEntireContent||!function(e,t){var n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;var a=t.getFirstRange();return a.start.parent!=a.end.parent&&e.checkChild(n,"paragraph")}(i,t)){var o=function(e){var t=e.root.document.model,n=e.start,a=e.end;if(t.hasContent(e,{ignoreMarkers:!0})){var i=function(e){var t,n=e.parent,a=n.root.document.model.schema,i=n.getAncestors({parentFirst:!0,includeSelf:!0}),o=d(i);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(a.isLimit(r))return null;if(a.isBlock(r))return r}}catch(l){o.e(l)}finally{o.f()}}(a);if(i&&a.isTouching(t.createPositionAt(i,0))){var o=t.createSelection(e);t.modifySelection(o,{direction:"backward"}),a=o.getLastPosition()}}return[Jl.fromPosition(n,"toPrevious"),Jl.fromPosition(a,"toNext")]}(a),r=c(o,2),l=r[0],s=r[1];l.isTouching(s)||e.remove(e.createRange(l,s)),n.leaveUnmerged||(function(e,t,n){var a=e.model;if(ts(e.model.schema,t,n)){var i=function(e,t){for(var n=e.getAncestors(),a=t.getAncestors(),i=0;n[i]&&n[i]==a[i];)i++;return[n[i],a[i]]}(t,n),o=c(i,2),r=o[0],l=o[1];!a.hasContent(r,{ignoreMarkers:!0})&&a.hasContent(l,{ignoreMarkers:!0})?es(e,t,n,r.parent):Xl(e,t,n,r.parent)}}(e,l,s),i.removeDisallowedAttributes(l.parent.getChildren(),e)),as(e,t,l),!n.doNotAutoparagraph&&function(e,t){var n=e.checkChild(t,"$text"),a=e.checkChild(t,"paragraph");return!n&&a}(i,l)&&ns(e,l,t),l.detach(),s.detach()}else!function(e,t){var n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),ns(e,e.createPositionAt(n,0),t)}(e,t)}))}}}(this,e,t)}},{key:"modifySelection",value:function(e,t){!function(e,t){for(var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.schema,o="backward"!=a.direction,r=a.unit?a.unit:"character",l=t.focus,s=new Jo({boundaries:rs(l,o),singleCharacters:!0,direction:o?"forward":"backward"}),c={walker:s,schema:i,isForward:o,unit:r},d=function(){if(n.done)return{v:void 0};var a=os(c,n.value);return a?{v:void(t instanceof br?e.change((function(e){e.setSelectionFocus(a)})):t.setFocus(a))}:void 0};n=s.next();){var u=d();if("object"===typeof u)return u.v}}(this,e,t)}},{key:"getSelectedContent",value:function(e){return function(e,t){return e.change((function(e){var n=e.createDocumentFragment(),a=t.getFirstRange();if(!a||a.isCollapsed)return n;var i,o,r=a.start.root,l=a.start.getCommonPath(a.end),s=r.getNodeByPath(l),c=(i=a.start.parent==a.end.parent?a:e.createRange(e.createPositionAt(s,a.start.path[l.length]),e.createPositionAt(s,a.end.path[l.length]+1))).end.offset-i.start.offset,u=d(i.getItems({shallow:!0}));try{for(u.s();!(o=u.n()).done;){var m=o.value;m.is("$textProxy")?e.appendText(m.data,m.getAttributes(),n):e.append(e.cloneElement(m,!0),n)}}catch(g){u.e(g)}finally{u.f()}if(i!=a){var h=a._getTransformedByMove(i.start,e.createPositionAt(n,0),c)[0],f=e.createRange(e.createPositionAt(n,0),h.start);cs(e.createRange(h.end,e.createPositionAt(n,"end")),e),cs(f,e)}return n}))}(this,e)}},{key:"hasContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e instanceof Yo?tr._createIn(e):e;if(n.isCollapsed)return!1;var a=t.ignoreWhitespaces,i=void 0!==a&&a,o=t.ignoreMarkers,r=void 0!==o&&o;if(!r){var l,s=d(this.markers.getMarkersIntersectingRange(n));try{for(s.s();!(l=s.n()).done;){var c=l.value;if(c.affectsData)return!0}}catch(f){s.e(f)}finally{s.f()}}var u,m=d(n.getItems());try{for(m.s();!(u=m.n()).done;){var h=u.value;if(this.schema.isContent(h)){if(!h.is("$textProxy"))return!0;if(!i)return!0;if(-1!==h.data.search(/\S/))return!0}}}catch(f){m.e(f)}finally{m.f()}return!1}},{key:"createPositionFromPath",value:function(e,t,n){return new Qo(e,t,n)}},{key:"createPositionAt",value:function(e,t){return Qo._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return Qo._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Qo._createBefore(e)}},{key:"createRange",value:function(e,t){return new tr(e,t)}},{key:"createRangeIn",value:function(e){return tr._createIn(e)}},{key:"createRangeOn",value:function(e){return tr._createOn(e)}},{key:"createSelection",value:function(e,t,n){return new cr(e,t,n)}},{key:"createBatch",value:function(e){return new sl(e)}},{key:"createOperationFromJSON",value:function(e){return function(){function e(){h(this,e)}return f(e,null,[{key:"fromJSON",value:function(e,t){return Yl[e.__className].fromJSON(e,t)}}]),e}().fromJSON(e,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var t=this._pendingChanges[0].batch;this._currentWriter=new xl(this,t);var n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}]),e}();rn(hs,fa);var fs=function(){function e(){h(this,e),this._listener=Object.create(Fi)}return f(e,[{key:"listenTo",value:function(e){var t=this;this._listener.listenTo(e,"keydown",(function(e,n){t._listener.fire("_keydown:"+Ha(n),n)}))}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=qa(e),i=n.priority;this._listener.listenTo(this._listener,"_keydown:"+a,(function(e,n){t(n,(function(){n.preventDefault(),n.stopPropagation(),e.stop()})),e.return=!0}),{priority:i})}},{key:"press",value:function(e){return!!this._listener.fire("_keydown:"+Ha(e),e)}},{key:"destroy",value:function(){this._listener.stopListening()}}]),e}(),gs=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this)).editor=e,a}return f(n,[{key:"set",value:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t){var l=t;t=function(e,t){a.editor.execute(l),t()}}i(o(n.prototype),"set",this).call(this,e,t,r)}}]),n}(fs),ps=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,t),this._context=n.context||new hn({language:n.language}),this._context._addEditor(this,!n.context);var a=Array.from(this.constructor.builtinPlugins||[]);this.config=new Ft(n,this.constructor.defaultConfig),this.config.define("plugins",a),this.config.define(this._context._getEditorConfig()),this.plugins=new sn(this,a,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new Nr,this.set("state","initializing"),this.once("ready",(function(){return e.state="ready"}),{priority:"high"}),this.once("destroy",(function(){return e.state="destroyed"}),{priority:"high"}),this.set("isReadOnly",!1),this.model=new hs;var i=new na;this.data=new il(this.model,i),this.editing=new Fr(this.model,i),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ol([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new gs(this),this.keystrokes.listenTo(this.editing.view.document)}return f(t,[{key:"initPlugins",value:function(){var e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],a=e.get("extraPlugins")||[];return this.plugins.init(t.concat(a),n)}},{key:"destroy",value:function(){var e=this,t=Promise.resolve();return"initializing"==this.state&&(t=new Promise((function(t){return e.once("ready",t)}))),t.then((function(){e.fire("destroy"),e.stopListening(),e.commands.destroy()})).then((function(){return e.plugins.destroy()})).then((function(){e.model.destroy(),e.data.destroy(),e.editing.destroy(),e.keystrokes.destroy()})).then((function(){return e._context._removeEditor(e)}))}},{key:"execute",value:function(){try{var t;return(t=this.commands).execute.apply(t,arguments)}catch(e){Kt.a.rethrowUnexpectedError(e,this)}}}]),t}();rn(ps,fa);var vs={updateSourceElement:function(){if(!this.sourceElement)throw new Kt.a("editor-missing-sourceelement",this);var e,t;e=this.sourceElement,t=this.data.get(),e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}},bs=function(){function e(){h(this,e)}return f(e,[{key:"getHtml",value:function(e){var t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}]),e}(),ks=function(){function e(t){h(this,e),this._domParser=new DOMParser,this._domConverter=new Bi(t,{blockFillerMode:"nbsp"}),this._htmlWriter=new bs}return f(e,[{key:"toData",value:function(e){var t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}},{key:"toView",value:function(e){var t=this._toDom(e);return this._domConverter.domToView(t)}},{key:"_toDom",value:function(e){for(var t=this._domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),a=t.body.childNodes;a.length>0;)n.appendChild(a[0]);return n}}]),e}(),Cs=function(){function e(t){h(this,e),this.editor=t,this._components=new Map}return f(e,[{key:"names",value:u.mark((function e(){var t,n,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this._components.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return a=n.value,e.next=7,a.originalName;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"add",value:function(e,t){this._components.set(ys(e),{callback:t,originalName:e})}},{key:"create",value:function(e){if(!this.has(e))throw new Kt.a("componentfactory-item-missing",this,{name:e});return this._components.get(ys(e)).callback(this.editor.locale)}},{key:"has",value:function(e){return this._components.has(ys(e))}}]),e}();function ys(e){return String(e).toLowerCase()}var ws=function(){function e(){h(this,e),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}return f(e,[{key:"add",value:function(e){var t=this;if(this._elements.has(e))throw new Kt.a("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",(function(){return t._focus(e)}),{useCapture:!0}),this.listenTo(e,"blur",(function(){return t._blur()}),{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((function(){e.focusedElement=null,e.isFocused=!1}),0)}}]),e}();rn(ws,Fi),rn(ws,fa);var As=function(){function e(t){var n=this;h(this,e),this.editor=t,this.componentFactory=new Cs(t),this.focusTracker=new ws,this._editableElementsMap=new Map,this.listenTo(t.editing.view.document,"layoutChanged",(function(){return n.update()}))}return f(e,[{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var e,t=d(this._editableElementsMap.values());try{for(t.s();!(e=t.n()).done;)e.value.ckeditorInstance=null}catch(n){t.e(n)}finally{t.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(e)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"element",get:function(){return null}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}]),e}();rn(As,$t);var _s=n(1),Ss=n.n(_s),Es=n(12);Ss()(Es.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Es.a.locals;var Os=new WeakMap;function Ts(e,t){var n,a=Os.get(e),i=!1,o=d(a);try{for(o.s();!(n=o.n()).done;){var r=c(n.value,2);xs(t,r[0],r[1])&&(i=!0)}}catch(l){o.e(l)}finally{o.f()}return i}function xs(e,t,n){var a=n.text,i=n.isDirectHost?t:function(e){if(1===e.childCount){var t=e.getChild(0);if(t.is("element")&&!t.is("uiElement"))return t}return null}(t),o=!1;return!!i&&(n.hostElement=i,i.getAttribute("data-placeholder")!==a&&(e.setAttribute("data-placeholder",a,i),o=!0),function(e){if(!e.isAttached())return!1;var t=!Array.from(e.getChildren()).some((function(e){return!e.is("uiElement")})),n=e.document;if(!n.isFocused&&t)return!0;var a=n.selection.anchor;return!(!t||!a||a.parent===e)}(i)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,i)&&(o=!0):function(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}(e,i)&&(o=!0),o)}var Ps=function(){function e(){h(this,e),this._replacedElements=[]}return f(e,[{key:"replace",value:function(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach((function(e){var t=e.element,n=e.newElement;t.style.display="",n&&n.remove()})),this._replacedElements=[]}}]),e}(),Ds=function(e){g(n,e);var t=p(n);function n(e,a){var i,o;return h(this,n),(i=t.call(this,e)).view=a,i._toolbarConfig=(o=e.config.get("toolbar"),Array.isArray(o)?{items:o}:o?Object.assign({items:[]},o):{items:[]}),i._elementReplacer=new Ps,i}return f(n,[{key:"init",value:function(e){var t=this.editor,n=this.view,a=t.editing.view,i=n.editable,o=a.document.getRoot();i.name=o.rootName,n.render();var r=i.element;this.setEditableElement(i.name,r),this.focusTracker.add(r),n.editable.bind("isFocused").to(this.focusTracker),a.attachDomRoot(r),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy(),i(o(n.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var e=this.editor,t=this.view,n=e.editing.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,this._toolbarConfig.viewportTopOffset&&(t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),t.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function(e){var t=e.origin,n=e.originKeystrokeHandler,a=e.originFocusTracker,i=e.toolbar,o=e.beforeFocus,r=e.afterBlur;a.add(i.element),n.set("Alt+F10",(function(e,t){a.isFocused&&!i.focusTracker.isFocused&&(o&&o(),i.focus(),t())})),i.keystrokes.set("Esc",(function(e,n){i.focusTracker.isFocused&&(t.focus(),r&&r(),n())}))}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:t.toolbar})}},{key:"_initPlaceholder",value:function(){var e=this.editor,t=e.editing.view,n=t.document.getRoot(),a=e.sourceElement,i=e.config.get("placeholder")||a&&"textarea"===a.tagName.toLowerCase()&&a.getAttribute("placeholder");i&&function(e){var t=e.view,n=e.element,a=e.text,i=e.isDirectHost,o=void 0===i||i,r=t.document;Os.has(r)||(Os.set(r,new Map),r.registerPostFixer((function(e){return Ts(r,e)}))),Os.get(r).set(n,{text:a,isDirectHost:o}),t.change((function(e){return Ts(r,e)}))}({view:t,element:n,text:i,isDirectHost:!1})}},{key:"element",get:function(){return this.view.element}}]),n}(As),Ms=function(e){g(n,e);var t=p(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return h(this,n),(e=t.call(this,a,{idProperty:"viewUid"})).on("add",(function(t,n,a){e._renderViewIntoCollectionParent(n,a)})),e.on("remove",(function(t,n){n.element&&e._parentElement&&n.element.remove()})),e._parentElement=null,e}return f(n,[{key:"destroy",value:function(){this.map((function(e){return e.destroy()}))}},{key:"setParent",value:function(e){this._parentElement=e;var t,n=d(this);try{for(n.s();!(t=n.n()).done;){var a=t.value;this._renderViewIntoCollectionParent(a)}}catch(i){n.e(i)}finally{n.f()}}},{key:"delegate",value:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length||!n.every((function(e){return"string"==typeof e})))throw new Kt.a("ui-viewcollection-delegate-wrong-events",this);return{to:function(t){var a,i=d(e);try{for(i.s();!(a=i.n()).done;){var o,r=a.value,l=d(n);try{for(l.s();!(o=l.n()).done;){var s=o.value;r.delegate(s).to(t)}}catch(c){l.e(c)}finally{l.f()}}}catch(c){i.e(c)}finally{i.f()}e.on("add",(function(e,a){var i,o=d(n);try{for(o.s();!(i=o.n()).done;){var r=i.value;a.delegate(r).to(t)}}catch(c){o.e(c)}finally{o.f()}})),e.on("remove",(function(e,a){var i,o=d(n);try{for(o.s();!(i=o.n()).done;){var r=i.value;a.stopDelegating(r,t)}}catch(c){o.e(c)}finally{o.f()}}))}}}},{key:"_renderViewIntoCollectionParent",value:function(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}}]),n}(ln),Rs=function(){function e(t){h(this,e),Object.assign(this,Us(Gs(t))),this._isRendered=!1,this._revertData=null}return f(e,[{key:"render",value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:"apply",value:function(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:"revert",value:function(e){if(!this._revertData)throw new Kt.a("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}},{key:"getViews",value:u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(u.mark((function e(t){var n,a,i;return u.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.children){o.next=24;break}n=d(t.children),o.prev=2,n.s();case 4:if((a=n.n()).done){o.next=16;break}if(!Ys(i=a.value)){o.next=11;break}return o.next=9,i;case 9:o.next=14;break;case 11:if(o.t0=Js(i),!o.t0){o.next=14;break}return o.delegateYield(e(i),"t1",14);case 14:o.next=4;break;case 16:o.next=21;break;case 18:o.prev=18,o.t2=o.catch(2),n.e(o.t2);case 21:return o.prev=21,n.f(),o.finish(21);case 24:case"end":return o.stop()}}),e,null,[[2,18,21,24]])}))(this),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"_renderNode",value:function(e){if(e.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new Kt.a("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}},{key:"_renderElement",value:function(e){var t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}},{key:"_renderText",value:function(e){var t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),zs(this.text)?this._bindToObservable({schema:this.text,updater:js(t),data:e}):t.textContent=this.text.join(""),t}},{key:"_renderAttributes",value:function(e){var t,n,a,i;if(this.attributes){var o=e.node,r=e.revertData;for(t in this.attributes)if(a=o.getAttribute(t),n=this.attributes[t],r&&(r.attributes[t]=a),i=H(n[0])&&n[0].ns?n[0].ns:null,zs(n)){var l=i?n[0].value:n;r&&Qs(t)&&l.unshift(a),this._bindToObservable({schema:l,updater:Fs(o,t,i),data:e})}else"style"==t&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],e):(r&&a&&Qs(t)&&n.unshift(a),Ks(n=n.map((function(e){return e&&e.value||e})).reduce((function(e,t){return e.concat(t)}),[]).reduce(qs,""))||o.setAttributeNS(i,t,n))}}},{key:"_renderStyleAttribute",value:function(e,t){var n=t.node;for(var a in e){var i=e[a];zs(i)?this._bindToObservable({schema:[i],updater:Ns(n,a),data:t}):n.style[a]=i}}},{key:"_renderElementChildren",value:function(e){var t,n=e.node,a=e.intoFragment?document.createDocumentFragment():n,i=e.isApplying,o=0,r=d(this.children);try{for(r.s();!(t=r.n()).done;){var l=t.value;if($s(l)){if(!i){l.setParent(n);var s,c=d(l);try{for(c.s();!(s=c.n()).done;){var u=s.value;a.appendChild(u.element)}}catch(h){c.e(h)}finally{c.f()}}}else if(Ys(l))i||(l.isRendered||l.render(),a.appendChild(l.element));else if(Ei(l))a.appendChild(l);else if(i){var m={children:[],bindings:[],attributes:{}};e.revertData.children.push(m),l._renderNode({node:a.childNodes[o++],isApplying:!0,revertData:m})}else a.appendChild(l.render())}}catch(h){r.e(h)}finally{r.f()}e.intoFragment&&n.appendChild(a)}},{key:"_setUpListeners",value:function(e){var t=this;if(this.eventListeners){var n=function(n){var a=t.eventListeners[n].map((function(t){var a=n.split("@"),i=c(a,2),o=i[0],r=i[1];return t.activateDomEventListener(o,r,e)}));e.revertData&&e.revertData.bindings.push(a)};for(var a in this.eventListeners)n(a)}}},{key:"_bindToObservable",value:function(e){var t=e.schema,n=e.updater,a=e.data,i=a.revertData;Vs(t,n,a);var o=t.filter((function(e){return!Ks(e)})).filter((function(e){return e.observable})).map((function(e){return e.activateAttributeListener(t,n,a)}));i&&i.bindings.push(o)}},{key:"_revertTemplateFromNode",value:function(e,t){var n,a=d(t.bindings);try{for(a.s();!(n=a.n()).done;){var i,o=n.value,r=d(o);try{for(r.s();!(i=r.n()).done;)(0,i.value)()}catch(u){r.e(u)}finally{r.f()}}}catch(u){a.e(u)}finally{a.f()}if(t.text)e.textContent=t.text;else{for(var l in t.attributes){var s=t.attributes[l];null===s?e.removeAttribute(l):e.setAttribute(l,s)}for(var c=0;c<t.children.length;++c)this._revertTemplateFromNode(e.childNodes[c],t.children[c])}}}],[{key:"bind",value:function(e,t){return{to:function(n,a){return new Bs({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:a})},if:function(n,a,i){return new Ls({observable:e,emitter:t,attribute:n,valueIfTrue:a,callback:i})}}}},{key:"extend",value:function(e,t){if(e._isRendered)throw new Kt.a("template-extend-render",[this,e]);!function e(t,n){var a;if(n.attributes&&(t.attributes||(t.attributes={}),Ws(t.attributes,n.attributes)),n.eventListeners&&(t.eventListeners||(t.eventListeners={}),Ws(t.eventListeners,n.eventListeners)),n.text&&(a=t.text).push.apply(a,m(n.text)),n.children&&n.children.length){if(t.children.length!=n.children.length)throw new Kt.a("ui-template-extend-children-mismatch",t);var i,o=0,r=d(n.children);try{for(r.s();!(i=r.n()).done;){var l=i.value;e(t.children[o++],l)}}catch(s){r.e(s)}finally{r.f()}}}(e,Us(Gs(t)))}}]),e}();rn(Rs,$t);var Is=function(){function e(t){h(this,e),Object.assign(this,t)}return f(e,[{key:"getValue",value:function(e){var t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}},{key:"activateAttributeListener",value:function(e,t,n){var a=this,i=function(){return Vs(e,t,n)};return this.emitter.listenTo(this.observable,"change:"+this.attribute,i),function(){a.emitter.stopListening(a.observable,"change:"+a.attribute,i)}}}]),e}(),Bs=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"activateDomEventListener",value:function(e,t,n){var a=this,i=function(e,n){t&&!n.target.matches(t)||("function"==typeof a.eventNameOrFunction?a.eventNameOrFunction(n):a.observable.fire(a.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,i),function(){a.emitter.stopListening(n.node,e,i)}}}]),n}(Is),Ls=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"getValue",value:function(e){return!Ks(i(o(n.prototype),"getValue",this).call(this,e))&&(this.valueIfTrue||!0)}}]),n}(Is);function zs(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(zs):e instanceof Is)}function Vs(e,t,n){var a=function(e,t){return e.map((function(e){return e instanceof Is?e.getValue(t):e}))}(e,n.node);Ks(a=1==e.length&&e[0]instanceof Ls?a[0]:a.reduce(qs,""))?t.remove():t.set(a)}function js(e){return{set:function(t){e.textContent=t},remove:function(){e.textContent=""}}}function Fs(e,t,n){return{set:function(a){e.setAttributeNS(n,t,a)},remove:function(){e.removeAttributeNS(n,t)}}}function Ns(e,t){return{set:function(n){e.style[t]=n},remove:function(){e.style[t]=null}}}function Gs(e){return Vt(e,(function(e){if(e&&(e instanceof Is||Js(e)||Ys(e)||$s(e)))return e}))}function Us(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){Array.isArray(e.text)||(e.text=[e.text])}(e),e.on&&(e.eventListeners=function(e){for(var t in e)Hs(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(var t in e)e[t].value&&(e[t].value=[].concat(e[t].value)),Hs(e,t)}(e.attributes);var t=[];if(e.children)if($s(e.children))t.push(e.children);else{var n,a=d(e.children);try{for(a.s();!(n=a.n()).done;){var i=n.value;Js(i)||Ys(i)||Ei(i)?t.push(i):t.push(new Rs(i))}}catch(o){a.e(o)}finally{a.f()}}e.children=t}return e}function Hs(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function qs(e,t){return Ks(t)?e:Ks(e)?t:"".concat(e," ").concat(t)}function Ws(e,t){for(var n in t){var a;e[n]?(a=e[n]).push.apply(a,m(t[n])):e[n]=t[n]}}function Ks(e){return!e&&0!==e}function Ys(e){return e instanceof Xs}function Js(e){return e instanceof Rs}function $s(e){return e instanceof Ms}function Qs(e){return"class"==e||"style"==e}var Zs=n(13);Ss()(Zs.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Zs.a.locals;var Xs=function(){function e(t){h(this,e),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new ln,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(function(e,n){n.locale=t})),this.decorate("render")}return f(e,[{key:"createCollection",value:function(e){var t=new Ms(e);return this._viewCollections.add(t),t}},{key:"registerChild",value:function(e){on(e)||(e=[e]);var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this._unboundChildren.add(a)}}catch(i){n.e(i)}finally{n.f()}}},{key:"deregisterChild",value:function(e){on(e)||(e=[e]);var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this._unboundChildren.remove(a)}}catch(i){n.e(i)}finally{n.f()}}},{key:"setTemplate",value:function(e){this.template=new Rs(e)}},{key:"extendTemplate",value:function(e){Rs.extend(this.template,e)}},{key:"render",value:function(){if(this.isRendered)throw new Kt.a("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map((function(e){return e.destroy()})),this.template&&this.template._revertData&&this.template.revert(this.element)}},{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Rs.bind(this,this)}}]),e}();rn(Xs,Fi),rn(Xs,fa);var ec=function(e){return"string"==typeof e||!Se(e)&&D(e)&&"[object String]"==T(e)},tc=function(e){g(n,e);var t=p(n);function n(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return h(this,n),(a=t.call(this,i)).locale=e,a}return f(n,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new Rs({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var e=document.querySelector(".ck-body-wrapper");e||(e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=n&&n.xmlns,o=i?e.createElementNS(i,t):e.createElement(t);for(var r in n)o.setAttribute(r,n[r]);!ec(a)&&on(a)||(a=[a]);var l,s=d(a);try{for(s.s();!(l=s.n()).done;){var c=l.value;ec(c)&&(c=e.createTextNode(c)),o.appendChild(c)}}catch(u){s.e(u)}finally{s.f()}return o}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){i(o(n.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}]),n}(Ms),nc=n(14);Ss()(nc.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),nc.a.locals;var ac=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).body=new tc(e),a}return f(n,[{key:"render",value:function(){i(o(n.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),i(o(n.prototype),"destroy",this).call(this)}}]),n}(Xs),ic=n(15);Ss()(ic.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ic.a.locals;var oc=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n),(a=t.call(this,e)).set("text"),a.set("for"),a.id="ck-editor__label_".concat(qt());var i=a.bindTemplate;return a.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:a.id,for:i.to("for")},children:[{text:i.to("text")}]}),a}return n}(Xs),rc=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).top=a.createCollection(),a.main=a.createCollection(),a._voiceLabelView=a._createVoiceLabel(),a.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":a._voiceLabelView.id},children:[a._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:a.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:a.main}]}),a}return f(n,[{key:"_createVoiceLabel",value:function(){var e=this.t,t=new oc;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}]),n}(ac),lc=function(e){g(n,e);var t=p(n);function n(e,a,i){var o;return h(this,n),(o=t.call(this,e,a,i)).extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),o}return f(n,[{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this);var t=this._editingView,a=this.t;t.change((function(n){var i=t.document.getRoot(e.name);n.setAttribute("aria-label",a("Rich Text Editor, %0",e.name),i)}))}}]),n}(function(e){g(n,e);var t=p(n);function n(e,a,i){var o;return h(this,n),(o=t.call(this,e)).setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),o.name=null,o.set("isFocused",!1),o._editableElement=i,o._hasExternalElement=!!o._editableElement,o._editingView=a,o}return f(n,[{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(function(){return e._updateIsFocusedClasses()})),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),i(o(n.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var e=this._editingView;function t(t){e.change((function(n){var a=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",a),n.removeClass(t.isFocused?"ck-blurred":"ck-focused",a)}))}e.isRenderingInProgress?function n(a){e.once("change:isRenderingInProgress",(function(e,i,o){o?n(a):t(a)}))}(this):t(this)}}]),n}(Xs));function sc(e){return function(t){return t+e}}var cc=n(16);Ss()(cc.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),cc.a.locals;var dc=sc("px"),uc=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n);var i=(a=t.call(this,e)).bindTemplate;return a.set("isActive",!1),a.set("isSticky",!1),a.set("limiterElement",null),a.set("limiterBottomOffset",50),a.set("viewportTopOffset",0),a.set("_marginLeft",null),a.set("_isStickyToTheLimiter",!1),a.set("_hasViewportTopOffset",!1),a.content=a.createCollection(),a._contentPanelPlaceholder=new Rs({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",(function(e){return e?"block":"none"})),height:i.to("isSticky",(function(e){return e?dc(a._panelRect.height):null}))}}}).render(),a._contentPanel=new Rs({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",(function(e){return e?dc(a._contentPanelPlaceholder.getBoundingClientRect().width):null})),top:i.to("_hasViewportTopOffset",(function(e){return e?dc(a.viewportTopOffset):null})),bottom:i.to("_isStickyToTheLimiter",(function(e){return e?dc(a.limiterBottomOffset):null})),marginLeft:i.to("_marginLeft")}},children:a.content}).render(),a.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[a._contentPanelPlaceholder,a._contentPanel]}),a}return f(n,[{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(Di.window,"scroll",(function(){e._checkIfShouldBeSticky()})),this.listenTo(this,"change:isActive",(function(){e._checkIfShouldBeSticky()}))}},{key:"_checkIfShouldBeSticky",value:function(){var e,t=this._panelRect=this._contentPanel.getBoundingClientRect();this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:dc(-Di.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),n}(Xs),mc=function(){function e(t){var n=this;if(h(this,e),Object.assign(this,t),t.actions&&t.keystrokeHandler){var a=function(e){var a=t.actions[e];"string"==typeof a&&(a=[a]);var i,o=d(a);try{for(o.s();!(i=o.n()).done;){var r=i.value;t.keystrokeHandler.set(r,(function(t,a){n[e](),a()}))}}catch(l){o.e(l)}finally{o.f()}};for(var i in t.actions)a(i)}}return f(e,[{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(e){e&&e.focus()}},{key:"_getFocusableItem",value:function(e){var t=this.current,n=this.focusables.length;if(!n)return null;if(null===t)return this[1===e?"first":"last"];var a=(t+n+e)%n;do{var i=this.focusables.get(a);if(hc(i))return i;a=(a+n+e)%n}while(a!==t);return null}},{key:"first",get:function(){return this.focusables.find(hc)||null}},{key:"last",get:function(){return this.focusables.filter(hc).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var e=this,t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((function(n,a){var i=n.element===e.focusTracker.focusedElement;return i&&(t=a),i})),t)}}]),e}();function hc(e){return!(!e.focus||"none"==Di.window.getComputedStyle(e.element).display)}var fc=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),a}return n}(Xs),gc=function(){function e(t,n){h(this,e),e._observerInstance||e._createObserver(),this._element=t,this._callback=n,e._addElementCallback(t,n),e._observerInstance.observe(t)}return f(e,[{key:"destroy",value:function(){e._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(t,n){e._elementCallbacks||(e._elementCallbacks=new Map);var a=e._elementCallbacks.get(t);a||(a=new Set,e._elementCallbacks.set(t,a)),a.add(n)}},{key:"_deleteElementCallback",value:function(t,n){var a=e._getElementCallbacks(t);a&&(a.delete(n),a.size||(e._elementCallbacks.delete(t),e._observerInstance.unobserve(t))),e._elementCallbacks&&!e._elementCallbacks.size&&(e._observerInstance=null,e._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(t){return e._elementCallbacks?e._elementCallbacks.get(t):null}},{key:"_createObserver",value:function(){var t;t="function"==typeof Di.window.ResizeObserver?Di.window.ResizeObserver:pc,e._observerInstance=new t((function(t){var n,a=d(t);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=e._getElementCallbacks(i.target);if(o){var r,l=d(o);try{for(l.s();!(r=l.n()).done;)(0,r.value)(i)}catch(s){l.e(s)}finally{l.f()}}}}catch(s){a.e(s)}finally{a.f()}}))}}]),e}();gc._observerInstance=null,gc._elementCallbacks=null;var pc=function(){function e(t){h(this,e),this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}return f(e,[{key:"observe",value:function(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}},{key:"unobserve",value:function(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var e=this;this.listenTo(Di.window,"resize",(function(){e._checkElementRectsAndExecuteCallback()})),this._periodicCheckTimeout=setTimeout((function t(){e._checkElementRectsAndExecuteCallback(),e._periodicCheckTimeout=setTimeout(t,100)}),100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var e,t=[],n=d(this._elements);try{for(n.s();!(e=n.n()).done;){var a=e.value;this._hasRectChanged(a)&&t.push({target:a,contentRect:this._previousRects.get(a)})}}catch(i){n.e(i)}finally{n.f()}t.length&&this._callback(t)}},{key:"_hasRectChanged",value:function(e){if(!e.ownerDocument.body.contains(e))return!1;var t=new Po(e),n=this._previousRects.get(e),a=!n||!n.isEqual(t);return this._previousRects.set(e,t),a}}]),e}();rn(pc,Fi);var vc=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n);var i=(a=t.call(this,e)).bindTemplate;return a.set("isVisible",!1),a.set("position","se"),a.children=a.createCollection(),a.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",(function(e){return"ck-dropdown__panel_".concat(e)})),i.if("isVisible","ck-dropdown__panel-visible")]},children:a.children,on:{selectstart:i.to((function(e){return e.preventDefault()}))}}),a}return f(n,[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){if(this.children.length){var e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}]),n}(Xs),bc=n(17);function kc(e){var t=e.element,n=e.target,a=e.positions,i=e.limiter,o=e.fitInViewport;q(n)&&(n=n()),q(i)&&(i=i());var r,l,s=function(e){return e&&e.parentNode?e.offsetParent===Di.document.body?null:e.offsetParent:null}(t),u=new Po(t),m=new Po(n);if(i||o){var h=function(e,t){var n=t.viewportRect,a=t.elementRect.getArea(),i=function(e,t){var n,a=t.targetRect,i=t.elementRect,o=t.limiterRect,r=t.viewportRect,l=[],s=i.getArea(),u=d(e);try{for(u.s();!(n=u.n()).done;){var m=Cc(n.value,a,i);if(m){var h=c(m,2),f=h[0],g=h[1],p=0,v=0;if(o)if(r){var b=o.getIntersection(r);b&&(p=b.getIntersectionArea(g))}else p=o.getIntersectionArea(g);r&&(v=r.getIntersectionArea(g));var k={positionName:f,positionRect:g,limiterIntersectArea:p,viewportIntersectArea:v};if(p===s)return[k];l.push(k)}}}catch(C){u.e(C)}finally{u.f()}return l}(e,t);if(n){var o=yc(i.filter((function(e){return e.viewportIntersectArea===a})),a);if(o)return o}return yc(i,a)}(a,{targetRect:m,elementRect:u,limiterRect:i&&new Po(i).getVisible(),viewportRect:o&&new Po(Di.window)})||Cc(a[0],m,u),f=c(h,2);l=f[0],r=f[1]}else{var g=Cc(a[0],m,u),p=c(g,2);l=p[0],r=p[1]}var v=wc(r);return s&&(v=function(e,t){var n=e.left,a=e.top,i=wc(new Po(t)),o=To(t);return n-=i.left,a-=i.top,n+=t.scrollLeft,a+=t.scrollTop,{left:n-=o.left,top:a-=o.top}}(v,s)),{left:v.left,top:v.top,name:l}}function Cc(e,t,n){var a=e(t,n);if(!a)return null;var i=a.left,o=a.top;return[a.name,n.clone().moveTo(i,o)]}function yc(e,t){var n,a,i,o=0,r=d(e);try{for(r.s();!(i=r.n()).done;){var l=i.value,s=l.positionName,c=l.positionRect,u=l.limiterIntersectArea,m=l.viewportIntersectArea;if(u===t)return[s,c];var h=Math.pow(m,2)+Math.pow(u,2);h>o&&(o=h,n=c,a=s)}}catch(f){r.e(f)}finally{r.f()}return n?[a,n]:null}function wc(e){var t=e.left,n=e.top,a=Di.window;return{left:t+a.scrollX,top:n+a.scrollY}}Ss()(bc.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),bc.a.locals;var Ac=function(e){g(n,e);var t=p(n);function n(e,a,i){var o;h(this,n);var r=(o=t.call(this,e)).bindTemplate;return o.buttonView=a,o.panelView=i,o.set("isOpen",!1),o.set("isEnabled",!0),o.set("class"),o.set("id"),o.set("panelPosition","auto"),o.keystrokes=new fs,o.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",(function(e){return!e}))],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[a,i]}),a.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),o}return f(n,[{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",(function(){e.isOpen=!e.isOpen})),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(function(){e.isOpen&&("auto"===e.panelPosition?e.panelView.position=n._getOptimalPosition({element:e.panelView.element,target:e.buttonView.element,fitInViewport:!0,positions:e._panelPositions}).name:e.panelView.position=e.panelPosition)})),this.keystrokes.listenTo(this.element);var t=function(t,n){e.isOpen&&(e.buttonView.focus(),e.isOpen=!1,n())};this.keystrokes.set("arrowdown",(function(t,n){e.buttonView.isEnabled&&!e.isOpen&&(e.isOpen=!0,n())})),this.keystrokes.set("arrowright",(function(t,n){e.isOpen&&n()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var e=n.defaultPanelPositions,t=e.southEast,a=e.southWest,i=e.northEast,o=e.northWest;return"ltr"===this.locale.uiLanguageDirection?[t,a,i,o]:[a,t,o,i]}}]),n}(Xs);Ac.defaultPanelPositions={southEast:function(e){return{top:e.bottom,left:e.left,name:"se"}},southWest:function(e,t){return{top:e.bottom,left:e.left-t.width+e.width,name:"sw"}},northEast:function(e,t){return{top:e.top-t.height,left:e.left,name:"ne"}},northWest:function(e,t){return{top:e.bottom-t.height,left:e.left-t.width+e.width,name:"nw"}}},Ac._getOptimalPosition=kc;var _c=n(18);Ss()(_c.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),_c.a.locals;var Sc=function(e){g(n,e);var t=p(n);function n(){var e;h(this,n);var a=(e=t.call(this)).bindTemplate;return e.set("content",""),e.set("viewBox","0 0 20 20"),e.set("fillColor",""),e.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:a.to("viewBox")}}),e}return f(n,[{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(function(){e._updateXMLContent(),e._colorFillPaths()})),this.on("change:fillColor",(function(){e._colorFillPaths()}))}},{key:"_updateXMLContent",value:function(){if(this.content){var e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");for(t&&(this.viewBox=t),this.element.innerHTML="";e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var e=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((function(t){t.style.fill=e.fillColor}))}}]),n}(Xs),Ec=n(19);Ss()(Ec.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ec.a.locals;var Oc=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n),(a=t.call(this,e)).set("text",""),a.set("position","s");var i=a.bindTemplate;return a.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",i.to("position",(function(e){return"ck-tooltip_"+e})),i.if("text","ck-hidden",(function(e){return!e.trim()}))]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:i.to("text")}]}]}),a}return n}(Xs),Tc=n(20);Ss()(Tc.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Tc.a.locals;var xc=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n);var i=(a=t.call(this,e)).bindTemplate,o=qt();return a.set("class"),a.set("labelStyle"),a.set("icon"),a.set("isEnabled",!0),a.set("isOn",!1),a.set("isVisible",!0),a.set("isToggleable",!1),a.set("keystroke"),a.set("label"),a.set("tabindex",-1),a.set("tooltip"),a.set("tooltipPosition","s"),a.set("type","button"),a.set("withText",!1),a.set("withKeystroke",!1),a.children=a.createCollection(),a.tooltipView=a._createTooltipView(),a.labelView=a._createLabelView(o),a.iconView=new Sc,a.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),a.keystrokeView=a._createKeystrokeView(),a.bind("_tooltipString").to(r(a),"tooltip",r(a),"label",r(a),"keystroke",a._getTooltipString.bind(r(a))),a.setTemplate({tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",(function(e){return!e})),i.if("isVisible","ck-hidden",(function(e){return!e})),i.to("isOn",(function(e){return e?"ck-on":"ck-off"})),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],type:i.to("type",(function(e){return e||"button"})),tabindex:i.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_".concat(o),"aria-disabled":i.if("isEnabled",!0,(function(e){return!e})),"aria-pressed":i.to("isOn",(function(e){return!!a.isToggleable&&String(e)}))},children:a.children,on:{mousedown:i.to((function(e){e.preventDefault()})),click:i.to((function(e){a.isEnabled?a.fire("execute"):e.preventDefault()}))}}),a}return f(n,[{key:"render",value:function(){i(o(n.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var e=new Oc;return e.bind("text").to(this,"_tooltipString"),e.bind("position").to(this,"tooltipPosition"),e}},{key:"_createLabelView",value:function(e){var t=new Xs,n=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:"ck-editor__aria-label_".concat(e)},children:[{text:this.bindTemplate.to("label")}]}),t}},{key:"_createKeystrokeView",value:function(){var e=new Xs;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(function(e){return Wa(e)}))}]}),e}},{key:"_getTooltipString",value:function(e,t,n){return e?"string"==typeof e?e:(n&&(n=Wa(n)),e instanceof Function?e(t,n):"".concat(t).concat(n?" (".concat(n,")"):"")):""}}]),n}(Xs),Pc='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',Dc=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).arrowView=a._createArrowView(),a.extendTemplate({attributes:{"aria-haspopup":!0}}),a.delegate("execute").to(r(a),"open"),a}return f(n,[{key:"render",value:function(){i(o(n.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var e=new Sc;return e.content=Pc,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}]),n}(xc),Mc=n(21);Ss()(Mc.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Mc.a.locals;var Rc=function(e){g(n,e);var t=p(n);function n(){var e;return h(this,n),(e=t.call(this)).items=e.createCollection(),e.focusTracker=new ws,e.keystrokes=new fs,e._focusCycler=new mc({focusables:e.items,focusTracker:e.focusTracker,keystrokeHandler:e.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),e.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:e.items}),e}return f(n,[{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this);var t,a=d(this.items);try{for(a.s();!(t=a.n()).done;){var r=t.value;this.focusTracker.add(r.element)}}catch(l){a.e(l)}finally{a.f()}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),n}(Xs),Ic=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).children=a.createCollection(),a.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:a.children}),a}return f(n,[{key:"focus",value:function(){this.children.first.focus()}}]),n}(Xs),Bc=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),a}return n}(Xs),Lc=n(22);Ss()(Lc.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Lc.a.locals;var zc=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).isToggleable=!0,a.toggleSwitchView=a._createToggleView(),a.extendTemplate({attributes:{class:"ck-switchbutton"}}),a}return f(n,[{key:"render",value:function(){i(o(n.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var e=new Xs;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}]),n}(xc);function Vc(e){var t=e.emitter,n=e.activator,a=e.callback,i=e.contextElements;t.listenTo(document,"mousedown",(function(e,t){if(n()){var o,r="function"==typeof t.composedPath?t.composedPath():[],l=d(i);try{for(l.s();!(o=l.n()).done;){var s=o.value;if(s.contains(t.target)||r.includes(s))return}}catch(c){l.e(c)}finally{l.f()}a()}}))}var jc=n(23),Fc=(Ss()(jc.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),jc.a.locals,n(24));function Nc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dc,n=new t(e),a=new vc(e),i=new Ac(e,n,a);return n.bind("isEnabled").to(i),n instanceof Dc?n.bind("isOn").to(i,"isOpen"):n.arrowView.bind("isOn").to(i,"isOpen"),function(e){(function(e){e.on("render",(function(){Vc({emitter:e,activator:function(){return e.isOpen},callback:function(){e.isOpen=!1},contextElements:[e.element]})}))})(e),function(e){e.on("execute",(function(t){t.source instanceof zc||(e.isOpen=!1)}))}(e),function(e){e.keystrokes.set("arrowdown",(function(t,n){e.isOpen&&(e.panelView.focus(),n())})),e.keystrokes.set("arrowup",(function(t,n){e.isOpen&&(e.panelView.focusLast(),n())}))}(e)}(i),i}function Gc(e,t){var n=e.locale,a=n.t,i=e.toolbarView=new qc(n);i.set("ariaLabel",a("Dropdown toolbar")),e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.map((function(e){return i.items.add(e)})),e.panelView.children.add(i),i.items.delegate("execute").to(e)}function Uc(e,t){var n=e.locale,a=e.listView=new Rc(n);a.items.bindTo(t).using((function(e){var t=e.type,a=e.model;if("separator"===t)return new Bc(n);if("button"===t||"switchbutton"===t){var i,o,r=new Ic(n);return(i=o="button"===t?new xc(n):new zc(n)).bind.apply(i,m(Object.keys(a))).to(a),o.delegate("execute").to(r),r.children.add(o),r}})),e.panelView.children.add(a),a.items.delegate("execute").to(e)}Ss()(Fc.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Fc.a.locals;var Hc=n(25);Ss()(Hc.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Hc.a.locals;var qc=function(e){g(n,e);var t=p(n);function n(e,a){var i;h(this,n);var o,l=(i=t.call(this,e)).bindTemplate,s=i.t;return i.options=a||{},i.set("ariaLabel",s("Editor toolbar")),i.set("maxWidth","auto"),i.items=i.createCollection(),i.focusTracker=new ws,i.keystrokes=new fs,i.set("class"),i.set("isCompact",!1),i.itemsView=new Wc(e),i.children=i.createCollection(),i.children.add(i.itemsView),i.focusables=i.createCollection(),i._focusCycler=new mc({focusables:i.focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),i.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",l.to("class"),l.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":l.to("ariaLabel"),style:{maxWidth:l.to("maxWidth")}},children:i.children,on:{mousedown:(o=r(i),o.bindTemplate.to((function(e){e.target===o.element&&e.preventDefault()})))}}),i._behavior=i.options.shouldGroupWhenFull?new Yc(r(i)):new Kc(r(i)),i}return f(n,[{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this);var t,a=d(this.items);try{for(a.s();!(t=a.n()).done;){var r=t.value;this.focusTracker.add(r.element)}}catch(l){a.e(l)}finally{a.f()}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),i(o(n.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(e,t){this.items.addMany(e.map((function(e){return"|"==e?new fc:t.has(e)?t.create(e):void Object(Kt.c)("toolbarview-item-unavailable",{name:e})})).filter((function(e){return void 0!==e})))}}]),n}(Xs),Wc=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).children=a.createCollection(),a.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:a.children}),a}return n}(Xs),Kc=function(){function e(t){h(this,e);var n=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((function(e){return e})),t.focusables.bindTo(t.items).using((function(e){return e})),t.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}return f(e,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),e}(),Yc=function(){function e(t){var n=this;h(this,e),this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using((function(e){return e})),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(function(e,t){var a,i=t.index,o=d(t.removed);try{for(o.s();!(a=o.n()).done;){var r=a.value;i>=n.ungroupedItems.length?n.groupedItems.remove(r):n.ungroupedItems.remove(r)}}catch(c){o.e(c)}finally{o.f()}for(var l=i;l<i+t.added.length;l++){var s=t.added[l-i];l>n.ungroupedItems.length?n.groupedItems.add(s,l-n.ungroupedItems.length):n.ungroupedItems.add(s,l)}n._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return f(e,[{key:"render",value:function(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(this.viewElement.ownerDocument.body.contains(this.viewElement))if(this.viewElement.offsetParent){for(var e,t=this.groupedItems.length;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}else this.shouldUpdateGroupingOnNextResize=!0}},{key:"_enableGroupingOnResize",value:function(){var e,t=this;this.resizeObserver=new gc(this.viewElement,(function(n){e&&e===n.contentRect.width&&!t.shouldUpdateGroupingOnNextResize||(t.shouldUpdateGroupingOnNextResize=!1,t._updateGrouping(),e=n.contentRect.width)})),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(e){var t=this;e.on("change:maxWidth",(function(){t._updateGrouping()}))}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new fc),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var e=this.viewLocale,t=e.t,n=Nc(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",Gc(n,[]),n.buttonView.set({label:t("Show more items"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),n.toolbarView.items.bindTo(this.groupedItems).using((function(e){return e})),n}},{key:"_updateFocusCycleableItems",value:function(){var e=this;this.viewFocusables.clear(),this.ungroupedItems.map((function(t){e.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new Po(e.lastChild),a=new Po(e);if(!this.cachedPadding){var i=Di.window.getComputedStyle(e),o="ltr"===t?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(i[o])}return"ltr"===t?n.right>a.right-this.cachedPadding:n.left<a.left+this.cachedPadding}}]),e}(),Jc=n(26);Ss()(Jc.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Jc.a.locals;var $c=function(e){g(n,e);var t=p(n);function n(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h(this,n),(i=t.call(this,e)).stickyPanel=new uc(e),i.toolbar=new qc(e,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),i.editable=new lc(e,a),i}return f(n,[{key:"render",value:function(){i(o(n.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}]),n}(rc),Qc=function(e){g(n,e);var t=p(n);function n(e,a){var i;h(this,n),i=t.call(this,a),jt(e)&&(i.sourceElement=e),i.data.processor=new ks(i.data.viewDocument),i.model.document.createRoot();var o=!i.config.get("toolbar.shouldNotGroupWhenFull"),l=new $c(i.locale,i.editing.view,{shouldToolbarGroupWhenFull:o});return i.ui=new Ds(r(i),l),function(e){if(!q(e.updateSourceElement))throw new Kt.a("attachtoform-missing-elementapi-interface",e);var t=e.sourceElement;if(t&&"textarea"===t.tagName.toLowerCase()&&t.form){var n,a=t.form,i=function(){return e.updateSourceElement()};q(a.submit)&&(n=a.submit,a.submit=function(){i(),n.apply(a)}),a.addEventListener("submit",i),e.on("destroy",(function(){a.removeEventListener("submit",i),n&&(a.submit=n)}))}}(r(i)),i}return f(n,[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),i(o(n.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a){var i=new t(e,n);a(i.initPlugins().then((function(){return i.ui.init(jt(e)?e:null)})).then((function(){if(!jt(e)&&n.initialData)throw new Kt.a("editor-create-initial-data",null);var t=n.initialData||function(e){return jt(e)?(t=e)instanceof HTMLTextAreaElement?t.value:t.innerHTML:e;var t}(e);return i.data.init(t)})).then((function(){return i.fire("ready")})).then((function(){return i})))}))}}]),n}(ps);rn(Qc,{setData:function(e){this.data.set(e)},getData:function(e){return this.data.get(e)}}),rn(Qc,vs);var Zc=function(){function e(t){h(this,e),this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}return f(e,[{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",Xc,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",Xc),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]),e}();function Xc(e){e.return=!1,e.stop()}rn(Zc,fa);var ed=function(){function e(t){var n=this;h(this,e),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(function(){n.refresh()})),this.on("execute",(function(e){n.isEnabled||e.stop()}),{priority:"high"}),this.listenTo(t,"change:isReadOnly",(function(e,t,a){a?n.forceDisabled("readOnlyMode"):n.clearForceDisabled("readOnlyMode")}))}return f(e,[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",td,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",td),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]),e}();function td(e){e.return=!1,e.stop()}function nd(e){var t=e.next();return t.done?null:t.value}rn(ed,fa);var ad=["left","right","center","justify"];function id(e){return ad.includes(e)}function od(e,t){return"rtl"==t.contentLanguageDirection?"right"===e:"left"===e}var rd="alignment",ld=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=this.editor.locale,t=nd(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.isEnabled&&t.hasAttribute("alignment")?this.value=t.getAttribute("alignment"):this.value="rtl"===e.contentLanguageDirection?"right":"left"}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,a=n.locale,i=n.model,o=i.document,r=t.value;i.change((function(t){var n=Array.from(o.selection.getSelectedBlocks()).filter((function(t){return e._canBeAligned(t)})),i=n[0].getAttribute("alignment");od(r,a)||i===r||!r?function(e,t){var n,a=d(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;t.removeAttribute(rd,i)}}catch(o){a.e(o)}finally{a.f()}}(n,t):function(e,t,n){var a,i=d(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;t.setAttribute(rd,n,o)}}catch(r){i.e(r)}finally{i.f()}}(n,t,r)}))}},{key:"_canBeAligned",value:function(e){return this.editor.model.schema.checkAttribute(e,rd)}}]),n}(ed),sd=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),a=t.call(this,e),e.config.define("alignment",{options:[].concat(ad)}),a}return f(n,null,[{key:"pluginName",get:function(){return"AlignmentEditing"}}]),f(n,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.model.schema,a=e.config.get("alignment.options").filter(id);n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0});var i=function(e){var t,n={model:{key:"alignment",values:e.slice()},view:{}},a=d(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n.view[i]={key:"style",value:{"text-align":i}}}}catch(o){a.e(o)}finally{a.f()}return n}(a.filter((function(e){return!od(e,t)})));e.conversion.attributeToAttribute(i),e.commands.add("alignment",new ld(e))}}]),n}(Zc),cd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',dd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',ud=new Map([["left",cd],["right",dd],["center",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>'],["justify",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>']]),md=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.ui.componentFactory,a=t.t,i=t.config.get("alignment.options");i.filter(id).forEach((function(t){return e._addButton(t)})),n.add("alignment",(function(e){var t=Nc(e),o=i.map((function(e){return n.create("alignment:".concat(e))}));Gc(t,o),t.buttonView.set({label:a("Text alignment"),tooltip:!0}),t.toolbarView.isVertical=!0,t.toolbarView.ariaLabel=a("Text alignment toolbar"),t.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});var r="rtl"===e.contentLanguageDirection?dd:cd;return t.buttonView.bind("icon").toMany(o,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.findIndex((function(e){return e}));return a<0?r:o[a].icon})),t.bind("isEnabled").toMany(o,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),t}))}},{key:"_addButton",value:function(e){var t=this,n=this.editor;n.ui.componentFactory.add("alignment:".concat(e),(function(a){var i=n.commands.get("alignment"),o=new xc(a);return o.set({label:t.localizedOptionTitles[e],icon:ud.get(e),tooltip:!0,isToggleable:!0}),o.bind("isEnabled").to(i),o.bind("isOn").to(i,"value",(function(t){return t===e})),t.listenTo(o,"execute",(function(){n.execute("alignment",{value:e}),n.editing.view.focus()})),o}))}},{key:"localizedOptionTitles",get:function(){var e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}}],[{key:"pluginName",get:function(){return"AlignmentUI"}}]),n}(Zc);function hd(e,t){var n=e.start;return{text:Array.from(e.getItems()).reduce((function(e,a){return a.is("$text")||a.is("$textProxy")?e+a.data:(n=t.createPositionAfter(a),"")}),""),range:t.createRange(n,e.end)}}var fd=function(){function e(t,n){var a=this;h(this,e),this.model=t,this.testCallback=n,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(function(){a.isEnabled?a._startListening():(a.stopListening(t.document.selection),a.stopListening(t.document))})),this._startListening()}return f(e,[{key:"_startListening",value:function(){var e=this,t=this.model.document;this.listenTo(t.selection,"change:range",(function(n,a){a.directChange&&(t.selection.isCollapsed?e._evaluateTextBeforeSelection("selection"):e.hasMatch&&(e.fire("unmatched"),e.hasMatch=!1))})),this.listenTo(t,"change:data",(function(t,n){"transparent"!=n.type&&e._evaluateTextBeforeSelection("data",{batch:n})}))}},{key:"_evaluateTextBeforeSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model,a=n.document.selection,i=n.createRange(n.createPositionAt(a.focus.parent,0),a.focus),o=hd(i,n),r=o.text,l=o.range,s=this.testCallback(r);if(!s&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!s,s){var c=Object.assign(t,{text:r,range:l});"object"==typeof s&&Object.assign(c,s),this.fire("matched:".concat(e),c)}}}]),e}();rn(fd,fa);var gd=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),pd=function(e){return gd.test(e)},vd="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",bd="\\ud83c[\\udffb-\\udfff]",kd="[^\\ud800-\\udfff]",Cd="(?:\\ud83c[\\udde6-\\uddff]){2}",yd="[\\ud800-\\udbff][\\udc00-\\udfff]",wd="(?:"+vd+"|"+bd+")?",Ad="[\\ufe0e\\ufe0f]?",_d=Ad+wd+"(?:\\u200d(?:"+[kd,Cd,yd].join("|")+")"+Ad+wd+")*",Sd="(?:"+[kd+vd+"?",vd,Cd,yd,"[\\ud800-\\udfff]"].join("|")+")",Ed=RegExp(bd+"(?="+bd+")|"+Sd+_d,"g"),Od=function(e){return pd(e)?function(e){return e.match(Ed)||[]}(e):function(e){return e.split("")}(e)},Td=function(e){e=Rn(e);var t=pd(e)?Od(e):void 0,n=t?t[0]:e.charAt(0),a=t?function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:zn(e,t,n)}(t,1).join(""):e.slice(1);return n.toUpperCase()+a},xd=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Pd=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Dd=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Md=/^((\w+:(\/{2,})?)|(\W))/i,Rd="Ctrl+K";function Id(e,t){var n=t.writer,a=n.createAttributeElement("a",{href:e},{priority:5});return n.setCustomProperty("link",!0,a),a}function Bd(e){return function(e){return e.replace(xd,"").match(Pd)}(e=String(e))?e:"#"}function Ld(e,t){return!!e&&e.is("element","image")&&t.checkAttribute("image","linkHref")}function zd(e,t){var n,a=(n=e,Dd.test(n)?"mailto:":t),i=!!a&&!Md.test(e);return e&&i?a+e:e}var Vd=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.))+(?:[a-z\\u00a1-\\uffff]{2,})))$","i"),jd=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor.model.document.selection;t.on("change:range",(function(){e.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}},{key:"afterInit",value:function(){this._enableEnterHandling(),this._enableShiftEnterHandling()}},{key:"_enableTypingHandling",value:function(){var e=this,t=this.editor,n=new fd(t.model,(function(e){if(function(e){return e.length>4&&" "===e[e.length-1]&&" "!==e[e.length-2]}(e)){var t=Fd(e.substr(0,e.length-1));return t?{url:t}:void 0}})),a=t.plugins.get("Input");n.on("matched:data",(function(n,i){var o=i.batch,r=i.range,l=i.url;if(a.isInput(o)){var s=r.end.getShiftedBy(-1),c=s.getShiftedBy(-l.length),d=t.model.createRange(c,s);e._applyAutoLink(l,d)}})),n.bind("isEnabled").to(this)}},{key:"_enableEnterHandling",value:function(){var e=this,t=this.editor,n=t.model,a=t.commands.get("enter");a&&a.on("execute",(function(){var t=n.document.selection.getFirstPosition();if(t.parent.previousSibling){var a=n.createRangeIn(t.parent.previousSibling);e._checkAndApplyAutoLinkOnRange(a)}}))}},{key:"_enableShiftEnterHandling",value:function(){var e=this,t=this.editor,n=t.model,a=t.commands.get("shiftEnter");a&&a.on("execute",(function(){var t=n.document.selection.getFirstPosition(),a=n.createRange(n.createPositionAt(t.parent,0),t.getShiftedBy(-1));e._checkAndApplyAutoLinkOnRange(a)}))}},{key:"_checkAndApplyAutoLinkOnRange",value:function(e){var t=this.editor.model,n=hd(e,t),a=n.text,i=n.range,o=Fd(a);if(o){var r=t.createRange(i.end.getShiftedBy(-o.length),i.end);this._applyAutoLink(o,r)}}},{key:"_applyAutoLink",value:function(e,t){var n=this,a=this.editor.model;this.isEnabled&&function(e,t){return t.schema.checkAttributeInSelection(t.createSelection(e),"linkHref")}(t,a)&&a.enqueueChange((function(a){var i=n.editor.config.get("link.defaultProtocol"),o=zd(e,i);a.setAttribute("linkHref",o,t)}))}}],[{key:"pluginName",get:function(){return"AutoLink"}}]),n}(Zc);function Fd(e){var t=Vd.exec(e);return t?t[2]:null}var Nd=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,e)).attributeKey=a,i}return f(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,a=n.document.selection,i=void 0===t.forceValue?!this.value:t.forceValue;n.change((function(t){if(a.isCollapsed)i?t.setSelectionAttribute(e.attributeKey,!0):t.removeSelectionAttribute(e.attributeKey);else{var o,r=n.schema.getValidRanges(a.getRanges(),e.attributeKey),l=d(r);try{for(l.s();!(o=l.n()).done;){var s=o.value;i?t.setAttribute(e.attributeKey,i,s):t.removeAttribute(e.attributeKey,s)}}catch(c){l.e(c)}finally{l.f()}}}))}},{key:"_getValueFromFirstAllowedNode",value:function(){var e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);var a,i=d(n.getRanges());try{for(i.s();!(a=i.n()).done;){var o,r=a.value,l=d(r.getItems());try{for(l.s();!(o=l.n()).done;){var s=o.value;if(t.checkAttribute(s,this.attributeKey))return s.hasAttribute(this.attributeKey)}}catch(c){l.e(c)}finally{l.f()}}}catch(c){i.e(c)}finally{i.f()}return!1}}]),n}(ed),Gd="bold",Ud=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:Gd}),e.model.schema.setAttributeProperties(Gd,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Gd,view:"strong",upcastAlso:["b",function(e){var t=e.getStyle("font-weight");return t?"bold"==t||Number(t)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add(Gd,new Nd(e,Gd)),e.keystrokes.set("CTRL+B",Gd)}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),n}(Zc),Hd="bold",qd=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add(Hd,(function(a){var i=t.commands.get(Hd),o=new xc(a);return o.set({label:n("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),e.listenTo(o,"execute",(function(){t.execute(Hd),t.editing.view.focus()})),o}))}}]),n}(Zc),Wd=function(){function e(t){h(this,e),this.files=function(e){var t=e.files?Array.from(e.files):[],n=e.items?Array.from(e.items):[];return t.length?t:n.filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()}))}(t),this._native=t}return f(e,[{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,t){this._native.setData(e,t)}},{key:"types",get:function(){return this._native.types}}]),e}(),Kd=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n);var i=(a=t.call(this,e)).document;function o(e,t){t.preventDefault();var n=t.dropRange?[t.dropRange]:Array.from(i.selection.getRanges()),a=new Ut(i,"clipboardInput");i.fire(a,{dataTransfer:t.dataTransfer,targetRanges:n}),a.stop.called&&t.stopPropagation()}return a.domEventType=["paste","copy","cut","drop","dragover"],a.listenTo(i,"paste",o,{priority:"low"}),a.listenTo(i,"drop",o,{priority:"low"}),a}return f(n,[{key:"onDomEvent",value:function(e){var t={dataTransfer:new Wd(e.clipboardData?e.clipboardData:e.dataTransfer)};"drop"==e.type&&(t.dropRange=function(e,t){var n,a=t.target.ownerDocument,i=t.clientX,o=t.clientY;return a.caretRangeFromPoint&&a.caretRangeFromPoint(i,o)?n=a.caretRangeFromPoint(i,o):t.rangeParent&&((n=a.createRange()).setStart(t.rangeParent,t.rangeOffset),n.collapse(!0)),n?e.domConverter.domRangeToView(n):e.document.selection.getFirstRange()}(this.view,e)),this.fire(e.type,e,t)}}]),n}(co),Yd=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor.editing.view,t=e.document,n=!1;e.addObserver(Kd),this.listenTo(t,"keydown",(function(e,t){n=t.shiftKey})),this.listenTo(t,"clipboardInput",(function(e,t){n&&(t.asPlainText=!0)}),{priority:"high"})}}],[{key:"pluginName",get:function(){return"PastePlainText"}}]),n}(Zc),Jd=["figcaption","li"],$d=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document,a=t.editing.view,i=a.document;function o(e,a){var o=a.dataTransfer;a.preventDefault();var r=t.data.toView(t.model.getSelectedContent(n.selection));i.fire("clipboardOutput",{dataTransfer:o,content:r,method:e.name})}this._htmlDataProcessor=new ks(i),a.addObserver(Kd),this.listenTo(i,"clipboardInput",(function(e){t.isReadOnly&&e.stop()}),{priority:"highest"}),this.listenTo(i,"clipboardInput",(function(t,n){var i,o=n.dataTransfer,r="";o.getData("text/html")?r=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(e,t){return 1==t.length?" ":t}))}(o.getData("text/html")):o.getData("text/plain")&&(((i=(i=o.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||i.includes("<br>"))&&(i="<p>".concat(i,"</p>")),r=i),r=e._htmlDataProcessor.toView(r);var l=new Ut(e,"inputTransformation");e.fire(l,{content:r,dataTransfer:o,asPlainText:n.asPlainText}),l.stop.called&&t.stop(),a.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",(function(a,i){if(!i.content.isEmpty){var o=e.editor.data,r=e.editor.model,l=o.toModel(i.content,"$clipboardHolder");if(0==l.childCount)return;if(i.asPlainText||function(e){return!(e.childCount>1)&&0==m(e.getChild(0).getAttributeKeys()).length}(l)){var s=new Map(Array.from(n.selection.getAttributes()).filter((function(e){return t.model.schema.getAttributeProperties(e[0]).isFormatting})));r.change((function(e){var t,n=e.createRangeIn(l),a=d(n.getItems());try{for(a.s();!(t=a.n()).done;){var i=t.value;(i.is("$text")||i.is("$textProxy"))&&e.setAttributes(s,i)}}catch(o){a.e(o)}finally{a.f()}}))}r.insertContent(l),a.stop()}}),{priority:"low"}),this.listenTo(i,"copy",o,{priority:"low"}),this.listenTo(i,"cut",(function(e,n){t.isReadOnly?n.preventDefault():o(e,n)}),{priority:"low"}),this.listenTo(i,"clipboardOutput",(function(a,i){i.content.isEmpty||(i.dataTransfer.setData("text/html",e._htmlDataProcessor.toData(i.content)),i.dataTransfer.setData("text/plain",function e(t){var n="";if(t.is("$text")||t.is("$textProxy"))n=t.data;else if(t.is("element","img")&&t.hasAttribute("alt"))n=t.getAttribute("alt");else if(t.is("element","br"))n="\n";else{var a,i=null,o=d(t.getChildren());try{for(o.s();!(a=o.n()).done;){var r=a.value,l=e(r);i&&(i.is("containerElement")||r.is("containerElement"))&&(Jd.includes(i.name)||Jd.includes(r.name)?n+="\n":n+="\n\n"),n+=l,i=r}}catch(s){o.e(s)}finally{o.f()}}return n}(i.content))),"cut"==i.method&&t.model.deleteContent(n.selection)}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Clipboard"}},{key:"requires",get:function(){return[Yd]}}]),n}(Zc);function Qd(e,t){var n,a,i;return u.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=d(t),o.prev=1,n.s();case 3:if((a=n.n()).done){o.next=11;break}if(i=a.value,o.t0=i&&e.getAttributeProperties(i[0]).copyOnEnter,!o.t0){o.next=9;break}return o.next=9,i;case 9:o.next=3;break;case 11:o.next=16;break;case 13:o.prev=13,o.t1=o.catch(1),n.e(o.t1);case 16:return o.prev=16,n.f(),o.finish(16);case 19:case"end":return o.stop()}}),k,null,[[1,13,16,19]])}var Zd=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document;t.change((function(a){!function(e,t,n,a){var i=n.isCollapsed,o=n.getFirstRange(),r=o.start.parent,l=o.end.parent;if(a.isLimit(r)||a.isLimit(l))i||r!=l||e.deleteContent(n);else if(i){var s=Qd(t.model.schema,n.getAttributes());Xd(t,o.start),t.setSelectionAttribute(s)}else{var c=!(o.start.isAtStart&&o.end.isAtEnd),d=r==l;e.deleteContent(n,{leaveUnmerged:c}),c&&(d?Xd(t,n.focus):t.setSelection(l,0))}}(e.editor.model,a,n.selection,t.schema),e.fire("afterExecute",{writer:a})}))}}]),n}(ed);function Xd(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}var eu=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n);var i=(a=t.call(this,e)).document;return i.on("keydown",(function(e,t){var n;a.isEnabled&&t.keyCode==Ua.enter&&(i.once("enter",(function(e){return n=e}),{priority:"highest"}),i.fire("enter",new so(i,t.domEvent,{isSoft:t.shiftKey})),n&&n.stop.called&&e.stop())})),a}return f(n,[{key:"observe",value:function(){}}]),n}(Ui),tu=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view,n=t.document;t.addObserver(eu),e.commands.add("enter",new Zd(e)),this.listenTo(n,"enter",(function(n,a){a.preventDefault(),a.isSoft||(e.execute("enter"),t.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),n}(Zc),nu=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document;t.change((function(a){!function(e,t,n){var a=n.isCollapsed,i=n.getFirstRange(),o=i.start.parent,r=i.end.parent,l=o==r;if(a){var s=Qd(e.schema,n.getAttributes());au(e,t,i.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(s)}else{var c=!(i.start.isAtStart&&i.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:c}),l?au(e,t,n.focus):c&&t.setSelection(r,0)}}(t,a,n.selection),e.fire("afterExecute",{writer:a})}))}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;var n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;var a=t.getFirstRange(),i=a.start.parent,o=a.end.parent;return!iu(i,e)&&!iu(o,e)||i===o}(e.schema,t.selection)}}]),n}(ed);function au(e,t,n){var a=t.createElement("softBreak");e.insertContent(a,n),t.setSelection(a,"after")}function iu(e,t){return!e.is("rootElement")&&(t.isLimit(e)||iu(e.parent,t))}var ou=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.conversion,a=e.editing.view,i=a.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:function(e,t){return t.writer.createEmptyElement("br")}}),a.addObserver(eu),e.commands.add("shiftEnter",new nu(e)),this.listenTo(i,"enter",(function(t,n){n.preventDefault(),n.isSoft&&(e.execute("shiftEnter"),a.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),n}(Zc),ru=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"execute",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!lu(e.schema,n))do{if(!(n=n.parent))return}while(!lu(e.schema,n));e.change((function(e){e.setSelection(n,"in")}))}}]),n}(ed);function lu(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}for(var su=qa("Ctrl+A"),cu=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view.document;e.commands.add("selectAll",new ru(e)),this.listenTo(t,"keydown",(function(t,n){Ha(n)===su&&(e.execute("selectAll"),n.preventDefault())}))}}],[{key:"pluginName",get:function(){return"SelectAllEditing"}}]),n}(Zc),du=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor;t.ui.componentFactory.add("selectAll",(function(n){var a=t.commands.get("selectAll"),i=new xc(n),o=n.t;return i.set({label:o("Select all"),icon:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),i.bind("isOn","isEnabled").to(a,"value","isEnabled"),e.listenTo(i,"execute",(function(){t.execute("selectAll"),t.editing.view.focus()})),i}))}}],[{key:"pluginName",get:function(){return"SelectAllUI"}}]),n}(Zc),uu=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[cu,du]}},{key:"pluginName",get:function(){return"SelectAll"}}]),n}(Zc),mu=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;h(this,e),this.model=t,this.size=0,this.limit=a,this.isLocked=!1,this._changeCallback=function(e,t){"transparent"!=t.type&&t!==n._batch&&n._reset(!0)},this._selectionChangeCallback=function(){n._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}return f(e,[{key:"input",value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(e){this.isLocked&&!e||(this._batch=null,this.size=0)}},{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch()),this._batch}}]),e}(),hu=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,e))._buffer=new mu(e.model,a),i._batches=new WeakSet,i}return f(n,[{key:"destroy",value:function(){i(o(n.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,a=n.document,i=t.text||"",o=i.length,r=t.range?n.createSelection(t.range):a.selection,l=t.resultRange;n.enqueueChange(this._buffer.batch,(function(t){e._buffer.lock(),e._batches.add(e._buffer.batch),n.deleteContent(r),i&&n.insertContent(t.createText(i,a.selection.getAttributes()),r),l?t.setSelection(l):r.is("documentSelection")||t.setSelection(r),e._buffer.unlock(),e._buffer.input(o)}))}},{key:"buffer",get:function(){return this._buffer}}]),n}(ed),fu=[Ha("arrowUp"),Ha("arrowRight"),Ha("arrowDown"),Ha("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],gu=112;gu<=135;gu++)fu.push(gu);function pu(e){return!!e.ctrlKey||fu.includes(e.keyCode)}function vu(e){if(e.newChildren.length-e.oldChildren.length==1){var t=function(e,t){var n,a=[],i=0;return e.forEach((function(e){"equal"==e?(o(),i++):"insert"==e?(r("insert")?n.values.push(t[i]):(o(),n={type:"insert",index:i,values:[t[i]]}),i++):r("delete")?n.howMany++:(o(),n={type:"delete",index:i,howMany:1})})),o(),a;function o(){n&&(a.push(n),n=null)}function r(e){return n&&n.type==e}}(Ai(e.oldChildren,e.newChildren,bu),e.newChildren);if(!(t.length>1)){var n=t[0];return n.values[0]&&n.values[0].is("$text")?n:void 0}}}function bu(e,t){return e&&e.is("$text")&&t&&t.is("$text")?e.data===t.data:e===t}var ku=function(){function e(t){h(this,e),this.editor=t,this.editing=this.editor.editing}return f(e,[{key:"handle",value:function(e,t){if(function(e){if(0==e.length)return!1;var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if("children"===a.type&&!vu(a))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}(e))this._handleContainerChildrenMutations(e,t);else{var n,a=d(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;this._handleTextMutation(i,t),this._handleTextNodeInsertion(i)}}catch(o){a.e(o)}finally{a.f()}}}},{key:"_handleContainerChildrenMutations",value:function(e,t){var n=function(e){var t=e.map((function(e){return e.node})).reduce((function(e,t){return e.getCommonAncestor(t,{includeSelf:!0})}));if(t)return t.getAncestors({includeSelf:!0,parentFirst:!0}).find((function(e){return e.is("containerElement")||e.is("rootElement")}))}(e);if(n){var a=this.editor.editing.view.domConverter.mapViewToDom(n),i=new Bi(this.editor.editing.view.document),o=this.editor.data.toModel(i.domToView(a)).getChild(0),r=this.editor.editing.mapper.toModelElement(n);if(r){var l=Array.from(o.getChildren()),s=Array.from(r.getChildren()),c=l[l.length-1],d=s[s.length-1],u=c&&c.is("element","softBreak"),m=d&&!d.is("element","softBreak");u&&m&&l.pop();var h=this.editor.model.schema;if(Cu(l,h)&&Cu(s,h)){var f=l.map((function(e){return e.is("$text")?e.data:"@"})).join("").replace(/\u00A0/g," "),g=s.map((function(e){return e.is("$text")?e.data:"@"})).join("").replace(/\u00A0/g," ");if(g!==f){var p=yu(Ai(g,f)),v=p.firstChangeAt,b=p.insertions,k=p.deletions,C=null;t&&(C=this.editing.mapper.toModelRange(t.getFirstRange()));var y=f.substr(v,b),w=this.editor.model.createRange(this.editor.model.createPositionAt(r,v),this.editor.model.createPositionAt(r,v+k));this.editor.execute("input",{text:y,range:w,resultRange:C})}}}}}},{key:"_handleTextMutation",value:function(e,t){if("text"==e.type){var n=e.newText.replace(/\u00A0/g," "),a=e.oldText.replace(/\u00A0/g," ");if(a!==n){var i=yu(Ai(a,n)),o=i.firstChangeAt,r=i.insertions,l=i.deletions,s=null;t&&(s=this.editing.mapper.toModelRange(t.getFirstRange()));var c=this.editing.view.createPositionAt(e.node,o),d=this.editing.mapper.toModelPosition(c),u=this.editor.model.createRange(d,d.getShiftedBy(l)),m=n.substr(o,r);this.editor.execute("input",{text:m,range:u,resultRange:s})}}}},{key:"_handleTextNodeInsertion",value:function(e){if("children"==e.type){var t=vu(e),n=this.editing.view.createPositionAt(e.node,t.index),a=this.editing.mapper.toModelPosition(n),i=t.values[0].data;this.editor.execute("input",{text:i.replace(/\u00A0/g," "),range:this.editor.model.createRange(a)})}}}]),e}();function Cu(e,t){return e.every((function(e){return t.isInline(e)}))}function yu(e){for(var t=null,n=null,a=0;a<e.length;a++)"equal"!=e[a]&&(t=null===t?a:t,n=a);for(var i=0,o=0,r=t;r<=n;r++)"insert"!=e[r]&&i++,"delete"!=e[r]&&o++;return{insertions:o,deletions:i,firstChangeAt:t}}var wu=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor,t=new hu(e,e.config.get("typing.undoStep")||20);e.commands.add("input",t),function(e){var t=null,n=e.model,a=e.editing.view,i=e.commands.get("input");function o(e){var o=n.document,l=a.document.isComposing,s=t&&t.isEqual(o.selection);t=null,i.isEnabled&&(pu(e)||o.selection.isCollapsed||l&&229===e.keyCode||!l&&229===e.keyCode&&s||r())}function r(){var e=i.buffer;e.lock();var t=e.batch;i._batches.add(t),n.enqueueChange(t,(function(){n.deleteContent(n.document.selection)})),e.unlock()}Fa?a.document.on("beforeinput",(function(e,t){return o(t)}),{priority:"lowest"}):a.document.on("keydown",(function(e,t){return o(t)}),{priority:"lowest"}),a.document.on("compositionstart",(function(){var e=n.document,t=1!==e.selection.rangeCount||e.selection.getFirstRange().isFlat;e.selection.isCollapsed||t||r()}),{priority:"lowest"}),a.document.on("compositionend",(function(){t=n.createSelection(n.document.selection)}),{priority:"lowest"})}(e),function(e){e.editing.view.document.on("mutations",(function(t,n,a){new ku(e).handle(n,a)}))}(e)}},{key:"isInput",value:function(e){return this.editor.commands.get("input")._batches.has(e)}}],[{key:"pluginName",get:function(){return"Input"}}]),n}(Zc),Au=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,e)).direction=a,i._buffer=new mu(e.model,e.config.get("typing.undoStep")),i}return f(n,[{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,a=n.document;n.enqueueChange(this._buffer.batch,(function(i){e._buffer.lock();var o=i.createSelection(t.selection||a.selection),r=o.isCollapsed;if(o.isCollapsed&&n.modifySelection(o,{direction:e.direction,unit:t.unit}),e._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))e._replaceEntireContentWithParagraph(i);else if(!o.isCollapsed){var l=0;o.getFirstRange().getMinimalFlatRanges().forEach((function(e){l+=Oa(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),n.deleteContent(o,{doNotResetEntireContent:r,direction:e.direction}),e._buffer.input(l),i.setSelection(o),e._buffer.unlock()}}))}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(e){if(e>1)return!1;var t=this.editor.model,n=t.document.selection,a=t.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(a))return!1;if(!t.schema.checkChild(a,"paragraph"))return!1;var i=a.getChild(0);return!i||"paragraph"!==i.name}},{key:"_replaceEntireContentWithParagraph",value:function(e){var t=this.editor.model,n=t.document.selection,a=t.schema.getLimitElement(n),i=e.createElement("paragraph");e.remove(e.createRangeIn(a)),e.insert(i,a),e.setSelection(i,0)}},{key:"buffer",get:function(){return this._buffer}}]),n}(ed),_u=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n),a=t.call(this,e);var i=e.document,o=0;function r(e,t,n){var a;i.once("delete",(function(e){return a=e}),{priority:Number.POSITIVE_INFINITY}),i.fire("delete",new so(i,t,n)),a&&a.stop.called&&e.stop()}return i.on("keyup",(function(e,t){t.keyCode!=Ua.delete&&t.keyCode!=Ua.backspace||(o=0)})),i.on("keydown",(function(e,t){var n={};if(t.keyCode==Ua.delete)n.direction="forward",n.unit="character";else{if(t.keyCode!=Ua.backspace)return;n.direction="backward",n.unit="codePoint"}var a=za?t.altKey:t.ctrlKey;n.unit=a?"word":n.unit,n.sequence=++o,r(e,t.domEvent,n)})),Fa&&i.on("beforeinput",(function(t,n){if("deleteContentBackward"==n.domEvent.inputType){var a={unit:"codepoint",direction:"backward",sequence:1},i=n.domTarget.ownerDocument.defaultView.getSelection();i.anchorNode==i.focusNode&&i.anchorOffset+1!=i.focusOffset&&(a.selectionToRemove=e.domConverter.domSelectionToView(i)),r(t,n.domEvent,a)}})),a}return f(n,[{key:"observe",value:function(){}}]),n}(Ui),Su=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view,n=t.document;if(t.addObserver(_u),e.commands.add("forwardDelete",new Au(e,"forward")),e.commands.add("delete",new Au(e,"backward")),this.listenTo(n,"delete",(function(n,a){var i={unit:a.unit,sequence:a.sequence};if(a.selectionToRemove){var o,r=e.model.createSelection(),l=[],s=d(a.selectionToRemove.getRanges());try{for(s.s();!(o=s.n()).done;){var c=o.value;l.push(e.editing.mapper.toModelRange(c))}}catch(u){s.e(u)}finally{s.f()}r.setTo(l),i.selection=r}e.execute("forward"==a.direction?"forwardDelete":"delete",i),a.preventDefault(),t.scrollToTheSelection()})),Fa){var a=null;this.listenTo(n,"delete",(function(e,t){var n=t.domTarget.ownerDocument.defaultView.getSelection();a={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}}),{priority:"lowest"}),this.listenTo(n,"keyup",(function(e,t){if(a){var n=t.domTarget.ownerDocument.defaultView.getSelection();n.collapse(a.anchorNode,a.anchorOffset),n.extend(a.focusNode,a.focusOffset),a=null}}))}}}],[{key:"pluginName",get:function(){return"Delete"}}]),n}(Zc),Eu=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[wu,Su]}},{key:"pluginName",get:function(){return"Typing"}}]),n}(Zc),Ou=new Map;function Tu(e,t,n){var a=Ou.get(e);a||(a=new Map,Ou.set(e,a)),a.set(t,n)}function xu(e){return[e]}function Pu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=function(e,t){var n=Ou.get(e);return n&&n.has(t)?n.get(t):xu}(e.constructor,t.constructor);try{return a(e=e.clone(),t,n)}catch(e){throw e}}function Du(e,t,n){e=e.slice(),t=t.slice();var a=new Mu(n.document,n.useRelations,n.forceWeakRemove);a.setOriginalOperations(e),a.setOriginalOperations(t);var i=a.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:i};var o,r=new WeakMap,l=d(e);try{for(l.s();!(o=l.n()).done;){var s=o.value;r.set(s,0)}}catch(S){l.e(S)}finally{l.f()}for(var c={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length},u=0;u<e.length;){var h,f,g=e[u],p=r.get(g);if(p!=t.length){var v=t[p],b=Pu(g,v,a.getContext(g,v,!0)),k=Pu(v,g,a.getContext(v,g,!1));a.updateRelation(g,v),a.setOriginalOperations(b,g),a.setOriginalOperations(k,v);var C,y=d(b);try{for(y.s();!(C=y.n()).done;){var w=C.value;r.set(w,p+k.length)}}catch(S){y.e(S)}finally{y.f()}(h=e).splice.apply(h,[u,1].concat(m(b))),(f=t).splice.apply(f,[p,1].concat(m(k)))}else u++}if(n.padWithNoOps){var A=e.length-c.originalOperationsACount,_=t.length-c.originalOperationsBCount;Iu(e,_-A),Iu(t,A-_)}return Ru(e,c.nextBaseVersionB),Ru(t,c.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:i}}var Mu=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,e),this.originalOperations=new Map,this._history=t.history,this._useRelations=n,this._forceWeakRemove=!!a,this._relations=new Map}return f(e,[{key:"setOriginalOperations",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n?this.originalOperations.get(n):null,i=d(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.originalOperations.set(o,a||o)}}catch(r){i.e(r)}finally{i.f()}}},{key:"updateRelation",value:function(e,t){switch(e.constructor){case yl:switch(t.constructor){case El:e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter");break;case yl:e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter")}break;case Ol:switch(t.constructor){case El:e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");break;case yl:(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))&&this._setRelation(e,t,"splitBefore")}break;case El:switch(t.constructor){case El:e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement");break;case Ol:e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource")}break;case Al:var n=e.newRange;if(!n)return;switch(t.constructor){case yl:var a=tr._createFromPositionAndShift(t.sourcePosition,t.howMany),i=a.containsPosition(n.start)||a.start.isEqual(n.start),o=a.containsPosition(n.end)||a.end.isEqual(n.end);!i&&!o||a.containsRange(n)||this._setRelation(e,t,{side:i?"left":"right",path:i?n.start.path.slice():n.end.path.slice()});break;case El:var r=n.start.isEqual(t.targetPosition),l=n.start.isEqual(t.deletionPosition),s=n.end.isEqual(t.deletionPosition),c=n.end.isEqual(t.sourcePosition);(r||l||s||c)&&this._setRelation(e,t,{wasInLeftElement:r,wasStartBeforeMergedElement:l,wasEndBeforeMergedElement:s,wasInRightElement:c})}}}},{key:"getContext",value:function(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(e){var t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}},{key:"_getRelation",value:function(e,t){var n=this.originalOperations.get(t),a=this._history.getUndoneOperation(n);if(!a)return null;var i=this.originalOperations.get(e),o=this._relations.get(i);return o&&o.get(a)||null}},{key:"_setRelation",value:function(e,t,n){var a=this.originalOperations.get(e),i=this.originalOperations.get(t),o=this._relations.get(a);o||(o=new Map,this._relations.set(a,o)),o.set(i,n)}}]),e}();function Ru(e,t){var n,a=d(e);try{for(a.s();!(n=a.n()).done;)n.value.baseVersion=t++}catch(i){a.e(i)}finally{a.f()}}function Iu(e,t){for(var n=0;n<t;n++)e.push(new Kl(0))}function Bu(e,t,n){var a=e.nodes.getNode(0).getAttribute(t);if(a==n)return null;var i=new tr(e.position,e.position.getShiftedBy(e.howMany));return new kl(i,t,a,n,0)}function Lu(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function zu(e,t){for(var n=[],a=0;a<e.length;a++){var i=e[a],o=new yl(i.start,i.end.offset-i.start.offset,t,0);n.push(o);for(var r=a+1;r<e.length;r++)e[r]=e[r]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];t=t._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}Tu(kl,kl,(function(e,t,n){if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){var a=e.range.getDifference(t.range).map((function(t){return new kl(t,e.key,e.oldValue,e.newValue,0)})),i=e.range.getIntersection(t.range);return i&&n.aIsStrong&&a.push(new kl(i,t.key,t.newValue,e.newValue,0)),0==a.length?[new Kl(0)]:a}return[e]})),Tu(kl,wl,(function(e,t){if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){var n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map((function(t){return new kl(t,e.key,e.oldValue,e.newValue,e.baseVersion)}));if(t.shouldReceiveAttributes){var a=Bu(t,e.key,e.oldValue);a&&n.unshift(a)}return n}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]})),Tu(kl,El,(function(e,t){var n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(tr._createFromPositionAndShift(t.graveyardPosition,1));var a=e.range._getTransformedByMergeOperation(t);return a.isCollapsed||n.push(a),n.map((function(t){return new kl(t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),Tu(kl,yl,(function(e,t){return function(e,t){var n=tr._createFromPositionAndShift(t.sourcePosition,t.howMany),a=null,i=[];n.containsRange(e,!0)?a=e:e.start.hasSameParentAs(n.start)?(i=e.getDifference(n),a=e.getIntersection(n)):i=[e];var o,r=[],l=d(i);try{for(l.s();!(o=l.n()).done;){var s=o.value;s=s._getTransformedByDeletion(t.sourcePosition,t.howMany);var c=t.getMovedRangeStart(),u=s.start.hasSameParentAs(c);s=s._getTransformedByInsertion(c,t.howMany,u),r.push.apply(r,m(s))}}catch(h){l.e(h)}finally{l.f()}return a&&r.push(a._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),r}(e.range,t).map((function(t){return new kl(t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),Tu(kl,Ol,(function(e,t){if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){var n=e.clone();return n.range=new tr(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]})),Tu(wl,kl,(function(e,t){var n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){var a=Bu(e,t.key,t.newValue);a&&n.push(a)}return n})),Tu(wl,wl,(function(e,t,n){return e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]})),Tu(wl,yl,(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),Tu(wl,Ol,(function(e,t){return e.position=e.position._getTransformedBySplitOperation(t),[e]})),Tu(wl,El,(function(e,t){return e.position=e.position._getTransformedByMergeOperation(t),[e]})),Tu(Al,wl,(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]})),Tu(Al,Al,(function(e,t,n){if(e.name==t.name){if(!n.aIsStrong)return[new Kl(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]})),Tu(Al,El,(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]})),Tu(Al,yl,(function(e,t,n){if(e.oldRange&&(e.oldRange=tr._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){var a=tr._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.start.path=n.abRelation.path,e.newRange.end=a.end,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=a.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=tr._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]})),Tu(Al,Ol,(function(e,t,n){if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){var a=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=Qo._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=Qo._createAt(t.moveTargetPosition)),e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?e.newRange.end=Qo._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?e.newRange.end=Qo._createAt(t.insertionPosition):e.newRange.end=a.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]})),Tu(El,wl,(function(e,t){return e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]})),Tu(El,El,(function(e,t,n){if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){var a=t.graveyardPosition.path.slice();return a.push(0),e.sourcePosition=new Qo(t.graveyardPosition.root,a),e.howMany=0,[e]}return[new Kl(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){var i="$graveyard"==e.targetPosition.root.rootName,o="$graveyard"==t.targetPosition.root.rootName;if(o&&!i||(!i||o)&&n.aIsStrong){var r=t.targetPosition._getTransformedByMergeOperation(t),l=e.targetPosition._getTransformedByMergeOperation(t);return[new yl(r,e.howMany,l,0)]}return[new Kl(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),Tu(El,yl,(function(e,t,n){var a=tr._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&a.containsPosition(e.sourcePosition)?[new Kl(0)]:(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])})),Tu(El,Ol,(function(e,t,n){if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){var a=0!=t.howMany,i=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(a||i||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]})),Tu(yl,wl,(function(e,t){var n=tr._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]})),Tu(yl,yl,(function(e,t,n){var a,i=tr._createFromPositionAndShift(e.sourcePosition,e.howMany),o=tr._createFromPositionAndShift(t.sourcePosition,t.howMany),r=n.aIsStrong,l=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?l=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(l=!1),a=e.targetPosition.isEqual(t.targetPosition)&&l?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Lu(e,t)&&Lu(t,e))return[t.getReversed()];if(i.containsPosition(t.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),zu([i],a);if(o.containsPosition(e.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),zu([i],a);var s=fn(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==s||"extension"==s)return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),zu([i],a);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(r=!1):r=!0;var c,u=[],h=i.getDifference(o),f=d(h);try{for(f.s();!(c=f.n()).done;){var g=c.value;g.start=g.start._getTransformedByDeletion(t.sourcePosition,t.howMany),g.end=g.end._getTransformedByDeletion(t.sourcePosition,t.howMany);var p="same"==fn(g.start.getParentPath(),t.getMovedRangeStart().getParentPath()),v=g._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,p);u.push.apply(u,m(v))}}catch(k){f.e(k)}finally{f.f()}var b=i.getIntersection(o);return null!==b&&r&&(b.start=b.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),b.end=b.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===u.length?u.push(b):1==u.length?o.start.isBefore(i.start)||o.start.isEqual(i.start)?u.unshift(b):u.push(b):u.splice(1,0,b)),0===u.length?[new Kl(e.baseVersion)]:zu(u,a)})),Tu(yl,Ol,(function(e,t,n){var a=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(a=e.targetPosition._getTransformedBySplitOperation(t));var i=tr._createFromPositionAndShift(e.sourcePosition,e.howMany);if(i.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=a,[e];if(i.start.hasSameParentAs(t.splitPosition)&&i.containsPosition(t.splitPosition)){var o=new tr(t.splitPosition,i.end);return o=o._getTransformedBySplitOperation(t),zu([new tr(i.start,t.splitPosition),o],a)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(a=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(a=e.targetPosition);var r=[i._getTransformedBySplitOperation(t)];if(t.graveyardPosition){var l=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);e.howMany>1&&l&&!n.aWasUndone&&r.push(tr._createFromPositionAndShift(t.insertionPosition,1))}return zu(r,a)})),Tu(yl,El,(function(e,t,n){var a=tr._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new Kl(0)]}else if(!n.aWasUndone){var i=[],o=t.graveyardPosition.clone(),r=t.targetPosition._getTransformedByMergeOperation(t);e.howMany>1&&(i.push(new yl(e.sourcePosition,e.howMany-1,e.targetPosition,0)),o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),r=r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));var l=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),s=new yl(o,1,l,0),c=s.getMovedRangeStart().path.slice();c.push(0);var d=new Qo(s.targetPosition.root,c);r=r._getTransformedByMove(o,l,1);var u=new yl(r,t.howMany,d,0);return i.push(s),i.push(u),i}var m=tr._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=m.start,e.howMany=m.end.offset-m.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]})),Tu(_l,wl,(function(e,t){return e.position=e.position._getTransformedByInsertOperation(t),[e]})),Tu(_l,El,(function(e,t){return e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e])})),Tu(_l,yl,(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),Tu(_l,_l,(function(e,t,n){if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new Kl(0)];e.oldName=t.newName}return[e]})),Tu(_l,Ol,(function(e,t){if("same"==fn(e.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){var n=new _l(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,n]}return e.position=e.position._getTransformedBySplitOperation(t),[e]})),Tu(Sl,Sl,(function(e,t,n){if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new Kl(0)];e.oldValue=t.newValue}return[e]})),Tu(Ol,wl,(function(e,t){return e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=Ol.getInsertionPosition(e.splitPosition),[e]})),Tu(Ol,El,(function(e,t,n){if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){var a=t.graveyardPosition.path.slice();a.push(0);var i=new Qo(t.graveyardPosition.root,a),o=Ol.getInsertionPosition(new Qo(t.graveyardPosition.root,a)),r=new Ol(i,0,null,0);return r.insertionPosition=o,e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Ol.getInsertionPosition(e.splitPosition),e.graveyardPosition=r.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[r,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Ol.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),Tu(Ol,yl,(function(e,t,n){var a=tr._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){var i=a.start.isEqual(e.graveyardPosition)||a.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&i){var o=e.splitPosition._getTransformedByMoveOperation(t),r=e.graveyardPosition._getTransformedByMoveOperation(t),l=r.path.slice();l.push(0);var s=new Qo(r.root,l);return[new yl(o,e.howMany,s,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&a.containsPosition(e.splitPosition)){var c=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);return e.howMany-=c,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=Ol.getInsertionPosition(e.splitPosition),[e]}return!e.splitPosition.isEqual(t.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=Ol.getInsertionPosition(e.splitPosition),[e]):(e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=Ol.getInsertionPosition(e.splitPosition),[e])})),Tu(Ol,Ol,(function(e,t,n){if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new Kl(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new Kl(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){var a="$graveyard"==e.splitPosition.root.rootName,i="$graveyard"==t.splitPosition.root.rootName;if(i&&!a||(!a||i)&&n.aIsStrong){var o=[];return t.howMany&&o.push(new yl(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&o.push(new yl(e.splitPosition,e.howMany,e.moveTargetPosition,0)),o}return[new Kl(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){var r=t.insertionPosition.path.slice();r.push(0);var l=new Qo(t.insertionPosition.root,r);return[e,new yl(e.insertionPosition,1,l,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=Ol.getInsertionPosition(e.splitPosition),[e]}));var Vu=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e))._stack=[],a._createdBatches=new WeakSet,a.refresh(),a.listenTo(e.data,"set",(function(){return a.clearStack()})),a}return f(n,[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"addBatch",value:function(e){var t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(e,t,n){var a,i=this.editor.model,o=i.document,r=[],l=e.map((function(e){return e.getTransformedByOperations(n)})),s=l.flat(),c=d(l);try{for(c.s();!(a=c.n()).done;){var u=a.value.filter((function(e){return!Fu(e,s)}));ju(u);var m=u.find((function(e){return e.root!=o.graveyard}));m&&r.push(m)}}catch(h){c.e(h)}finally{c.f()}r.length&&i.change((function(e){e.setSelection(r,{backward:t})}))}},{key:"_undo",value:function(e,t){var n=this.editor.model,a=n.document;this._createdBatches.add(t);var i=e.operations.slice().filter((function(e){return e.isDocumentOperation}));i.reverse();var o,r=d(i);try{for(r.s();!(o=r.n()).done;){var l,s=o.value,c=s.baseVersion+1,u=Array.from(a.history.getOperations(c)),m=Du([s.getReversed()],u,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA,h=d(m);try{for(h.s();!(l=h.n()).done;){var f=l.value;t.addOperation(f),n.applyOperation(f),a.history.setOperationAsUndone(s,f)}}catch(g){h.e(g)}finally{h.f()}}}catch(g){r.e(g)}finally{r.f()}}}]),n}(ed);function ju(e){e.sort((function(e,t){return e.start.isBefore(t.start)?-1:1}));for(var t=1;t<e.length;t++){var n=e[t-1].getJoined(e[t],!0);n&&(t--,e.splice(t,2,n))}}function Fu(e,t){return t.some((function(t){return t!==e&&t.containsRange(e,!0)}))}var Nu=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t?this._stack.findIndex((function(e){return e.batch==t})):this._stack.length-1,a=this._stack.splice(n,1)[0],i=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(i,(function(){e._undo(a.batch,i);var t=e.editor.model.document.history.getOperations(a.batch.baseVersion);e._restoreSelection(a.selection.ranges,a.selection.isBackward,t),e.fire("revert",a.batch,i)})),this.refresh()}}]),n}(Vu),Gu=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"execute",value:function(){var e=this,t=this._stack.pop(),n=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(n,(function(){var a=t.batch.operations[t.batch.operations.length-1].baseVersion+1,i=e.editor.model.document.history.getOperations(a);e._restoreSelection(t.selection.ranges,t.selection.isBackward,i),e._undo(t.batch,n)})),this.refresh()}}]),n}(Vu),Uu=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e))._batchRegistry=new WeakSet,a}return f(n,null,[{key:"pluginName",get:function(){return"UndoEditing"}}]),f(n,[{key:"init",value:function(){var e=this,t=this.editor;this._undoCommand=new Nu(t),this._redoCommand=new Gu(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(function(t,n){var a=n[0];if(a.isDocumentOperation){var i=a.batch,o=e._redoCommand._createdBatches.has(i),r=e._undoCommand._createdBatches.has(i);e._batchRegistry.has(i)||"transparent"==i.type&&!o&&!r||(o?e._undoCommand.addBatch(i):r||(e._undoCommand.addBatch(i),e._redoCommand.clearStack()),e._batchRegistry.add(i))}}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(function(t,n,a){e._redoCommand.addBatch(a)})),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}]),n}(Zc),Hu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',qu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',Wu=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,a="ltr"==t.uiLanguageDirection?Hu:qu,i="ltr"==t.uiLanguageDirection?qu:Hu;this._addButton("undo",n("Undo"),"CTRL+Z",a),this._addButton("redo",n("Redo"),"CTRL+Y",i)}},{key:"_addButton",value:function(e,t,n,a){var i=this,o=this.editor;o.ui.componentFactory.add(e,(function(r){var l=o.commands.get(e),s=new xc(r);return s.set({label:t,icon:a,keystroke:n,tooltip:!0}),s.bind("isEnabled").to(l,"isEnabled"),i.listenTo(s,"execute",(function(){o.execute(e),o.editing.view.focus()})),s}))}}]),n}(Zc),Ku=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[Uu,Wu]}},{key:"pluginName",get:function(){return"Undo"}}]),n}(Zc),Yu=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,e)).attributeKey=a,i}return f(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=t.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,a=n.document.selection,i=t.value;n.change((function(t){if(a.isCollapsed)i?t.setSelectionAttribute(e.attributeKey,i):t.removeSelectionAttribute(e.attributeKey);else{var o,r=n.schema.getValidRanges(a.getRanges(),e.attributeKey),l=d(r);try{for(l.s();!(o=l.n()).done;){var s=o.value;i?t.setAttribute(e.attributeKey,i,s):t.removeAttribute(e.attributeKey,s)}}catch(c){l.e(c)}finally{l.f()}}}))}}]),n}(ed),Ju=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n);var i=(a=t.call(this,e)).bindTemplate;return a.set("color"),a.set("hasBorder"),a.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035L8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',a.extendTemplate({attributes:{style:{backgroundColor:i.to("color")},class:["ck","ck-color-grid__tile",i.if("hasBorder","ck-color-table__color-tile_bordered")]}}),a}return f(n,[{key:"render",value:function(){i(o(n.prototype),"render",this).call(this),this.iconView.fillColor="hsl(0, 0%, 100%)"}}]),n}(xc),$u=n(27);Ss()($u.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),$u.a.locals;var Qu=function(e){g(n,e);var t=p(n);function n(e,a){var i;h(this,n),i=t.call(this,e);var o=a&&a.colorDefinitions||[],r={};return a&&a.columns&&(r.gridTemplateColumns="repeat( ".concat(a.columns,", 1fr)")),i.set("selectedColor"),i.items=i.createCollection(),i.focusTracker=new ws,i.keystrokes=new fs,i._focusCycler=new mc({focusables:i.items,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),i.items.on("add",(function(e,t){t.isOn=t.color===i.selectedColor})),o.forEach((function(e){var t=new Ju;t.set({color:e.color,label:e.label,tooltip:!0,hasBorder:e.options.hasBorder}),t.on("execute",(function(){i.fire("execute",{value:e.color,hasBorder:e.options.hasBorder,label:e.label})})),i.items.add(t)})),i.setTemplate({tag:"div",children:i.items,attributes:{class:["ck","ck-color-grid"],style:r}}),i.on("change:selectedColor",(function(e,t,n){var a,o=d(i.items);try{for(o.s();!(a=o.n()).done;){var r=a.value;r.isOn=r.color===n}}catch(l){o.e(l)}finally{o.f()}})),i}return f(n,[{key:"focus",value:function(){this.items.length&&this.items.first.focus()}},{key:"focusLast",value:function(){this.items.length&&this.items.last.focus()}},{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this);var t,a=d(this.items);try{for(a.s();!(t=a.n()).done;){var r=t.value;this.focusTracker.add(r.element)}}catch(l){a.e(l)}finally{a.f()}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element)}}]),n}(Xs),Zu=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).set("isEmpty",!0),a.on("change",(function(){a.set("isEmpty",0===a.length)})),a}return f(n,[{key:"add",value:function(e,t){this.find((function(t){return t.color===e.color}))||i(o(n.prototype),"add",this).call(this,e,t)}},{key:"hasColor",value:function(e){return!!this.find((function(t){return t.color===e}))}}]),n}(ln);rn(Zu,fa);var Xu=n(28);Ss()(Xu.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Xu.a.locals;var em=function(e){g(n,e);var t=p(n);function n(e,a){var i,o=a.colors,r=a.columns,l=a.removeButtonLabel,s=a.documentColorsLabel,c=a.documentColorsCount;return h(this,n),(i=t.call(this,e)).items=i.createCollection(),i.colorDefinitions=o,i.focusTracker=new ws,i.keystrokes=new fs,i.set("selectedColor"),i.removeButtonLabel=l,i.columns=r,i.documentColors=new Zu,i.documentColorsCount=c,i._focusCycler=new mc({focusables:i.items,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),i._documentColorsLabel=s,i.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:i.items}),i.items.add(i._removeColorButton()),i}return f(n,[{key:"updateDocumentColors",value:function(e,t){var n=e.document,a=this.documentColorsCount;this.documentColors.clear();var i,o=d(n.getRootNames());try{for(o.s();!(i=o.n()).done;){var r,l=i.value,s=n.getRoot(l),c=e.createRangeIn(s),u=d(c.getItems());try{for(u.s();!(r=u.n()).done;){var m=r.value;if(m.is("$textProxy")&&m.hasAttribute(t)&&(this._addColorToDocumentColors(m.getAttribute(t)),this.documentColors.length>=a))return}}catch(h){u.e(h)}finally{u.f()}}}catch(h){o.e(h)}finally{o.f()}}},{key:"updateSelectedColors",value:function(){var e=this.documentColorsGrid,t=this.staticColorsGrid,n=this.selectedColor;t.selectedColor=n,e&&(e.selectedColor=n)}},{key:"render",value:function(){i(o(n.prototype),"render",this).call(this);var e,t=d(this.items);try{for(t.s();!(e=t.n()).done;){var a=e.value;this.focusTracker.add(a.element)}}catch(r){t.e(r)}finally{t.f()}this.keystrokes.listenTo(this.element)}},{key:"appendGrids",value:function(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount)){var e=Rs.bind(this.documentColors,this.documentColors),t=new oc(this.locale);t.text=this._documentColorsLabel,t.extendTemplate({attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]}}),this.items.add(t),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"_removeColorButton",value:function(){var e=this,t=new xc;return t.set({withText:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',tooltip:!0,label:this.removeButtonLabel}),t.class="ck-color-table__remove-color",t.on("execute",(function(){e.fire("execute",{value:null})})),t}},{key:"_createStaticColorsGrid",value:function(){var e=new Qu(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.delegate("execute").to(this),e}},{key:"_createDocumentColorsGrid",value:function(){var e=this,t=Rs.bind(this.documentColors,this.documentColors),n=new Qu(this.locale,{columns:this.columns});return n.delegate("execute").to(this),n.extendTemplate({attributes:{class:t.if("isEmpty","ck-hidden")}}),n.items.bindTo(this.documentColors).using((function(t){var n=new Ju;return n.set({color:t.color,hasBorder:t.options&&t.options.hasBorder}),t.label&&n.set({label:t.label,tooltip:!0}),n.on("execute",(function(){e.fire("execute",{value:t.color})})),n})),this.documentColors.on("change:isEmpty",(function(e,t,a){a&&(n.selectedColor=null)})),n}},{key:"_addColorToDocumentColors",value:function(e){var t=this.colorDefinitions.find((function(t){return t.color===e}));t?this.documentColors.add(Object.assign({},t)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}]),n}(Xs),tm="fontColor",nm="fontBackgroundColor";function am(e){return function(t){return t.getStyle(e).replace(/\s/g,"")}}function im(e){return function(t,n){return n.writer.createAttributeElement("span",{style:"".concat(e,":").concat(t)},{priority:7})}}var om=function(e){g(n,e);var t=p(n);function n(e){return h(this,n),t.call(this,e,nm)}return n}(Yu),rm=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,lm=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,sm=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,cm=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,dm=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,um=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple","currentcolor","transparent"]);function mm(e){return e.startsWith("#")?rm.test(e):e.startsWith("rgb")?lm.test(e)||sm.test(e):e.startsWith("hsl")?cm.test(e)||dm.test(e):um.has(e.toLowerCase())}var hm=["repeat-x","repeat-y","repeat","space","round","no-repeat"],fm=["center","top","bottom","left","right"];function gm(e){return fm.includes(e)}var pm=["fixed","scroll","local"];function vm(e){return pm.includes(e)}var bm=/^url\(/;function km(e){return bm.test(e)}function Cm(e){e.setNormalizer("background",ym),e.setNormalizer("background-color",(function(e){return{path:"background.color",value:e}})),e.setReducer("background",(function(e){var t=[];return t.push(["background-color",e.color]),t}))}function ym(e){var t,n,a={},i=function(e){return e.replace(/, /g,",").split(" ").map((function(e){return e.replace(/,/g,", ")}))}(e),o=d(i);try{for(o.s();!(t=o.n()).done;){var r=t.value;n=r,hm.includes(n)?(a.repeat=a.repeat||[],a.repeat.push(r)):gm(r)?(a.position=a.position||[],a.position.push(r)):vm(r)?a.attachment=r:mm(r)?a.color=r:km(r)&&(a.image=r)}}catch(l){o.e(l)}finally{o.f()}return{path:"background",value:a}}var wm=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),a=t.call(this,e),e.config.define(nm,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.data.addStyleProcessorRules(Cm),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:nm,value:am("background-color")}}),e.conversion.for("downcast").attributeToElement({model:nm,view:im("background-color")}),e.commands.add(nm,new om(e)),e.model.schema.extend("$text",{allowAttributes:nm}),e.model.schema.setAttributeProperties(nm,{isFormatting:!0,copyOnEnter:!0}),a}return f(n,null,[{key:"pluginName",get:function(){return"FontBackgroundColorEditing"}}]),n}(Zc);function Am(e){return"string"==typeof e?{model:e,label:e,hasBorder:!1,view:{name:"span",styles:{color:e}}}:{model:e.color,label:e.label||e.color,hasBorder:void 0!==e.hasBorder&&e.hasBorder,view:{name:"span",styles:{color:"".concat(e.color)}}}}var _m=function(e){g(n,e);var t=p(n);function n(e,a){var i,o=a.commandName,r=a.icon,l=a.componentName,s=a.dropdownLabel;return h(this,n),(i=t.call(this,e)).commandName=o,i.componentName=l,i.icon=r,i.dropdownLabel=s,i.columns=e.config.get("".concat(i.componentName,".columns")),i.colorTableView=void 0,i}return f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.locale,a=n.t,i=t.commands.get(this.commandName),o=function(e,t){var n=e.t,a={Black:n("Black"),"Dim grey":n("Dim grey"),Grey:n("Grey"),"Light grey":n("Light grey"),White:n("White"),Red:n("Red"),Orange:n("Orange"),Yellow:n("Yellow"),"Light green":n("Light green"),Green:n("Green"),Aquamarine:n("Aquamarine"),Turquoise:n("Turquoise"),"Light blue":n("Light blue"),Blue:n("Blue"),Purple:n("Purple")};return t.map((function(e){var t=a[e.label];return t&&t!=e.label&&(e.label=t),e}))}(n,t.config.get(this.componentName).colors.map(Am).filter((function(e){return!!e}))),r=t.config.get("".concat(this.componentName,".documentColors"));t.ui.componentFactory.add(this.componentName,(function(n){var l=Nc(n);return e.colorTableView=function(e){var t=e.dropdownView,n=e.colors,a=e.columns,i=e.removeButtonLabel,o=e.documentColorsLabel,r=e.documentColorsCount,l=t.locale,s=new em(l,{colors:n,columns:a,removeButtonLabel:i,documentColorsLabel:o,documentColorsCount:r});return t.colorTableView=s,t.panelView.children.add(s),s.delegate("execute").to(t,"execute"),s}({dropdownView:l,colors:o.map((function(e){return{label:e.label,color:e.model,options:{hasBorder:e.hasBorder}}})),columns:e.columns,removeButtonLabel:a("Remove color"),documentColorsLabel:0!==r?a("Document colors"):void 0,documentColorsCount:void 0===r?e.columns:r}),e.colorTableView.bind("selectedColor").to(i,"value"),l.buttonView.set({label:e.dropdownLabel,icon:e.icon,tooltip:!0}),l.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),l.bind("isEnabled").to(i),l.on("execute",(function(n,a){t.execute(e.commandName,a),t.editing.view.focus()})),l.on("change:isOpen",(function(n,a,i){l.colorTableView.appendGrids(),i&&(0!==r&&e.colorTableView.updateDocumentColors(t.model,e.componentName),e.colorTableView.updateSelectedColors())})),l}))}}]),n}(Zc),Sm=function(e){g(n,e);var t=p(n);function n(e){h(this,n);var a=e.locale.t;return t.call(this,e,{commandName:nm,componentName:nm,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:a("Font Background Color")})}return f(n,null,[{key:"pluginName",get:function(){return"FontBackgroundColorUI"}}]),n}(_m),Em=function(e){g(n,e);var t=p(n);function n(e){return h(this,n),t.call(this,e,tm)}return n}(Yu),Om=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),a=t.call(this,e),e.config.define(tm,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:tm,value:am("color")}}),e.conversion.for("downcast").attributeToElement({model:tm,view:im("color")}),e.commands.add(tm,new Em(e)),e.model.schema.extend("$text",{allowAttributes:tm}),e.model.schema.setAttributeProperties(tm,{isFormatting:!0,copyOnEnter:!0}),a}return f(n,null,[{key:"pluginName",get:function(){return"FontColorEditing"}}]),n}(Zc),Tm=function(e){g(n,e);var t=p(n);function n(e){h(this,n);var a=e.locale.t;return t.call(this,e,{commandName:tm,componentName:tm,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3L10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:a("Font Color")})}return f(n,null,[{key:"pluginName",get:function(){return"FontColorUI"}}]),n}(_m),xm=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=this.editor.model,t=nd(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&Pm(t,e.schema)}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=t.document;t.change((function(a){var i,o=(e.selection||n.selection).getSelectedBlocks(),r=d(o);try{for(r.s();!(i=r.n()).done;){var l=i.value;!l.is("element","paragraph")&&Pm(l,t.schema)&&a.rename(l,"paragraph")}}catch(s){r.e(s)}finally{r.f()}}))}}]),n}(ed);function Pm(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}var Dm=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"execute",value:function(e){var t=this.editor.model,n=e.position;t.change((function(e){var a=e.createElement("paragraph");if(!t.schema.checkChild(n.parent,a)){var i=t.schema.findAllowedParent(n,a);if(!i)return;n=e.split(n,i).position}t.insertContent(a,n),e.setSelection(a,"in")}))}}]),n}(ed),Mm=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor,t=e.model;e.commands.add("paragraph",new xm(e)),e.commands.add("insertParagraph",new Dm(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:function(e,t){var a=t.writer;return n.paragraphLikeElements.has(e.name)?e.isEmpty?null:a.createElement("paragraph"):null},view:/.+/,converterPriority:"low"})}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),n}(Zc);Mm.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var Rm=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,e)).modelElements=a,i}return f(n,[{key:"refresh",value:function(){var e=this,t=nd(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((function(n){return Im(t,n,e.editor.model.schema)}))}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document,a=e.value;t.change((function(e){var i,o=Array.from(n.selection.getSelectedBlocks()).filter((function(e){return Im(e,a,t.schema)})),r=d(o);try{for(r.s();!(i=r.n()).done;){var l=i.value;l.is("element",a)||e.rename(l,a)}}catch(s){r.e(s)}finally{r.f()}}))}}]),n}(ed);function Im(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}var Bm="paragraph",Lm=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),a=t.call(this,e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),a}return f(n,null,[{key:"pluginName",get:function(){return"HeadingEditing"}}]),f(n,[{key:"init",value:function(){var e,t=this.editor,n=t.config.get("heading.options"),a=[],i=d(n);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.model!==Bm&&(t.model.schema.register(o.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(o),a.push(o.model))}}catch(r){i.e(r)}finally{i.f()}this._addDefaultH1Conversion(t),t.commands.add("heading",new Rm(t,a))}},{key:"afterInit",value:function(){var e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(function(t,a){var i=e.model.document.selection.getFirstPosition().parent;n.some((function(e){return i.is("element",e.model)}))&&!i.is("element",Bm)&&0===i.childCount&&a.writer.rename(i,Bm)}))}},{key:"_addDefaultH1Conversion",value:function(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Wt.get("low")+1})}}],[{key:"requires",get:function(){return[Mm]}}]),n}(Zc),zm=function e(t,n){h(this,e),n&&ca(this,n),t&&this.set(t)};rn(zm,fa);var Vm=n(29);Ss()(Vm.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Vm.a.locals;var jm=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,a=function(e){var t=e.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map((function(e){var t=n[e.title];return t&&t!=e.title&&(e.title=t),e}))}(t),i=n("Choose heading"),o=n("Heading");t.ui.componentFactory.add("heading",(function(n){var r,l={},s=new ln,c=t.commands.get("heading"),u=t.commands.get("paragraph"),m=[c],h=d(a);try{var f=function(){var e=r.value,t={type:"button",model:new zm({label:e.title,class:e.class,withText:!0})};"paragraph"===e.model?(t.model.bind("isOn").to(u,"value"),t.model.set("commandName","paragraph"),m.push(u)):(t.model.bind("isOn").to(c,"value",(function(t){return t===e.model})),t.model.set({commandName:"heading",commandValue:e.model})),s.add(t),l[e.model]=e.title};for(h.s();!(r=h.n()).done;)f()}catch(p){h.e(p)}finally{h.f()}var g=Nc(n);return Uc(g,s),g.buttonView.set({isOn:!1,withText:!0,tooltip:o}),g.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),g.bind("isEnabled").toMany(m,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),g.buttonView.bind("label").to(c,"value",u,"value",(function(e,t){var n=e||t&&"paragraph";return l[n]?l[n]:i})),e.listenTo(g,"execute",(function(e){t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()})),g}))}}]),n}(Zc),Fm=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e))._childCommands=[],a}return f(n,[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._getFirstEnabledCommand().execute(t)}},{key:"registerChildCommand",value:function(e){var t=this;this._childCommands.push(e),e.on("change:isEnabled",(function(){return t._checkEnabled()})),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find((function(e){return e.isEnabled}))}}]),n}(ed),Nm=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor;e.commands.add("indent",new Fm(e)),e.commands.add("outdent",new Fm(e))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),n}(Zc),Gm='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Um='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',Hm=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,a="ltr"==t.uiLanguageDirection?Gm:Um,i="ltr"==t.uiLanguageDirection?Um:Gm;this._defineButton("indent",n("Increase indent"),a),this._defineButton("outdent",n("Decrease indent"),i)}},{key:"_defineButton",value:function(e,t,n){var a=this,i=this.editor;i.ui.componentFactory.add(e,(function(o){var r=i.commands.get(e),l=new xc(o);return l.set({label:t,icon:n,tooltip:!0}),l.bind("isOn","isEnabled").to(r,"value","isEnabled"),a.listenTo(l,"execute",(function(){i.execute(e),i.editing.view.focus()})),l}))}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),n}(Zc),qm="italic",Wm=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:qm}),e.model.schema.setAttributeProperties(qm,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:qm,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(qm,new Nd(e,qm)),e.keystrokes.set("CTRL+I",qm)}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),n}(Zc),Km="italic",Ym=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add(Km,(function(a){var i=t.commands.get(Km),o=new xc(a);return o.set({label:n("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),e.listenTo(o,"execute",(function(){t.execute(Km),t.editing.view.focus()})),o}))}}]),n}(Zc),Jm=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).domEventType="mousedown",a}return f(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(co),$m=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).attributes=new Set,a._overrideUid=null,a}return f(n,null,[{key:"pluginName",get:function(){return"TwoStepCaretMovement"}}]),f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model,a=t.editing.view,i=t.locale,o=n.document.selection;this.listenTo(a.document,"keydown",(function(t,n){if(o.isCollapsed&&!(n.shiftKey||n.altKey||n.ctrlKey)){var a=n.keyCode==Ua.arrowright,r=n.keyCode==Ua.arrowleft;if(a||r){var l=i.contentLanguageDirection;!0===("ltr"===l&&a||"rtl"===l&&r?e._handleForwardMovement(n):e._handleBackwardMovement(n))&&t.stop()}}}),{priority:Wt.get("high")+1}),this._isNextGravityRestorationSkipped=!1,this.listenTo(o,"change:range",(function(t,n){e._isNextGravityRestorationSkipped?e._isNextGravityRestorationSkipped=!1:e._isGravityOverridden&&(!n.directChange&&eh(o.getFirstPosition(),e.attributes)||e._restoreGravity())}))}},{key:"registerAttribute",value:function(e){this.attributes.add(e)}},{key:"_handleForwardMovement",value:function(e){var t=this.attributes,n=this.editor.model.document.selection,a=n.getFirstPosition();return!this._isGravityOverridden&&(!a.isAtStart||!Qm(n,t))&&(eh(a,t)?(Xm(e),this._overrideGravity(),!0):void 0)}},{key:"_handleBackwardMovement",value:function(e){var t=this.attributes,n=this.editor.model,a=n.document.selection,i=a.getFirstPosition();return this._isGravityOverridden?(Xm(e),this._restoreGravity(),Zm(n,t,i),!0):i.isAtStart?!!Qm(a,t)&&(Xm(e),Zm(n,t,i),!0):function(e,t){return eh(e.getShiftedBy(-1),t)}(i,t)?i.isAtEnd&&!Qm(a,t)&&eh(i,t)?(Xm(e),Zm(n,t,i),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0}},{key:"_overrideGravity",value:function(){this._overrideUid=this.editor.model.change((function(e){return e.overrideSelectionGravity()}))}},{key:"_restoreGravity",value:function(){var e=this;this.editor.model.change((function(t){t.restoreSelectionGravity(e._overrideUid),e._overrideUid=null}))}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}}]),n}(Zc);function Qm(e,t){var n,a=d(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(e.hasAttribute(i))return!0}}catch(o){a.e(o)}finally{a.f()}return!1}function Zm(e,t,n){var a=n.nodeBefore;e.change((function(e){a?e.setSelectionAttribute(a.getAttributes()):e.removeSelectionAttribute(t)}))}function Xm(e){e.preventDefault()}function eh(e,t){var n,a=e.nodeBefore,i=e.nodeAfter,o=d(t);try{for(o.s();!(n=o.n()).done;){var r=n.value,l=a?a.getAttribute(r):void 0;if((i?i.getAttribute(r):void 0)!==l)return!0}}catch(s){o.e(s)}finally{o.f()}return!1}function th(e,t,n,a){return a.createRange(nh(e,t,n,!0,a),nh(e,t,n,!1,a))}function nh(e,t,n,a,i){for(var o=e.textNode||(a?e.nodeBefore:e.nodeAfter),r=null;o&&o.getAttribute(t)==n;)r=o,o=a?o.previousSibling:o.nextSibling;return r?i.createPositionAt(r,a?"before":"after"):e}var ah=function(){function e(){h(this,e),this._definitions=new Set}return f(e,[{key:"add",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t._definitions.add(e)})):this._definitions.add(e)}},{key:"getDispatcher",value:function(){var e=this;return function(t){t.on("attribute:linkHref",(function(t,n,a){if(a.consumable.test(n.item,"attribute:linkHref")){var i,o=a.writer,r=o.document.selection,l=d(e._definitions);try{for(l.s();!(i=l.n()).done;){var s=i.value,c=o.createAttributeElement("a",s.attributes,{priority:5});o.setCustomProperty("link",!0,c),s.callback(n.attributeNewValue)?n.item.is("selection")?o.wrap(r.getFirstRange(),c):o.wrap(a.mapper.toViewRange(n.range),c):o.unwrap(a.mapper.toViewRange(n.range),c)}}catch(u){l.e(u)}finally{l.f()}}}),{priority:"high"})}}},{key:"getDispatcherForLinkedImage",value:function(){var e=this;return function(t){t.on("attribute:linkHref:image",(function(t,n,a){var i,o=a.mapper.toViewElement(n.item),r=Array.from(o.getChildren()).find((function(e){return"a"===e.name})),l=d(e._definitions);try{for(l.s();!(i=l.n()).done;){var s=i.value,u=kn(s.attributes);if(s.callback(n.attributeNewValue)){var m,h=d(u);try{for(h.s();!(m=h.n()).done;){var f=c(m.value,2),g=f[0],p=f[1];"class"===g?a.writer.addClass(p,r):a.writer.setAttribute(g,p,r)}}catch(w){h.e(w)}finally{h.f()}}else{var v,b=d(u);try{for(b.s();!(v=b.n()).done;){var k=c(v.value,2),C=k[0],y=k[1];"class"===C?a.writer.removeClass(y,r):a.writer.removeAttribute(C,r)}}catch(w){b.e(w)}finally{b.f()}}}}catch(w){l.e(w)}finally{l.f()}}))}}},{key:"length",get:function(){return this._definitions.size}}]),e}(),ih=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).manualDecorators=new ln,a.automaticDecorators=new ah,a}return f(n,[{key:"restoreManualDecoratorStates",value:function(){var e,t=d(this.manualDecorators);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.value=this._getDecoratorStateFromModel(n.id)}}catch(a){t.e(a)}finally{t.f()}}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=nd(t.selection.getSelectedBlocks());Ld(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.selection.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref"));var a,i=d(this.manualDecorators);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.value=this._getDecoratorStateFromModel(o.id)}}catch(r){i.e(r)}finally{i.f()}}},{key:"execute",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.editor.model,i=a.document.selection,o=[],r=[];for(var l in n)n[l]?o.push(l):r.push(l);a.change((function(n){if(i.isCollapsed){var l=i.getFirstPosition();if(i.hasAttribute("linkHref")){var s=th(l,"linkHref",i.getAttribute("linkHref"),a);n.setAttribute("linkHref",e,s),o.forEach((function(e){n.setAttribute(e,!0,s)})),r.forEach((function(e){n.removeAttribute(e,s)})),n.setSelection(n.createPositionAfter(s.end.nodeBefore))}else if(""!==e){var c=kn(i.getAttributes());c.set("linkHref",e),o.forEach((function(e){c.set(e,!0)}));var u=n.createText(e,c);a.insertContent(u,l),n.setSelection(n.createPositionAfter(u))}["linkHref"].concat(o,r).forEach((function(e){n.removeSelectionAttribute(e)}))}else{var m,h=a.schema.getValidRanges(i.getRanges(),"linkHref"),f=[],g=d(i.getSelectedBlocks());try{for(g.s();!(m=g.n()).done;){var p=m.value;a.schema.checkAttribute(p,"linkHref")&&f.push(n.createRangeOn(p))}}catch(_){g.e(_)}finally{g.f()}var v,b=f.slice(),k=d(h);try{for(k.s();!(v=k.n()).done;){var C=v.value;t._isRangeToUpdate(C,f)&&b.push(C)}}catch(_){k.e(_)}finally{k.f()}var y,w=d(b);try{var A=function(){var t=y.value;n.setAttribute("linkHref",e,t),o.forEach((function(e){n.setAttribute(e,!0,t)})),r.forEach((function(e){n.removeAttribute(e,t)}))};for(w.s();!(y=w.n()).done;)A()}catch(_){w.e(_)}finally{w.f()}}}))}},{key:"_getDecoratorStateFromModel",value:function(e){var t=this.editor.model,n=t.document,a=nd(n.selection.getSelectedBlocks());return Ld(a,t.schema)?a.getAttribute(e):n.selection.getAttribute(e)}},{key:"_isRangeToUpdate",value:function(e,t){var n,a=d(t);try{for(a.s();!(n=a.n()).done;)if(n.value.containsRange(e))return!1}catch(i){a.e(i)}finally{a.f()}return!0}}]),n}(ed),oh=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=nd(t.selection.getSelectedBlocks());Ld(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref")}},{key:"execute",value:function(){var e=this.editor,t=this.editor.model,n=t.document.selection,a=e.commands.get("link");t.change((function(e){var i,o=n.isCollapsed?[th(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:n.getRanges(),r=d(o);try{for(r.s();!(i=r.n()).done;){var l=i.value;if(e.removeAttribute("linkHref",l),a){var s,c=d(a.manualDecorators);try{for(c.s();!(s=c.n()).done;){var u=s.value;e.removeAttribute(u.id,l)}}catch(m){c.e(m)}finally{c.f()}}}}catch(m){r.e(m)}finally{r.f()}}))}}]),n}(ed),rh=function e(t){var n=t.id,a=t.label,i=t.attributes,o=t.defaultValue;h(this,e),this.id=n,this.set("value"),this.defaultValue=o,this.label=a,this.attributes=i};rn(rh,fa);var lh=n(30);Ss()(lh.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),lh.a.locals;var sh="automatic",ch=/^(https?:)?\/\//,dh=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),a=t.call(this,e),e.config.define("link",{addTargetToExternalLinks:!1}),a}return f(n,null,[{key:"pluginName",get:function(){return"LinkEditing"}},{key:"requires",get:function(){return[$m,wu,$d]}}]),f(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Id}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(e,t){return Id(Bd(e),t)}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(e){return e.getAttribute("href")}}}),e.commands.add("link",new ih(e)),e.commands.add("unlink",new oh(e));var t=function(e,t){var n={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return t.forEach((function(e){return e.label&&n[e.label]&&(e.label=n[e.label]),e})),t}(e.t,function(e){var t=[];if(e)for(var n=0,a=Object.entries(e);n<a.length;n++){var i=c(a[n],2),o=i[0],r=i[1],l=Object.assign({},r,{id:"link".concat(Td(o))});t.push(l)}return t}(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter((function(e){return e.mode===sh}))),this._enableManualDecorators(t.filter((function(e){return"manual"===e.mode}))),e.plugins.get($m).registerAttribute("linkHref"),function(e,t,n,a){var i=e.editing.view,o=new Set;i.document.registerPostFixer((function(n){var i=e.model.document.selection,r=!1;if(i.hasAttribute(t)){var l,s=th(i.getFirstPosition(),t,i.getAttribute(t),e.model),c=e.editing.mapper.toViewRange(s),u=d(c.getItems());try{for(u.s();!(l=u.n()).done;){var m=l.value;m.is("element","a")&&!m.hasClass(a)&&(n.addClass(a,m),o.add(m),r=!0)}}catch(h){u.e(h)}finally{u.f()}}return r})),e.conversion.for("editingDowncast").add((function(e){function t(){i.change((function(e){var t,n=d(o.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;e.removeClass(a,i),o.delete(i)}}catch(r){n.e(r)}finally{n.f()}}))}e.on("insert",t,{priority:"highest"}),e.on("remove",t,{priority:"highest"}),e.on("attribute",t,{priority:"highest"}),e.on("selection",t,{priority:"highest"})}))}(e,"linkHref",0,"ck-link_selected"),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}},{key:"_enableAutomaticDecorators",value:function(e){var t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:sh,callback:function(e){return ch.test(e)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}},{key:"_enableManualDecorators",value:function(e){if(e.length){var t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach((function(e){t.model.schema.extend("$text",{allowAttributes:e.id}),n.add(new rh(e)),t.conversion.for("downcast").attributeToElement({model:e.id,view:function(t,a){var i=a.writer;if(t){var o=n.get(e.id).attributes,r=i.createAttributeElement("a",o,{priority:5});return i.setCustomProperty("link",!0,r),r}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(e.id).attributes},model:{key:e.id}})}))}}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var e=this.editor,t=e.model,n=t.document.selection,a=e.commands.get("link");this.listenTo(t,"insertContent",(function(){var e=n.anchor.nodeBefore,i=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&e&&e.hasAttribute("linkHref")&&(i&&i.hasAttribute("linkHref")||t.change((function(e){uh(e,a.manualDecorators)})))}),{priority:"low"})}},{key:"_enableClickingAfterLink",value:function(){var e=this.editor,t=e.commands.get("link");e.editing.view.addObserver(Jm);var n=!1;this.listenTo(e.editing.view.document,"mousedown",(function(){n=!0})),this.listenTo(e.editing.view.document,"selectionChange",(function(){if(n){n=!1;var a=e.model.document.selection;if(a.isCollapsed&&a.hasAttribute("linkHref")){var i=a.getFirstPosition(),o=th(i,"linkHref",a.getAttribute("linkHref"),e.model);(i.isTouching(o.start)||i.isTouching(o.end))&&e.model.change((function(e){uh(e,t.manualDecorators)}))}}}))}},{key:"_enableTypingOverLink",value:function(){var e,t,n=this.editor,a=n.editing.view;this.listenTo(a.document,"delete",(function(){t=!0}),{priority:"high"}),this.listenTo(n.model,"deleteContent",(function(){var a=n.model.document.selection;a.isCollapsed||(t?t=!1:mh(n)&&function(e){var t=e.document.selection,n=t.getFirstPosition(),a=t.getLastPosition(),i=n.nodeAfter;return!!i&&!!i.is("$text")&&!!i.hasAttribute("linkHref")&&(i===(a.textNode||a.nodeBefore)||th(n,"linkHref",i.getAttribute("linkHref"),e).containsRange(e.createRange(n,a),!0))}(n.model)&&(e=a.getAttributes()))}),{priority:"high"}),this.listenTo(n.model,"insertContent",(function(a,i){var o=c(i,1)[0];t=!1,mh(n)&&e&&(n.model.change((function(t){var n,a=d(e);try{for(a.s();!(n=a.n()).done;){var i=c(n.value,2),r=i[0],l=i[1];t.setAttribute(r,l,o)}}catch(s){a.e(s)}finally{a.f()}})),e=null)}),{priority:"high"})}},{key:"_handleDeleteContentAfterLink",value:function(){var e=this.editor,t=e.model,n=t.document.selection,a=e.editing.view,i=e.commands.get("link"),o=!1,r=!1;this.listenTo(a.document,"delete",(function(e,t){r=t.domEvent.keyCode===Ua.backspace}),{priority:"high"}),this.listenTo(t,"deleteContent",(function(){o=!1;var e=n.getFirstPosition(),a=n.getAttribute("linkHref");if(a){var i=th(e,"linkHref",a,t);o=i.containsPosition(e)||i.end.isEqual(e)}}),{priority:"high"}),this.listenTo(t,"deleteContent",(function(){r&&(r=!1,o||e.model.enqueueChange((function(e){uh(e,i.manualDecorators)})))}),{priority:"low"})}}]),n}(Zc);function uh(e,t){e.removeSelectionAttribute("linkHref");var n,a=d(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.removeSelectionAttribute(i.id)}}catch(o){a.e(o)}finally{a.f()}}function mh(e){return e.plugins.get("Input").isInput(e.model.change((function(e){return e.batch})))}var hh=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).domEventType="click",a}return f(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(co),fh=n(31);Ss()(fh.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),fh.a.locals;var gh=sc("px"),ph=Di.document.body,vh=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n);var i=(a=t.call(this,e)).bindTemplate;return a.set("top",0),a.set("left",0),a.set("position","arrow_nw"),a.set("isVisible",!1),a.set("withArrow",!0),a.set("class"),a.content=a.createCollection(),a.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",(function(e){return"ck-balloon-panel_".concat(e)})),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",gh),left:i.to("left",gh)}},children:a.content}),a}return f(n,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(e){this.show();var t=n.defaultPositions,a=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast],limiter:ph,fitInViewport:!0},e),i=n._getOptimalPosition(a),o=parseInt(i.left),r=parseInt(i.top),l=i.name;Object.assign(this,{top:r,left:o,position:l})}},{key:"pin",value:function(e){var t=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){t.isVisible?t._startPinning(e):t._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(e){var t=this;this.attachTo(e);var n=bh(e.target),a=e.limiter?bh(e.limiter):ph;this.listenTo(Di.document,"scroll",(function(i,o){var r=o.target,l=n&&r.contains(n),s=a&&r.contains(a);!l&&!s&&n&&a||t.attachTo(e)}),{useCapture:!0}),this.listenTo(Di.window,"resize",(function(){t.attachTo(e)}))}},{key:"_stopPinning",value:function(){this.stopListening(Di.document,"scroll"),this.stopListening(Di.window,"resize")}}]),n}(Xs);function bh(e){return jt(e)?e:Oo(e)?e.commonAncestorContainer:"function"==typeof e?bh(e()):null}function kh(e,t){return e.top-t.height-vh.arrowVerticalOffset}function Ch(e){return e.bottom+vh.arrowVerticalOffset}vh.arrowHorizontalOffset=25,vh.arrowVerticalOffset=10,vh._getOptimalPosition=kc,vh.defaultPositions={northWestArrowSouthWest:function(e,t){return{top:kh(e,t),left:e.left-vh.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(e,t){return{top:kh(e,t),left:e.left-.25*t.width-vh.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(e,t){return{top:kh(e,t),left:e.left-t.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(e,t){return{top:kh(e,t),left:e.left-.75*t.width+vh.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(e,t){return{top:kh(e,t),left:e.left-t.width+vh.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(e,t){return{top:kh(e,t),left:e.left+e.width/2-vh.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(e,t){return{top:kh(e,t),left:e.left+e.width/2-.25*t.width-vh.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(e,t){return{top:kh(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(e,t){return{top:kh(e,t),left:e.left+e.width/2-.75*t.width+vh.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(e,t){return{top:kh(e,t),left:e.left+e.width/2-t.width+vh.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(e,t){return{top:kh(e,t),left:e.right-vh.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(e,t){return{top:kh(e,t),left:e.right-.25*t.width-vh.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(e,t){return{top:kh(e,t),left:e.right-t.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(e,t){return{top:kh(e,t),left:e.right-.75*t.width+vh.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(e,t){return{top:kh(e,t),left:e.right-t.width+vh.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(e,t){return{top:Ch(e),left:e.left-vh.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(e,t){return{top:Ch(e),left:e.left-.25*t.width-vh.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(e,t){return{top:Ch(e),left:e.left-t.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(e,t){return{top:Ch(e),left:e.left-.75*t.width+vh.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(e,t){return{top:Ch(e),left:e.left-t.width+vh.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(e,t){return{top:Ch(e),left:e.left+e.width/2-vh.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(e,t){return{top:Ch(e),left:e.left+e.width/2-.25*t.width-vh.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(e,t){return{top:Ch(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(e,t){return{top:Ch(e),left:e.left+e.width/2-.75*t.width+vh.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(e,t){return{top:Ch(e),left:e.left+e.width/2-t.width+vh.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(e,t){return{top:Ch(e),left:e.right-vh.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(e,t){return{top:Ch(e),left:e.right-.25*t.width-vh.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(e,t){return{top:Ch(e),left:e.right-t.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(e,t){return{top:Ch(e),left:e.right-.75*t.width+vh.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(e,t){return{top:Ch(e),left:e.right-t.width+vh.arrowHorizontalOffset,name:"arrow_ne"}}};var yh=n(32),wh=(Ss()(yh.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),yh.a.locals,n(33));Ss()(wh.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),wh.a.locals;var Ah=sc("px"),_h=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).positionLimiter=function(){var e=a.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},a.set("visibleView",null),a.view=new vh(e.locale),e.ui.view.body.add(a.view),e.ui.focusTracker.add(a.view.element),a._viewToStack=new Map,a._idToStack=new Map,a.set("_numberOfStacks",0),a.set("_singleViewMode",!1),a._rotatorView=a._createRotatorView(),a._fakePanelsView=a._createFakePanelsView(),a}return f(n,null,[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),f(n,[{key:"hasView",value:function(e){return Array.from(this._viewToStack.keys()).includes(e)}},{key:"add",value:function(e){if(this.hasView(e.view))throw new Kt.a("contextualballoon-add-view-exist",[this,e]);var t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));var n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}},{key:"remove",value:function(e){if(!this.hasView(e))throw new Kt.a("contextualballoon-remove-view-not-exist",[this,e]);var t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}},{key:"updatePosition",value:function(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(e){this.visibleStack=e;var t=this._idToStack.get(e);if(!t)throw new Kt.a("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}},{key:"_getStackId",value:function(e){return Array.from(this._idToStack.entries()).find((function(t){return t[1]===e}))[0]}},{key:"_showNextStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}},{key:"_showPrevStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}},{key:"_createRotatorView",value:function(){var e=this,t=new Sh(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){return!t&&e>1})),t.on("change:isNavigationVisible",(function(){return e.updatePosition()}),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(function(t,a){if(a<2)return"";var i=Array.from(e._idToStack.values()).indexOf(e._visibleStack)+1;return n("%0 of %1",[i,a])})),t.buttonNextView.on("execute",(function(){t.focusTracker.isFocused&&e.editor.editing.view.focus(),e._showNextStack()})),t.buttonPrevView.on("execute",(function(){t.focusTracker.isFocused&&e.editor.editing.view.focus(),e._showPrevStack()})),t}},{key:"_createFakePanelsView",value:function(){var e=new Eh(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){return!t&&e>=2?Math.min(e-1,2):0})),e.listenTo(this.view,"change:top",(function(){return e.updatePosition()})),e.listenTo(this.view,"change:left",(function(){return e.updatePosition()})),this.editor.ui.view.body.add(e),e}},{key:"_showView",value:function(e){var t=e.view,n=e.balloonClassName,a=void 0===n?"":n,i=e.withArrow,o=void 0===i||i,r=e.singleViewMode,l=void 0!==r&&r;this.view.class=a,this.view.withArrow=o,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var e=Array.from(this._visibleStack.values()).pop().position;return e&&!e.limiter&&(e=Object.assign({},e,{limiter:this.positionLimiter})),e}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}}]),n}(Zc),Sh=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n),a=t.call(this,e);var i=e.t,o=a.bindTemplate;return a.set("isNavigationVisible",!0),a.focusTracker=new ws,a.buttonPrevView=a._createButtonView(i("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),a.buttonNextView=a._createButtonView(i("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),a.content=a.createCollection(),a.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",(function(e){return e?"":"ck-hidden"}))]},children:[a.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},a.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:a.content}]}),a}return f(n,[{key:"render",value:function(){i(o(n.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"showView",value:function(e){this.hideView(),this.content.add(e)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(e,t){var n=new xc(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}]),n}(Xs),Eh=function(e){g(n,e);var t=p(n);function n(e,a){var i;h(this,n);var o=(i=t.call(this,e)).bindTemplate;return i.set("top",0),i.set("left",0),i.set("height",0),i.set("width",0),i.set("numberOfPanels",0),i.content=i.createCollection(),i._balloonPanelView=a,i.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",(function(e){return e?"":"ck-hidden"}))],style:{top:o.to("top",Ah),left:o.to("left",Ah),width:o.to("width",Ah),height:o.to("height",Ah)}},children:i.content}),i.on("change:numberOfPanels",(function(e,t,n,a){n>a?i._addPanels(n-a):i._removePanels(a-n),i.updatePosition()})),i}return f(n,[{key:"_addPanels",value:function(e){for(;e--;){var t=new Xs;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}},{key:"_removePanels",value:function(e){for(;e--;){var t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var e=this._balloonPanelView,t=e.top,n=e.left,a=new Po(this._balloonPanelView.element),i=a.width,o=a.height;Object.assign(this,{top:t,left:n,width:i,height:o})}}}]),n}(Xs),Oh=n(34);Ss()(Oh.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Oh.a.locals;var Th=function(e){g(n,e);var t=p(n);function n(e,a){var i;h(this,n),i=t.call(this,e);var o="ck-labeled-field-view-".concat(qt()),l="ck-labeled-field-view-status-".concat(qt());i.fieldView=a(r(i),o,l),i.set("label"),i.set("isEnabled",!0),i.set("errorText",null),i.set("infoText",null),i.set("class"),i.labelView=i._createLabelView(o),i.statusView=i._createStatusView(l),i.bind("_statusText").to(r(i),"errorText",r(i),"infoText",(function(e,t){return e||t}));var s=i.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",s.to("class"),s.if("isEnabled","ck-disabled",(function(e){return!e}))]},children:[i.labelView,i.fieldView,i.statusView]}),i}return f(n,[{key:"_createLabelView",value:function(e){var t=new oc(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}},{key:"_createStatusView",value:function(e){var t=new Xs(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(function(e){return!e}))],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}},{key:"focus",value:function(){this.fieldView.focus()}}]),n}(Xs),xh=n(35);Ss()(xh.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),xh.a.locals;var Ph=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n),(a=t.call(this,e)).set("value"),a.set("id"),a.set("placeholder"),a.set("isReadOnly",!1),a.set("hasError",!1),a.set("ariaDescribedById");var i=a.bindTemplate;return a.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to("input")}}),a}return f(n,[{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this);var t=function(t){e.element.value=t||0===t?t:""};t(this.value),this.on("change:value",(function(e,n,a){t(a)}))}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}}]),n}(Xs);function Dh(e,t,n){var a=new Ph(e.locale);return a.set({id:t,ariaDescribedById:n}),a.bind("isReadOnly").to(e,"isEnabled",(function(e){return!e})),a.bind("hasError").to(e,"errorText",(function(e){return!!e})),a.on("input",(function(){e.errorText=null})),a}var Mh=n(36),Rh=(Ss()(Mh.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Mh.a.locals,n(37));Ss()(Rh.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Rh.a.locals;var Ih=function(e){g(n,e);var t=p(n);function n(e,a,i){var o;h(this,n),o=t.call(this,e);var r=e.t;o.focusTracker=new ws,o.keystrokes=new fs,o.urlInputView=o._createUrlInput(i),o.saveButtonView=o._createButton(r("Save"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',"ck-button-save"),o.saveButtonView.type="submit",o.cancelButtonView=o._createButton(r("Cancel"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',"ck-button-cancel","cancel"),o._manualDecoratorSwitches=o._createManualDecoratorSwitches(a),o.children=o._createFormChildren(a.manualDecorators),o._focusables=new Ms,o._focusCycler=new mc({focusables:o._focusables,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var l=["ck","ck-link-form","ck-responsive-form"];return a.manualDecorators.length&&l.push("ck-link-form_layout-vertical","ck-vertical-form"),o.setTemplate({tag:"form",attributes:{class:l,tabindex:"-1"},children:o.children}),o}return f(n,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce((function(e,t){return e[t.name]=t.isOn,e}),{})}},{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this),function(e){var t=e.view;t.listenTo(t.element,"submit",(function(e,n){n.preventDefault(),t.fire("submit")}),{useCapture:!0})}({view:this}),[this.urlInputView].concat(m(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://",t=this.locale.t,n=new Th(this.locale,Dh);return n.label=t("Link URL"),n.fieldView.placeholder=e+"example.com",n}},{key:"_createButton",value:function(e,t,n,a){var i=new xc(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),a&&i.delegate("execute").to(this,a),i}},{key:"_createManualDecoratorSwitches",value:function(e){var t,n=this,a=this.createCollection(),i=d(e.manualDecorators);try{var o=function(){var i=t.value,o=new zc(n.locale);o.set({name:i.id,label:i.label,withText:!0}),o.bind("isOn").toMany([i,e],"value",(function(e,t){return void 0===t&&void 0===e?i.defaultValue:e})),o.on("execute",(function(){i.set("value",!o.isOn)})),a.add(o)};for(i.s();!(t=i.n()).done;)o()}catch(r){i.e(r)}finally{i.f()}return a}},{key:"_createFormChildren",value:function(e){var t=this.createCollection();if(t.add(this.urlInputView),e.length){var n=new Xs;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((function(e){return{tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}]),n}(Xs),Bh=n(38);Ss()(Bh.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Bh.a.locals;var Lh=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n),a=t.call(this,e);var i=e.t;return a.focusTracker=new ws,a.keystrokes=new fs,a.previewButtonView=a._createPreviewButton(),a.unlinkButtonView=a._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),a.editButtonView=a._createButton(i("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),a.set("href"),a._focusables=new Ms,a._focusCycler=new mc({focusables:a._focusables,focusTracker:a.focusTracker,keystrokeHandler:a.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),a.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[a.previewButtonView,a.editButtonView,a.unlinkButtonView]}),a}return f(n,[{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(e,t,n){var a=new xc(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.delegate("execute").to(this,n),a}},{key:"_createPreviewButton",value:function(){var e=new xc(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",(function(e){return e&&Bd(e)})),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",(function(e){return e||n("This link has no URL")})),e.bind("isEnabled").to(this,"href",(function(e){return!!e})),e.template.tag="a",e.template.eventListeners={},e}}]),n}(Xs),zh="link-ui",Vh=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor;e.editing.view.addObserver(hh),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(_h),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:zh,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:zh,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}},{key:"destroy",value:function(){i(o(n.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var e=this,t=this.editor,n=new Lh(t.locale),a=t.commands.get("link"),i=t.commands.get("unlink");return n.bind("href").to(a,"value"),n.editButtonView.bind("isEnabled").to(a),n.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(n,"edit",(function(){e._addFormView()})),this.listenTo(n,"unlink",(function(){t.execute("unlink"),e._hideUI()})),n.keystrokes.set("Esc",(function(t,n){e._hideUI(),n()})),n.keystrokes.set(Rd,(function(t,n){e._addFormView(),n()})),n}},{key:"_createFormView",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),a=t.config.get("link.defaultProtocol"),i=new Ih(t.locale,n,a);return i.urlInputView.fieldView.bind("value").to(n,"value"),i.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(e){return!e})),i.saveButtonView.bind("isEnabled").to(n),this.listenTo(i,"submit",(function(){var n=zd(i.urlInputView.fieldView.element.value,a);t.execute("link",n,i.getDecoratorSwitchesState()),e._closeFormView()})),this.listenTo(i,"cancel",(function(){e._closeFormView()})),i.keystrokes.set("Esc",(function(t,n){e._closeFormView(),n()})),i}},{key:"_createToolbarLinkButton",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),a=t.t;t.keystrokes.set(Rd,(function(t,a){a(),n.isEnabled&&e._showUI(!0)})),t.ui.componentFactory.add("link",(function(t){var i=new xc(t);return i.isEnabled=!0,i.label=a("Link"),i.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',i.keystroke=Rd,i.tooltip=!0,i.isToggleable=!0,i.bind("isEnabled").to(n,"isEnabled"),i.bind("isOn").to(n,"value",(function(e){return!!e})),e.listenTo(i,"execute",(function(){return e._showUI(!0)})),i}))}},{key:"_enableUserBalloonInteractions",value:function(){var e=this,t=this.editor.editing.view.document;this.listenTo(t,"click",(function(){e._getSelectedLinkElement()&&e._showUI()})),this.editor.keystrokes.set("Tab",(function(t,n){e._areActionsVisible&&!e.actionsView.focusTracker.isFocused&&(e.actionsView.focus(),n())}),{priority:"high"}),this.editor.keystrokes.set("Esc",(function(t,n){e._isUIVisible&&(e._hideUI(),n())})),Vc({emitter:this.formView,activator:function(){return e._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return e._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(!this._isFormInPanel){var e=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.urlInputView.fieldView.element.value=e.value||""}}},{key:"_closeFormView",value:function(){var e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}},{key:"_showUI",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(this._isUIInPanel){var e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}}},{key:"_startUpdatingUI",value:function(){var e=this,t=this.editor,n=t.editing.view.document,a=this._getSelectedLinkElement(),i=r(),o=function(){var t=e._getSelectedLinkElement(),n=r();a&&!t||!a&&n!==i?e._hideUI():e._isUIVisible&&e._balloon.updatePosition(e._getBalloonPositionData()),a=t,i=n};function r(){return n.selection.focus.getAncestors().reverse().find((function(e){return e.is("element")}))}this.listenTo(t.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}},{key:"_getBalloonPositionData",value:function(){var e=this.editor.editing.view,t=this.editor.model,n=e.document,a=null;if(t.markers.has(zh)){var i=Array.from(this.editor.editing.mapper.markerNameToElements(zh)),o=e.createRange(e.createPositionBefore(i[0]),e.createPositionAfter(i[i.length-1]));a=e.domConverter.viewRangeToDom(o)}else{var r=this._getSelectedLinkElement(),l=n.selection.getFirstRange();a=r?e.domConverter.mapViewToDom(r):e.domConverter.viewRangeToDom(l)}return{target:a}}},{key:"_getSelectedLinkElement",value:function(){var e=this.editor.editing.view,t=e.document.selection;if(t.isCollapsed)return jh(t.getFirstPosition());var n=t.getFirstRange().getTrimmed(),a=jh(n.start),i=jh(n.end);return a&&a==i&&e.createRangeIn(a).getTrimmed().isEqual(n)?a:null}},{key:"_showFakeVisualSelection",value:function(){var e=this.editor.model;e.change((function(t){var n=e.document.selection.getFirstRange();if(e.markers.has(zh))t.updateMarker(zh,{range:n});else if(n.start.isAtEnd){var a=function e(t,n,a){var i=[t.start.path[0]+1,0],o=a.createPositionFromPath(t.start.root,i,"toNext"),r=a.createRange(o,t.end);return r.start.path[0]>t.end.path[0]?a.createRange(n):o.isAtStart&&o.isAtEnd?e(r,n,a):r}(n,e.document.selection.focus,t);t.addMarker(zh,{usingOperation:!1,affectsData:!1,range:a})}else t.addMarker(zh,{usingOperation:!1,affectsData:!1,range:n})}))}},{key:"_hideFakeVisualSelection",value:function(){var e=this.editor.model;e.markers.has(zh)&&e.change((function(e){e.removeMarker(zh)}))}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView==this.formView||this._areActionsVisible}}],[{key:"requires",get:function(){return[_h]}},{key:"pluginName",get:function(){return"LinkUI"}}]),n}(Zc);function jh(e){return e.getAncestors().find((function(e){return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t}))}var Fh=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,e)).type=a,i}return f(n,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document,a=Array.from(n.selection.getSelectedBlocks()).filter((function(e){return Gh(e,t.schema)})),i=!0===this.value;t.change((function(t){if(i){for(var n=a[a.length-1].nextSibling,o=Number.POSITIVE_INFINITY,r=[];n&&"listItem"==n.name&&0!==n.getAttribute("listIndent");){var l=n.getAttribute("listIndent");l<o&&(o=l);var s=l-o;r.push({element:n,listIndent:s}),n=n.nextSibling}r=r.reverse();var c,u=d(r);try{for(u.s();!(c=u.n()).done;){var m=c.value;t.setAttribute("listIndent",m.listIndent,m.element)}}catch(C){u.e(C)}finally{u.f()}}if(!i){var h,f=Number.POSITIVE_INFINITY,g=d(a);try{for(g.s();!(h=g.n()).done;){var p=h.value;p.is("element","listItem")&&p.getAttribute("listIndent")<f&&(f=p.getAttribute("listIndent"))}}catch(C){g.e(C)}finally{g.f()}Nh(a,!0,f=0===f?1:f),Nh(a,!1,f)}var v,b=d(a.reverse());try{for(b.s();!(v=b.n()).done;){var k=v.value;i&&"listItem"==k.name?t.rename(k,"paragraph"):i||"listItem"==k.name?i||"listItem"!=k.name||k.getAttribute("listType")==e.type||t.setAttribute("listType",e.type,k):(t.setAttributes({listType:e.type,listIndent:0},k),t.rename(k,"listItem"))}}catch(C){b.e(C)}finally{b.f()}e.fire("_executeCleanup",a)}))}},{key:"_getValue",value:function(){var e=nd(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.document.selection,t=this.editor.model.schema,n=nd(e.getSelectedBlocks());return!!n&&Gh(n,t)}}]),n}(ed);function Nh(e,t,n){var a=t?e[0]:e[e.length-1];if(a.is("element","listItem"))for(var i=a[t?"previousSibling":"nextSibling"],o=a.getAttribute("listIndent");i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=n;)o>i.getAttribute("listIndent")&&(o=i.getAttribute("listIndent")),i.getAttribute("listIndent")==o&&e[t?"unshift":"push"](i),i=i[t?"previousSibling":"nextSibling"]}function Gh(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}var Uh=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,e))._indentBy="forward"==a?1:-1,i}return f(n,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document,a=Array.from(n.selection.getSelectedBlocks());t.change((function(t){for(var n=a[a.length-1],i=n.nextSibling;i&&"listItem"==i.name&&i.getAttribute("listIndent")>n.getAttribute("listIndent");)a.push(i),i=i.nextSibling;e._indentBy<0&&(a=a.reverse());var o,r=d(a);try{for(r.s();!(o=r.n()).done;){var l=o.value,s=l.getAttribute("listIndent")+e._indentBy;s<0?t.rename(l,"paragraph"):t.setAttribute("listIndent",s,l)}}catch(c){r.e(c)}finally{r.f()}e.fire("_executeCleanup",a)}))}},{key:"_checkEnabled",value:function(){var e=nd(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){for(var t=e.getAttribute("listIndent"),n=e.getAttribute("listType"),a=e.previousSibling;a&&a.is("element","listItem")&&a.getAttribute("listIndent")>=t;){if(a.getAttribute("listIndent")==t)return a.getAttribute("listType")==n;a=a.previousSibling}return!1}return!0}}]),n}(ed);function Hh(e,t,n,a){var i=t.parent,o=n.mapper,r=n.writer,l=o.toViewPosition(a.createPositionBefore(e)),s=Kh(e.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:e.getAttribute("listIndent")}),c=e.previousSibling;if(s&&s.getAttribute("listIndent")==e.getAttribute("listIndent")){var u=o.toViewElement(s);l=r.breakContainer(r.createPositionAfter(u))}else if(c&&"listItem"==c.name){l=o.toViewPosition(a.createPositionAt(c,"end"));var m=o.findMappedViewAncestor(l),h=function(e){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var a=t.value;if("ul"==a.name||"ol"==a.name)return a}}catch(i){n.e(i)}finally{n.f()}return null}(m);l=h?r.createPositionBefore(h):r.createPositionAt(m,"end")}else l=o.toViewPosition(a.createPositionBefore(e));if(l=Wh(l),r.insert(l,i),c&&"listItem"==c.name){var f,g=o.toViewElement(c),p=r.createRange(r.createPositionAt(g,0),l).getWalker({ignoreElementEnd:!0}),v=d(p);try{for(v.s();!(f=v.n()).done;){var b=f.value;if(b.item.is("element","li")){var k=r.breakContainer(r.createPositionBefore(b.item)),C=b.item.parent,y=r.createPositionAt(t,"end");qh(r,y.nodeBefore,y.nodeAfter),r.move(r.createRangeOn(C),y),p.position=k}}}catch(T){v.e(T)}finally{v.f()}}else{var w=i.nextSibling;if(w&&(w.is("element","ul")||w.is("element","ol"))){var A,_=null,S=d(w.getChildren());try{for(S.s();!(A=S.n()).done;){var E=A.value,O=o.toModelElement(E);if(!(O&&O.getAttribute("listIndent")>e.getAttribute("listIndent")))break;_=E}}catch(T){S.e(T)}finally{S.f()}_&&(r.breakContainer(r.createPositionAfter(_)),r.move(r.createRangeOn(_.parent),r.createPositionAt(t,"end")))}}qh(r,i,i.nextSibling),qh(r,i.previousSibling,i)}function qh(e,t,n){return!t||!n||"ul"!=t.name&&"ol"!=t.name||t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")?null:e.mergeContainers(e.createPositionAfter(t))}function Wh(e){return e.getLastMatchingPosition((function(e){return e.item.is("uiElement")}))}function Kh(e,t){for(var n=!!t.sameIndent,a=!!t.smallerIndent,i=t.listIndent,o=e;o&&"listItem"==o.name;){var r=o.getAttribute("listIndent");if(n&&i==r||a&&i>r)return o;o="forward"===t.direction?o.nextSibling:o.previousSibling}return null}function Yh(e,t,n,a){e.ui.componentFactory.add(t,(function(i){var o=e.commands.get(t),r=new xc(i);return r.set({label:n,icon:a,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),r.on("execute",(function(){e.execute(t),e.editing.view.focus()})),r}))}function Jh(e,t){var n,a=[],i=e.parent,o={ignoreElementEnd:!0,startPosition:e,shallow:!0,direction:t},r=i.getAttribute("listIndent"),l=m(new Jo(o)).filter((function(e){return e.item.is("element")})).map((function(e){return e.item})),s=d(l);try{for(s.s();!(n=s.n()).done;){var c=n.value;if(!c.is("element","listItem"))break;if(c.getAttribute("listIndent")<r)break;if(!(c.getAttribute("listIndent")>r)){if(c.getAttribute("listType")!==i.getAttribute("listType"))break;if(c.getAttribute("listStyle")!==i.getAttribute("listStyle"))break;"backward"===t?a.unshift(c):a.push(c)}}}catch(u){s.e(u)}finally{s.f()}return a}function $h(){var e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:sa.call(this)}function Qh(e){return function(t,n,a){var i=a.consumable;if(i.test(n.item,"insert")&&i.test(n.item,"attribute:listType")&&i.test(n.item,"attribute:listIndent")){i.consume(n.item,"insert"),i.consume(n.item,"attribute:listType"),i.consume(n.item,"attribute:listIndent");var o=n.item;Hh(o,function(e,t){var n=t.mapper,a=t.writer,i="numbered"==e.getAttribute("listType")?"ol":"ul",o=function(e){var t=e.createContainerElement("li");return t.getFillerOffset=$h,t}(a),r=a.createContainerElement(i,null);return a.insert(a.createPositionAt(r,0),o),n.bindElements(e,o),o}(o,a),a,e)}}}function Zh(e,t,n){if(n.consumable.consume(t.item,"attribute:listType")){var a=n.mapper.toViewElement(t.item),i=n.writer;i.breakContainer(i.createPositionBefore(a)),i.breakContainer(i.createPositionAfter(a));var o=a.parent,r="numbered"==t.attributeNewValue?"ol":"ul";i.rename(r,o)}}function Xh(e,t,n){var a=n.mapper.toViewElement(t.item).parent,i=n.writer;qh(i,a,a.nextSibling),qh(i,a.previousSibling,a);var o,r=d(t.item.getChildren());try{for(r.s();!(o=r.n()).done;){var l=o.value;n.consumable.consume(l,"insert")}}catch(s){r.e(s)}finally{r.f()}}function ef(e,t,n){if("listItem"!=t.item.name){for(var a=n.mapper.toViewPosition(t.range.start),i=n.writer,o=[];("ul"==a.parent.name||"ol"==a.parent.name)&&"li"==(a=i.breakContainer(a)).parent.name;){var r=a,l=i.createPositionAt(a.parent,"end");if(!r.isEqual(l)){var s=i.remove(i.createRange(r,l));o.push(s)}a=i.createPositionAfter(a.parent)}if(o.length>0){for(var c=0;c<o.length;c++){var d=a.nodeBefore;if(a=i.insert(a,o[c]).end,c>0){var u=qh(i,d,d.nextSibling);u&&u.parent==d&&a.offset--}}qh(i,a.nodeBefore,a.nodeAfter)}}}function tf(e,t,n){var a=n.mapper.toViewPosition(t.position),i=a.nodeBefore,o=a.nodeAfter;qh(n.writer,i,o)}function nf(e,t,n){if(n.consumable.consume(t.viewItem,{name:!0})){var a=n.writer,i=a.createElement("listItem"),o=function(e){for(var t=0,n=e.parent;n;){if(n.is("element","li"))t++;else{var a=n.previousSibling;a&&a.is("element","li")&&t++}n=n.parent}return t}(t.viewItem);a.setAttribute("listIndent",o,i);var r=t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted";if(a.setAttribute("listType",r,i),!n.safeInsert(i,t.modelCursor))return;var l=function(e,t,n){var a,i=n.writer,o=n.schema,r=i.createPositionAfter(e),l=d(t);try{for(l.s();!(a=l.n()).done;){var s=a.value;if("ul"==s.name||"ol"==s.name)r=n.convertItem(s,r).modelCursor;else{var c=n.convertItem(s,i.createPositionAt(e,"end")),u=c.modelRange.start.nodeAfter;u&&u.is("element")&&!o.checkChild(e,u.name)&&(e=c.modelCursor.parent.is("element","listItem")?c.modelCursor.parent:sf(c.modelCursor),r=i.createPositionAfter(e))}}}catch(m){l.e(m)}finally{l.f()}return r}(i,t.viewItem.getChildren(),n);t.modelRange=a.createRange(t.modelCursor,l),n.updateConversionResult(i,t)}}function af(e,t,n){if(n.consumable.test(t.viewItem,{name:!0}))for(var a=0,i=Array.from(t.viewItem.getChildren());a<i.length;a++){var o=i[a];!o.is("element","li")&&!df(o)&&o._remove()}}function of(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;var a,i=m(t.viewItem.getChildren()),o=!1,r=!0,l=d(i);try{for(l.s();!(a=l.n()).done;){var s=a.value;o&&!df(s)&&s._remove(),s.is("$text")?(r&&(s._data=s.data.replace(/^\s+/,"")),s.nextSibling&&!df(s.nextSibling)||(s._data=s.data.replace(/\s+$/,""))):df(s)&&(o=!0),r=!1}}catch(c){l.e(c)}finally{l.f()}}}function rf(e){return function(t,n){if(!n.isPhantom){var a=n.modelPosition.nodeBefore;if(a&&a.is("element","listItem")){var i,o=n.mapper.toViewElement(a),r=o.getAncestors().find(df),l=e.createPositionAt(o,0).getWalker(),s=d(l);try{for(s.s();!(i=s.n()).done;){var c=i.value;if("elementStart"==c.type&&c.item.is("element","li")){n.viewPosition=c.previousPosition;break}if("elementEnd"==c.type&&c.item==r){n.viewPosition=c.nextPosition;break}}}catch(u){s.e(u)}finally{s.f()}}}}}function lf(e,t){var n,a=c(t,2),i=a[0],o=a[1],r=i.is("documentFragment")?i.getChild(0):i;if(n=o?this.createSelection(o):this.document.selection,r&&r.is("element","listItem")){var l=n.getFirstPosition(),s=null;if(l.parent.is("element","listItem")?s=l.parent:l.nodeBefore&&l.nodeBefore.is("element","listItem")&&(s=l.nodeBefore),s){var d=s.getAttribute("listIndent");if(d>0)for(;r&&r.is("element","listItem");)r._setAttribute("listIndent",r.getAttribute("listIndent")+d),r=r.nextSibling}}}function sf(e){var t,n=new Jo({startPosition:e});do{t=n.next()}while(!t.value.item.is("element","listItem"));return t.value.item}function cf(e,t,n,a,i,o){var r,l=Kh(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),s=i.mapper,c=i.writer,d=l?l.getAttribute("listIndent"):null;if(l)if(d==e){var u=s.toViewElement(l).parent;r=c.createPositionAfter(u)}else{var h=o.createPositionAt(l,"end");r=s.toViewPosition(h)}else r=n;r=Wh(r);for(var f=0,g=m(a.getChildren());f<g.length;f++){var p=g[f];df(p)&&(r=c.move(c.createRangeOn(p),r).end,qh(c,p,p.nextSibling),qh(c,p.previousSibling,p))}}function df(e){return e.is("element","ol")||e.is("element","ul")}var uf=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var n,a=t.data,i=t.editing;t.model.document.registerPostFixer((function(e){return function(e,t){var n,a=e.document.differ.getChanges(),i=new Map,o=!1,r=d(a);try{for(r.s();!(n=r.n()).done;){var l=n.value;if("insert"==l.type&&"listItem"==l.name)g(l.position);else if("insert"==l.type&&"listItem"!=l.name){if("$text"!=l.name){var s=l.position.nodeAfter;s.hasAttribute("listIndent")&&(t.removeAttribute("listIndent",s),o=!0),s.hasAttribute("listType")&&(t.removeAttribute("listType",s),o=!0),s.hasAttribute("listStyle")&&(t.removeAttribute("listStyle",s),o=!0);var c,u=d(Array.from(e.createRangeIn(s)).filter((function(e){return e.item.is("element","listItem")})));try{for(u.s();!(c=u.n()).done;)g(c.value.previousPosition)}catch(b){u.e(b)}finally{u.f()}}g(l.position.getShiftedBy(l.length))}else"remove"==l.type&&"listItem"==l.name?g(l.position):("attribute"==l.type&&"listIndent"==l.attributeKey||"attribute"==l.type&&"listType"==l.attributeKey)&&g(l.range.start)}}catch(b){r.e(b)}finally{r.f()}var m,h=d(i.values());try{for(h.s();!(m=h.n()).done;){var f=m.value;p(f),v(f)}}catch(b){h.e(b)}finally{h.f()}return o;function g(e){var t=e.nodeBefore;if(t&&t.is("element","listItem")){var n=t;if(i.has(n))return;for(var a=n.previousSibling;a&&a.is("element","listItem");a=n.previousSibling)if(n=a,i.has(n))return;i.set(t,n)}else{var o=e.nodeAfter;o&&o.is("element","listItem")&&i.set(o,o)}}function p(e){for(var n=0,a=null;e&&e.is("element","listItem");){var i=e.getAttribute("listIndent");if(i>n){var r=void 0;null===a?(a=i-n,r=n):(a>i&&(a=i),r=i-a),t.setAttribute("listIndent",r,e),o=!0}else a=null,n=e.getAttribute("listIndent")+1;e=e.nextSibling}}function v(e){for(var n=[],a=null;e&&e.is("element","listItem");){var i=e.getAttribute("listIndent");if(a&&a.getAttribute("listIndent")>i&&(n=n.slice(0,i+1)),0!=i)if(n[i]){var r=n[i];e.getAttribute("listType")!=r&&(t.setAttribute("listType",r,e),o=!0)}else n[i]=e.getAttribute("listType");a=e,e=e.nextSibling}}}(t.model,e)})),i.mapper.registerViewToModelLength("li",mf),a.mapper.registerViewToModelLength("li",mf),i.mapper.on("modelToViewPosition",rf(i.view)),i.mapper.on("viewToModelPosition",(n=t.model,function(e,t){var a=t.viewPosition,i=a.parent,o=t.mapper;if("ul"==i.name||"ol"==i.name){if(a.isAtEnd){var r=o.toModelElement(a.nodeBefore),l=o.getModelLength(a.nodeBefore);t.modelPosition=n.createPositionBefore(r).getShiftedBy(l)}else{var s=o.toModelElement(a.nodeAfter);t.modelPosition=n.createPositionBefore(s)}e.stop()}else if("li"==i.name&&a.nodeBefore&&("ul"==a.nodeBefore.name||"ol"==a.nodeBefore.name)){for(var c=o.toModelElement(i),d=1,u=a.nodeBefore;u&&df(u);)d+=o.getModelLength(u),u=u.previousSibling;t.modelPosition=n.createPositionBefore(c).getShiftedBy(d),e.stop()}})),a.mapper.on("modelToViewPosition",rf(i.view)),t.conversion.for("editingDowncast").add((function(e){e.on("insert",ef,{priority:"high"}),e.on("insert:listItem",Qh(t.model)),e.on("attribute:listType:listItem",Zh,{priority:"high"}),e.on("attribute:listType:listItem",Xh,{priority:"low"}),e.on("attribute:listIndent:listItem",function(e){return function(t,n,a){if(a.consumable.consume(n.item,"attribute:listIndent")){var i=a.mapper.toViewElement(n.item),o=a.writer;o.breakContainer(o.createPositionBefore(i)),o.breakContainer(o.createPositionAfter(i));var r=i.parent,l=r.previousSibling,s=o.createRangeOn(r);o.remove(s),l&&l.nextSibling&&qh(o,l,l.nextSibling),cf(n.attributeOldValue+1,n.range.start,s.start,i,a,e),Hh(n.item,i,a,e);var c,u=d(n.item.getChildren());try{for(u.s();!(c=u.n()).done;){var m=c.value;a.consumable.consume(m,"insert")}}catch(h){u.e(h)}finally{u.f()}}}}(t.model)),e.on("remove:listItem",function(e){return function(t,n,a){var i=a.mapper.toViewPosition(n.position).getLastMatchingPosition((function(e){return!e.item.is("element","li")})).nodeAfter,o=a.writer;o.breakContainer(o.createPositionBefore(i)),o.breakContainer(o.createPositionAfter(i));var r=i.parent,l=r.previousSibling,s=o.createRangeOn(r),c=o.remove(s);l&&l.nextSibling&&qh(o,l,l.nextSibling),cf(a.mapper.toModelElement(i).getAttribute("listIndent")+1,n.position,s.start,i,a,e);var u,m=d(o.createRangeIn(c).getItems());try{for(m.s();!(u=m.n()).done;){var h=u.value;a.mapper.unbindViewElement(h)}}catch(f){m.e(f)}finally{m.f()}t.stop()}}(t.model)),e.on("remove",tf,{priority:"low"})})),t.conversion.for("dataDowncast").add((function(e){e.on("insert",ef,{priority:"high"}),e.on("insert:listItem",Qh(t.model))})),t.conversion.for("upcast").add((function(e){e.on("element:ul",af,{priority:"high"}),e.on("element:ol",af,{priority:"high"}),e.on("element:li",of,{priority:"high"}),e.on("element:li",nf)})),t.model.on("insertContent",lf,{priority:"high"}),t.commands.add("numberedList",new Fh(t,"numbered")),t.commands.add("bulletedList",new Fh(t,"bulleted")),t.commands.add("indentList",new Uh(t,"forward")),t.commands.add("outdentList",new Uh(t,"backward"));var o=i.view.document;this.listenTo(o,"enter",(function(t,n){var a=e.editor.model.document,i=a.selection.getLastPosition().parent;a.selection.isCollapsed&&"listItem"==i.name&&i.isEmpty&&(e.editor.execute("outdentList"),n.preventDefault(),t.stop())})),this.listenTo(o,"delete",(function(t,n){if("backward"===n.direction){var a=e.editor.model.document.selection;if(a.isCollapsed){var i=a.getFirstPosition();if(i.isAtStart){var o=i.parent;"listItem"===o.name&&(o.previousSibling&&"listItem"===o.previousSibling.name||(e.editor.execute("outdentList"),n.preventDefault(),t.stop()))}}}}),{priority:"high"});var r=function(t){return function(n,a){e.editor.commands.get(t).isEnabled&&(e.editor.execute(t),a())}};t.keystrokes.set("Tab",r("indentList")),t.keystrokes.set("Shift+Tab",r("outdentList"))}},{key:"afterInit",value:function(){var e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[Mm]}}]),n}(Zc);function mf(e){var t,n=1,a=d(e.getChildren());try{for(a.s();!(t=a.n()).done;){var i=t.value;if("ul"==i.name||"ol"==i.name){var o,r=d(i.getChildren());try{for(r.s();!(o=r.n()).done;)n+=mf(o.value)}catch(l){r.e(l)}finally{r.f()}}}}catch(l){a.e(l)}finally{a.f()}return n}var hf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',ff='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',gf=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor.t;Yh(this.editor,"numberedList",e("Numbered List"),hf),Yh(this.editor,"bulletedList",e("Bulleted List"),ff)}}]),n}(Zc),pf=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,e))._defaultType=a,i}return f(n,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,a=m(n.document.selection.getSelectedBlocks()).filter((function(e){return e.is("element","listItem")})).map((function(e){var t=n.change((function(t){return t.createPositionAt(e,0)}));return[].concat(m(Jh(t,"backward")),m(Jh(t,"forward")))})).flat();(a=m(new Set(a))).length&&n.change((function(n){var i,o=d(a);try{for(o.s();!(i=o.n()).done;){var r=i.value;n.setAttribute("listStyle",t.type||e._defaultType,r)}}catch(l){o.e(l)}finally{o.f()}}))}},{key:"_getValue",value:function(){var e=this.editor.model.document.selection.getFirstPosition().parent;return e&&e.is("element","listItem")?e.getAttribute("listStyle"):null}},{key:"_checkEnabled",value:function(){var e=this.editor,t=e.commands.get("numberedList"),n=e.commands.get("bulletedList");return t.isEnabled||n.isEnabled}}]),n}(ed),vf="default",bf=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor,t=e.model;t.schema.extend("listItem",{allowAttributes:["listStyle"]}),e.commands.add("listStyle",new pf(e,vf)),this.listenTo(e.commands.get("indentList"),"_executeCleanup",function(e){return function(t,n){var a,i=n[0],o=i.getAttribute("listIndent"),r=n.filter((function(e){return e.getAttribute("listIndent")===o}));if(i.previousSibling.getAttribute("listIndent")+1===o)a=vf;else{var l=Kh(i.previousSibling,{sameIndent:!0,direction:"backward",listIndent:o});a=l.getAttribute("listStyle")}e.model.change((function(e){var t,n=d(r);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.setAttribute("listStyle",a,i)}}catch(o){n.e(o)}finally{n.f()}}))}}(e)),this.listenTo(e.commands.get("outdentList"),"_executeCleanup",function(e){return function(t,n){if((n=n.reverse().filter((function(e){return e.is("element","listItem")}))).length){var a=n[0].getAttribute("listIndent"),i=n[0].getAttribute("listType"),o=n[0].previousSibling;if(o.is("element","listItem"))for(;o.getAttribute("listIndent")!==a;)o=o.previousSibling;else o=null;o||(o=n[n.length-1].nextSibling),o&&o.is("element","listItem")&&o.getAttribute("listType")===i&&e.model.change((function(e){var t,i=n.filter((function(e){return e.getAttribute("listIndent")===a})),r=d(i);try{for(r.s();!(t=r.n()).done;){var l=t.value;e.setAttribute("listStyle",o.getAttribute("listStyle"),l)}}catch(s){r.e(s)}finally{r.f()}}))}}}(e)),this.listenTo(e.commands.get("bulletedList"),"_executeCleanup",kf(e)),this.listenTo(e.commands.get("numberedList"),"_executeCleanup",kf(e)),t.document.registerPostFixer(function(e){return function(n){var a=!1,i=Cf(e.model.document.differ.getChanges()).filter((function(e){return"todo"!==e.getAttribute("listType")}));if(!i.length)return a;var o=i[i.length-1].nextSibling;if((!o||!o.is("element","listItem"))&&(o=i[i.length-1].previousSibling))for(var r=i[0].getAttribute("listIndent");o.is("element","listItem")&&o.getAttribute("listIndent")!==r&&(o=o.previousSibling););var l,s=d(i);try{for(s.s();!(l=s.n()).done;){var c=l.value;c.hasAttribute("listStyle")||(t(o,c)?n.setAttribute("listStyle",o.getAttribute("listStyle"),c):n.setAttribute("listStyle",vf,c),a=!0)}}catch(u){s.e(u)}finally{s.f()}return a};function t(e,t){if(!e)return!1;var n=e.getAttribute("listStyle");return!!n&&n!==vf&&e.getAttribute("listType")===t.getAttribute("listType")}}(e)),e.conversion.for("upcast").add((function(e){e.on("element:li",(function(e,t,n){var a=t.viewItem.parent.getStyle("list-style-type")||vf,i=t.modelRange.start.nodeAfter||t.modelRange.end.nodeBefore;n.writer.setAttribute("listStyle",a,i)}),{priority:"low"})})),e.conversion.for("downcast").add((function(e){e.on("attribute:listStyle:listItem",(function(e,t,n){var a=n.writer,i=t.item,o=Kh(i.previousSibling,{sameIndent:!0,listIndent:i.getAttribute("listIndent"),direction:"backward"}),r=n.mapper.toViewElement(i);(function(e,t){return t&&e.getAttribute("listType")===t.getAttribute("listType")&&e.getAttribute("listIndent")===t.getAttribute("listIndent")&&e.getAttribute("listStyle")===t.getAttribute("listStyle")})(i,o)||a.breakContainer(a.createPositionBefore(r)),function(e,t,n){t&&t!==vf?e.setStyle("list-style-type",t,n):e.removeStyle("list-style-type",n)}(a,t.attributeNewValue,r.parent)}),{priority:"low"})})),this._mergeListStyleAttributeWhileMergingLists()}},{key:"afterInit",value:function(){var e=this.editor;e.commands.get("todoList")&&e.model.document.registerPostFixer(function(e){return function(t){var n=Cf(e.model.document.differ.getChanges()).filter((function(e){return"todo"===e.getAttribute("listType")&&e.hasAttribute("listStyle")}));if(!n.length)return!1;var a,i=d(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;t.removeAttribute("listStyle",o)}}catch(r){i.e(r)}finally{i.f()}return!0}}(e))}},{key:"_mergeListStyleAttributeWhileMergingLists",value:function(){var e,t=this.editor.model;this.listenTo(t,"deleteContent",(function(t,n){var a=c(n,1)[0],i=a.getFirstPosition(),o=a.getLastPosition();if(i.parent!==o.parent&&i.parent.is("element","listItem")){var r=o.parent.nextSibling;if(r&&r.is("element","listItem")){var l=Kh(i.parent,{sameIndent:!0,listIndent:r.getAttribute("listIndent")});l&&l.getAttribute("listType")===r.getAttribute("listType")&&(e=l)}}}),{priority:"high"}),this.listenTo(t,"deleteContent",(function(){e&&(t.change((function(t){var n,a=Kh(e.nextSibling,{sameIndent:!0,listIndent:e.getAttribute("listIndent"),direction:"forward"}),i=[a].concat(m(Jh(t.createPositionAt(a,0),"forward"))),o=d(i);try{for(o.s();!(n=o.n()).done;){var r=n.value;t.setAttribute("listStyle",e.getAttribute("listStyle"),r)}}catch(l){o.e(l)}finally{o.f()}})),e=null)}),{priority:"low"})}}],[{key:"requires",get:function(){return[uf]}},{key:"pluginName",get:function(){return"ListStyleEditing"}}]),n}(Zc);function kf(e){return function(t,n){n=n.filter((function(e){return e.is("element","listItem")})),e.model.change((function(e){var t,a=d(n);try{for(a.s();!(t=a.n()).done;){var i=t.value;e.removeAttribute("listStyle",i)}}catch(o){a.e(o)}finally{a.f()}}))}}function Cf(e){var t,n=[],a=d(e);try{for(a.s();!(t=a.n()).done;){var i=yf(t.value);i&&i.is("element","listItem")&&n.push(i)}}catch(o){a.e(o)}finally{a.f()}return n}function yf(e){return"attribute"===e.type?e.range.start.nodeAfter:"insert"===e.type?e.position.nodeAfter:null}var wf=n(39);Ss()(wf.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),wf.a.locals;var Af=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n);var i=(a=t.call(this,e)).bindTemplate;return a.set("icon"),a.set("isEnabled",!0),a.set("isOn",!1),a.set("isToggleable",!1),a.set("isVisible",!0),a.set("keystroke"),a.set("label"),a.set("tabindex",-1),a.set("tooltip"),a.set("tooltipPosition","s"),a.set("type","button"),a.set("withText",!1),a.children=a.createCollection(),a.actionView=a._createActionView(),a.arrowView=a._createArrowView(),a.keystrokes=new fs,a.focusTracker=new ws,a.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.if("isVisible","ck-hidden",(function(e){return!e})),a.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:a.children}),a}return f(n,[{key:"render",value:function(){var e=this;i(o(n.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(function(t,n){e.focusTracker.focusedElement===e.actionView.element&&(e.arrowView.focus(),n())})),this.keystrokes.set("arrowleft",(function(t,n){e.focusTracker.focusedElement===e.arrowView.element&&(e.actionView.focus(),n())}))}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var e=new xc;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}},{key:"_createArrowView",value:function(){var e=new xc,t=e.bindTemplate;return e.icon=Pc,e.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":t.to("isOn",(function(e){return String(e)}))}}),e.bind("isEnabled").to(this),e.delegate("execute").to(this,"open"),e}}]),n}(Xs),_f=n(40);Ss()(_f.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),_f.a.locals;var Sf=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor,t=e.locale.t;e.ui.componentFactory.add("bulletedList",Ef({editor:e,parentCommandName:"bulletedList",buttonLabel:t("Bulleted List"),buttonIcon:ff,toolbarAriaLabel:t("Bulleted list styles toolbar"),styleDefinitions:[{label:t("Toggle the disc list style"),tooltip:t("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:t("Toggle the circle list style"),tooltip:t("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:t("Toggle the square list style"),tooltip:t("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}]})),e.ui.componentFactory.add("numberedList",Ef({editor:e,parentCommandName:"numberedList",buttonLabel:t("Numbered List"),buttonIcon:hf,toolbarAriaLabel:t("Numbered list styles toolbar"),styleDefinitions:[{label:t("Toggle the decimal list style"),tooltip:t("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:t("Toggle the decimal with leading zero list style"),tooltip:t("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the lower\u2013roman list style"),tooltip:t("Lower\u2013roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the upper\u2013roman list style"),tooltip:t("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the lower\u2013latin list style"),tooltip:t("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the upper\u2013latin list style"),tooltip:t("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M7.88 15l.532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}]}))}}],[{key:"pluginName",get:function(){return"ListStyleUI"}}]),n}(Zc);function Ef(e){var t=e.editor,n=e.parentCommandName,a=e.buttonLabel,i=e.buttonIcon,o=e.toolbarAriaLabel,r=e.styleDefinitions,l=t.commands.get(n),s=t.commands.get("listStyle");return function(e){var c=Nc(e,Af),d=c.buttonView,u=function(e){var t=e.editor,n=e.listStyleCommand,a=e.parentCommandName,i=t.locale,o=t.commands.get(a);return function(e){var r=e.label,l=e.type,s=e.icon,c=e.tooltip,d=new xc(i);return d.set({label:r,icon:s,tooltip:c}),n.on("change:value",(function(){d.isOn=n.value===l})),d.on("execute",(function(){o.value?n.value!==l?t.execute("listStyle",{type:l}):t.execute("listStyle",{type:n._defaultType}):t.model.change((function(){t.execute(a),t.execute("listStyle",{type:l})})),t.editing.view.focus()})),d}}({editor:t,parentCommandName:n,listStyleCommand:s});return Gc(c,r.map(u)),c.bind("isEnabled").to(l),c.toolbarView.ariaLabel=o,c.class="ck-list-styles-dropdown",d.on("execute",(function(){t.execute(n),t.editing.view.focus()})),d.set({label:a,icon:i,tooltip:!0,isToggleable:!0}),d.bind("isOn").to(l,"value",(function(e){return!!e})),c}}var Of="removeFormat",Tf=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add(Of,(function(a){var i=t.commands.get(Of),o=new xc(a);return o.set({label:n("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),e.listenTo(o,"execute",(function(){t.execute(Of),t.editing.view.focus()})),o}))}}],[{key:"pluginName",get:function(){return"RemoveFormatUI"}}]),n}(Zc),xf=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=this.editor.model;this.isEnabled=!!nd(this._getFormattingItems(e.document.selection,e.schema))}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.schema;t.change((function(a){var i,o=d(e._getFormattingItems(t.document.selection,n));try{for(o.s();!(i=o.n()).done;){var r=i.value;if(r.is("selection")){var l,s=d(e._getFormattingAttributes(r,n));try{for(s.s();!(l=s.n()).done;){var c=l.value;a.removeSelectionAttribute(c)}}catch(g){s.e(g)}finally{s.f()}}else{var u,m=a.createRangeOn(r),h=d(e._getFormattingAttributes(r,n));try{for(h.s();!(u=h.n()).done;){var f=u.value;a.removeAttribute(f,m)}}catch(g){h.e(g)}finally{h.f()}}}}catch(g){o.e(g)}finally{o.f()}}))}},{key:"_getFormattingItems",value:u.mark((function e(t,n){var a,i,o,r,l,s,c,m,h,f,g=this;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(e){return!!nd(g._getFormattingAttributes(e,n))},i=d(t.getRanges()),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=27;break}r=o.value,l=d(r.getItems()),e.prev=7,l.s();case 9:if((s=l.n()).done){e.next=17;break}if(c=s.value,e.t0=!n.isBlock(c)&&a(c),!e.t0){e.next=15;break}return e.next=15,c;case 15:e.next=9;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(7),l.e(e.t1);case 22:return e.prev=22,l.f(),e.finish(22);case 25:e.next=4;break;case 27:e.next=32;break;case 29:e.prev=29,e.t2=e.catch(2),i.e(e.t2);case 32:return e.prev=32,i.f(),e.finish(32);case 35:m=d(t.getSelectedBlocks()),e.prev=36,m.s();case 38:if((h=m.n()).done){e.next=46;break}if(f=h.value,e.t3=a(f),!e.t3){e.next=44;break}return e.next=44,f;case 44:e.next=38;break;case 46:e.next=51;break;case 48:e.prev=48,e.t4=e.catch(36),m.e(e.t4);case 51:return e.prev=51,m.f(),e.finish(51);case 54:if(e.t5=a(t),!e.t5){e.next=58;break}return e.next=58,t;case 58:case"end":return e.stop()}}),e,null,[[2,29,32,35],[7,19,22,25],[36,48,51,54]])}))},{key:"_getFormattingAttributes",value:u.mark((function e(t,n){var a,i,o,r,l;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=d(t.getAttributes()),e.prev=1,a.s();case 3:if((i=a.n()).done){e.next=12;break}if(o=c(i.value,1),r=o[0],l=n.getAttributeProperties(r),e.t0=l&&l.isFormatting,!e.t0){e.next=10;break}return e.next=10,r;case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(1),a.e(e.t1);case 17:return e.prev=17,a.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])}))}]),n}(ed),Pf=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor;e.commands.add("removeFormat",new xf(e))}}],[{key:"pluginName",get:function(){return"RemoveFormatEditing"}}]),n}(Zc),Df="strikethrough",Mf=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:Df}),e.model.schema.setAttributeProperties(Df,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Df,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add(Df,new Nd(e,Df)),e.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}],[{key:"pluginName",get:function(){return"StrikethroughEditing"}}]),n}(Zc),Rf="strikethrough",If=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add(Rf,(function(a){var i=t.commands.get(Rf),o=new xc(a);return o.set({label:n("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9L6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),e.listenTo(o,"execute",(function(){t.execute(Rf),t.editing.view.focus()})),o}))}}]),n}(Zc);function Bf(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t>i?a.setAttribute(e,t,n):a.removeAttribute(e,n)}function Lf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.createElement("tableCell",n);return e.insertElement("paragraph",a),e.insert(a,t),a}function zf(e,t){var n=t.parent.parent,a=parseInt(n.getAttribute("headingColumns")||0),i=e.getCellLocation(t).column;return!!a&&i<a}function Vf(e){for(var t=0,n=0,a=Array.from(e.getChildren()).filter((function(e){return"th"===e.name||"td"===e.name}));n<a.length&&"th"===a[n].name;){var i=a[n];t+=parseInt(i.getAttribute("colspan")||1),n++}return t}var jf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this._table=t,this._startRow=void 0!==n.row?n.row:n.startRow||0,this._endRow=void 0!==n.row?n.row:n.endRow,this._startColumn=void 0!==n.column?n.column:n.startColumn||0,this._endColumn=void 0!==n.column?n.column:n.endColumn,this._includeAllSlots=!!n.includeAllSlots,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}return f(e,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this._table.getChild(this._row);if(!e||this._isOverEndRow())return{done:!0};if(this._isOverEndColumn())return this._advanceToNextRow();var t=null,n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{var a=e.getChild(this._cellIndex);if(!a)return this._advanceToNextRow();var i=parseInt(a.getAttribute("colspan")||1),o=parseInt(a.getAttribute("rowspan")||1);(i>1||o>1)&&this._recordSpans(a,o,i),this._shouldSkipSlot()||(t=this._formatOutValue(a)),this._nextCellAtColumn=this._column+i}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}},{key:"skipRow",value:function(e){this._skipRows.add(e)}},{key:"_advanceToNextRow",value:function(){return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}},{key:"_isOverEndRow",value:function(){return void 0!==this._endRow&&this._row>this._endRow}},{key:"_isOverEndColumn",value:function(){return void 0!==this._endColumn&&this._column>this._endColumn}},{key:"_formatOutValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._column;return{done:!1,value:new Ff(this,e,t,n)}}},{key:"_shouldSkipSlot",value:function(){var e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,a=void 0!==this._endColumn&&this._column>this._endColumn;return e||t||n||a}},{key:"_getSpanned",value:function(){var e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}},{key:"_recordSpans",value:function(e,t,n){for(var a={cell:e,row:this._row,column:this._column},i=this._row;i<this._row+t;i++)for(var o=this._column;o<this._column+n;o++)i==this._row&&o==this._column||this._markSpannedCell(i,o,a)}},{key:"_markSpannedCell",value:function(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}]),e}(),Ff=function(){function e(t,n,a,i){h(this,e),this.cell=n,this.row=t._row,this.column=t._column,this.cellAnchorRow=a,this.cellAnchorColumn=i,this._cellIndex=t._cellIndex,this._table=t._table}return f(e,[{key:"getPositionBefore",value:function(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}},{key:"isAnchor",get:function(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}},{key:"cellWidth",get:function(){return parseInt(this.cell.getAttribute("colspan")||1)}},{key:"cellHeight",get:function(){return parseInt(this.cell.getAttribute("rowspan")||1)}}]),e}(),Nf=function(){function e(){h(this,e),this._stack=[]}return f(e,[{key:"add",value:function(e,t){var n=this._stack,a=n[0];this._insertDescriptor(e);var i=n[0];a===i||Gf(a,i)||this.fire("change:top",{oldDescriptor:a,newDescriptor:i,writer:t})}},{key:"remove",value:function(e,t){var n=this._stack,a=n[0];this._removeDescriptor(e);var i=n[0];a===i||Gf(a,i)||this.fire("change:top",{oldDescriptor:a,newDescriptor:i,writer:t})}},{key:"_insertDescriptor",value:function(e){var t=this._stack,n=t.findIndex((function(t){return t.id===e.id}));if(!Gf(e,t[n])){n>-1&&t.splice(n,1);for(var a=0;t[a]&&Uf(t[a],e);)a++;t.splice(a,0,e)}}},{key:"_removeDescriptor",value:function(e){var t=this._stack,n=t.findIndex((function(t){return t.id===e}));n>-1&&t.splice(n,1)}}]),e}();function Gf(e,t){return e&&t&&e.priority==t.priority&&Hf(e.classes)==Hf(t.classes)}function Uf(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&Hf(e.classes)>Hf(t.classes)}function Hf(e){return Array.isArray(e)?e.sort().join(","):e}rn(Nf,$t);var qf='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Wf="widget-type-around";function Kf(e,t,n){return e&&$f(e)&&!n.isInline(t)}function Yf(e){return e.getAttribute(Wf)}var Jf="ck-widget_selected";function $f(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function Qf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.is("containerElement"))throw new Kt.a("widget-to-widget-wrong-element-type",null,{element:e});return t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=ng,n.label&&function(e,t,n){n.setCustomProperty("widgetLabel",t,e)}(e,n.label,t),n.hasSelectionHandle&&function(e,t){var n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){var t=this.toDomElement(e),n=new Sc;return n.set("content",qf),n.render(),t.appendChild(n.element),t}));t.insert(t.createPositionAt(e,0),n),t.addClass(["ck-widget_with-selection-handle"],e)}(e,t),Zf(e,t,(function(e,t,n){return n.addClass(a(t.classes),e)}),(function(e,t,n){return n.removeClass(a(t.classes),e)})),e;function a(e){return Array.isArray(e)?e:[e]}}function Zf(e,t,n,a){var i=new Nf;i.on("change:top",(function(t,i){i.oldDescriptor&&a(e,i.oldDescriptor,i.writer),i.newDescriptor&&n(e,i.newDescriptor,i.writer)})),t.setCustomProperty("addHighlight",(function(e,t,n){return i.add(t,n)}),e),t.setCustomProperty("removeHighlight",(function(e,t,n){return i.remove(t,n)}),e)}function Xf(e){var t=e.getCustomProperty("widgetLabel");return t?"function"==typeof t?t():t:""}function eg(e,t){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e),t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e),e.on("change:isReadOnly",(function(n,a,i){t.setAttribute("contenteditable",i?"false":"true",e)})),e.on("change:isFocused",(function(n,a,i){i?t.addClass("ck-editor__nested-editable_focused",e):t.removeClass("ck-editor__nested-editable_focused",e)})),e}function tg(e,t){var n=new Po(Di.window),a=n.getIntersection(e),i=t.height+vh.arrowVerticalOffset;if(e.top-i>n.top||e.bottom+i<n.bottom)return null;var o=a||e,r=o.left+o.width/2-t.width/2;return{top:Math.max(e.top,0)+vh.arrowVerticalOffset,left:r,name:"arrow_n"}}function ng(){return null}function ag(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t.on("insert:table",(function(t,n,a){var i=n.item;if(a.consumable.consume(i,"insert")){a.consumable.consume(i,"attribute:headingRows:table"),a.consumable.consume(i,"attribute:headingColumns:table");var o,r,l,s=e&&e.asWidget,c=a.writer.createContainerElement("figure",{class:"table"}),u=a.writer.createContainerElement("table");a.writer.insert(a.writer.createPositionAt(c,0),u),s&&(r=c,(l=a.writer).setCustomProperty("table",!0,r),o=Qf(r,l,{hasSelectionHandle:!0}));var m,h=new jf(i),f={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},g=new Map,p=d(h);try{for(p.s();!(m=p.n()).done;){var v=m.value,b=v.row,k=v.cell,C=i.getChild(b),y=g.get(b)||sg(u,C,b,f,a);g.set(b,y),a.consumable.consume(k,"insert"),lg(v,f,a.writer.createPositionAt(y,"end"),a,e)}}catch(O){p.e(O)}finally{p.f()}var w,A=d(i.getChildren());try{for(A.s();!(w=A.n()).done;){var _=w.value,S=_.index;g.has(S)||g.set(S,sg(u,_,S,f,a))}}catch(O){A.e(O)}finally{A.f()}var E=a.mapper.toViewPosition(n.range.start);a.mapper.bindElements(i,s?o:c),a.writer.insert(E,s?o:c)}}))}}function ig(e,t){var n=t.writer;if(e.parent.is("element","tableCell"))return og(e)?n.createContainerElement("span",{style:"display:inline-block"}):n.createContainerElement("p")}function og(e){return 1===e.parent.childCount&&!mg(e)}function rg(e,t,n){var a=e.cell,i=cg(e,t),o=n.mapper.toViewElement(a);o&&o.name!==i&&function(e,t,n){var a=n.writer,i=n.mapper.toViewElement(e),o=eg(a.createEditableElement(t,i.getAttributes()),a);Zf(o,a,(function(e,t,n){return n.addClass(hg(t.classes),e)}),(function(e,t,n){return n.removeClass(hg(t.classes),e)})),a.insert(a.createPositionAfter(i),o),a.move(a.createRangeIn(i),a.createPositionAt(o,0)),a.remove(a.createRangeOn(i)),n.mapper.unbindViewElement(i),n.mapper.bindElements(e,o)}(a,i,n)}function lg(e,t,n,a,i){var o=i&&i.asWidget,r=cg(e,t),l=o?eg(a.writer.createEditableElement(r),a.writer):a.writer.createContainerElement(r);o&&Zf(l,a.writer,(function(e,t,n){return n.addClass(hg(t.classes),e)}),(function(e,t,n){return n.removeClass(hg(t.classes),e)}));var s=e.cell,c=s.getChild(0),d=1===s.childCount&&"paragraph"===c.name;if(a.writer.insert(n,l),a.mapper.bindElements(s,l),!o&&!mg(c)&&d){var u=s.getChild(0);a.consumable.consume(u,"insert"),a.mapper.bindElements(u,l)}}function sg(e,t,n,a,i){i.consumable.consume(t,"insert");var o=t.isEmpty?i.writer.createEmptyElement("tr"):i.writer.createContainerElement("tr");i.mapper.bindElements(t,o);var r=a.headingRows,l=function(e,t,n){return dg(e,t)||function(e,t,n){var a=n.writer.createContainerElement(e),i=n.writer.createPositionAt(t,"tbody"==e?"end":0);return n.writer.insert(i,a),a}(e,t,n)}(function(e,t){return e<t.headingRows?"thead":"tbody"}(n,a),e,i),s=r>0&&n>=r?n-r:n,c=i.writer.createPositionAt(l,s);return i.writer.insert(c,o),o}function cg(e,t){var n=e.row,a=e.column,i=t.headingColumns,o=t.headingRows;return o&&o>n||i&&i>a?"th":"td"}function dg(e,t){var n,a=d(t.getChildren());try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.name==e)return i}}catch(o){a.e(o)}finally{a.f()}}function ug(e,t,n){var a=dg(e,t);a&&0===a.childCount&&n.writer.remove(n.writer.createRangeOn(a))}function mg(e){return!!m(e.getAttributeKeys()).length}function hg(e){return Array.isArray(e)?e:[e]}var fg=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema,a=function(e){var t=e.parent;return t===t.root?t:t.parent}(t.getFirstPosition());this.isEnabled=n.checkChild(a,"table")}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=t.document.selection,a=this.editor.plugins.get("TableUtils"),i=function(e,t){var n=e.getSelectedElement();if(n){var a=Yf(e);if(a)return t.createPositionAt(n,a);if(t.schema.isBlock(n))return t.createPositionAfter(n)}var i=e.getSelectedBlocks().next().value;if(i){if(i.isEmpty)return t.createPositionAt(i,0);var o=t.createPositionAfter(i);return e.focus.isTouching(o)?o:t.createPositionBefore(i)}return e.focus}(n,t);t.change((function(n){var o=a.createTable(n,e);t.insertContent(o,i),n.setSelection(n.createPositionAt(o.getNodeByPath([0,0,0]),0))}))}}]),n}(ed);function gg(e){var t,n=[],a=d(yg(e.getRanges()));try{for(a.s();!(t=a.n()).done;){var i=t.value.getContainedElement();i&&i.is("element","tableCell")&&n.push(i)}}catch(o){a.e(o)}finally{a.f()}return n}function pg(e){var t,n=[],a=d(e.getRanges());try{for(a.s();!(t=a.n()).done;){var i=t.value.start.findAncestor("tableCell");i&&n.push(i)}}catch(o){a.e(o)}finally{a.f()}return n}function vg(e){var t=gg(e);return t.length?t:pg(e)}function bg(e){return wg(e.map((function(e){return e.parent.index})))}function kg(e){var t=e[0].findAncestor("table");return wg(m(new jf(t)).filter((function(t){return e.includes(t.cell)})).map((function(e){return e.column})))}function Cg(e,t){if(e.length<2||!function(e){var t=e[0].findAncestor("table");if(!_g(bg(e),parseInt(t.getAttribute("headingRows")||0)))return!1;var n=parseInt(t.getAttribute("headingColumns")||0);return _g(kg(e),n)}(e))return!1;var n,a=new Set,i=new Set,o=0,r=d(e);try{for(r.s();!(n=r.n()).done;){var l=n.value,s=t.getCellLocation(l),c=s.row,u=s.column,h=parseInt(l.getAttribute("rowspan")||1),f=parseInt(l.getAttribute("colspan")||1);a.add(c),i.add(u),h>1&&a.add(c+h-1),f>1&&i.add(u+f-1),o+=h*f}}catch(g){r.e(g)}finally{r.f()}return function(e,t){var n=Array.from(e.values()),a=Array.from(t.values());return(Math.max.apply(Math,m(n))-Math.min.apply(Math,m(n))+1)*(Math.max.apply(Math,m(a))-Math.min.apply(Math,m(a))+1)}(a,i)==o}function yg(e){return Array.from(e).sort(Ag)}function wg(e){var t=e.sort((function(e,t){return e-t}));return{first:t[0],last:t[t.length-1]}}function Ag(e,t){var n=e.start,a=t.start;return n.isBefore(a)?-1:1}function _g(e,t){return e.first<t===e.last<t}var Sg=function(e){g(n,e);var t=p(n);function n(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,n),(a=t.call(this,e)).order=i.order||"below",a}return f(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),a="above"===this.order,i=vg(t),o=bg(i),r=a?o.first:o.last,l=i[0].findAncestor("table");n.insertRows(l,{at:a?r:r+1,copyStructureFromAbove:!a})}}]),n}(ed),Eg=function(e){g(n,e);var t=p(n);function n(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,n),(a=t.call(this,e)).order=i.order||"right",a}return f(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),a="left"===this.order,i=vg(t),o=kg(i),r=a?o.first:o.last,l=i[0].findAncestor("table");n.insertColumns(l,{columns:1,at:a?r:r+1})}}]),n}(ed),Og=function(e){g(n,e);var t=p(n);function n(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,n),(a=t.call(this,e)).direction=i.direction||"horizontally",a}return f(n,[{key:"refresh",value:function(){var e=vg(this.editor.model.document.selection);this.isEnabled=1===e.length}},{key:"execute",value:function(){var e=vg(this.editor.model.document.selection)[0],t="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");t?n.splitCellHorizontally(e,2):n.splitCellVertically(e,2)}}]),n}(ed);function Tg(e,t,n){for(var a=t.startRow,i=t.startColumn,o=t.endRow,r=t.endColumn,l=n.createElement("table"),s=o-a+1,c=0;c<s;c++)n.insertElement("tableRow",l,"end");var u,h=m(new jf(e,{startRow:a,endRow:o,startColumn:i,endColumn:r,includeAllSlots:!0})),f=d(h);try{for(f.s();!(u=f.n()).done;){var g=u.value,p=g.row,v=g.column,b=g.cell,k=g.isAnchor,C=g.cellAnchorRow,y=g.cellAnchorColumn,w=p-a,A=l.getChild(w);if(k){var _=n.cloneElement(b);n.append(_,A),Rg(_,p,v,o,r,n)}else(C<a||y<i)&&Lf(n,n.createPositionAt(A,"end"))}}catch(S){f.e(S)}finally{f.f()}return function(e,t,n,a,i){var o=parseInt(t.getAttribute("headingRows")||0);o>0&&Bf("headingRows",o-n,e,i,0);var r=parseInt(t.getAttribute("headingColumns")||0);r>0&&Bf("headingColumns",r-a,e,i,0)}(l,e,a,i,n),l}function xg(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[],o=new jf(e,{startRow:a,endRow:t-1}),r=d(o);try{for(r.s();!(n=r.n()).done;){var l=n.value,s=l.row,c=l.cellHeight,u=s+c-1;s<t&&t<=u&&i.push(l)}}catch(m){r.e(m)}finally{r.f()}return i}function Pg(e,t,n){var a=e.parent,i=a.parent,o=a.index,r=t-o,l={},s=parseInt(e.getAttribute("rowspan"))-r;s>1&&(l.rowspan=s);var c=parseInt(e.getAttribute("colspan")||1);c>1&&(l.colspan=c);var u,h,f=o+r,g=m(new jf(i,{startRow:o,endRow:f,includeAllSlots:!0})),p=null,v=d(g);try{for(v.s();!(h=v.n()).done;){var b=h.value,k=b.row,C=b.column;b.cell===e&&void 0===u&&(u=C),void 0!==u&&u===C&&k===f&&(p=Lf(n,b.getPositionBefore(),l))}}catch(y){v.e(y)}finally{v.f()}return Bf("rowspan",r,e,n),p}function Dg(e,t){var n,a=[],i=new jf(e),o=d(i);try{for(o.s();!(n=o.n()).done;){var r=n.value,l=r.column,s=r.cellWidth;l<t&&t<=l+s-1&&a.push(r)}}catch(c){o.e(c)}finally{o.f()}return a}function Mg(e,t,n,a){var i=n-t,o={},r=parseInt(e.getAttribute("colspan"))-i;r>1&&(o.colspan=r);var l=parseInt(e.getAttribute("rowspan")||1);l>1&&(o.rowspan=l);var s=Lf(a,a.createPositionAfter(e),o);return Bf("colspan",i,e,a),s}function Rg(e,t,n,a,i,o){var r=parseInt(e.getAttribute("colspan")||1),l=parseInt(e.getAttribute("rowspan")||1);n+r-1>i&&Bf("colspan",i-n+1,e,o,1),t+l-1>a&&Bf("rowspan",a-t+1,e,o,1)}function Ig(e,t){var n,a=t.getColumns(e),i=new Array(a).fill(0),o=d(new jf(e));try{for(o.s();!(n=o.n()).done;)i[n.value.column]++}catch(s){o.e(s)}finally{o.f()}var r=i.reduce((function(e,t,n){return t?e:[].concat(m(e),[n])}),[]);if(r.length>0){var l=r[r.length-1];return t.removeColumns(e,{at:l}),!0}return!1}function Bg(e,t){for(var n=[],a=0;a<e.childCount;a++)e.getChild(a).isEmpty&&n.push(a);if(n.length>0){var i=n[n.length-1];return t.removeRows(e,{at:i}),!0}return!1}function Lg(e,t){Ig(e,t)||Bg(e,t)}function zg(e,t){var n=Array.from(new jf(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(n.every((function(e){return 1===e.cellHeight})))return t.lastRow;var a=n[0].cellHeight-1;return t.lastRow+a}function Vg(e,t){var n=Array.from(new jf(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(n.every((function(e){return 1===e.cellWidth})))return t.lastColumn;var a=n[0].cellWidth-1;return t.lastColumn+a}var jg=function(e){g(n,e);var t=p(n);function n(e,a){var i;return h(this,n),(i=t.call(this,e)).direction=a.direction,i.isHorizontal="right"==i.direction||"left"==i.direction,i}return f(n,[{key:"refresh",value:function(){var e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=pg(t.document.selection)[0],a=this.value,i=this.direction;t.change((function(t){var o="right"==i||"down"==i,r=o?n:a,l=o?a:n,s=l.parent;!function(e,t,n){Fg(e)||(Fg(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}(l,r,t);var c=e.isHorizontal?"colspan":"rowspan",d=parseInt(n.getAttribute(c)||1),u=parseInt(a.getAttribute(c)||1);t.setAttribute(c,d+u,r),t.setSelection(t.createRangeIn(r));var m=e.editor.plugins.get("TableUtils");Lg(s.findAncestor("table"),m)}))}},{key:"_getMergeableCell",value:function(){var e=pg(this.editor.model.document.selection)[0];if(e){var t=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(e,t,n){var a=e.parent.parent,i="right"==t?e.nextSibling:e.previousSibling,o=(a.getAttribute("headingColumns")||0)>0;if(i){var r="right"==t?e:i,l="right"==t?i:e,s=n.getCellLocation(r).column,c=n.getCellLocation(l).column,d=parseInt(r.getAttribute("colspan")||1),u=zf(n,r),m=zf(n,l);if(!o||u==m)return s+d===c?i:void 0}}(e,this.direction,t):function(e,t){var n=e.parent,a=n.parent,i=a.getChildIndex(n);if(!("down"==t&&i===a.childCount-1||"up"==t&&0===i)){var o=parseInt(e.getAttribute("rowspan")||1),r=a.getAttribute("headingRows")||0;if(!r||("down"!=t||i+o!==r)&&("up"!=t||i!==r)){var l=parseInt(e.getAttribute("rowspan")||1),s="down"==t?i+l:i,c=m(new jf(a,{endRow:s})),d=c.find((function(t){return t.cell===e})).column,u=c.find((function(e){var n=e.row,a=e.cellHeight;return e.column===d&&("down"==t?n===s:s===n+a)}));return u&&u.cell}}}(e,this.direction);if(n){var a=this.isHorizontal?"rowspan":"colspan",i=parseInt(e.getAttribute(a)||1);return parseInt(n.getAttribute(a)||1)===i?n:void 0}}}}]),n}(ed);function Fg(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}var Ng=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=vg(this.editor.model.document.selection),t=e[0];if(t){var n=t.findAncestor("table"),a=this.editor.plugins.get("TableUtils").getRows(n)-1,i=bg(e),o=0===i.first&&i.last===a;this.isEnabled=!o}else this.isEnabled=!1}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=vg(t.document.selection),a=bg(n),i=n[0],o=i.findAncestor("table"),r=this.editor.plugins.get("TableUtils").getCellLocation(i).column;t.change((function(t){var n=a.last-a.first+1;e.editor.plugins.get("TableUtils").removeRows(o,{at:a.first,rows:n});var i=function(e,t,n){var a,i=e.getChild(t)||e.getChild(e.childCount-1),o=i.getChild(0),r=0,l=d(i.getChildren());try{for(l.s();!(a=l.n()).done;){var s=a.value;if(r>n)return o;o=s,r+=parseInt(s.getAttribute("colspan")||1)}}catch(c){l.e(c)}finally{l.f()}return o}(o,a.first,r);t.setSelection(t.createPositionAt(i,0))}))}}]),n}(ed),Gg=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=vg(this.editor.model.document.selection),t=e[0];if(t){var n=t.findAncestor("table"),a=this.editor.plugins.get("TableUtils").getColumns(n),i=kg(e),o=i.first,r=i.last;this.isEnabled=r-o<a-1}else this.isEnabled=!1}},{key:"execute",value:function(){var e=this,t=function(e){var t=vg(e),n=t[0],a=t.pop(),i=[n,a];return n.isBefore(a)?i:i.reverse()}(this.editor.model.document.selection),n=c(t,2),a=n[0],i=n[1],o=a.parent.parent,r=m(new jf(o)),l={first:r.find((function(e){return e.cell===a})).column,last:r.find((function(e){return e.cell===i})).column},s=function(e,t,n,a){return parseInt(n.getAttribute("colspan")||1)>1?n:t.previousSibling||n.nextSibling?n.nextSibling||t.previousSibling:a.first?e.reverse().find((function(e){return e.column<a.first})).cell:e.reverse().find((function(e){return e.column>a.last})).cell}(r,a,i,l);this.editor.model.change((function(t){var n=l.last-l.first+1;e.editor.plugins.get("TableUtils").removeColumns(o,{at:l.first,columns:n}),t.setSelection(t.createPositionAt(s,0))}))}}]),n}(ed),Ug=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=this,t=vg(this.editor.model.document.selection),n=t.length>0;this.isEnabled=n,this.value=n&&t.every((function(t){return e._isInHeading(t,t.parent.parent)}))}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.forceValue!==this.value){var t=this.editor.model,n=vg(t.document.selection),a=n[0].findAncestor("table"),i=bg(n),o=i.first,r=i.last,l=this.value?o:r+1,s=a.getAttribute("headingRows")||0;t.change((function(e){if(l){var t,n=xg(a,l,l>s?s:0),i=d(n);try{for(i.s();!(t=i.n()).done;)Pg(t.value.cell,l,e)}catch(o){i.e(o)}finally{i.f()}}Bf("headingRows",l,a,e,0)}))}}},{key:"_isInHeading",value:function(e,t){var n=parseInt(t.getAttribute("headingRows")||0);return!!n&&e.parent.index<n}}]),n}(ed),Hg=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=vg(this.editor.model.document.selection),t=this.editor.plugins.get("TableUtils"),n=e.length>0;this.isEnabled=n,this.value=n&&e.every((function(e){return zf(t,e)}))}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.forceValue!==this.value){var t=this.editor.model,n=vg(t.document.selection),a=n[0].findAncestor("table"),i=kg(n),o=i.first,r=i.last,l=this.value?o:r+1;t.change((function(e){if(l){var t,n=Dg(a,l),i=d(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;Mg(o.cell,o.column,l,e)}}catch(r){i.e(r)}finally{i.f()}}Bf("headingColumns",l,a,e,0)}))}}}]),n}(ed),qg=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){this.decorate("insertColumns"),this.decorate("insertRows")}},{key:"getCellLocation",value:function(e){var t,n=e.parent,a=n.parent,i=a.getChildIndex(n),o=new jf(a,{row:i}),r=d(o);try{for(r.s();!(t=r.n()).done;){var l=t.value,s=l.cell,c=l.row,u=l.column;if(s===e)return{row:c,column:u}}}catch(m){r.e(m)}finally{r.f()}}},{key:"createTable",value:function(e,t){var n=e.createElement("table");return Wg(e,n,0,parseInt(t.rows)||2,parseInt(t.columns)||2),t.headingRows&&Bf("headingRows",t.headingRows,n,e,0),t.headingColumns&&Bf("headingColumns",t.headingColumns,n,e,0),n}},{key:"insertRows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.editor.model,a=t.at||0,i=t.rows||1,o=void 0!==t.copyStructureFromAbove,r=t.copyStructureFromAbove?a-1:a,l=this.getRows(e),s=this.getColumns(e);n.change((function(t){var n=e.getAttribute("headingRows")||0;if(n>a&&Bf("headingRows",n+i,e,t,0),o||0!==a&&a!==l){var c,u=o?Math.max(a,r):a,m=new jf(e,{endRow:u}),h=new Array(s).fill(1),f=d(m);try{for(f.s();!(c=f.n()).done;){var g=c.value,p=g.row,v=g.column,b=g.cellHeight,k=g.cellWidth,C=g.cell,y=p+b-1,w=p<=r&&r<=y;p<a&&a<=y?(t.setAttribute("rowspan",b+i,C),h[v]=-k):o&&w&&(h[v]=k)}}catch(T){f.e(T)}finally{f.f()}for(var A=0;A<i;A++){var _=t.createElement("tableRow");t.insert(_,e,a);for(var S=0;S<h.length;S++){var E=h[S],O=t.createPositionAt(_,"end");E>0&&Lf(t,O,E>1?{colspan:E}:null),S+=Math.abs(E)-1}}}else Wg(t,e,a,i,s)}))}},{key:"insertColumns",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.editor.model,i=n.at||0,o=n.columns||1;a.change((function(n){var a=e.getAttribute("headingColumns");i<a&&n.setAttribute("headingColumns",a+o,e);var r=t.getColumns(e);if(0!==i&&r!==i){var l,s=new jf(e,{column:i,includeAllSlots:!0}),c=d(s);try{for(c.s();!(l=c.n()).done;){var u=l.value,m=u.row,h=u.cell,f=u.cellAnchorColumn,g=u.cellAnchorRow,p=u.cellWidth,v=u.cellHeight;if(f<i){n.setAttribute("colspan",p+o,h);for(var b=g+v-1,k=m;k<=b;k++)s.skipRow(k)}else Kg(o,n,u.getPositionBefore())}}catch(A){c.e(A)}finally{c.f()}}else{var C,y=d(e.getChildren());try{for(y.s();!(C=y.n()).done;){var w=C.value;Kg(o,n,n.createPositionAt(w,i?"end":0))}}catch(A){y.e(A)}finally{y.f()}}}))}},{key:"removeRows",value:function(e,t){var n=this,a=this.editor.model,i=t.rows||1,o=t.at,r=o+i-1;a.change((function(t){var a=function(e,t,n){var a,i=new Map,o=[],r=d(new jf(e,{endRow:n}));try{for(r.s();!(a=r.n()).done;){var l,s=a.value,c=s.row,u=s.column,m=s.cellHeight,h=s.cell,f=c+m-1;if(c>=t&&c<=n&&f>n){var g=m-(n-c+1);i.set(u,{cell:h,rowspan:g})}c<t&&f>=t&&(l=f>=n?n-t+1:f-t+1,o.push({cell:h,rowspan:m-l}))}}catch(p){r.e(p)}finally{r.f()}return{cellsToMove:i,cellsToTrim:o}}(e,o,r),i=a.cellsToMove,l=a.cellsToTrim;i.size&&function(e,t,n,a){var i,o,r=m(new jf(e,{includeAllSlots:!0,row:t})),l=e.getChild(t),s=d(r);try{for(s.s();!(o=s.n()).done;){var c=o.value,u=c.column,h=c.cell,f=c.isAnchor;if(n.has(u)){var g=n.get(u),p=g.cell,v=g.rowspan,b=i?a.createPositionAfter(i):a.createPositionAt(l,0);a.move(a.createRangeOn(p),b),Bf("rowspan",v,p,a),i=p}else f&&(i=h)}}catch(k){s.e(k)}finally{s.f()}}(e,r+1,i,t);for(var s=r;s>=o;s--)t.remove(e.getChild(s));var c,u=d(l);try{for(u.s();!(c=u.n()).done;){var h=c.value;Bf("rowspan",h.rowspan,h.cell,t)}}catch(f){u.e(f)}finally{u.f()}!function(e,t,n,a){var i=e.getAttribute("headingRows")||0;t<i&&Bf("headingRows",n<i?i-(n-t+1):t,e,a,0)}(e,o,r,t),Ig(e,n)||Bg(e,n)}))}},{key:"removeColumns",value:function(e,t){var n=this,a=this.editor.model,i=t.at,o=t.columns||1,r=t.at+o-1;a.change((function(t){!function(e,t,n){var a=e.getAttribute("headingColumns")||0;if(a&&t.first<a){var i=Math.min(a-1,t.last)-t.first+1;n.setAttribute("headingColumns",a-i,e)}}(e,{first:i,last:r},t);for(var a=r;a>=i;a--)for(var o=0,l=m(new jf(e));o<l.length;o++){var s=l[o],c=s.cell,d=s.column,u=s.cellWidth;d<=a&&u>1&&d+u>a?Bf("colspan",u-1,c,t):d===a&&t.remove(c)}Bg(e,n)||Ig(e,n)}))}},{key:"splitCellVertically",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,a=e.parent.parent,i=parseInt(e.getAttribute("rowspan")||1),o=parseInt(e.getAttribute("colspan")||1);n.change((function(n){if(o>1){var r=Yg(o,t),l=r.newCellsSpan;Bf("colspan",r.updatedSpan,e,n);var s={};l>1&&(s.colspan=l),i>1&&(s.rowspan=i),Kg(o>t?t-1:o-1,n,n.createPositionAfter(e),s)}if(o<t){var c,u=t-o,h=m(new jf(a)),f=h.find((function(t){return t.cell===e})).column,g=h.filter((function(t){var n=t.cell,a=t.cellWidth,i=t.column;return n!==e&&i===f||i<f&&i+a>f})),p=d(g);try{for(p.s();!(c=p.n()).done;){var v=c.value,b=v.cell,k=v.cellWidth;n.setAttribute("colspan",k+u,b)}}catch(w){p.e(w)}finally{p.f()}var C={};i>1&&(C.rowspan=i),Kg(u,n,n.createPositionAfter(e),C);var y=a.getAttribute("headingColumns")||0;y>f&&Bf("headingColumns",y+u,a,n)}}))}},{key:"splitCellHorizontally",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,a=e.parent,i=a.parent,o=i.getChildIndex(a),r=parseInt(e.getAttribute("rowspan")||1),l=parseInt(e.getAttribute("colspan")||1);n.change((function(n){if(r>1){var a=m(new jf(i,{startRow:o,endRow:o+r-1,includeAllSlots:!0})),s=Yg(r,t),c=s.newCellsSpan,u=s.updatedSpan;Bf("rowspan",u,e,n);var h=a.find((function(t){return t.cell===e})).column,f={};c>1&&(f.rowspan=c),l>1&&(f.colspan=l);for(var g=0,p=a;g<p.length;g++){var v=p[g],b=v.column,k=v.row;k>=o+u&&b===h&&(k+o+u)%c==0&&Kg(1,n,v.getPositionBefore(),f)}}if(r<t){var C,y=t-r,w=m(new jf(i,{startRow:0,endRow:o})),A=d(w);try{for(A.s();!(C=A.n()).done;){var _=C.value,S=_.cell,E=_.cellHeight,O=_.row;if(S!==e&&O+E>o){var T=E+y;n.setAttribute("rowspan",T,S)}}}catch(D){A.e(D)}finally{A.f()}var x={};l>1&&(x.colspan=l),Wg(n,i,o+1,y,1,x);var P=i.getAttribute("headingRows")||0;P>o&&Bf("headingRows",P+y,i,n)}}))}},{key:"getColumns",value:function(e){return m(e.getChild(0).getChildren()).reduce((function(e,t){return e+parseInt(t.getAttribute("colspan")||1)}),0)}},{key:"getRows",value:function(e){return e.childCount}}],[{key:"pluginName",get:function(){return"TableUtils"}}]),n}(Zc);function Wg(e,t,n,a,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},r=0;r<a;r++){var l=e.createElement("tableRow");e.insert(l,t,n),Kg(i,e,e.createPositionAt(l,"end"),o)}}function Kg(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=0;i<e;i++)Lf(t,n,a)}function Yg(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};var n=Math.floor(e/t);return{newCellsSpan:n,updatedSpan:e-n*t+n}}var Jg=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=gg(this.editor.model.document.selection);this.isEnabled=Cg(e,this.editor.plugins.get(qg))}},{key:"execute",value:function(){var e=this.editor.model,t=this.editor.plugins.get(qg);e.change((function(n){var a=gg(e.document.selection),i=a.shift(),o=function(e,t,n){var a,i=0,o=0,r=d(t);try{for(r.s();!(a=r.n()).done;){var l=a.value,s=n.getCellLocation(l),c=s.row;i=Zg(l,s.column,i,"colspan"),o=Zg(l,c,o,"rowspan")}}catch(h){r.e(h)}finally{r.f()}var u=n.getCellLocation(e),m=u.row;return{mergeWidth:i-u.column,mergeHeight:o-m}}(i,a,t),r=o.mergeWidth,l=o.mergeHeight;Bf("colspan",r,i,n),Bf("rowspan",l,i,n);var s,c=d(a);try{for(c.s();!(s=c.n()).done;)$g(s.value,i,n)}catch(u){c.e(u)}finally{c.f()}Lg(i.findAncestor("table"),t),n.setSelection(i,"in")}))}}]),n}(ed);function $g(e,t,n){Qg(e)||(Qg(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}function Qg(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}function Zg(e,t,n,a){var i=parseInt(e.getAttribute(a)||1);return Math.max(n,t+i)}var Xg=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=vg(this.editor.model.document.selection);this.isEnabled=e.length>0}},{key:"execute",value:function(){for(var e=this.editor.model,t=vg(e.document.selection),n=bg(t),a=t[0].findAncestor("table"),i=[],o=n.first;o<=n.last;o++){var r,l=d(a.getChild(o).getChildren());try{for(l.s();!(r=l.n()).done;){var s=r.value;i.push(e.createRangeOn(s))}}catch(c){l.e(c)}finally{l.f()}}e.change((function(e){e.setSelection(i)}))}}]),n}(ed),ep=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"refresh",value:function(){var e=vg(this.editor.model.document.selection);this.isEnabled=e.length>0}},{key:"execute",value:function(){var e,t=this.editor.model,n=vg(t.document.selection),a=n[0],i=n.pop(),o=a.findAncestor("table"),r=this.editor.plugins.get("TableUtils"),l=r.getCellLocation(a),s=r.getCellLocation(i),c=Math.min(l.column,s.column),u=Math.max(l.column,s.column),m=[],h=d(new jf(o,{startColumn:c,endColumn:u}));try{for(h.s();!(e=h.n()).done;){var f=e.value;m.push(t.createRangeOn(f.cell))}}catch(g){h.e(g)}finally{h.f()}t.change((function(e){e.setSelection(m)}))}}]),n}(ed);function tp(e,t){var n=!1,a=function(e){var t,n=parseInt(e.getAttribute("headingRows")||0),a=e.childCount,i=[],o=d(new jf(e));try{for(o.s();!(t=o.n()).done;){var r=t.value,l=r.row,s=r.cell,c=r.cellHeight;if(!(c<2)){var u=l<n?n:a;if(l+c>u){var m=u-l;i.push({cell:s,rowspan:m})}}}}catch(h){o.e(h)}finally{o.f()}return i}(e);if(a.length){n=!0;var i,o=d(a);try{for(o.s();!(i=o.n()).done;){var r=i.value;Bf("rowspan",r.rowspan,r.cell,t,1)}}catch(l){o.e(l)}finally{o.f()}}return n}function np(e,t){var n,a=!1,i=function(e){var t,n=new Array(e.childCount).fill(0),a=d(new jf(e,{includeAllSlots:!0}));try{for(a.s();!(t=a.n()).done;)n[t.value.row]++}catch(i){a.e(i)}finally{a.f()}return n}(e),o=[],r=d(i.entries());try{for(r.s();!(n=r.n()).done;){var l=c(n.value,2),s=l[0];l[1]||o.push(s)}}catch(w){r.e(w)}finally{r.f()}if(o.length){a=!0;var u,m=d(o.reverse());try{for(m.s();!(u=m.n()).done;){var h=u.value;t.remove(e.getChild(h)),i.splice(h,1)}}catch(w){m.e(w)}finally{m.f()}}var f=i[0];if(!i.every((function(e){return e===f}))){var g,p=i.reduce((function(e,t){return t>e?t:e}),0),v=d(i.entries());try{for(v.s();!(g=v.n()).done;){var b=c(g.value,2),k=b[0],C=p-b[1];if(C){for(var y=0;y<C;y++)Lf(t,t.createPositionAt(e.getChild(k),"end"));a=!0}}}catch(w){v.e(w)}finally{v.f()}}return a}function ap(e){var t="attribute"===e.type,n=e.attributeKey;return t&&("headingRows"===n||"colspan"===n||"rowspan"===n)}function ip(e,t){var n,a=!1,i=d(e.getChildren());try{for(i.s();!(n=i.n()).done;)a=op(n.value,t)||a}catch(o){i.e(o)}finally{i.f()}return a}function op(e,t){var n,a=!1,i=d(e.getChildren());try{for(i.s();!(n=i.n()).done;)a=rp(n.value,t)||a}catch(o){i.e(o)}finally{i.f()}return a}function rp(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;var n,a=Array.from(e.getChildren()).filter((function(e){return e.is("$text")})),i=d(a);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.wrap(t.createRangeOn(o),"paragraph")}}catch(r){i.e(r)}finally{i.f()}return!!a.length}function lp(e){return!(!e.position||!e.position.parent.is("element","tableCell"))&&("insert"==e.type&&"$text"==e.name||"remove"==e.type)}function sp(e,t){if(!e.is("element","paragraph"))return!1;var n=t.toViewElement(e);return!!n&&og(e)!==n.is("element","span")}var cp=n(41);Ss()(cp.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),cp.a.locals;var dp=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor,t=e.model,n=t.schema,a=e.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((function(e,t){if("table"==t.name&&Array.from(e.getNames()).includes("table"))return!1})),a.for("upcast").add((function(e){e.on("element:table",(function(e,t,n){var a=t.viewItem;if(n.consumable.test(a,{name:!0})){var i=function(e){for(var t,n={headingRows:0,headingColumns:0},a=[],i=[],o=0,r=Array.from(e.getChildren());o<r.length;o++){var l=r[o];if("tbody"===l.name||"thead"===l.name||"tfoot"===l.name){"thead"!==l.name||t||(t=l);var s,c=Array.from(l.getChildren()).filter((function(e){return e.is("element","tr")})),u=d(c);try{for(u.s();!(s=u.n()).done;){var m=s.value;if("thead"===m.parent.name&&m.parent===t)n.headingRows++,a.push(m);else{i.push(m);var h=Vf(m);h>n.headingColumns&&(n.headingColumns=h)}}}catch(f){u.e(f)}finally{u.f()}}}return n.rows=[].concat(a,i),n}(a),o=i.rows,r=i.headingRows,l=i.headingColumns,s={};l&&(s.headingColumns=l),r&&(s.headingRows=r);var c=n.writer.createElement("table",s);if(n.safeInsert(c,t.modelCursor)){if(n.consumable.consume(a,{name:!0}),o.forEach((function(e){return n.convertItem(e,n.writer.createPositionAt(c,"end"))})),c.isEmpty){var u=n.writer.createElement("tableRow");n.writer.insert(u,n.writer.createPositionAt(c,"end")),Lf(n.writer,n.writer.createPositionAt(u,"end"))}n.updateConversionResult(c,t)}}}))})),a.for("editingDowncast").add(ag({asWidget:!0})),a.for("dataDowncast").add(ag()),a.for("upcast").elementToElement({model:"tableRow",view:"tr"}),a.for("upcast").add((function(e){e.on("element:tr",(function(e,t){t.viewItem.isEmpty&&0==t.modelCursor.index&&e.stop()}),{priority:"high"})})),a.for("editingDowncast").add((function(e){return e.on("insert:tableRow",(function(e,t,n){var a=t.item;if(n.consumable.consume(a,"insert")){var i,o=a.parent,r=function(e){var t,n=d(e.getChildren());try{for(n.s();!(t=n.n()).done;){var a=t.value;if("table"===a.name)return a}}catch(i){n.e(i)}finally{n.f()}}(n.mapper.toViewElement(o)),l=o.getChildIndex(a),s=new jf(o,{row:l}),c={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},u=new Map,m=d(s);try{for(m.s();!(i=m.n()).done;){var h=i.value,f=u.get(l)||sg(r,a,l,c,n);u.set(l,f),n.consumable.consume(h.cell,"insert"),lg(h,c,n.writer.createPositionAt(f,"end"),n,{asWidget:!0})}}catch(g){m.e(g)}finally{m.f()}}}))})),a.for("editingDowncast").add((function(e){return e.on("remove:tableRow",(function(e,t,n){e.stop();var a,i=n.writer,o=n.mapper,r=o.toViewPosition(t.position).getLastMatchingPosition((function(e){return!e.item.is("element","tr")})).nodeAfter,l=r.parent.parent,s=i.createRangeOn(r),c=i.remove(s),u=d(i.createRangeIn(c).getItems());try{for(u.s();!(a=u.n()).done;){var m=a.value;o.unbindViewElement(m)}}catch(h){u.e(h)}finally{u.f()}ug("thead",l,n),ug("tbody",l,n)}),{priority:"higher"})})),a.for("upcast").elementToElement({model:"tableCell",view:"td"}),a.for("upcast").elementToElement({model:"tableCell",view:"th"}),a.for("editingDowncast").add((function(e){return e.on("insert:tableCell",(function(e,t,n){var a=t.item;if(n.consumable.consume(a,"insert")){var i,o=a.parent,r=o.parent,l=r.getChildIndex(o),s=new jf(r,{row:l}),c={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},u=d(s);try{for(u.s();!(i=u.n()).done;){var m=i.value;if(m.cell===a){var h=n.mapper.toViewElement(o);return void lg(m,c,n.writer.createPositionAt(h,o.getChildIndex(a)),n,{asWidget:!0})}}}catch(f){u.e(f)}finally{u.f()}}}))})),e.conversion.for("editingDowncast").elementToElement({model:"paragraph",view:ig,converterPriority:"high"}),a.attributeToAttribute({model:"colspan",view:"colspan"}),a.attributeToAttribute({model:"rowspan",view:"rowspan"}),a.for("editingDowncast").add((function(e){return e.on("attribute:headingColumns:table",(function(e,t,n){var a=t.item;if(n.consumable.consume(t.item,e.name)){var i,o={headingRows:a.getAttribute("headingRows")||0,headingColumns:a.getAttribute("headingColumns")||0},r=t.attributeOldValue,l=t.attributeNewValue,s=d(new jf(a,{endColumn:(r>l?r:l)-1}));try{for(s.s();!(i=s.n()).done;)rg(i.value,o,n)}catch(c){s.e(c)}finally{s.f()}}}))})),e.commands.add("insertTable",new fg(e)),e.commands.add("insertTableRowAbove",new Sg(e,{order:"above"})),e.commands.add("insertTableRowBelow",new Sg(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new Eg(e,{order:"left"})),e.commands.add("insertTableColumnRight",new Eg(e,{order:"right"})),e.commands.add("removeTableRow",new Ng(e)),e.commands.add("removeTableColumn",new Gg(e)),e.commands.add("splitTableCellVertically",new Og(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new Og(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new Jg(e)),e.commands.add("mergeTableCellRight",new jg(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new jg(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new jg(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new jg(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new Hg(e)),e.commands.add("setTableRowHeader",new Ug(e)),e.commands.add("selectTableRow",new Xg(e)),e.commands.add("selectTableColumn",new ep(e)),function(e){e.document.registerPostFixer((function(){return function(e){var t,n=e.document.differ,a=new Set,i=d(n.getChanges());try{for(i.s();!(t=i.n()).done;){var o=t.value;if("attribute"==o.type){var r=o.range.start.nodeAfter;r&&r.is("element","table")&&"headingRows"==o.attributeKey&&a.add(r)}}}catch(u){i.e(u)}finally{i.f()}if(a.size){var l,s=d(a.values());try{for(s.s();!(l=s.n()).done;){var c=l.value;n.refreshItem(c)}}catch(u){s.e(u)}finally{s.f()}return!0}return!1}(e)}))}(t),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n,a=t.document.differ.getChanges(),i=!1,o=new Set,r=d(a);try{for(r.s();!(n=r.n()).done;){var l=n.value,s=void 0;"table"==l.name&&"insert"==l.type&&(s=l.position.nodeAfter),"tableRow"!=l.name&&"tableCell"!=l.name||(s=l.position.findAncestor("table")),ap(l)&&(s=l.range.start.findAncestor("table")),s&&!o.has(s)&&(i=tp(s,e)||i,i=np(s,e)||i,o.add(s))}}catch(c){r.e(c)}finally{r.f()}return i}(t,e)}))}(t),function(e,t){e.document.registerPostFixer((function(){return function(e,t){var n,a=new Set,i=d(e.getChanges());try{for(i.s();!(n=i.n()).done;){var o=n.value,r="attribute"==o.type?o.range.start.parent:o.position.parent;r.is("element","tableCell")&&a.add(r)}}catch(g){i.e(g)}finally{i.f()}var l,s=d(a.values());try{for(s.s();!(l=s.n()).done;){var c,u=l.value,h=d(m(u.getChildren()).filter((function(e){return sp(e,t)})));try{for(h.s();!(c=h.n()).done;){var f=c.value;e.refreshItem(f)}}catch(g){h.e(g)}finally{h.f()}}}catch(g){s.e(g)}finally{s.f()}return!1}(e.document.differ,t)}))}(t,e.editing.mapper),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n,a=t.document.differ.getChanges(),i=!1,o=d(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;"insert"==r.type&&"table"==r.name&&(i=ip(r.position.nodeAfter,e)||i),"insert"==r.type&&"tableRow"==r.name&&(i=op(r.position.nodeAfter,e)||i),"insert"==r.type&&"tableCell"==r.name&&(i=rp(r.position.nodeAfter,e)||i),lp(r)&&(i=rp(r.position.parent,e)||i)}}catch(l){o.e(l)}finally{o.f()}return i}(t,e)}))}(t)}}],[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[qg]}}]),n}(Zc),up=n(42);Ss()(up.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),up.a.locals;var mp=function(e){g(n,e);var t=p(n);function n(e){var a;h(this,n);var i=(a=t.call(this,e)).bindTemplate;return a.items=a._createGridCollection(),a.set("rows",0),a.set("columns",0),a.bind("label").to(r(a),"columns",r(a),"rows",(function(e,t){return"".concat(t," \xd7 ").concat(e)})),a.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:a.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:i.to("label")}]}],on:{mousedown:i.to((function(e){e.preventDefault()})),click:i.to((function(){a.fire("execute")}))}}),a.on("boxover",(function(e,t){var n=t.target.dataset,i=n.row,o=n.column;a.set({rows:parseInt(i),columns:parseInt(o)})})),a.on("change:columns",(function(){a._highlightGridBoxes()})),a.on("change:rows",(function(){a._highlightGridBoxes()})),a}return f(n,[{key:"focus",value:function(){}},{key:"focusLast",value:function(){}},{key:"_highlightGridBoxes",value:function(){var e=this.rows,t=this.columns;this.items.map((function(n,a){var i=Math.floor(a/10)<e&&a%10<t;n.set("isOn",i)}))}},{key:"_createGridCollection",value:function(){for(var e=[],t=0;t<100;t++){var n=Math.floor(t/10),a=t%10;e.push(new hp(this.locale,n+1,a+1))}return this.createCollection(e)}}]),n}(Xs),hp=function(e){g(n,e);var t=p(n);function n(e,a,i){var o;h(this,n);var r=(o=t.call(this,e)).bindTemplate;return o.set("isOn",!1),o.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",r.if("isOn","ck-on")],"data-row":a,"data-column":i}}),o}return n}(Xs),fp=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=this.editor.t,a="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",(function(e){var a,i=t.commands.get("insertTable"),o=Nc(e);return o.bind("isEnabled").to(i),o.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:n("Insert table"),tooltip:!0}),o.on("change:isOpen",(function(){a||(a=new mp(e),o.panelView.children.add(a),a.delegate("execute").to(o),o.buttonView.on("open",(function(){a.rows=0,a.columns=0})),o.on("execute",(function(){t.execute("insertTable",{rows:a.rows,columns:a.columns}),t.editing.view.focus()})))})),o})),t.ui.componentFactory.add("tableColumn",(function(t){var i=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:n("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:n("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:n("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:n("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:n("Select column")}}];return e._prepareDropdown(n("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',i,t)})),t.ui.componentFactory.add("tableRow",(function(t){var a=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:n("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:n("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:n("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:n("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:n("Select row")}}];return e._prepareDropdown(n("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',a,t)})),t.ui.componentFactory.add("mergeTableCells",(function(t){var i=[{type:"button",model:{commandName:"mergeTableCellUp",label:n("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:n("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:n("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:n("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:n("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:n("Split cell horizontally")}}];return e._prepareMergeSplitButtonDropdown(n("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',i,t)}))}},{key:"_prepareDropdown",value:function(e,t,n,a){var i=this.editor,o=Nc(a),r=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:e,icon:t,tooltip:!0}),o.bind("isEnabled").toMany(r,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),this.listenTo(o,"execute",(function(e){i.execute(e.source.commandName),i.editing.view.focus()})),o}},{key:"_prepareMergeSplitButtonDropdown",value:function(e,t,n,a){var i=this.editor,o=Nc(a,Af);return this._fillDropdownWithListOptions(o,n),o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),this.listenTo(o.buttonView,"execute",(function(){i.execute("mergeTableCells"),i.editing.view.focus()})),this.listenTo(o,"execute",(function(e){i.execute(e.source.commandName),i.editing.view.focus()})),o}},{key:"_fillDropdownWithListOptions",value:function(e,t){var n,a=this.editor,i=[],o=new ln,r=d(t);try{for(r.s();!(n=r.n()).done;)gp(n.value,a,i,o)}catch(l){r.e(l)}finally{r.f()}return Uc(e,o,a.ui.componentFactory),i}}]),n}(Zc);function gp(e,t,n,a){var i=e.model=new zm(e.model),o=e.model,r=o.commandName,l=o.bindIsOn;if("button"===e.type||"switchbutton"===e.type){var s=t.commands.get(r);n.push(s),i.set({commandName:r}),i.bind("isEnabled").to(s),l&&i.bind("isOn").to(s,"value")}i.set({withText:!0}),a.add(e)}var pp=n(43);Ss()(pp.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),pp.a.locals;var vp=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor.model;this.listenTo(t,"deleteContent",(function(t,n){return e._handleDeleteContent(t,n)}),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var e=gg(this.editor.model.document.selection);return 0==e.length?null:e}},{key:"getSelectionAsFragment",value:function(){var e=this,t=this.getSelectedTableCells();return t?this.editor.model.change((function(n){var a=n.createDocumentFragment(),i=e.editor.plugins.get("TableUtils"),o=kg(t),r=o.first,l=o.last,s=bg(t),c=s.first,d=s.last,u=t[0].findAncestor("table"),m=d,h=l;if(Cg(t,i)){var f={firstColumn:r,lastColumn:l,firstRow:c,lastRow:d};m=zg(u,f),h=Vg(u,f)}var g=Tg(u,{startRow:c,startColumn:r,endRow:m,endColumn:h},n);return n.insert(g,a,0),a})):null}},{key:"setCellSelection",value:function(e,t){var n=this._getCellsToSelect(e,t);this.editor.model.change((function(e){e.setSelection(n.cells.map((function(t){return e.createRangeOn(t)})),{backward:n.backward})}))}},{key:"getFocusCell",value:function(){var e=m(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"getAnchorCell",value:function(){var e=nd(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"_defineSelectionConverter",value:function(){var e=this,t=this.editor,n=new Set;t.conversion.for("editingDowncast").add((function(t){return t.on("selection",(function(t,a,i){var o=i.writer;!function(e){var t,a=d(n);try{for(a.s();!(t=a.n()).done;){var i=t.value;e.removeClass("ck-editor__editable_selected",i)}}catch(o){a.e(o)}finally{a.f()}n.clear()}(o);var r=e.getSelectedTableCells();if(r){var l,s=d(r);try{for(s.s();!(l=s.n()).done;){var c=l.value,u=i.mapper.toViewElement(c);o.addClass("ck-editor__editable_selected",u),n.add(u)}}catch(h){s.e(h)}finally{s.f()}var m=i.mapper.toViewElement(r[r.length-1]);o.setSelection(m,0)}}),{priority:"lowest"})}))}},{key:"_enablePluginDisabling",value:function(){var e=this,t=this.editor;this.on("change:isEnabled",(function(){if(!e.isEnabled){var n=e.getSelectedTableCells();if(!n)return;t.model.change((function(e){var a=e.createPositionAt(n[0],0),i=t.model.schema.getNearestSelectionRange(a);e.setSelection(i)}))}}))}},{key:"_handleDeleteContent",value:function(e,t){var n=c(t,2),a=n[0],i=n[1],o=this.editor.model,r=!i||"backward"==i.direction,l=gg(a);l.length&&(e.stop(),o.change((function(e){var t=l[r?l.length-1:0];o.change((function(e){var t,n=d(l);try{for(n.s();!(t=n.n()).done;){var a=t.value;o.deleteContent(e.createSelection(a,"in"))}}catch(i){n.e(i)}finally{n.f()}}));var n=o.schema.getNearestSelectionRange(e.createPositionAt(t,0));a.is("documentSelection")?e.setSelection(n):a.setTo(n)})))}},{key:"_getCellsToSelect",value:function(e,t){var n,a=this.editor.plugins.get("TableUtils"),i=a.getCellLocation(e),o=a.getCellLocation(t),r=Math.min(i.row,o.row),l=Math.max(i.row,o.row),s=Math.min(i.column,o.column),c=Math.max(i.column,o.column),u=new Array(l-r+1).fill(null).map((function(){return[]})),m={startRow:r,endRow:l,startColumn:s,endColumn:c},h=d(new jf(e.findAncestor("table"),m));try{for(h.s();!(n=h.n()).done;){var f=n.value,g=f.row,p=f.cell;u[g-r].push(p)}}catch(k){h.e(k)}finally{h.f()}var v=o.row<i.row,b=o.column<i.column;return v&&u.reverse(),b&&u.forEach((function(e){return e.reverse()})),{cells:u.flat(),backward:v||b}}}],[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[qg]}}]),n}(Zc),bp=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view.document;this.listenTo(n,"copy",(function(t,n){return e._onCopyCut(t,n)})),this.listenTo(n,"cut",(function(t,n){return e._onCopyCut(t,n)})),this.listenTo(t.model,"insertContent",(function(t,n){return e._onInsertContent.apply(e,[t].concat(m(n)))}),{priority:"high"}),this.decorate("_replaceTableSlotCell")}},{key:"_onCopyCut",value:function(e,t){var n=this.editor.plugins.get(vp);if(n.getSelectedTableCells()&&("cut"!=e.name||!this.editor.isReadOnly)){t.preventDefault(),e.stop();var a=this.editor.data,i=this.editor.editing.view.document,o=a.toView(n.getSelectionAsFragment());i.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:o,method:e.name})}}},{key:"_onInsertContent",value:function(e,t,n){var a=this;if(!n||n.is("documentSelection")){var i=this.editor.model,o=this.editor.plugins.get(qg),r=function(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(1==e.childCount&&e.getChild(0).is("element","table"))return e.getChild(0);var n,a=t.createRangeIn(e),i=d(a.getItems());try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.is("element","table")){var r=t.createRange(a.start,t.createPositionBefore(o));if(t.hasContent(r,{ignoreWhitespaces:!0}))return null;var l=t.createRange(t.createPositionAfter(o),a.end);return t.hasContent(l,{ignoreWhitespaces:!0})?null:o}}}catch(s){i.e(s)}finally{i.f()}return null}(t,i);if(r){var l=vg(i.document.selection);l.length?(e.stop(),i.change((function(e){var t={width:o.getColumns(r),height:o.getRows(r)},n=function(e,t,n,a){var i=e[0].findAncestor("table"),o=kg(e),r=bg(e),l={firstColumn:o.first,lastColumn:o.last,firstRow:r.first,lastRow:r.last},s=1===e.length;return s&&(l.lastRow+=t.height-1,l.lastColumn+=t.width-1,function(e,t,n,a){var i=a.getColumns(e),o=a.getRows(e);n>i&&a.insertColumns(e,{at:i,columns:n-i}),t>o&&a.insertRows(e,{at:o,rows:t-o})}(i,l.lastRow+1,l.lastColumn+1,a)),s||!Cg(e,a)?function(e,t,n){var a=t.firstRow,i=t.lastRow,o=t.firstColumn,r=t.lastColumn,l={first:a,last:i},s={first:o,last:r};Cp(e,o,l,n),Cp(e,r+1,l,n),kp(e,a,s,n),kp(e,i+1,s,n,a)}(i,l,n):(l.lastRow=zg(i,l),l.lastColumn=Vg(i,l)),l}(l,t,e,o),i=n.lastRow-n.firstRow+1,s=n.lastColumn-n.firstColumn+1,c={startRow:0,startColumn:0,endRow:Math.min(i,t.height)-1,endColumn:Math.min(s,t.width)-1};r=Tg(r,c,e);var d=l[0].findAncestor("table"),u=a._replaceSelectedCellsWithPasted(r,t,d,n,e);if(a.editor.plugins.get("TableSelection").isEnabled){var m=yg(u.map((function(t){return e.createRangeOn(t)})));e.setSelection(m)}else e.setSelection(u[0],0)}))):Lg(r,o)}}}},{key:"_replaceSelectedCellsWithPasted",value:function(e,t,n,a,i){for(var o,r=t.width,l=t.height,s=function(e,t,n){var a,i=new Array(n).fill(null).map((function(){return new Array(t).fill(null)})),o=d(new jf(e));try{for(o.s();!(a=o.n()).done;){var r=a.value,l=r.column,s=r.row,c=r.cell;i[s][l]=c}}catch(u){o.e(u)}finally{o.f()}return i}(e,r,l),c=[],u=0,h=m(new jf(n,{startRow:a.firstRow,endRow:a.lastRow,startColumn:a.firstColumn,endColumn:a.lastColumn,includeAllSlots:!0}));u<h.length;u++){var f=h[u],g=f.row,p=f.column;p===a.firstColumn&&(o=f.getPositionBefore());var v=g-a.firstRow,b=p-a.firstColumn,k=s[v%l][b%r],C=k?i.cloneElement(k):null,y=this._replaceTableSlotCell(f,C,o,i);y&&(Rg(y,g,p,a.lastRow,a.lastColumn,i),c.push(y),o=i.createPositionAfter(y))}var w=parseInt(n.getAttribute("headingRows")||0),A=parseInt(n.getAttribute("headingColumns")||0),_=a.firstRow<w&&w<=a.lastRow,S=a.firstColumn<A&&A<=a.lastColumn;if(_){var E=kp(n,w,{first:a.firstColumn,last:a.lastColumn},i,a.firstRow);c.push.apply(c,m(E))}if(S){var O=Cp(n,A,{first:a.firstRow,last:a.lastRow},i);c.push.apply(c,m(O))}return c}},{key:"_replaceTableSlotCell",value:function(e,t,n,a){var i=e.cell;return e.isAnchor&&a.remove(i),t?(a.insert(t,n),t):null}}],[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[vp,qg]}}]),n}(Zc);function kp(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!(t<1))return xg(e,t,i).filter((function(e){return yp(e.column,e.cellWidth,n)})).map((function(e){return Pg(e.cell,t,a)}))}function Cp(e,t,n,a){if(!(t<1))return Dg(e,t).filter((function(e){return yp(e.row,e.cellHeight,n)})).map((function(e){return Mg(e.cell,e.column,t,a)}))}function yp(e,t,n){var a=e+t-1,i=n.first,o=n.last;return e>=i&&e<=o||e<i&&a>=i}var wp=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",(function(){return e._handleTabOnSelectedTable.apply(e,arguments)}),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(t,"keydown",(function(){return e._onKeydown.apply(e,arguments)}),{priority:Wt.get("high")-10})}},{key:"_handleTabOnSelectedTable",value:function(e,t){var n=this.editor,a=n.model.document.selection.getSelectedElement();a&&a.is("element","table")&&(t(),n.model.change((function(e){e.setSelection(e.createRangeIn(a.getChild(0).getChild(0)))})))}},{key:"_getTabHandler",value:function(e){var t=this,n=this.editor;return function(a,i){var o=pg(n.model.document.selection)[0];if(o||(o=t.editor.plugins.get("TableSelection").getFocusCell()),o){i();var r=o.parent,l=r.parent,s=l.getChildIndex(r),c=r.getChildIndex(o),d=0===c;if(e||!d||0!==s){var u=c===r.childCount-1,m=s===l.childCount-1;if(e&&m&&u&&(n.execute("insertTableRowBelow"),s===l.childCount-1))n.model.change((function(e){e.setSelection(e.createRangeOn(l))}));else{var h;if(e&&u){var f=l.getChild(s+1);h=f.getChild(0)}else if(!e&&d){var g=l.getChild(s-1);h=g.getChild(g.childCount-1)}else h=r.getChild(c+(e?1:-1));n.model.change((function(e){e.setSelection(e.createRangeIn(h))}))}}else n.model.change((function(e){e.setSelection(e.createRangeOn(l))}))}}}},{key:"_onKeydown",value:function(e,t){var n=this.editor,a=t.keyCode;if(Ka(a)){var i=Ya(a,n.locale.contentLanguageDirection);this._handleArrowKeys(i,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}}},{key:"_handleArrowKeys",value:function(e,t){var n,a=this.editor.model.document.selection,i=["right","down"].includes(e),o=gg(a);if(o.length)return n=t?this.editor.plugins.get("TableSelection").getFocusCell():i?o[o.length-1]:o[0],this._navigateFromCellInDirection(n,e,t),!0;var r=a.focus.findAncestor("tableCell");return!!r&&!(t&&!a.isCollapsed&&a.isBackward==i)&&!!this._isSelectionAtCellEdge(a,r,i)&&(this._navigateFromCellInDirection(r,e,t),!0)}},{key:"_isSelectionAtCellEdge",value:function(e,t,n){var a=this.editor.model,i=this.editor.model.schema,o=n?e.getLastPosition():e.getFirstPosition();if(!i.getLimitElement(o).is("element","tableCell"))return a.createPositionAt(t,n?"end":0).isTouching(o);var r=a.createSelection(o);return a.modifySelection(r,{direction:n?"forward":"backward"}),o.isEqual(r.focus)}},{key:"_navigateFromCellInDirection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.editor.model,i=e.findAncestor("table"),o=m(new jf(i,{includeAllSlots:!0})),r=o[o.length-1],l=r.row,s=r.column,c=o.find((function(t){return t.cell==e})),d=c.row,u=c.column;switch(t){case"left":u--;break;case"up":d--;break;case"right":u+=c.cellWidth;break;case"down":d+=c.cellHeight}if(d<0||d>l||u<0&&d<=0||u>s&&d>=l)a.change((function(e){e.setSelection(e.createRangeOn(i))}));else{u<0?(u=n?0:s,d--):u>s&&(u=n?s:0,d++);var h=o.find((function(e){return e.row==d&&e.column==u})).cell,f=["right","down"].includes(t),g=this.editor.plugins.get("TableSelection");if(n&&g.isEnabled){var p=g.getAnchorCell()||e;g.setCellSelection(p,h)}else{var v=a.createPositionAt(h,f?0:"end");a.change((function(e){e.setSelection(v)}))}}}}],[{key:"pluginName",get:function(){return"TableKeyboard"}},{key:"requires",get:function(){return[vp]}}]),n}(Zc),Ap=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e)).domEventType=["mousemove","mouseup","mouseleave"],a}return f(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(co),_p=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){this.editor.editing.view.addObserver(Ap),this._enableShiftClickSelection(),this._enableMouseDragSelection()}},{key:"_enableShiftClickSelection",value:function(){var e=this,t=this.editor,n=!1,a=t.plugins.get(vp);this.listenTo(t.editing.view.document,"mousedown",(function(i,o){if(e.isEnabled&&a.isEnabled&&o.domEvent.shiftKey){var r=a.getAnchorCell()||pg(t.model.document.selection)[0];if(r){var l=e._getModelTableCellFromDomEvent(o);l&&Sp(r,l)&&(n=!0,a.setCellSelection(r,l),o.preventDefault())}}})),this.listenTo(t.editing.view.document,"mouseup",(function(){n=!1})),this.listenTo(t.editing.view.document,"selectionChange",(function(e){n&&e.stop()}),{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var e,t,n=this,a=this.editor,i=!1,o=!1,r=a.plugins.get(vp);this.listenTo(a.editing.view.document,"mousedown",(function(t,a){n.isEnabled&&r.isEnabled&&(a.domEvent.shiftKey||a.domEvent.ctrlKey||a.domEvent.altKey||(e=n._getModelTableCellFromDomEvent(a)))})),this.listenTo(a.editing.view.document,"mousemove",(function(a,l){if(l.domEvent.buttons&&e){var s=n._getModelTableCellFromDomEvent(l);s&&Sp(e,s)&&(t=s,i||t==e||(i=!0)),i&&(o=!0,r.setCellSelection(e,t),l.preventDefault())}})),this.listenTo(a.editing.view.document,"mouseup",(function(){i=!1,o=!1,e=null,t=null})),this.listenTo(a.editing.view.document,"selectionChange",(function(e){o&&e.stop()}),{priority:"highest"})}},{key:"_getModelTableCellFromDomEvent",value:function(e){var t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}],[{key:"pluginName",get:function(){return"TableMouse"}},{key:"requires",get:function(){return[vp]}}]),n}(Zc);function Sp(e,t){return e.parent.parent==t.parent.parent}var Ep=n(44);Ss()(Ep.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ep.a.locals;var Op=["before","after"],Tp=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038M1 4.178l2 2.038"/></svg>',"image/svg+xml").firstChild,xp="ck-widget__type-around_disabled",Pp=function(e){g(n,e);var t=p(n);function n(e){var a;return h(this,n),(a=t.call(this,e))._currentFakeCaretModelElement=null,a}return f(n,null,[{key:"pluginName",get:function(){return"WidgetTypeAround"}}]),f(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view;this.on("change:isEnabled",(function(n,a,i){t.change((function(e){var n,a=d(t.document.roots);try{for(a.s();!(n=a.n()).done;){var o=n.value;i?e.removeClass(xp,o):e.addClass(xp,o)}}catch(r){a.e(r)}finally{a.f()}})),i||e.model.change((function(e){e.removeSelectionAttribute(Wf)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration()}},{key:"destroy",value:function(){this._currentFakeCaretModelElement=null}},{key:"_insertParagraph",value:function(e,t){var n=this.editor,a=n.editing.view;n.execute("insertParagraph",{position:n.model.createPositionAt(e,t)}),a.focus(),a.scrollToTheSelection()}},{key:"_listenToIfEnabled",value:function(e,t,n,a){var i=this;this.listenTo(e,t,(function(){i.isEnabled&&n.apply(void 0,arguments)}),a)}},{key:"_insertParagraphAccordingToFakeCaretPosition",value:function(){var e=this.editor.model.document.selection,t=Yf(e);if(!t)return!1;var n=e.getSelectedElement();return this._insertParagraph(n,t),!0}},{key:"_enableTypeAroundUIInjection",value:function(){var e=this.editor,t=e.model.schema,n=e.locale.t,a={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(function(e,n,i){var o=i.mapper.toViewElement(n.item);Kf(o,n.item,t)&&function(e,t,n){var a=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){var n=this.toDomElement(e);return function(e,t){var n,a=d(Op);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=new Rs({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_".concat(i)],title:t[i]},children:[e.ownerDocument.importNode(Tp,!0)]});e.appendChild(o.render())}}catch(r){a.e(r)}finally{a.f()}}(n,t),function(e){var t=new Rs({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}(n),n}));e.insert(e.createPositionAt(n,"end"),a)}(i.writer,a,o)}),{priority:"low"})}},{key:"_enableTypeAroundFakeCaretActivationUsingKeyboardArrows",value:function(){var e=this,t=this.editor,n=t.model,a=n.document.selection,i=n.schema,o=t.editing.view;function r(e){return"ck-widget_type-around_show-fake-caret_".concat(e)}this._listenToIfEnabled(o.document,"keydown",(function(t,n){Ka(n.keyCode)&&e._handleArrowKeyPress(t,n)}),{priority:Wt.get("high")+10}),this._listenToIfEnabled(a,"change:range",(function(e,n){n.directChange&&t.model.change((function(e){e.removeSelectionAttribute(Wf)}))})),this._listenToIfEnabled(n.document,"change:data",(function(){var e=a.getSelectedElement();e&&Kf(t.editing.mapper.toViewElement(e),e,i)||t.model.change((function(e){e.removeSelectionAttribute(Wf)}))})),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(function(t,n,a){var o=a.writer;if(e._currentFakeCaretModelElement){var l=a.mapper.toViewElement(e._currentFakeCaretModelElement);l&&(o.removeClass(Op.map(r),l),e._currentFakeCaretModelElement=null)}var s=n.selection.getSelectedElement();if(s){var c=a.mapper.toViewElement(s);if(Kf(c,s,i)){var d=Yf(n.selection);d&&(o.addClass(r(d),c),e._currentFakeCaretModelElement=s)}}})),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(function(e,n,a){a||t.model.change((function(e){e.removeSelectionAttribute(Wf)}))}))}},{key:"_handleArrowKeyPress",value:function(e,t){var n,a=this.editor,i=a.model,o=i.document.selection,r=i.schema,l=a.editing.view,s=Ja(t.keyCode,a.locale.contentLanguageDirection),c=l.document.selection.getSelectedElement();Kf(c,a.editing.mapper.toModelElement(c),r)?n=this._handleArrowKeyPressOnSelectedWidget(s):o.isCollapsed&&(n=this._handleArrowKeyPressWhenSelectionNextToAWidget(s)),n&&(t.preventDefault(),e.stop())}},{key:"_handleArrowKeyPressOnSelectedWidget",value:function(e){var t=this.editor.model,n=Yf(t.document.selection);return t.change((function(t){return n?n!==(e?"after":"before")&&(t.removeSelectionAttribute(Wf),!0):(t.setSelectionAttribute(Wf,e?"after":"before"),!0)}))}},{key:"_handleArrowKeyPressWhenSelectionNextToAWidget",value:function(e){var t=this.editor,n=t.model,a=n.schema,i=t.plugins.get("Widget"),o=i._getObjectElementNextToSelection(e);return!!Kf(t.editing.mapper.toViewElement(o),o,a)&&(n.change((function(t){i._setSelectionOverElement(o),t.setSelectionAttribute(Wf,e?"before":"after")})),!0)}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var e=this,t=this.editor,n=t.editing.view;this._listenToIfEnabled(n.document,"mousedown",(function(a,i){var o=i.domTarget.closest(".ck-widget__type-around__button");if(o){var r=function(e){return e.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(o),l=function(e,t){var n=e.closest(".ck-widget");return t.mapDomToView(n)}(o,n.domConverter),s=t.editing.mapper.toModelElement(l);e._insertParagraph(s,r),i.preventDefault(),a.stop()}}))}},{key:"_enableInsertingParagraphsOnEnterKeypress",value:function(){var e=this,t=this.editor,n=t.editing.view;this._listenToIfEnabled(n.document,"enter",(function(a,i){var o,r=n.document.selection.getSelectedElement(),l=t.editing.mapper.toModelElement(r),s=t.model.schema;e._insertParagraphAccordingToFakeCaretPosition()?o=!0:Kf(r,l,s)&&(e._insertParagraph(l,i.isSoft?"before":"after"),o=!0),o&&(i.preventDefault(),a.stop())}))}},{key:"_enableInsertingParagraphsOnTypingKeystroke",value:function(){var e=this,t=this.editor.editing.view,n=[Ua.enter,Ua.delete,Ua.backspace];this._listenToIfEnabled(t.document,"keydown",(function(t,a){n.includes(a.keyCode)||pu(a)||e._insertParagraphAccordingToFakeCaretPosition()}),{priority:Wt.get("high")+1})}},{key:"_enableDeleteIntegration",value:function(){var e=this.editor,t=e.editing.view,n=e.model,a=n.schema;this._listenToIfEnabled(t.document,"delete",(function(t,i){var o=Yf(n.document.selection);if(o){var r=i.direction,l=n.document.selection.getSelectedElement(),s="forward"==r;if("before"===o===s)e.execute("delete",{selection:n.createSelection(l,"on")});else{var c=a.getNearestSelectionRange(n.createPositionAt(l,o),r);if(c)if(c.isCollapsed){var u=n.createSelection(c.start);if(n.modifySelection(u,{direction:r}),u.focus.isEqual(c.start)){var m=function(e,t){var n,a=t,i=d(t.getAncestors({parentFirst:!0}));try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.childCount>1||e.isLimit(o))break;a=o}}catch(r){i.e(r)}finally{i.f()}return a}(a,c.start.parent);n.deleteContent(n.createSelection(m,"on"),{doNotAutoparagraph:!0})}else n.change((function(t){t.setSelection(c),e.execute(s?"forwardDelete":"delete")}))}else n.change((function(t){t.setSelection(c),e.execute(s?"forwardDelete":"delete")}))}i.preventDefault(),t.stop()}}),{priority:Wt.get("high")+1})}},{key:"_enableInsertContentIntegration",value:function(){var e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(function(e,a){var i=c(a,2),o=i[0],r=i[1];if(!r||r.is("documentSelection")){var l=Yf(n);return l?(e.stop(),t.change((function(e){var a=n.getSelectedElement(),i=t.createPositionAt(a,l),r=e.createSelection(i),s=t.insertContent(o,r);return e.setSelection(r),s}))):void 0}}),{priority:"high"})}}]),n}(Zc),Dp=n(45);function Mp(e,t,n){var a,i=e.schema,o=e.createRangeIn(t.root),r="forward"==n?"elementStart":"elementEnd",l=d(o.getWalker({startPosition:t,direction:n}));try{for(l.s();!(a=l.n()).done;){var s=a.value,c=s.previousPosition,u=s.item,m=s.type;if(i.isLimit(u)&&!i.isInline(u))return c;if(m==r&&i.isBlock(u))return null}}catch(h){l.e(h)}finally{l.f()}return null}function Rp(e,t,n){var a="backward"==n?t.end:t.start;if(e.checkChild(a,"$text"))return a;var i,o=d(t.getWalker({direction:n}));try{for(o.s();!(i=o.n()).done;){var r=i.value.nextPosition;if(e.checkChild(r,"$text"))return r}}catch(l){o.e(l)}finally{o.f()}}Ss()(Dp.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Dp.a.locals;var Ip=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor.editing.view,n=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(function(t,n,a){e._clearPreviouslySelectedWidgets(a.writer);var i,o=a.writer,r=o.document.selection,l=r.getSelectedElement(),s=null,c=d(r.getRanges());try{for(c.s();!(i=c.n()).done;){var u,m=i.value,h=d(m);try{for(h.s();!(u=h.n()).done;){var f=u.value.item;$f(f)&&!Bp(f,s)&&(o.addClass(Jf,f),e._previouslySelected.add(f),s=f,f==l&&o.setSelection(r.getRanges(),{fake:!0,label:Xf(l)}))}}catch(g){h.e(g)}finally{h.f()}}}catch(g){c.e(g)}finally{c.f()}}),{priority:"low"}),t.addObserver(Jm),this.listenTo(n,"mousedown",(function(){return e._onMousedown.apply(e,arguments)})),this.listenTo(n,"keydown",(function(){e._handleSelectionChangeOnArrowKeyPress.apply(e,arguments)}),{priority:"high"}),this.listenTo(n,"keydown",(function(){e._preventDefaultOnArrowKeyPress.apply(e,arguments)}),{priority:Wt.get("high")-20}),this.listenTo(n,"keydown",function(e){var t=e.model;return function(n,a){var i=a.keyCode==Ua.arrowup,o=a.keyCode==Ua.arrowdown,r=a.shiftKey,l=t.document.selection;if(i||o){var s=o;if(!r||!function(e,t){return!e.isCollapsed&&e.isBackward==t}(l,s)){var c=function(e,t,n){var a=e.model;if(n){var i=t.isCollapsed?t.focus:t.getLastPosition(),o=Mp(a,i,"forward");if(!o)return null;var r=a.createRange(i,o),l=Rp(a.schema,r,"backward");return l&&i.isBefore(l)?a.createRange(i,l):null}var s=t.isCollapsed?t.focus:t.getFirstPosition(),c=Mp(a,s,"backward");if(!c)return null;var d=a.createRange(c,s),u=Rp(a.schema,d,"forward");return u&&s.isAfter(u)?a.createRange(u,s):null}(e,l,s);c&&!c.isCollapsed&&function(e,t,n){var a=e.model,i=e.view.domConverter;if(n){var o=a.createSelection(t.start);a.modifySelection(o),o.focus.isAtEnd||t.start.isEqual(o.focus)||(t=a.createRange(o.focus,t.end))}var r,l,s=e.mapper.toViewRange(t),c=i.viewRangeToDom(s),u=Po.getDomRangeRects(c),m=d(u);try{for(m.s();!(l=m.n()).done;){var h=l.value;if(void 0!==r){if(Math.round(h.top)>=r)return!1;r=Math.max(r,Math.round(h.bottom))}else r=Math.round(h.bottom)}}catch(f){m.e(f)}finally{m.f()}return!0}(e,c,s)&&(t.change((function(e){var n=s?c.end:c.start;if(r){var a=t.createSelection(l.anchor);a.setFocus(n),e.setSelection(a)}else e.setSelection(n)})),n.stop(),a.preventDefault(),a.stopPropagation())}}}}(this.editor.editing)),this.listenTo(n,"delete",(function(t,n){e._handleDelete("forward"==n.direction)&&(n.preventDefault(),t.stop())}),{priority:"high"})}},{key:"_onMousedown",value:function(e,t){var n=this.editor,a=n.editing.view,i=a.document,o=t.target;if(function(e){for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if($f(e))return!1;e=e.parent}return!1}(o)){if((ja||Va)&&t.domEvent.detail>=3){var r=n.editing.mapper,l=o.is("attributeElement")?o.findAncestor((function(e){return!e.is("attributeElement")})):o,s=r.toModelElement(l);t.preventDefault(),this.editor.model.change((function(e){e.setSelection(s,"in")}))}}else if($f(o)||(o=o.findAncestor($f))){t.preventDefault(),i.isFocused||a.focus();var c=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(c)}}},{key:"_handleSelectionChangeOnArrowKeyPress",value:function(e,t){var n=t.keyCode;if(Ka(n)){var a=this.editor.model,i=a.schema,o=a.document.selection,r=o.getSelectedElement(),l=Ja(n,this.editor.locale.contentLanguageDirection);if(r&&i.isObject(r)){var s=l?o.getLastPosition():o.getFirstPosition(),c=i.getNearestSelectionRange(s,l?"forward":"backward");c&&(a.change((function(e){e.setSelection(c)})),t.preventDefault(),e.stop())}else if(o.isCollapsed){var d=this._getObjectElementNextToSelection(l);d&&i.isObject(d)&&(this._setSelectionOverElement(d),t.preventDefault(),e.stop())}}}},{key:"_preventDefaultOnArrowKeyPress",value:function(e,t){if(Ka(t.keyCode)){var n=this.editor.model,a=n.schema,i=n.document.selection.getSelectedElement();i&&a.isObject(i)&&(t.preventDefault(),e.stop())}}},{key:"_handleDelete",value:function(e){var t=this;if(!this.editor.isReadOnly){var n=this.editor.model.document.selection;if(n.isCollapsed){var a=this._getObjectElementNextToSelection(e);return a?(this.editor.model.change((function(e){for(var i=n.anchor.parent;i.isEmpty;){var o=i;i=o.parent,e.remove(o)}t._setSelectionOverElement(a)})),!0):void 0}}}},{key:"_setSelectionOverElement",value:function(e){this.editor.model.change((function(t){t.setSelection(t.createRangeOn(e))}))}},{key:"_getObjectElementNextToSelection",value:function(e){var t=this.editor.model,n=t.schema,a=t.document.selection,i=t.createSelection(a);t.modifySelection(i,{direction:e?"forward":"backward"});var o=e?i.focus.nodeBefore:i.focus.nodeAfter;return o&&n.isObject(o)?o:null}},{key:"_clearPreviouslySelectedWidgets",value:function(e){var t,n=d(this._previouslySelected);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.removeClass(Jf,a)}}catch(i){n.e(i)}finally{n.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[Pp]}}]),n}(Zc);function Bp(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}var Lp=n(46);Ss()(Lp.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Lp.a.locals;var zp=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor;if(t.plugins.has("BalloonToolbar")){var n=t.plugins.get("BalloonToolbar");this.listenTo(n,"show",(function(e){(function(e){var t=e.getSelectedElement();return!(!t||!$f(t))})(t.editing.view.document.selection)&&e.stop()}),{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(function(){e._updateToolbarsVisibility()}),{priority:"low"})}},{key:"destroy",value:function(){i(o(n.prototype),"destroy",this).call(this);var e,t=d(this._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;)e.value.view.destroy()}catch(a){t.e(a)}finally{t.f()}}},{key:"register",value:function(e,t){var n=t.ariaLabel,a=t.items,i=t.getRelatedElement,o=t.balloonClassName,r=void 0===o?"ck-toolbar-container":o;if(a.length){var l=this.editor,s=l.t,c=new qc(l.locale);if(c.ariaLabel=n||s("Widget toolbar"),this._toolbarDefinitions.has(e))throw new Kt.a("widget-toolbar-duplicated",this,{toolbarId:e});c.fillFromConfig(a,l.ui.componentFactory),this._toolbarDefinitions.set(e,{view:c,getRelatedElement:i,balloonClassName:r})}else Object(Kt.c)("widget-toolbar-no-items",{toolbarId:e})}},{key:"_updateToolbarsVisibility",value:function(){var e,t=0,n=null,a=null,i=d(this._toolbarDefinitions.values());try{for(i.s();!(e=i.n()).done;){var o=e.value,r=o.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&r)if(this.editor.ui.focusTracker.isFocused){var l=r.getAncestors().length;l>t&&(t=l,n=r,a=o)}else this._isToolbarVisible(o)&&this._hideToolbar(o);else this._isToolbarInBalloon(o)&&this._hideToolbar(o)}}catch(s){i.e(s)}finally{i.f()}a&&this._showToolbar(a,n)}},{key:"_hideToolbar",value:function(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(e,t){var n=this;this._isToolbarVisible(e)?Vp(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:jp(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(function(){var e,t=d(n._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;){var a=e.value;if(n._isToolbarVisible(a)){var i=a.getRelatedElement(n.editor.editing.view.document.selection);Vp(n.editor,i)}}}catch(o){t.e(o)}finally{t.f()}})))}},{key:"_isToolbarVisible",value:function(e){return this._balloon.visibleView===e.view}},{key:"_isToolbarInBalloon",value:function(e){return this._balloon.hasView(e.view)}}],[{key:"requires",get:function(){return[_h]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),n}(Zc);function Vp(e,t){var n=e.plugins.get("ContextualBalloon"),a=jp(e,t);n.updatePosition(a)}function jp(e,t){var n=e.editing.view,a=vh.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,tg]}}function Fp(e){var t=e.getSelectedElement();return t&&Gp(t)?t:null}function Np(e){var t=function(e,t){for(var n=t.parent;n;){if("table"===n.name)return n;n=n.parent}}(0,e.getFirstPosition());return t&&Gp(t.parent)?t.parent:null}function Gp(e){return!!e.getCustomProperty("table")&&$f(e)}var Up="underline",Hp=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:Up}),e.model.schema.setAttributeProperties(Up,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Up,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(Up,new Nd(e,Up)),e.keystrokes.set("CTRL+U","underline")}}],[{key:"pluginName",get:function(){return"UnderlineEditing"}}]),n}(Zc),qp="underline",Wp=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add(qp,(function(a){var i=t.commands.get(qp),o=new xc(a);return o.set({label:n("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),e.listenTo(o,"execute",(function(){t.execute(qp),t.editing.view.focus()})),o}))}}]),n}(Zc),Kp=n(47);Ss()(Kp.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Kp.a.locals;var Yp=function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return n}(Qc);Yp.builtinPlugins=[function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[sd,md]}},{key:"pluginName",get:function(){return"Alignment"}}]),n}(Zc),jd,function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[Ud,qd]}},{key:"pluginName",get:function(){return"Bold"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[$d,tu,uu,ou,Eu,Ku]}},{key:"pluginName",get:function(){return"Essentials"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[wm,Sm]}},{key:"pluginName",get:function(){return"FontBackgroundColor"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[Om,Tm]}},{key:"pluginName",get:function(){return"FontColor"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[Lm,jm]}},{key:"pluginName",get:function(){return"Heading"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[Nm,Hm]}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[Wm,Ym]}},{key:"pluginName",get:function(){return"Italic"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[dh,Vh,jd]}},{key:"pluginName",get:function(){return"Link"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[uf,gf]}},{key:"pluginName",get:function(){return"List"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[bf,Sf]}},{key:"pluginName",get:function(){return"ListStyle"}}]),n}(Zc),Mm,function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[Pf,Tf]}},{key:"pluginName",get:function(){return"RemoveFormat"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[Mf,If]}},{key:"pluginName",get:function(){return"Strikethrough"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[dp,fp,vp,_p,wp,bp,Ip]}},{key:"pluginName",get:function(){return"Table"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"afterInit",value:function(){var e=this.editor,t=e.t,n=e.plugins.get(zp),a=e.config.get("table.contentToolbar"),i=e.config.get("table.tableToolbar");a&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:a,getRelatedElement:Np}),i&&n.register("table",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:Fp})}}],[{key:"requires",get:function(){return[zp]}},{key:"pluginName",get:function(){return"TableToolbar"}}]),n}(Zc),function(e){g(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,null,[{key:"requires",get:function(){return[Hp,Wp]}},{key:"pluginName",get:function(){return"Underline"}}]),n}(Zc)],Yp.defaultConfig={language:"en",toolbar:{items:["heading","|","bold","italic","underline","strikethrough","removeFormat","|","fontColor","fontBackgroundColor","|","alignment","bulletedList","numberedList","indent","outdent","|","insertTable","link","|","undo","redo","|"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},link:{defaultProtocol:"http://",decorators:[{mode:"manual",label:"Open in a new tab",defaultValue:!0,attributes:{target:"_blank",rel:"noopener noreferrer"}}]}},t.default=Yp}]).default},581:function(e,t,n){e.exports=n(896)},646:function(e,t,n){},663:function(e,t,n){},664:function(e,t){!function(e){var t=e.it=e.it||{};t.dictionary=Object.assign(t.dictionary||{},{"%0 of %1":"%0 di %1","Align center":"Allinea al centro","Align left":"Allinea a sinistra","Align right":"Allinea a destra",Aquamarine:"Aquamarina",Black:"Nero",Blue:"Blu",Bold:"Grassetto","Bulleted List":"Elenco puntato","Bulleted list styles toolbar":"Barra degli strumenti con gli stili degli elenchi puntati",Cancel:"Annulla","Choose heading":"Seleziona intestazione",Circle:"Cerchio",Column:"Colonna",Decimal:"Numero","Decimal with leading zero":"Numero con zero anteposto","Decrease indent":"Riduci rientro","Delete column":"Elimina colonna","Delete row":"Elimina riga","Dim grey":"Grigio tenue",Disc:"Disco","Document colors":"Colori del docmento",Downloadable:"Scaricabile","Dropdown toolbar":"Barra degli strumenti del menu a discesa","Edit link":"Modifica collegamento","Editor toolbar":"Barra degli strumenti dell'editor","Font Background Color":"Colore di sfondo caratteri","Font Color":"Colore caratteri",Green:"Verde",Grey:"Grigio","Header column":"Intestazione colonna","Header row":"Riga d'intestazione",Heading:"Intestazione","Heading 1":"Intestazione 1","Heading 2":"Intestazione 2","Heading 3":"Intestazione 3","Heading 4":"Intestazione 4","Heading 5":"Intestazione 5","Heading 6":"Intestazione 6","Increase indent":"Aumenta rientro","Insert column left":"Inserisci colonna a sinistra","Insert column right":"Inserisci colonna a destra","Insert paragraph after block":"Inserisci paragrafo dopo blocco","Insert paragraph before block":"Inserisci paragrafo prima di blocco","Insert row above":"Inserisci riga sopra","Insert row below":"Inserisci riga sotto","Insert table":"Inserisci tabella",Italic:"Corsivo",Justify:"Giustifica","Light blue":"Azzurro","Light green":"Verde chiaro","Light grey":"Grigio chiaro",Link:"Collegamento","Link URL":"URL del collegamento","Lower-latin":"Lettera minuscola","Lower\u2013roman":"Numero romano minuscolo","Merge cell down":"Unisci cella sotto","Merge cell left":"Unisci cella a sinistra","Merge cell right":"Unisci cella a destra","Merge cell up":"Unisci cella sopra","Merge cells":"Unisci celle",Next:"Avanti","Numbered List":"Elenco numerato","Numbered list styles toolbar":"Barra degli strumenti con gli stili degli elenchi numerati","Open in a new tab":"Apri in una nuova scheda","Open link in new tab":"Apri collegamento in nuova scheda",Orange:"Arancio",Paragraph:"Paragrafo",Previous:"Indietro",Purple:"Porpora",Red:"Rosso",Redo:"Ripristina","Remove color":"Rimuovi colore","Remove Format":"Rimuovi formato","Rich Text Editor":"Editor di testo formattato","Rich Text Editor, %0":"Editor di testo formattato, %0",Row:"Riga",Save:"Salva","Select all":"Seleziona tutto","Select column":"Seleziona colonna","Select row":"Seleziona riga","Show more items":"Mostra pi\xf9 elementi","Split cell horizontally":"Dividi cella orizzontalmente","Split cell vertically":"Dividi cella verticalmente",Square:"Quadrato",Strikethrough:"Barrato","Table toolbar":"Barra degli strumenti della tabella","Text alignment":"Allineamento del testo","Text alignment toolbar":"Barra degli strumenti dell'allineamento","This link has no URL":"Questo collegamento non ha un URL","Toggle the circle list style":"Attiva/disattiva lo stile degli elenchi con cerchi","Toggle the decimal list style":"Attiva/disattiva lo stile degli elenchi con numeri","Toggle the decimal with leading zero list style":"Attiva/disattiva lo stile degli elenchi con numeri con zero anteposto","Toggle the disc list style":"Attiva/disattiva lo stile degli elenchi con dischi","Toggle the lower\u2013latin list style":"Attiva/disattiva lo stile degli elenchi con lettere minuscole","Toggle the lower\u2013roman list style":"Attiva/disattiva lo stile degli elenchi con numeri romani minuscoli","Toggle the square list style":"Attiva/disattiva lo stile degli elenchi con quadrati","Toggle the upper\u2013latin list style":"Attiva/disattiva lo stile degli elenchi con lettere maiuscole","Toggle the upper\u2013roman list style":"Attiva/disattiva lo stile degli elenchi con numeri romani maiuscoli",Turquoise:"Turchese",Underline:"Sottolineato",Undo:"Annulla",Unlink:"Elimina collegamento","Upper-latin":"Lettera maiuscola","Upper-roman":"Numero romano maiuscolo",White:"Bianco","Widget toolbar":"Barra degli strumenti del widget",Yellow:"Giallo"}),t.getPluralForm=function(e){return 1!=e}}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}))},740:function(e,t,n){},741:function(e,t,n){},742:function(e,t,n){},743:function(e,t,n){},758:function(e,t,n){},867:function(e,t,n){},868:function(e,t,n){},870:function(e,t,n){},875:function(e,t,n){},878:function(e,t,n){},896:function(e,t,n){"use strict";n.r(t);var a,i=n(0),o=n.n(i),r=n(34),l=n.n(r),s=n(30),c=n(39),d=n(40),u=n(44),m=n(43),h=n(341),f=n(102),g=n(7),p=n(182),v=Object(g.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},background:{"&, & > *":{position:"fixed",width:"100%",height:"100%",objectFit:"cover",zIndex:-9999}},textContainer:{color:"white",textAlign:"center",padding:24,background:"rgba(0,0,0,0.5)"},lightTextContainer:{color:e.palette.primary.main,textAlign:"center",width:"80%"},buttonsContainer:{marginTop:e.spacing(3),"& > *":{margin:"8px !important"}},logo:{position:"absolute",top:"80%",width:"80%",textAlign:"center","& > *":{maxWidth:340,maxHeight:64}}}}))((function(e){var t=e.classes,n=e.title,a=e.slogan,r=e.logo,l=e.background,s=e.children;return o.a.createElement(i.Fragment,null,o.a.createElement(p.a,null,o.a.createElement("style",{type:"text/css"},"\n          html, body, #root {\n            height: 100%\n          }\n        ")),o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.background},l),o.a.createElement("div",{className:t.textContainer},o.a.createElement(f.a,{variant:"h2"},n),(null===a||void 0===a?void 0:a.length)>0&&o.a.createElement(f.a,{variant:"h3",style:{fontSize:24,paddingTop:16}},a)),o.a.createElement(h.a,{className:t.buttonsContainer},s),o.a.createElement(h.a,{className:t.logo},r)))})),b=n(923),k=n(924),C=n(926),y=n(927),w=n(925),A=Object(g.a)((function(){return{card:{height:"100%"}}}))((function(e){var t=e.list,n=e.onClick,a=e.classes,i=e.squareImage;return o.a.createElement(b.a,{container:!0,spacing:2},function(){var e=i&&t.find((function(e){return e.image}));return t.map((function(t,r){return o.a.createElement(b.a,{key:r,item:!0,xs:e?3:4},o.a.createElement(k.a,{className:a.card,id:"cards-grid__card-".concat(t.id)},o.a.createElement(w.a,{onClick:function(){return n(t)}},t.image&&o.a.createElement(C.a,{component:"img",height:e?232:i?315:177,title:t.label,image:t.image,alt:t.label}),o.a.createElement(y.a,null,o.a.createElement(f.a,{gutterBottom:!0,variant:"h5",style:{fontSize:20}},t.label)))))}))}())})),_=n(928),S=function(e){return o.a.createElement(h.a,e,e.sectiontitle&&o.a.createElement(i.Fragment,null,o.a.createElement(f.a,{variant:"h4",gutterBottom:!0,margin:4,style:{fontSize:34}},e.sectiontitle),o.a.createElement(_.a,null)),e.children)},E=n(424),O=n(929),T=n(930),x=n(931),P=n(370),D=n(65),M=n.n(D),R=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={transparent:!0,isOldBrowserWarningVisible:!1},e.handleScroll=function(){var t=e.state.transparent,n=window.pageYOffset||document.documentElement.scrollTop;n>50&&t&&e.setState({transparent:!1}),n<=50&&!t&&e.setState({transparent:!0})},e.closeWarning=function(){e.setState({isOldBrowserWarningVisible:!1})},e}return Object(d.a)(n,[{key:"scroll",value:function(e){e.current.scrollIntoView({behavior:"smooth",alignToTop:!0})}},{key:"scrollTop",value:function(){window.scroll({top:0,left:0,behavior:"smooth"})}},{key:"componentDidMount",value:function(){var e=!!document.documentMode,t=!e&&!!window.StyleMedia;this.setState({isOldBrowserWarningVisible:e||t}),window.scroll({top:0,left:0}),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.children,a=e.id,i=this.state,r=i.transparent,l=i.isOldBrowserWarningVisible;return o.a.createElement("div",{id:a,className:t.root},l&&o.a.createElement("div",{className:t.oldBrowserWarning},o.a.createElement(b.a,{container:!0,justify:"space-between"},o.a.createElement(b.a,{item:!0},"This browser in not completely supported, please consider to install the new version of ",o.a.createElement("a",{href:"https://www.microsoft.com/edge",target:"_blank",rel:"noopener noreferrer",style:{color:"white"}},"Microsoft Edge")),o.a.createElement(b.a,{item:!0},o.a.createElement(P.a,{onClick:this.closeWarning,style:{color:"white",padding:7}},o.a.createElement(M.a,{fontSize:"small"}))))),o.a.createElement(O.a,{in:!r},o.a.createElement(T.a,{className:t.fab,color:"secondary",onClick:this.scrollTop},o.a.createElement(x.a,null))),o.a.createElement("div",{className:t.childrenContainer},n))}}]),n}(i.Component),I=Object(g.a)((function(e){return{root:{width:"100%",height:"100%"},fab:{position:"fixed",right:8,bottom:55,height:"50px",width:"50px",zIndex:e.zIndex.appBar},childrenContainer:{width:"100%",height:"100%","& > *:last-child":{paddingBottom:e.spacing(10)}},oldBrowserWarning:{position:"fixed",bottom:0,left:0,zIndex:1999,height:48,width:"100%",background:"rgba(0, 0, 0, 0.7)",fontSize:16,lineHeight:"34px",color:"white",padding:8}}}))(R),B=n(2),L=n(10),z=n(940),V=n(947),j=n(433),F=n(555),N=n.n(F),G=n(522),U=n.n(G),H=n(11),q=n(961),W="request/error",K="request/success";!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(a||(a={}));var Y,J,$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.GET,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0;return{type:"request/init",payload:{uuid:Object(q.a)(),label:e,url:t,method:n,data:i,messages:o,extra:r,baseURL:l,getHideErrorMessage:s,hideSpinner:c,contentType:d,doNotTransformResponse:u}}},Q=function(e,t,n,a){return{type:W,payload:Object(B.a)(Object(B.a)({},e),{},{statusCode:t,response:n,extra:Object(B.a)(Object(B.a)({},a),e.extra)})}},Z=function(e,t){return"nodes/".concat(e,"/datasets/").concat(t,"/data")},X=function(e,t,n,a){return"nodes/".concat(e,"/datasets/").concat(t,"/").concat(!0===a?"downloadZip":"download","/").concat(n)},ee=function(e,t){return"nodes/".concat(e).concat(t?"/true":"")},te=function(e){return"Dashboards/".concat(e)},ne=n(6),ae=n(932),ie=n(936),oe=n(934),re=n(935),le=n(425),se=n(371),ce=n(94),de=n(959),ue=n(519),me=function(e){var t=e.title,n=e.children,a=e.onSubmit,r=e.onClose,l=e.open,s=e.maxWidth,c=e.hasSubmit,d=e.noMinHeight,u=e.customSubmitLabel,m=Object(ue.a)().t;return o.a.createElement(ae.a,{open:l,disableEscapeKeyDown:!0,disableBackdropClick:!0,disableEnforceFocus:!0,maxWidth:s||"md",fullWidth:!0,onClose:r},o.a.createElement(oe.a,null,t),o.a.createElement(re.a,{style:{minHeight:d?void 0:456,paddingBottom:d?16:void 0}},n),o.a.createElement(ie.a,null,c?o.a.createElement(i.Fragment,null,o.a.createElement(E.a,{onClick:r},m("commons.confirm.cancel")),o.a.createElement(E.a,{onClick:a},u||m("commons.confirm.submit"))):o.a.createElement(E.a,{onClick:r},m("commons.confirm.close"))))},he=n(8),fe=function(e){return function(e){return{DuplicateEmail:e("errors.user.duplicateEmail"),DuplicateUserName:e("errors.user.duplicateUsername"),InvalidLogin:e("errors.user.invalidLogin"),PasswordRequiresDigit:e("errors.user.passwordRequiresDigit"),PasswordTooShort:e("errors.user.passwordTooShort"),PasswordRequiresNonAlphanumeric:e("errors.user.passwordRequiresNonAlphanumeric"),PasswordRequiresUpper:e("errors.user.passwordRequiresUpper"),PasswordRequiresLower:e("errors.user.passwordRequiresLower"),InvalidEmail:e("errors.user.invalidEmail"),InvalidToken:e("errors.user.invalidToken"),DefaultError:e("errors.user.defaultError"),ConcurrencyFailure:e("errors.user.concurrencyFailure"),PasswordMismatch:e("errors.user.passwordMismatch"),LoginAlreadyAssociated:e("errors.user.loginAlreadyAssociated"),InvalidUserName:e("errors.user.invalidUserName"),InvalidRoleName:e("errors.user.invalidRoleName"),DuplicateRoleName:e("errors.user.duplicateRoleName"),UserAlreadyHasPassword:e("errors.user.userAlreadyHasPassword"),UserLockoutNotEnabled:e("errors.user.userLockoutNotEnabled"),UserAlreadyInRole:e("errors.user.userAlreadyInRole"),UserNotInRole:e("errors.user.userNotInRole")}}(void 0!==e?e:function(e){return e})},ge=function(e){var t=e.errors,n=Object(ue.a)().t;return null!==t?t.map((function(e,a){return o.a.createElement(de.a,{severity:"error",style:{marginBottom:a+1<t.length?8:16},key:a},fe(n)[e]||n("errors.user.generic"))})):null},pe=Object(he.d)(Object(g.a)((function(e){return{root:{height:440},field:{marginTop:e.spacing(3)},paper:{marginTop:e.spacing(2),padding:e.spacing(3)},tabContent:{overflowY:"auto",overflowX:"hidden",height:"calc(100% - 56px)",marginTop:8,padding:"0 4px"},title:{fontSize:16}}})),i.forwardRef)((function(e,t){e.classes,e.config;var n,a=e.onSubmit,r=Object(ce.a)(),l=r.register,s=r.errors,c=r.handleSubmit,d=Object(ue.a)().t;return Object(i.useImperativeHandle)(t,(function(){return{submit:function(e){c((function(t){a(t),e(t)}))()},cancel:function(e){e()}}})),o.a.createElement(b.a,{container:!0,spacing:3},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{style:{marginBottom:8},name:"email",label:d("components.userLoginDialog.recoverPasswordModal.fields.email"),error:!!s.email,helperText:null===(n=s.email)||void 0===n?void 0:n.message,variant:"outlined",required:!0,inputRef:l({required:d("commons.validation.required")})}))))})),ve=Object(he.d)(Object(H.b)((function(e){return{config:e.usersConfig.user,userErrors:e.usersConfig.userErrors}}),(function(e){return{sendConfig:function(t){return e((n=t.email,$("USER_RESET_PASSWORD_EMAIL_SEND","Users/RecoveryPassword",a.POST,n,(function(e){return{onStart:e("components.userRecoverPassword.messages.submit.start")}}),void 0,void 0,void 0,void 0,"application/json")));var n}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){e.config;var n=e.sendConfig,a=e.userErrors;return o.a.createElement(i.Fragment,null,o.a.createElement(ge,{errors:a}),o.a.createElement(pe,{ref:t,onSubmit:n}))})),be=Object(g.a)((function(e){return{field:{marginTop:e.spacing(3)},recoverPassword:{textDecoration:"underline",color:e.palette.secondary.main,cursor:"pointer"}}}))((function(e){var t,n,a,r=e.open,l=e.onSubmit,s=e.onHide,c=e.onRegister,d=e.classes,u=e.alert,m=Object(ce.a)(),h=m.register,f=m.errors,g=m.handleSubmit,p=Object(ue.a)().t,v=Object(i.useState)(!1),b=Object(ne.a)(v,2),k=b[0],C=b[1],y=Object(i.useRef)();return o.a.createElement(ae.a,{open:r,disableEscapeKeyDown:!0,disableBackdropClick:!0,maxWidth:"xs",fullWidth:!0,onClose:s},o.a.createElement(oe.a,null,p("components.userLoginDialog.title")),o.a.createElement(re.a,null,u&&o.a.createElement(de.a,{severity:"error"},fe(p)[u]||p("errors.user.generic")),o.a.createElement(se.a,{fullWidth:!0,className:u?d.field:void 0},o.a.createElement(le.a,{name:"email",label:p("components.userLoginDialog.fields.email"),error:!!f.email,helperText:null===(t=f.email)||void 0===t?void 0:t.message,variant:"outlined",required:!0,inputRef:h({required:p("commons.validation.required")})})),o.a.createElement(se.a,{fullWidth:!0,className:d.field},o.a.createElement(le.a,{name:"password",type:"password",label:p("components.userLoginDialog.fields.password"),inputRef:h({required:p("commons.validation.required")}),error:!!f.password,helperText:o.a.createElement(i.Fragment,null,null===(n=f.password)||void 0===n?void 0:n.message,o.a.createElement("span",{onClick:function(){return C(!0)},className:d.recoverPassword,style:{marginLeft:(null===(a=f.password)||void 0===a?void 0:a.message)?2:0}},p("components.userLoginDialog.recoverPassword"))),variant:"outlined",required:!0}))),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:s},p("commons.confirm.cancel")),o.a.createElement(E.a,{onClick:c},p("components.userLoginDialog.register")),o.a.createElement(E.a,{onClick:g(l)},p("components.userLoginDialog.login"))),o.a.createElement(me,{title:p("components.userLoginDialog.recoverPasswordModal.title"),maxWidth:"xs",open:k,onClose:function(){y.current?y.current.cancel((function(){C(!1)})):C(!1)},onSubmit:function(){y.current&&y.current.submit((function(){C(!1)}))},hasSubmit:!0,noMinHeight:!0},o.a.createElement(ve,{ref:y})))})),ke=n(511),Ce=function(){return $("usersConfig/fetchUsers","users",void 0,void 0,(function(e){return{onStart:e("scenes.usersConfig.fetchUsers.start")}}))},ye=n(428),we=n(937),Ae=n(938),_e=n(426),Se=n(373),Ee=n(567),Oe=n(234),Te=function(e){var t=e.html,n=e.allowTarget,a=Object(Ee.a)(e,["html","allowTarget"]);return o.a.createElement(h.a,Object.assign({},a,{html:void 0,dangerouslySetInnerHTML:{__html:Object(Oe.sanitize)(t,{ADD_ATTR:[n?"target":""]})}}))},xe=n(427),Pe=n(129),De=n(13),Me=n.n(De),Re=function(e){return void 0!==e&&null!==e&&Me()(e).pickBy((function(e){return void 0!==e&&null!==e&&e.length>0})).keys().value().length>0},Ie=function(e,t,n){if(null===e||void 0===e||e==={})return null;if("string"===typeof e)return e;if(e[t])return e[t];var a,i=Object(Pe.a)(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(e[o])return e[o]}}catch(r){i.e(r)}finally{i.f()}return e[Object.keys(e)[0]]},Be=function(e,t){return function(n,a,i){var o=i.field;return Ie(a[o],e,t).toLowerCase().includes(n.toLowerCase())}},Le=Object(he.d)(Object(g.a)((function(e){return{root:{height:440},field:{marginTop:e.spacing(3)},paper:{marginTop:e.spacing(2),padding:e.spacing(3)},tabContent:{overflowY:"auto",overflowX:"hidden",height:"calc(100% - 56px)",marginTop:8,padding:"0 4px"},title:{fontSize:16},disclaimerLink:{marginLeft:e.spacing(1),color:e.palette.secondary.main,textDecoration:"underline"}}})),i.forwardRef)((function(e,t){var n,a,r,l,s,c,d,u,m,h,f=e.classes,g=e.config,p=e.onSubmit,v=e.onCancel,k=e.isAnonymous,C=e.hub,y=e.types,w=e.languages,A=e.language,_=Object(ce.a)({defaultValues:Object(B.a)({isActive:!0,type:"null",organization:"",disclaimerAccepted:!k&&void 0},g)}),S=_.register,O=_.errors,T=_.handleSubmit,x=_.watch,D=_.setValue,M=Object(i.useState)(!1),R=Object(ne.a)(M,2),I=R[0],L=R[1],z=Object(i.useState)(!1),V=Object(ne.a)(z,2),j=V[0],F=V[1],N=Object(i.useState)(!1),G=Object(ne.a)(N,2),U=G[0],H=G[1],q=Object(ue.a)().t;return Object(i.useImperativeHandle)(t,(function(){return{submit:function(e){T((function(t){var n=Object(B.a)(Object(B.a)(Object(B.a)({},g),t),{},{type:"null"!==t.type?t.type:null,disclaimerAccepted:void 0,emailConfirm:void 0,passwordConfirm:void 0});p(n),e(n)}))()},cancel:function(e){v(),e()}}})),Object(i.useEffect)((function(){S("type"),k?S({name:"disclaimerAccepted"},{validate:function(e){return e||q("scenes.usersSettings.userSettings.validation.mustAcceptDisclaimer")}}):S("isActive")}),[k,S,q]),o.a.createElement(b.a,{container:!0,spacing:3},o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{disabled:!!g,name:"email",label:q("scenes.usersSettings.userSettings.fields.email"),inputRef:S({required:q("commons.validation.required")}),error:!!O.email,helperText:null===(n=O.email)||void 0===n?void 0:n.message,variant:"outlined",required:!0}))),!g&&o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{disabled:!!g,name:"emailConfirm",label:q("scenes.usersSettings.userSettings.fields.emailConfirm"),inputRef:S({required:q("commons.validation.required"),validate:function(e){return e===x("email")||q("scenes.usersSettings.userSettings.validation.emailsMustBeEqual")}}),error:!!O.emailConfirm,helperText:null===(a=O.emailConfirm)||void 0===a?void 0:a.message,variant:"outlined",required:!0}))),!k&&o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(_e.a,{label:q("scenes.usersSettings.userSettings.fields.isActive.label"),control:o.a.createElement(ke.a,{name:"isActive",required:!0,checked:x("isActive"),onChange:function(e,t){return D("isActive",t)}})}))),y&&y.length>0&&o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"type",select:!0,label:q("scenes.usersSettings.userSettings.fields.type.label"),variant:"outlined",onChange:function(e){return D("type",e.target.value)},value:x("type")||"",helperText:null===(r=O.type)||void 0===r?void 0:r.message,error:!!O.type},o.a.createElement(xe.a,{value:"null"},o.a.createElement("i",null,q("scenes.usersSettings.userSettings.fields.type.values.empty"))),y.map((function(e){var t=e.id,n=e.label;return o.a.createElement(xe.a,{value:t,key:t},Ie(n,A,w))}))))),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"firstName",label:q("scenes.usersSettings.userSettings.fields.firstName"),error:!!O.firstName,helperText:null===(l=O.firstName)||void 0===l?void 0:l.message,variant:"outlined",required:!0,inputRef:S({required:q("commons.validation.required")})}))),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"lastName",label:q("scenes.usersSettings.userSettings.fields.lastName"),inputRef:S({required:q("commons.validation.required")}),error:!!O.lastName,helperText:null===(s=O.lastName)||void 0===s?void 0:s.message,variant:"outlined",required:!0}))),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"organization",label:q("scenes.usersSettings.userSettings.fields.organization"),error:!!O.organization,helperText:null===(c=O.organization)||void 0===c?void 0:c.message,variant:"outlined",inputRef:S}))),!g&&o.a.createElement(i.Fragment,null,o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"password",label:q("scenes.usersSettings.userSettings.fields.password"),error:!!O.password,helperText:null===(d=O.password)||void 0===d?void 0:d.message,variant:"outlined",required:!0,type:I?void 0:"password",inputRef:S({required:q("commons.validation.required")}),InputProps:{endAdornment:o.a.createElement(ye.a,{position:"end"},o.a.createElement(P.a,{onClick:function(){return L(!I)}},I?o.a.createElement(we.a,null):o.a.createElement(Ae.a,null)))},inputProps:{autoComplete:"new-password"}}))),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"passwordConfirm",label:q("scenes.usersSettings.userSettings.fields.passwordConfirm"),error:!!O.passwordConfirm,helperText:null===(u=O.passwordConfirm)||void 0===u?void 0:u.message,variant:"outlined",required:!0,type:j?void 0:"password",inputRef:S({required:q("commons.validation.required"),validate:function(e){return e===x("password")||q("scenes.usersSettings.userSettings.validation.passwordsMustBeEqual")}}),InputProps:{endAdornment:o.a.createElement(ye.a,{position:"end"},o.a.createElement(P.a,{onClick:function(){return F(!j)}},j?o.a.createElement(we.a,null):o.a.createElement(Ae.a,null)))},inputProps:{autoComplete:"new-password"}}))),k&&o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0,error:!!O.disclaimerAccepted},o.a.createElement(_e.a,{label:o.a.createElement(i.Fragment,null,q("scenes.usersSettings.userSettings.fields.disclaimerAccepted.label"),o.a.createElement("span",{onClick:function(){return H(!0)},className:f.disclaimerLink},q("scenes.usersSettings.userSettings.fields.disclaimerAccepted.link"))),control:o.a.createElement(ke.a,{name:"disclaimerAccepted",required:!0,checked:x("disclaimerAccepted"),onChange:function(e,t){return D("disclaimerAccepted",t)}})}),(null===(m=O.disclaimerAccepted)||void 0===m?void 0:m.message)&&o.a.createElement(Se.a,{id:"my-helper-text"},null===(h=O.disclaimerAccepted)||void 0===h?void 0:h.message))),o.a.createElement(ae.a,{open:U,fullWidth:!0,maxWidth:"md",onClose:function(){return H(!1)}},o.a.createElement(oe.a,null,q("scenes.usersSettings.userSettings.disclaimerModal.title")),o.a.createElement(re.a,null,o.a.createElement(Te,{html:C.hub.disclaimer,style:{maxHeight:460},allowTarget:!0})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){return H(!1)}},q("commons.confirm.cancel"))))))})),ze=Object(he.d)(Object(H.b)((function(e){return{config:e.usersConfig.user,userErrors:e.usersConfig.userErrors,hub:e.hub,appConfig:e.appConfig,languages:e.app.languages,language:e.app.language}}),(function(e){return{fetchConfig:function(t){return e($("usersConfig/fetchUser",function(e){return"users/".concat(e)}(t),void 0,void 0,(function(e){return{onStart:e("scenes.usersConfig.fetchUser.start")}})))},sendConfigCreate:function(t,n){return e(function(e,t){return $("usersConfig/createUser","users/register",a.POST,e,(function(e){return{onStart:e("scenes.usersConfig.sendUserCreate.start")}}),{isAnonymous:t})}(t,n))},sendConfig:function(t){return e(function(e){return $("usersConfig/editUser",(t=e.userId,"users/".concat(t)),a.PUT,e,(function(e){return{onStart:e("scenes.usersConfig.sendUserEdit.start")}}));var t}(t))},clearConfig:function(){return e({type:"usersConfig/clearUser"})}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){var n,a=e.config,r=e.userId,l=e.fetchConfig,s=e.sendConfigCreate,c=e.sendConfig,d=e.clearConfig,u=e.userErrors,m=e.isAnonymous,h=e.hub,f=e.appConfig,g=e.languages,p=e.language,v=Object(i.useState)(r>=0),b=Object(ne.a)(v,2),k=b[0],C=b[1];return Object(i.useEffect)((function(){k&&(C(!1),l(r))}),[a,k,C,l,r]),(-1===r||a)&&o.a.createElement(i.Fragment,null,o.a.createElement(ge,{errors:u}),o.a.createElement(Le,{config:-1===r?void 0:a,ref:t,onSubmit:-1===r?function(e){return s(e,m)}:c,onCancel:d,isAnonymous:m,hub:h,types:null===f||void 0===f||null===(n=f.user)||void 0===n?void 0:n.typeOptions,languages:g,language:p}))})),Ve=n(429),je=n(281),Fe=n(153),Ne=n.n(Fe),Ge=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={anchorEl:null},e.setAnchorEl=function(t){e.setState({anchorEl:t})},e.handleMenu=function(t){e.setAnchorEl(t.currentTarget)},e.handleClose=function(){e.setAnchorEl(null)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.icon,r=t.value,l=t.color,s=t.tooltip,c=t.disabled,d=t.selectedIdx,u=t.onChange,m=this.state.anchorEl,h=Boolean(m),f=Object(i.forwardRef)((function(t,n){var a=t.c,i=t.isSelected;return o.a.createElement(xe.a,{ref:n,onClick:function(){var t;(null===(t=a.props)||void 0===t?void 0:t.onClick)&&a.props.onClick(),u&&u(a.props["data-value"]),e.handleClose()},style:{background:i?"#fff9e5":"white"}},a)}));return o.a.createElement(i.Fragment,null,o.a.createElement(Ve.a,{title:s||""},o.a.createElement("span",null,r?o.a.createElement(E.a,{color:l||"inherit",onClick:this.handleMenu,startIcon:a,endIcon:o.a.createElement(Ne.a,null),disabled:c},r):o.a.createElement(P.a,{color:l||"inherit",onClick:this.handleMenu,disabled:c},a))),o.a.createElement(je.a,{anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:this.handleClose},n.length?n.filter((function(e){return e})).map((function(e,t){return null!==e?o.a.createElement(f,{c:e,key:t,isSelected:t===d}):null})):o.a.createElement(f,{c:n})))}}]),n}(i.Component),Ue=Object(he.d)(Object(g.a)((function(e){return{root:{height:440},field:{marginTop:e.spacing(3)},paper:{marginTop:e.spacing(2),padding:e.spacing(3)},tabContent:{overflowY:"auto",overflowX:"hidden",height:"calc(100% - 56px)",marginTop:8,padding:"0 4px"},title:{fontSize:16}}})),i.forwardRef)((function(e,t){e.classes,e.config;var n,a,r,l=e.onSubmit,s=Object(ce.a)(),c=s.register,d=s.errors,u=s.handleSubmit,m=s.watch,h=Object(i.useState)(!1),f=Object(ne.a)(h,2),g=f[0],p=f[1],v=Object(i.useState)(!1),k=Object(ne.a)(v,2),C=k[0],y=k[1],w=Object(i.useState)(!1),A=Object(ne.a)(w,2),_=A[0],S=A[1],E=Object(ue.a)().t;return Object(i.useImperativeHandle)(t,(function(){return{submit:function(e){u((function(t){l(t),e(t)}))()},cancel:function(e){e()}}})),o.a.createElement(b.a,{container:!0,spacing:3},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"oldPassword",label:E("components.userSelect.changePasswordModal.fields.oldPassword"),error:!!d.oldPassword,helperText:null===(n=d.oldPassword)||void 0===n?void 0:n.message,variant:"outlined",required:!0,type:g?void 0:"password",inputRef:c({required:E("commons.validation.required")}),InputProps:{endAdornment:o.a.createElement(ye.a,{position:"end"},o.a.createElement(P.a,{onClick:function(){return p(!g)}},g?o.a.createElement(we.a,null):o.a.createElement(Ae.a,null)))}}))),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"newPassword",label:E("components.userSelect.changePasswordModal.fields.newPassword"),error:!!d.newPassword,helperText:null===(a=d.newPassword)||void 0===a?void 0:a.message,variant:"outlined",required:!0,type:C?void 0:"password",inputRef:c({required:E("commons.validation.required")}),InputProps:{endAdornment:o.a.createElement(ye.a,{position:"end"},o.a.createElement(P.a,{onClick:function(){return y(!C)}},C?o.a.createElement(we.a,null):o.a.createElement(Ae.a,null)))},inputProps:{autoComplete:"new-password"}}))),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"newPasswordConfirm",label:E("components.userSelect.changePasswordModal.fields.newPasswordConfirm"),error:!!d.newPasswordConfirm,helperText:null===(r=d.newPasswordConfirm)||void 0===r?void 0:r.message,variant:"outlined",required:!0,type:_?void 0:"password",inputRef:c({required:E("commons.validation.required"),validate:function(e){return e===m("newPassword")||E("components.userSelect.changePasswordModal.validation.newPasswordMustBeEqual")}}),InputProps:{endAdornment:o.a.createElement(ye.a,{position:"end"},o.a.createElement(P.a,{onClick:function(){return S(!_)}},_?o.a.createElement(we.a,null):o.a.createElement(Ae.a,null)))},inputProps:{autoComplete:"new-password"}}))))})),He=Object(he.d)(Object(H.b)((function(e){return{config:e.usersConfig.user,userErrors:e.usersConfig.userErrors}}),(function(e){return{sendConfig:function(t){return e((n=t.oldPassword,i=t.newPassword,$("USER_PASSWORD_CHANGE","Users/ChangePassword",a.POST,{oldPassword:btoa(n),newPassword:btoa(i)},(function(e){return{onStart:e("components.userChangePasswordForm.messages.submit.start")}}))));var n,i}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){e.config;var n=e.sendConfig,a=e.userErrors;return o.a.createElement(i.Fragment,null,o.a.createElement(ge,{errors:a}),o.a.createElement(Ue,{ref:t,onSubmit:n}))})),qe=Object(he.d)(Object(g.a)((function(){return{email:{cursor:"initial",color:"gray"}}})),Object(H.b)((function(e){return{user:e.user}}),(function(e){return{onLogin:function(t,n){return e(function(e,t){return $("USER_FETCH","auth/token",a.POST,{Email:e,Password:btoa(t)},(function(e){return{onStart:e("components.userSelect.messages.fetchUser.start")}}))}(t,n))},onLogout:function(){return e({type:"USER_CLEAR"})},onLoginFormShow:function(){return e(function(e){return{type:"USER_LOGIN_FORM_SHOW",payload:{alert:e}}}())},onLoginFormHide:function(){return e({type:"USER_LOGIN_FORM_HIDE"})},onChangePasswordShow:function(){return e({type:"USER_CHANGE_PASSWORD_FORM_SHOW"})},onChangePasswordHide:function(){return e({type:"USER_CHANGE_PASSWORD_FORM_HIDE"})},onRegisterModalShow:function(){return e({type:"USER_REGISTER_MODAL_SHOW"})},onRegisterModalHide:function(){return e({type:"USER_REGISTER_MODAL_HIDE"})}}})))((function(e){var t=e.classes,n=e.user,a=e.onLogin,r=e.onLogout,l=e.onLoginFormShow,s=e.onLoginFormHide,c=e.onChangePasswordShow,d=e.onChangePasswordHide,u=e.onRegisterModalShow,m=e.onRegisterModalHide,h=Object(ue.a)().t,f=Object(i.useRef)(),g=Object(i.useRef)();return o.a.createElement(i.Fragment,null,n.isAuthenticated?o.a.createElement(Ve.a,{title:n.email},o.a.createElement(Ge,{value:"",icon:o.a.createElement(U.a,null)},o.a.createElement("div",{className:t.email},n.email),o.a.createElement("div",{onClick:function(){return c()}},h("components.userSelect.changePassword")),o.a.createElement("div",{onClick:r},h("components.userSelect.logout")))):o.a.createElement(E.a,{color:"inherit",onClick:l},h("components.userSelect.login")),o.a.createElement(be,{open:n.isLoginDialogOpen,onSubmit:function(e){var t=e.email,n=e.password;return a(t,n)},onRegister:function(){return u()},onHide:s,alert:n.message}),o.a.createElement(me,{title:h("components.userSelect.registerModal.title"),maxWidth:"md",open:n.isRegisterDialogOpen,onClose:function(){f.current?f.current.cancel((function(){m()})):m()},onSubmit:function(){f.current&&f.current.submit((function(){}))},hasSubmit:!0,customSubmitLabel:h("components.userSelect.registerModal.submit.label")},o.a.createElement(ze,{ref:f,userId:-1,isAnonymous:!0})),o.a.createElement(me,{title:h("components.userSelect.changePasswordModal.title"),maxWidth:"xs",open:n.isChangePasswordDialogOpen||!1,onClose:function(){g.current?g.current.cancel((function(){d()})):d()},onSubmit:function(){g.current&&g.current.submit((function(){}))},hasSubmit:!0,noMinHeight:!0},o.a.createElement(He,{ref:g})))})),We=n(120),Ke=n(556),Ye=n.n(Ke),Je=n(14),$e=n(941),Qe=n(939),Ze=n(119),Xe=n.n(Ze),et=n(141),tt=n.n(et),nt=n(523),at=n.n(nt),it=function(e,t){return window.open("./#/".concat(window.language,"/").concat(e.toLowerCase(),"/").concat(t.join("/")).concat(window.isA11y?"?accessible=true":""),"_self")},ot=function(e,t,n,a){return window.open("./#/".concat(window.language,"/").concat(e.toLowerCase(),"/").concat(t.length>0?t.join("/")+"/":"")+"".concat(n).concat(a||window.isA11y?"?":"").concat(a?"view=".concat(a):"").concat(window.isA11y?"".concat(a?"&accessible=true":"accessible=true"):""),"_self")},rt=function(e,t,n){window.open("./#/".concat(window.language,"/").concat(e.toLowerCase(),"/search?q=").concat(encodeURIComponent(t))+(n&&n.length>0?"&c=".concat(encodeURIComponent(n.map((function(e){return encodeURIComponent(e.join("/"))})).join("//"))):"")+(window.isA11y?"&accessible=true":""),"_self")},lt=function(e){return window.open("./#/".concat(window.language,"/").concat(e).concat(window.isA11y?"?accessible=true":""),"_self")},st=function(e){return window.open("./#/".concat(e?"":window.language).concat(window.isA11y?"?accessible=true":""),"_self")},ct=function(){return window.open("./#/".concat(window.language,"/dashboards").concat(window.isA11y?"?accessible=true":""),"_self")},dt=function(e){return window.open("./#/".concat(window.language,"/").concat(e.toLowerCase(),"/dashboards").concat(window.isA11y?"?accessible=true":""),"_self")},ut=n(377),mt=n.n(ut),ht=n(240),ft=n.n(ht),gt=n(239),pt=n.n(gt),vt=n(942),bt=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={expanded:e.props.selectedCategoryPath||[]},e.onExpand=function(t){return e.setState({expanded:t})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.node,r=t.catalog,l=t.selectedCategoryPath,s=void 0===l?[]:l,c=t.onClose,d=t.t,u=this.state.expanded,m=function t(r,l){return r.map((function(r,m){return o.a.createElement(Qe.a,{key:m,nodeId:r.id,label:o.a.createElement(b.a,{spacing:1,container:!0,alignItems:"center"},o.a.createElement(b.a,{item:!0},u.includes(r.id)?o.a.createElement(mt.a,{className:n.nodeIcon}):o.a.createElement(pt.a,{className:n.nodeIcon})),o.a.createElement(b.a,{item:!0},r.label),r.hasAnnotation&&o.a.createElement(b.a,{item:!0},o.a.createElement(P.a,{size:"small",onClick:e.onDialogOpen},o.a.createElement(at.a,null)))),classes:{label:s.includes(r.id)?n.selectedItem:null}},(r.datasetIdentifiers&&r.datasetIdentifiers.length>0||r.childrenCategories&&r.childrenCategories.length>0)&&o.a.createElement(i.Fragment,null,r.datasetIdentifiers&&r.datasetIdentifiers.length>0&&o.a.createElement(Qe.a,{nodeId:r.id+"-results",label:o.a.createElement(z.a,{onClick:function(){c(),it(a.code.toLowerCase(),[].concat(Object(Je.a)(l),[r.id]))}},o.a.createElement(b.a,{spacing:1,container:!0,alignItems:"center"},o.a.createElement(b.a,{item:!0},o.a.createElement(ft.a,{className:n.nodeIcon})),o.a.createElement(b.a,{item:!0},o.a.createElement("span",{style:{fontStyle:"italic"}},d("components.categoriesTree.goToData",{datasetsCount:r.datasetIdentifiers.length})))))}),r.childrenCategories&&r.childrenCategories.length>0&&t(r.childrenCategories,[].concat(Object(Je.a)(l),[r.id]))))}))};return o.a.createElement(i.Fragment,null,r.categoryGroups.length>0&&(r.categoryGroups.length>1?o.a.createElement(i.Fragment,null,r.categoryGroups.map((function(t){var n=t.id,a=t.label,i=t.categories;return o.a.createElement($e.a,{defaultCollapseIcon:o.a.createElement(Xe.a,null),defaultExpandIcon:o.a.createElement(tt.a,null),expanded:u,onNodeToggle:function(t,n){return e.onExpand(n)},key:n},m([{id:n,label:a,childrenCategories:i}],[]))}))):o.a.createElement($e.a,{defaultCollapseIcon:o.a.createElement(Xe.a,null),defaultExpandIcon:o.a.createElement(tt.a,null),expanded:u,onNodeToggle:function(t,n){return e.onExpand(n)}},m(r.categoryGroups[0].categories,[]))),r.uncategorizedDatasets&&r.uncategorizedDatasets.length>0&&o.a.createElement($e.a,{defaultCollapseIcon:o.a.createElement(Xe.a,null),defaultExpandIcon:o.a.createElement(tt.a,null),expanded:u,onNodeToggle:function(t,n){return e.onExpand(n)}},o.a.createElement(Qe.a,{key:"uncategorized",nodeId:"uncategorized",label:o.a.createElement(b.a,{spacing:1,container:!0,alignItems:"center"},o.a.createElement(b.a,{item:!0},u.includes("uncategorized")?o.a.createElement(mt.a,{className:n.nodeIcon}):o.a.createElement(pt.a,{className:n.nodeIcon})),o.a.createElement(b.a,{item:!0},d("commons.catalog.uncategorized"))),classes:{content:s.includes("uncategorized")?n.selectedItem:null}},o.a.createElement(Qe.a,{nodeId:"uncategorized-results",label:o.a.createElement(z.a,{onClick:function(){c(),it(a.code.toLowerCase(),["uncategorized"])}},o.a.createElement(b.a,{spacing:1,container:!0,alignItems:"center"},o.a.createElement(b.a,{item:!0},o.a.createElement(ft.a,{className:n.nodeIcon})),o.a.createElement(b.a,{item:!0},o.a.createElement("i",null,d("components.categoriesTree.goToData",{datasetsCount:r.uncategorizedDatasets.length})))))}))))}}]),n}(i.Component),kt=Object(he.d)(Object(g.a)((function(){return{nodeIcon:{marginTop:5},selectedItem:{background:"rgba(0, 41, 90, 0.2) !important"}}})),Object(vt.a)())(bt),Ct=n(197),yt=n.n(Ct),wt=n(958),At=n(946),_t=function(){return $("hubConfig/dashboards/fetch","Dashboards/Hub",a.GET,null,(function(e){return{onStart:e("scenes.appSettings.messages.fetchDashboards.start")}}))},St=n(194),Et=n.n(St),Ot=n(524),Tt=n.n(Ot),xt=function(e,t){return{type:"spinner/addMessage",payload:{uid:e,message:t}}},Pt=function(e,t){return{type:"spinner/removeMessage",payload:{uid:e,isError:t}}},Dt=Object(he.d)(Object(g.a)((function(e){return{startAdornment:{marginRight:e.spacing(2)},fileInput:{display:"none"}}})),Object(H.b)((function(e){return{baseURL:e.config.baseURL,user:e.user}}),(function(e){return{addSpinnerMessage:function(t,n){return e(xt(t,n))},markSpinnerMessage:function(t,n){return e(Pt(t,n))}}})))((function(e){var t=e.label,n=e.value,a=e.onChange,r=e.classes,l=e.baseURL,s=e.error,c=e.helperText,d=e.required,u=e.addSpinnerMessage,m=e.markSpinnerMessage,h=e.user,f=Object(i.useState)(Object(q.a)()),g=Object(ne.a)(f,1)[0],p=Object(i.useState)((null===n||void 0===n?void 0:n.substring(n.lastIndexOf("/")+1))||""),v=Object(ne.a)(p,2),b=v[0],k=v[1],C=Object(ue.a)().t;return o.a.createElement(i.Fragment,null,o.a.createElement("input",{accept:"image/*, video/*",className:r.fileInput,id:g,type:"file",onChange:function(e){var t=e.target.files[0],n=new FormData;n.append("files",t);var i=Object(q.a)();u(i,C("components.fileInput.messages.upload.start")),fetch(l+"File/Upload",{method:"POST",body:n,headers:{Authorization:h.token?"bearer ".concat(h.token):void 0},credentials:"include"}).then((function(e){return e.json()})).then((function(e){m(i);var t=e[0];a(t),k(t.substring(t.lastIndexOf("/")+1))})).catch((function(){m(i,!0),window.error.show(C("components.fileInput.messages.upload.error"))}))}}),o.a.createElement(le.a,{variant:"outlined",label:t,value:b,InputProps:{startAdornment:o.a.createElement(ye.a,{className:r.startAdornment,position:"start"},o.a.createElement("label",{htmlFor:g},o.a.createElement(E.a,{startIcon:o.a.createElement(Tt.a,null),variant:"outlined",disabled:!!n,title:"Upload new file",component:"span"},C("components.fileInput.upload")))),endAdornment:n&&o.a.createElement(ye.a,{position:"end"},o.a.createElement(P.a,{title:C("components.fileInput.reset"),onClick:function(){k(""),a("")}},o.a.createElement(Et.a,null)))},error:s,required:d,helperText:c}))})),Mt=n(77),Rt=n.n(Mt),It=n(196),Bt=n.n(It),Lt=n(75),zt=n.n(Lt),Vt=n(60),jt=n.n(Vt),Ft=n(93),Nt=n.n(Ft),Gt=n(126),Ut=n.n(Gt),Ht=function(e){var t=Object(ue.a)().t,n={localization:{body:{emptyDataSourceMessage:t("components.customMaterialTable.empty")},header:{actions:""},toolbar:{searchPlaceholder:t("components.customMaterialTable.search.placeholder"),searchTooltip:t("components.customMaterialTable.search.tooltip")}}},a=Me.a.merge(n,e);return o.a.createElement(Ut.a,a)},qt=(n(646),{Search:Object(i.forwardRef)((function(e,t){return o.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(i.forwardRef)((function(e,t){return o.a.createElement(M.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(i.forwardRef)((function(e,t){return o.a.createElement(Nt.a,Object.assign({},e,{ref:t}))}))}),Wt=Object(he.d)(Object(g.a)((function(e){return{tableToolbar:{marginBottom:e.spacing(1)},buttonAction:Object(B.a)({},e.typography.button)}})),Object(H.b)((function(e){return{languages:e.app.languages,defaultLanguage:e.app.language}}),null,null,{forwardRef:!0}),i.forwardRef)((function(e,t){e.classes;var n=e.defaultLanguage,a=e.languages,r=e.dashboards,l=e.allDashboards,s=e.fetchDashboards,c=e.fetchAllDashboards,d=e.addDashboard,u=e.removeDashboard,m=e.sendDashboardsOrders,f=e.clearDashboards,g=e.clearAllDashboards,p=Object(i.useState)(!0),v=Object(ne.a)(p,2),k=v[0],C=v[1],y=Object(ue.a)().t;Object(i.useEffect)((function(){k&&(C(!1),s())}),[r,k,C,s]),Object(i.useImperativeHandle)(t,(function(){return{destroy:function(e){f(),e&&e()}}}));var w=(r||[]).map((function(e){return e.dashboardId}));return null!==r&&o.a.createElement(i.Fragment,null,o.a.createElement(ae.a,{open:null!==l,disableEscapeKeyDown:!0,disableBackdropClick:!0,maxWidth:"md",fullWidth:!0,onClose:function(){g()}},o.a.createElement(oe.a,null,y("components.dashboardsManager.modals.addDashboard.title")),o.a.createElement(re.a,{style:{minHeight:456}},null!==l&&o.a.createElement(Ht,{components:{Container:h.a},columns:[{field:"title",title:y("components.dashboardsManager.modals.addDashboard.table.columns.dashboardTitle"),render:function(e){var t=e.title;return Ie(t,n,a)},customFilterAndSearch:Be(n,a)}],data:l,actions:[function(e){var t=e.dashboardId,n=!!r.find((function(e){return e.dashboardId===t}));return{icon:Rt.a,tooltip:y(n?"components.dashboardsManager.modals.addDashboard.table.actions.addDashboard.tooltip.assigned":"components.dashboardsManager.modals.addDashboard.table.actions.addDashboard.tooltip.notAssigned"),onClick:function(e,t){var n=t.dashboardId;return d(n)},disabled:n}}],options:{paging:!1,draggable:!0,actionsColumnIndex:2,searchFieldAlignment:"left",maxBodyHeight:400,showTitle:!1},icons:qt})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){return g()}},y("commons.confirm.cancel")))),o.a.createElement(_e.a,{label:y("components.dashboardsManager.fields.showHubDashboards.label"),control:o.a.createElement(ke.a,{name:"showHubDashboards",checked:!0,disabled:!0})}),o.a.createElement(h.a,{className:"dashboards-manager__table"},o.a.createElement(Ht,{title:"",components:{Container:h.a,Toolbar:function(e){return o.a.createElement(b.a,{container:!0,justify:"space-between",spacing:1,alignItems:"center"},o.a.createElement(b.a,{item:!0},o.a.createElement(Gt.MTableToolbar,e)),o.a.createElement(b.a,{item:!0},o.a.createElement(E.a,{size:"small",startIcon:o.a.createElement(Rt.a,null),onClick:function(){c()}},y("components.dashboardsManager.addDashboard"))))}},columns:[{field:"title",title:y("components.dashboardsManager.table.columns.dashboardTitle"),render:function(e){var t=e.title;return Ie(t,n,a)},customFilterAndSearch:Be(n,a)}],data:r,actions:[function(e){var t=e.tableData;return{icon:Bt.a,tooltip:y("components.dashboardsManager.table.actions.dashboardOrderMoveUp"),onClick:function(e,t){var n,a=t.tableData;return n=a.id,m([].concat(Object(Je.a)(w.slice(0,n-1)),[w[n],w[n-1]],Object(Je.a)(w.slice(n+1))))},disabled:0===t.id}},function(e){var t=e.tableData;return{icon:Ne.a,tooltip:y("components.dashboardsManager.table.actions.dashboardOrderMoveDown"),onClick:function(e,t){var n,a=t.tableData;return n=a.id,m([].concat(Object(Je.a)(w.slice(0,n)),[w[n+1],w[n]],Object(Je.a)(w.slice(n+2))))},disabled:t.id===r.length-1}},{icon:zt.a,tooltip:y("components.dashboardsManager.table.actions.removeDashboard"),onClick:function(e,t){var n=t.dashboardId;return u(n)}}],options:{paging:!1,draggable:!0,actionsColumnIndex:2,searchFieldAlignment:"left",maxBodyHeight:320},icons:qt})))})),Kt="INIT",Yt=function(e){var t=e.getState;return function(e){return function(n){n.type===Kt&&(n.payload||(n.payload={}),n.payload.persistentState=JSON.parse(localStorage.getItem("state")||"{}"));var a=e(n),i=t();return localStorage.setItem("state",JSON.stringify({user:Object(B.a)(Object(B.a)({},i.user),{},{isSetPasswordDialogOpen:void 0})})),a}}};!function(e){e.Administrator="Administrator",e.User="User"}(Y||(Y={})),function(e){e.ManageCache="ManageCache",e.ManageTemplate="ManageTemplate",e.ManageConfig="ManageConfig",e.ManageView="ManageView"}(J||(J={}));var Jt,$t={isAuthenticated:!1,email:null,roles:[],permissions:[],token:null,refreshTokenExpiration:null,tokenTTL:null,tokenReceivedTime:null,isLoginDialogOpen:!1,delayedRequest:null,message:null,isSetPasswordDialogOpen:!1,isChangePasswordDialogOpen:!1,isRegisterDialogOpen:!1},Qt=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Kt:return a.payload.persistentState.user?Object(B.a)(Object(B.a)(Object(B.a)({},$t),a.payload.persistentState.user),{},{isLoginDialogOpen:!1}):$t;case"USER_LOGIN_FORM_SHOW":return Object(B.a)(Object(B.a)({},n),{},{isLoginDialogOpen:!0,message:null===(e=a.payload)||void 0===e?void 0:e.alert});case"USER_LOGIN_FORM_HIDE":return Object(B.a)(Object(B.a)({},n),{},{isLoginDialogOpen:!1,message:void 0});case"USER_SET_PASSWORD_FORM_SHOW":return Object(B.a)(Object(B.a)({},n),{},{isLoginDialogOpen:!1,isSetPasswordDialogOpen:!0,setPasswordToken:a.payload.token});case"USER_SET_PASSWORD_FORM_HIDE":return Object(B.a)(Object(B.a)({},n),{},{isSetPasswordDialogOpen:!1,message:void 0});case"USER_CHANGE_PASSWORD_FORM_SHOW":return Object(B.a)(Object(B.a)({},n),{},{isChangePasswordDialogOpen:!0});case"USER_CHANGE_PASSWORD_FORM_HIDE":return Object(B.a)(Object(B.a)({},n),{},{isChangePasswordDialogOpen:!1});case"USER_REGISTER_MODAL_SHOW":return Object(B.a)(Object(B.a)({},n),{},{isRegisterDialogOpen:!0});case"USER_REGISTER_MODAL_HIDE":return Object(B.a)(Object(B.a)({},n),{},{isRegisterDialogOpen:!1});case"USER_CLEAR":return $t;case K:switch(a.payload.label){case"USER_FETCH":var i=a.payload.response;return Object(B.a)(Object(B.a)({},i),{},{tokenReceivedTime:(new Date).getTime()});case"USER_REFRESH":var o=a.payload.response;return Object(B.a)(Object(B.a)({},o),{},{tokenReceivedTime:(new Date).getTime()});case"USER_PASSWORD_SET":return Object(B.a)(Object(B.a)({},n),{},{isSetPasswordDialogOpen:!1});case"USER_PASSWORD_CHANGE":return Object(B.a)(Object(B.a)({},n),{},{isChangePasswordDialogOpen:!1});case"usersConfig/createUser":return!a.payload.response.haveError&&(null===(t=a.payload.extra)||void 0===t?void 0:t.isAnonymous)?Object(B.a)(Object(B.a)({},n),{},{isRegisterDialogOpen:!1}):n;default:return n}case"USER_DELAYED_REQUEST_WHEN_TOKEN_EXPIRED_SET":return Object(B.a)(Object(B.a)({},n),{},{delayedRequest:a.payload.request});case"USER_DELAYED_REQUEST_WHEN_TOKEN_EXPIRED_CLEAR":return Object(B.a)(Object(B.a)({},n),{},{delayedRequest:null});case W:switch(a.payload.label){case"USER_FETCH":return 401===a.payload.response.status?Object(B.a)(Object(B.a)({},n),{},{message:"InvalidLogin"}):n;default:return n}default:return n}},Zt=function(e,t){return"".concat(e,"_SingleNode_").concat(t)},Xt=function(e){return e&&e.isAuthenticated&&e.roles.includes(Y.Administrator)},en=function(e){return e&&e.isAuthenticated&&e.roles.includes(Y.Administrator)},tn=function(e){return e&&e.isAuthenticated&&e.roles.includes(Y.Administrator)},nn=function(e){return e&&e.isAuthenticated&&(e.roles.includes(Y.Administrator)||!!e.permissions.find((function(e){return e.startsWith("".concat(J.ManageCache,"_SingleNode"))}))||!!e.permissions.find((function(e){return e.startsWith("".concat(J.ManageTemplate,"_SingleNode"))}))||!!e.permissions.find((function(e){return e.startsWith("".concat(J.ManageConfig,"_SingleNode"))})))},an=function(e){return e&&e.isAuthenticated&&e.roles.includes(Y.Administrator)},on=function(e,t){return e&&e.isAuthenticated&&(e.roles.includes(Y.Administrator)||e.permissions.includes(Zt(J.ManageCache,t)))},rn=function(e,t){return e&&e.isAuthenticated&&(e.roles.includes(Y.Administrator)||e.permissions.includes(Zt(J.ManageTemplate,t)))},ln=function(e,t){return e&&e.isAuthenticated&&(e.roles.includes(Y.Administrator)||e.permissions.includes(Zt(J.ManageTemplate,t)))},sn=function(e,t){return e&&e.isAuthenticated&&(e.roles.includes(Y.Administrator)||e.permissions.includes(Zt(J.ManageConfig,t)))},cn=function(e){return e&&e.isAuthenticated},dn=function(e){return e&&e.isAuthenticated},un=function(e){return e&&e.isAuthenticated&&e.roles.includes(Y.Administrator)},mn=function(e){return e&&e.isAuthenticated&&e.roles.includes(Y.Administrator)},hn=function(e){return e&&e.isAuthenticated&&(e.roles.includes(Y.Administrator)||!!e.permissions.find((function(e){return e.startsWith("".concat(J.ManageConfig,"_SingleNode"))})))},fn=function(e){return e&&e.isAuthenticated&&e.roles.includes(Y.Administrator)},gn=function(e){return e&&e.isAuthenticated&&e.roles.includes(Y.Administrator)},pn=n(525),vn=n.n(pn),bn={en:"gb"},kn=Object(H.b)((function(e){return{languages:e.app.languages}}))((function(e){var t=e.value,n=e.onChange,a=e.languages,r=Object(i.useState)(null),l=Object(ne.a)(r,2),s=l[0],c=l[1];return Object(i.useEffect)((function(){var e={};a.forEach((function(t){return vn.a.getLanguageCountries(t,(function(n,a){var i;n||(e[t]=bn[t]||(null===(i=a.find((function(e){return e.code_2.toLowerCase()===t})))||void 0===i?void 0:i.code_2.toLowerCase())||a[0].code_2.toLowerCase())}))})),c(e)}),[a]),s&&o.a.createElement(Ge,{value:o.a.createElement("span",{className:"flag-icon flag-icon-".concat(s[t])}),onChange:n},a.map((function(e){return o.a.createElement("span",{key:e,className:"flag-icon flag-icon-".concat(s[e]),"data-value":e})})))})),Cn=Object(H.b)((function(e){return{languages:e.app.languages,defaultLanguage:e.app.language}}))((function(e){var t=e.textFieldProps,n=e.defaultLanguage,a=e.languages,r=(e.children,Object(i.useState)(n)),l=Object(ne.a)(r,2),s=l[0],c=l[1];return o.a.createElement(le.a,Object.assign({},t,{value:t.value&&t.value[s]?t.value[s]:"",onChange:function(e){var n=e.target,i={};a.forEach((function(e){t.value[e]&&(i[e]=t.value[e])})),i[s]=n.value,t.onChange(i)},InputProps:{startAdornment:o.a.createElement(ye.a,{position:"start"},o.a.createElement(kn,{value:s,onChange:function(e){return c(e)}}))}}),t.children)})),yn=function(e){return o.a.createElement(Cn,{textFieldProps:e})},wn=n(50),An=n(526),_n=n(527),Sn=n.n(_n),En=(n(663),n(664),function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state=n.getInitState(e),a.handleEditorChange=a.handleEditorChange.bind(Object(wn.a)(a)),a}return Object(d.a)(n,[{key:"handleEditorChange",value:function(e,t){var n=t.getData();this.props.onChange&&this.props.onChange(n)}},{key:"render",value:function(){var e=this.state.value,t=this.props,n=t.defaultLanguage,a=t.disabled;return o.a.createElement(i.Fragment,null,o.a.createElement(An.CKEditor,{data:e,editor:Sn.a,config:{language:n},disabled:a,onChange:this.handleEditorChange}))}}],[{key:"getInitState",value:function(e){return{value:e&&e.value||""}}},{key:"getDerivedStateFromProps",value:function(e){return null!==e.value&&void 0!==e.value?{value:e.value}:n.getInitState(e)}}]),n}(o.a.Component)),On=Object(he.d)(Object(g.a)((function(e){return{preToolbar:{marginBottom:e.spacing(1)}}})),Object(H.b)((function(e){return{defaultLanguage:e.app.language}})))(En),Tn=Object(H.b)((function(e){return{languages:e.app.languages,defaultLanguage:e.app.language}}))((function(e){var t=e.htmlEditorProps,n=e.defaultLanguage,a=e.languages,r=Object(i.useState)(n),l=Object(ne.a)(r,2),s=l[0],c=l[1];return o.a.createElement(i.Fragment,null,o.a.createElement(b.a,{container:!0,justify:"flex-end",style:{marginBottom:4}},o.a.createElement(b.a,{item:!0},o.a.createElement(kn,{value:s,onChange:function(e){return c(e)}}))),o.a.createElement(On,Object.assign({},t,{value:t.value&&t.value[s]?t.value[s]:"",onChange:function(e){var n={};a.forEach((function(e){t.value&&t.value[e]&&(n[e]=t.value[e])})),n[s]=e,t.onChange(n)}})))})),xn=function(e){return o.a.createElement(Tn,{htmlEditorProps:e})},Pn=n(963),Dn=n(514),Mn=Object(he.d)(Object(g.a)((function(e){return{root:{height:440},field:{marginTop:e.spacing(3)},tabContent:{overflowY:"auto",overflowX:"hidden",height:"calc(100% - 56px)",marginTop:8,padding:"0 4px"},disclaimerLabel:{fontSize:"1rem",marginTop:e.spacing(3)}}})),i.forwardRef)((function(e,t){var n,a,r,l,s=e.classes,c=e.config,d=e.onSubmit,u=e.onCancel,m=e.user,f=e.dashboards,g=e.allDashboards,p=e.fetchDashboards,v=e.fetchAllDashboards,b=e.clearDashboards,k=e.clearAllDashboards,C=e.addDashboard,y=e.removeDashboard,w=e.sendDashboardsOrders,A=Object(i.useState)("general"),_=Object(ne.a)(A,2),S=_[0],E=_[1],O=o.a.createRef(),T=Object(ue.a)().t,x=c.extras?JSON.parse(c.extras):{},P=Object(ce.a)({defaultValues:Object(B.a)(Object(B.a)({},c),{},{pageSize:x.PageSize})}),D=P.register,M=P.errors,R=P.handleSubmit,I=P.watch,L=P.setValue;Object(i.useImperativeHandle)(t,(function(){return{submit:function(e){R((function(t){var n=Object(B.a)(Object(B.a)(Object(B.a)({},c),t),{},{pageSize:void 0});n.extras=JSON.stringify(Object(B.a)(Object(B.a)({},JSON.parse(n.extras||"{}")),{},{PageSize:t.pageSize})),d(n),e(n),O.current&&O.current.destroy()}))()},cancel:function(e){u(),e(),O.current&&O.current.destroy()}}})),Object(i.useEffect)((function(){D({name:"title"},{validate:function(e){return Re(e)||T("commons.validation.requiredAnyLanguage")}}),D({name:"slogan"}),D({name:"supportedLanguages"},{validate:function(e){return e.length>0||T("commons.validation.required")}}),D({name:"defaultLanguage"},{required:T("commons.validation.required")}),D({name:"maxObservationsAfterCriteria"},{required:T("commons.validation.required"),min:{value:1,message:T("commons.validation.positiveInteger")}}),D({name:"maxCells"},{required:T("commons.validation.required"),min:{value:1,message:T("commons.validation.positiveInteger")}}),D({name:"backgroundMediaURL"}),D({name:"logoURL"}),D({name:"description"}),D({name:"pageSize"},{validate:function(e){return!e||e>0||T("commons.validation.positiveInteger")}}),D({name:"disclaimer"})}),[D,T]);var z=I("defaultLanguage"),V=I("supportedLanguages");return o.a.createElement(h.a,{className:s.root},o.a.createElement(wt.a,{value:S,onChange:function(e,t){E(t)}},o.a.createElement(At.a,{value:"general",label:T("scenes.appSettings.tabs.general")}),o.a.createElement(At.a,{value:"infos",label:T("scenes.appSettings.tabs.information")}),o.a.createElement(At.a,{value:"users",label:T("scenes.appSettings.tabs.users")}),fn(m)&&o.a.createElement(At.a,{value:"dashboards",label:T("scenes.appSettings.tabs.dashboards")})),o.a.createElement("div",{className:s.tabContent},"general"===S&&o.a.createElement(i.Fragment,null,o.a.createElement(se.a,{fullWidth:!0,className:s.field},o.a.createElement(yn,{name:"title",label:T("scenes.appSettings.fields.title.label"),required:!0,error:!!M.title,helperText:null===(n=M.title)||void 0===n?void 0:n.message,variant:"outlined",value:I("title")||{},onChange:function(e){return L("title",e)}})),o.a.createElement(se.a,{fullWidth:!0,className:s.field},o.a.createElement(yn,{name:"slogan",label:T("scenes.appSettings.fields.slogan.label"),variant:"outlined",value:I("slogan")||{},onChange:function(e){return L("slogan",e)}})),o.a.createElement(Pn.a,{multiple:!0,variant:"outlined",freeSolo:!0,options:[],value:V||[],renderTags:function(e,t){return e.map((function(e,n){return o.a.createElement(Dn.a,Object.assign({variant:"outlined",label:e},t({index:n})))}))},required:!0,onChange:function(e,t){L("supportedLanguages",t),z&&!t.includes(z)&&L("defaultLanguage","")},renderInput:function(e){var t;return o.a.createElement(se.a,{fullWidth:!0,className:s.field},o.a.createElement(le.a,Object.assign({label:T("scenes.appSettings.fields.supportedLanguages.label")},e,{variant:"outlined",placeholder:T("scenes.appSettings.fields.supportedLanguages.placeholder"),error:!!M.supportedLanguages,helperText:(null===(t=M.supportedLanguages)||void 0===t?void 0:t.message)||o.a.createElement(i.Fragment,null,T("scenes.appSettings.fields.supportedLanguages.helper.text"),o.a.createElement("a",{href:"https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes",target:"_blank",rel:"noopener noreferrer",style:{marginLeft:4}},T("scenes.appSettings.fields.supportedLanguages.helper.linkText")))})))}}),o.a.createElement(se.a,{fullWidth:!0,className:s.field},o.a.createElement(le.a,{name:"defaultLanguage",select:!0,required:!0,label:T("scenes.nodeSettings.fields.defaultLanguage.label"),onChange:function(e){return L("defaultLanguage",e.target.value)},value:I("defaultLanguage")||"",error:!!M.defaultLanguage,helperText:(null===(a=M.defaultLanguage)||void 0===a?void 0:a.message)||T("scenes.nodeSettings.fields.defaultLanguage.helper"),variant:"outlined"},V.map((function(e,t){return o.a.createElement(xe.a,{key:t,value:e},e)})))),o.a.createElement(se.a,{fullWidth:!0,className:s.field},o.a.createElement(le.a,{name:"maxObservationsAfterCriteria",label:T("scenes.appSettings.fields.maxObservationsAfterCriteria.label"),required:!0,type:"number",error:!!M.maxObservationsAfterCriteria,helperText:null===(r=M.maxObservationsAfterCriteria)||void 0===r?void 0:r.message,variant:"outlined",value:I("maxObservationsAfterCriteria")||"",onChange:function(e){var t=e.target;return L("maxObservationsAfterCriteria",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:s.field},o.a.createElement(le.a,{name:"maxCells",label:T("scenes.appSettings.fields.maxCells.label"),required:!0,error:!!M.maxCells,helperText:null===(l=M.maxCells)||void 0===l?void 0:l.message,variant:"outlined",type:"number",value:I("maxCells")||"",onChange:function(e){var t=e.target;return L("maxCells",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:s.field},o.a.createElement(Dt,{label:T("scenes.appSettings.fields.backgroundMediaURL.label"),value:I("backgroundMediaURL"),onChange:function(e){return L("backgroundMediaURL",e)}})),o.a.createElement(se.a,{fullWidth:!0,className:s.field},o.a.createElement(Dt,{label:T("scenes.appSettings.fields.logoURL.label"),value:I("logoURL"),onChange:function(e){return L("logoURL",e)}}))),"infos"===S&&o.a.createElement(xn,{value:I("description"),onChange:function(e){return L("description",e)}}),"users"===S&&o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:s.disclaimerLabel},T("scenes.appSettings.fields.disclaimer.label"),":"),o.a.createElement(xn,{value:I("disclaimer"),onChange:function(e){return L("disclaimer",e)}})),fn(m)&&"dashboards"===S&&o.a.createElement(Wt,{dashboards:f,allDashboards:g,fetchDashboards:p,fetchAllDashboards:v,clearDashboards:b,clearAllDashboards:k,addDashboard:C,removeDashboard:y,sendDashboardsOrders:w,ref:O})))})),Rn=Object(he.d)(Object(H.b)((function(e){return{config:e.hubConfig.hub,user:e.user,dashboards:e.hubConfig.hubDashboards,allDashboards:e.hubConfig.allDashboards}}),(function(e){return{clearConfig:function(){return e({type:"hubConfig/clear"})},fetchConfig:function(){return e($("hubConfig/fetch","hub/config",void 0,void 0,(function(e){return{onStart:e("scenes.appSettings.messages.fetchConfig.start")}})))},sendConfig:function(t){return e(function(e){return $("hubConfig/send","hub",a.PUT,e,(function(e){return{onStart:e("scenes.appSettings.messages.sendConfig.start")}}))}(t))},fetchDashboards:function(){return e(_t())},fetchAllDashboards:function(){return e($("hubConfig/dashboards/fetchAll","Dashboards",a.GET,null,(function(e){return{onStart:e("scenes.appSettings.messages.fetchAllDashboards.start")}})))},clearDashboards:function(){return e({type:"hubConfig/dashboards/clear"})},clearAllDashboards:function(){return e({type:"hubConfig/dashboards/clearAll"})},addDashboard:function(t){return e(function(e){return $("hubConfig/dashboards/addDashboard",function(e){return"Dashboards/".concat(e,"/Hub")}(e),a.POST,null,(function(e){return{onStart:e("scenes.appSettings.messages.addDashboard.start")}}))}(t))},removeDashboard:function(t){return e(function(e){return $("hubConfig/dashboards/removeDashboard",function(e){return"Dashboards/".concat(e,"/Hub")}(e),a.DELETE,null,(function(e){return{onStart:e("scenes.appSettings.messages.removeDashboard.start")}}))}(t))},sendDashboardsOrders:function(t){return e((n=t,$("hubConfig/dashboards/sendOrders","Dashboards/Order/Hub",a.POST,n,(function(e){return{onStart:e("scenes.appSettings.messages.sendDashboardsOrders.start")}}))));var n},onClose:function(){return e({type:"hubConfig/close"})}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){var n=e.config,a=e.fetchConfig,r=e.sendConfig,l=e.clearConfig,s=e.user,c=e.dashboards,d=e.allDashboards,u=e.fetchDashboards,m=e.fetchAllDashboards,h=e.clearDashboards,f=e.clearAllDashboards,g=e.addDashboard,p=e.removeDashboard,v=e.sendDashboardsOrders,b=e.onClose,k=Object(i.useState)(!0),C=Object(ne.a)(k,2),y=C[0],w=C[1];return Object(i.useEffect)((function(){y&&(w(!1),a())}),[n,y,w,a]),n&&o.a.createElement(Mn,{config:n,ref:t,onSubmit:r,onCancel:function(){l(),b()},user:s,dashboards:c,allDashboards:d,fetchDashboards:u,fetchAllDashboards:m,clearDashboards:h,clearAllDashboards:f,addDashboard:g,removeDashboard:p,sendDashboardsOrders:v})})),In=n(154),Bn=n(528),Ln=n.n(Bn),zn=function(){return $("nodesConfig/fetchNodes","nodes/config",void 0,void 0,(function(e){return{onStart:e("scenes.nodesSettings.messages.fetchNodes.start")}}))},Vn=function(e){return $("nodesConfig/nodeDashboards/fetch",function(e){return"Dashboards/Nodes/".concat(e)}(e),a.GET,null,(function(e){return{onStart:e("scenes.nodesSettings.messages.fetchNodeDashboards.start")}}),{nodeId:e})},jn=n(28),Fn=n.n(jn),Nn="FREQ",Gn=function(e){return null!==e&&e.length>0?e[0].toUpperCase()+e.slice(1):e},Un=function(e,t,n){return Gn(e.dimension[t].label)||t},Hn=function(e,t,n,a){var i=Gn(e.dimension[t].category.label[n]),o=n;if("TIME_PERIOD"===t)return i;switch(a){case"LABEL_FORMAT_SELECTOR_FORMAT_NAME":return i;case"LABEL_FORMAT_SELECTOR_FORMAT_ID":return o;case"LABEL_FORMAT_SELECTOR_FORMAT_BOTH":return"[".concat(o,"] ").concat(i);default:return i}},qn=function(e,t){for(var n=0,a=1,i=0;i<e.length;i++)n+=(a*=i>0?t[e.length-i]:1)*e[e.length-i-1];return n},Wn=function(e,t){for(var n=new Array(t.length),a=e,i=t.length-1;i>=0;i--){var o=t[i];n[i]=o>0?a%o:0,a=o>0?Math.floor(a/o):0}return n},Kn=function(e,t){var n=((null===e||void 0===e?void 0:e.primaryDim)||[]).concat((null===e||void 0===e?void 0:e.secondaryDim)||[]).concat((null===e||void 0===e?void 0:e.filters)||[]),a=[];Object.keys(t.value).forEach((function(e){var i=Wn(e,t.size),o=[];n.forEach((function(e){var n=i[t.id.indexOf(e)];o.push(t.dimension[e].category.index[n])})),a.push(o)}));var i={};return a.forEach((function(e){var t=i;e.forEach((function(e){t[e]||(t[e]={}),t=t[e]}))})),i},Yn=function(e,t,n){var a,i,o=(null===(a=t.primaryDim)||void 0===a?void 0:a[0])||null,r=(null===(i=t.secondaryDim)||void 0===i?void 0:i[0])||null,l=null,s=null;if(0===(t.filters||[]).length)return{};var c=n;o&&(l=Object.keys(c).find((function(e){return t.primaryDimValues.includes(e)&&(!r||Object.keys(c[e]).find((function(e){return t.secondaryDimValues.includes(e)})))})),c=c[l],r&&(s=Object.keys(c).find((function(e){return t.secondaryDimValues.includes(e)})),c=c[s]));var d={},u=c;return t.filters.forEach((function(t){var n=Object.keys(u),a=Object(Je.a)(e.dimension[t].category.index);"TIME_PERIOD"===t&&a.reverse();var i=a.find((function(e){return n.includes(e)}));d[t]=i,u=u[i]})),d},Jn=function(e,t){var n;if(!e)return null;var a=Me.a.cloneDeep(e),i=["rows","cols","filters","sections","primaryDim","secondaryDim","territoryDim"];for(var o in a.territoryDim&&(a.territoryDim=[a.territoryDim]),a)a.hasOwnProperty(o)&&i.includes(o)&&(a[o]=(a[o]||[]).filter((function(e){return t.id.includes(e)})));if(t.id.forEach((function(e){var n=!1;for(var o in a)a.hasOwnProperty(o)&&!n&&i.includes(o)&&(n=a[o].includes(e));n||(a.filters.push(e),a.filtersValue&&(a.filtersValue[e]=t.dimension[e].category.index[0]))})),a.filtersValue)for(var r in a.filtersValue)a.filtersValue.hasOwnProperty(r)&&(a.filters.includes(r)?t.dimension[r].category.index.includes(a.filtersValue[r])||(a.filtersValue[r]=t.dimension[r].category.index[0]):a.filtersValue[r]=void 0);if(a.primaryDim){if(1!==a.primaryDim.length)return function(e){if(!e)return null;var t=e.id.find((function(e){return"TIME_PERIOD"===e}));t||(t=e.id[0]);var n=e.id.filter((function(e){return e!==t}));return{primaryDim:[t],primaryDimValues:e.dimension[t].category.index,secondaryDim:[],secondaryDimValues:[],filters:n}}(t);var l,s=(null===a||void 0===a||null===(l=a.primaryDim)||void 0===l?void 0:l[0])||null;0===a.primaryDimValues.length&&(a.primaryDimValues=t.dimension[s].category.index),a.primaryDimValues=a.primaryDimValues.filter((function(e){return t.dimension[s].category.index.includes(e)}))}var c=(null===a||void 0===a||null===(n=a.secondaryDim)||void 0===n?void 0:n[0])||null;return c&&(0===a.secondaryDimValues.length&&(a.secondaryDimValues=t.dimension[c].category.index),a.secondaryDimValues=a.secondaryDimValues.filter((function(e){return t.dimension[c].category.index.includes(e)}))),a.territoryDim&&(a.territoryDim=a.territoryDim[0]),a},$n=function(e,t){if(!e)return null;var n=Object(B.a)({rows:[],cols:[],sections:[],filters:[]},e);return Jn(n,t)},Qn=function(e,t){if(!e)return null;var n=Object(B.a)({territoryDim:"",filters:[]},e);return Jn(n,t)},Zn=function(e,t){if(!e)return null;var n=Object(B.a)({primaryDim:[],primaryDimValues:[],secondaryDim:[],secondaryDimValues:[],filters:[]},e);return Jn(n,t)},Xn=function(e,t,n,a,i){var o,r,l=Me.a.cloneDeep(a),s=(null===(o=l.primaryDim)||void 0===o?void 0:o[0])||null,c=(null===(r=l.secondaryDim)||void 0===r?void 0:r[0])||null,d=Me.a.cloneDeep(a);s&&e===s?d.primaryDimValues=t:c&&e===c?d.secondaryDimValues=t:d.filtersValue[e]=t;var u=((null===d||void 0===d?void 0:d.primaryDim)||[]).concat((null===d||void 0===d?void 0:d.secondaryDim)||[]).concat((null===d||void 0===d?void 0:d.filters)||[]),m=!1,h=i;if(s&&!m)(d.primaryDimValues||[]).forEach((function(e){if(c&&!m)(d.secondaryDimValues||[]).forEach((function(t){h=i[e][t];var n=!0;u.slice(2).forEach((function(e){n&&h[d.filtersValue[e]]?h=h[d.filtersValue[e]]:n=!1})),n&&(m=!0)}));else{h=i[e];var t=!0;u.slice(1).forEach((function(e){t&&h[d.filtersValue[e]]?h=h[d.filtersValue[e]]:t=!1})),t&&(m=!0)}}));else{var f=!0;u.forEach((function(e){f&&h[d.filtersValue[e]]?h=h[d.filtersValue[e]]:f=!1})),f&&(m=!0)}if(m)return d;if(s&&e===s){if(l.primaryDimValues=t,c){var g=ea(c,n,l,i);l.secondaryDimValues=l.secondaryDimValues.filter((function(e){return g.includes(e)}))}l.filtersValue=Yn(n,l,i)}else if(c&&e===c)l.secondaryDimValues=t,l.filtersValue=Yn(n,l,i);else{l.filtersValue[e]=t;var p=l.filters||[],v=p.indexOf(e);v<p.length-1&&l.filters.slice(v+1).forEach((function(e){var t=ea(e,n,l,i),a=Object(Je.a)(n.dimension[e].category.index);"TIME_PERIOD"===e&&a.reverse(),l.filtersValue[e]=a.find((function(e){return t.includes(e)}))}))}return l},ea=function(e,t,n,a){var i,o,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=(null===(i=n.primaryDim)||void 0===i?void 0:i[0])||null,s=(null===(o=n.secondaryDim)||void 0===o?void 0:o[0])||null,c=((null===n||void 0===n?void 0:n.primaryDim)||[]).concat((null===n||void 0===n?void 0:n.secondaryDim)||[]).concat((null===n||void 0===n?void 0:n.filters)||[]),d=c.indexOf(e),u=c.slice(0,d),m={};if(d>0){var h=a;l?(n.primaryDimValues||[]).forEach((function(t){s&&e!==s?(n.secondaryDimValues||[]).forEach((function(e){h=a[t][e],u.slice(2).forEach((function(e){h=(h||{})[n.filtersValue[e]]})),m=Object(B.a)(Object(B.a)({},m),h)})):(h=a[t],u.slice(1).forEach((function(e){h=(h||{})[n.filtersValue[e]]})),m=Object(B.a)(Object(B.a)({},m),h))})):(u.forEach((function(e){h=h[n.filtersValue[e]]})),m=Object(B.a)(Object(B.a)({},m),h))}else m=a;var f=Object.keys(m),g=[];return t.dimension[e].category.index.forEach((function(n){f.includes(n)&&g.push(r?{id:n,label:t.dimension[e].category.label[n]}:n)})),g},ta=function(e){var t={};return e.id.forEach((function(n){t[n]={},e.dimension[n].category.index.forEach((function(e,a){return t[n][e]=a}))})),t},na=function(e,t,n){var a=[],i=[],o=!1;try{return(e||[]).forEach((function(e,r){if(null!==e&&!(n||[]).includes(t[r].id)){var l=t[r].values[e].id,s=t[r].values[e].name;a.push({id:t[r].id,label:t[r].name,valueId:l,valueLabel:s}),l!==s&&l.length<=5?i.push(l):o=!0}})),o&&i.push("(*)"),a.length>0&&i.length>0?{attributes:a,ids:i}:null}catch(r){return-1}},aa=function(e,t,n){var a,i,o,r,l;if(!e)return null;var s=(null===e||void 0===e||null===(a=e.extension)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.series)||[],c=(null===e||void 0===e||null===(o=e.extension)||void 0===o||null===(r=o.attributes)||void 0===r||null===(l=r.index)||void 0===l?void 0:l.series)||[],d={};return e.id.forEach((function(e){return d[e]={}})),s&&s.length>0&&c&&c.length>0&&c.filter((function(e){return 1===(e.coordinates||[]).filter((function(e){return null!==e})).length})).forEach((function(a){var i=a.coordinates.findIndex((function(e){return null!==e})),o=e.id[i],r=a.coordinates.find((function(e){return null!==e})),l=e.dimension[o].category.index[r],c=na(a.attributes,s,t);null!==c&&-1!==c&&(d[o][l]={attributes:c.attributes,ids:c.ids,htmlString:n?n(c.ids,o,l):null})})),d},ia=["M","Q","S","A"],oa=function(e,t,n,a){var i,o,r,l,s=n?function(e){var t=Fn()().add(-20,"y").format("YYYY")+"-01-01",n=Fn()().add(10,"y").format("YYYY")+"-12-31";return{min:e.values&&e.values[0]&&e.values[0].id?Fn()(e.values[0].id).format("YYYY-MM-DD"):t,max:e.values&&e.values[1]&&e.values[1].id?Fn()(e.values[1].id).format("YYYY-MM-DD"):n,missingRange:!e.values||2!==e.values.length}}(n):{min:e.minDate,max:e.maxDate,missingRange:e.missingRange},c=e.freq;return null!==a&&(c=ia.find((function(e){return(a.values||[]).map((function(e){return e.id})).includes(e)}))||null),{freq:c,selectorType:(null===t||void 0===t||null===(i=t.TIME_PERIOD)||void 0===i?void 0:i.type)||"TimeRange",minDate:s.min,maxDate:s.max,fromDate:(null===t||void 0===t||null===(o=t.TIME_PERIOD)||void 0===o?void 0:o.from)||s.min,toDate:(null===t||void 0===t||null===(r=t.TIME_PERIOD)||void 0===r?void 0:r.to)||s.max,periods:(null===t||void 0===t||null===(l=t.TIME_PERIOD)||void 0===l?void 0:l.period)||null,missingRange:s.missingRange}},ra=function(e){var t=e&&e[Nn]&&e[Nn].filterValues||[];return ia.find((function(e){return t.includes(e)}))||null},la=function(e){var t=[];return Object.keys(e).forEach((function(n){null!==e[n]&&void 0!==e[n]&&t.push(e[n])})),t},sa=function(e){var t={};return(e||[]).forEach((function(e){t=Object(B.a)(Object(B.a)({},t),{},Object(L.a)({},e.id,e))})),t},ca=n(202),da=n.n(ca),ua=n(374),ma=n.n(ua)()((function(e){var t=e.children,n=e.theme;return t?o.a.createElement(Ve.a,{title:t,placement:"top"},o.a.createElement(P.a,{"aria-label":"info",style:{color:n.palette.primary.main,padding:0,transform:"translateY(-1px)"}},o.a.createElement(da.a,{fontSize:"small"}))):o.a.createElement(P.a,{"aria-label":"info",style:{color:n.palette.primary.main,padding:0,transform:"translateY(-1px)"}},o.a.createElement(da.a,{fontSize:"small"}))})),ha=function(e){var t=e.children,n=e.tooltip,a=e.tooltipOnRight,r=function(){return o.a.createElement("span",{style:{pointerEvents:"auto",marginLeft:a?10:null,marginRight:a?null:10}},o.a.createElement(ma,null,n))};return o.a.createElement(i.Fragment,null,!a&&o.a.createElement(r,null),o.a.createElement("span",{style:{pointerEvents:"none"}},t),a&&o.a.createElement(r,null))},fa=function(e){return{genericdata:{label:e?e("commons.downloadFormat.genericdata"):"genericdata",extension:"xml"},genericdata20:{label:e?e("commons.downloadFormat.genericdata20"):"genericdata20",extension:"xml"},compactdata:{label:e?e("commons.downloadFormat.compactdata"):"compactdata",extension:"xml"},structurespecificdata:{label:e?e("commons.downloadFormat.structurespecificdata"):"structurespecificdata",extension:"xml"},jsondata:{label:e?e("commons.downloadFormat.jsondata"):"jsondata",extension:"json"},csv:{label:e?e("commons.downloadFormat.csv"):"csv",extension:"csv"}}},ga=function(e,t){var n;return null===(n=fa(t)[e])||void 0===n?void 0:n.label},pa=function(e,t){var n;return null===(n=fa(t)[e])||void 0===n?void 0:n.extension},va=function(e,t){var n=document.getElementById(e),a=document.createElement("a");a.download=t,a.target="_blank",a.href=n.toDataURL("image/jpeg"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},ba=Object(he.d)(Object(g.a)((function(e){return{root:{height:440},field:{marginTop:e.spacing(3)},paper:{marginTop:e.spacing(2),padding:e.spacing(3)},tabContent:{overflowY:"auto",overflowX:"hidden",height:"calc(100% - 56px)",marginTop:8,padding:"0 4px"},title:{fontSize:16}}})),i.forwardRef)((function(e,t){var n,a,r,l,s,c,d,u,m,f,g,p,v,k,C,y,w,A,_,S,E,O,T,x,P=e.classes,D=e.config,M=e.onSubmit,R=e.onCancel,I=Object(i.useState)("general"),L=Object(ne.a)(I,2),z=L[0],V=L[1],j=Object(i.useState)(!0),F=Object(ne.a)(j,2),N=F[0],G=F[1],U=Object(ue.a)().t,H=Object(ce.a)({defaultValues:Object(B.a)(Object(B.a)({active:!1},D),{},{annotationConfig:(null===D||void 0===D||null===(n=D.extras)||void 0===n?void 0:n.find((function(e){return"AnnotationConfig"===e.key})))?JSON.parse(D.extras.find((function(e){return"AnnotationConfig"===e.key})).value):{ORDER:"ORDER",ORDER_CATEGORY:"ORDER",ORDER_CODELIST:"ORDER",NOT_DISPLAYED:"NOT_DISPLAYED",DEFAULT:"DEFAULT",LAYOUT_ROW:"LAYOUT_ROW",LAYOUT_COLUMN:"LAYOUT_COLUMN",LAYOUT_FILTER:"LAYOUT_FILTER",LAYOUT_ROW_SECTION:"LAYOUT_ROW_SECTION",LAYOUT_CHART_PRIMARY_DIM:"LAYOUT_CHART_PRIMARY_DIM",LAYOUT_CHART_SECONDARY_DIM:"LAYOUT_CHART_SECONDARY_DIM",LAYOUT_CHART_FILTER:"LAYOUT_CHART_FILTER",CRITERIA_SELECTION:"CRITERIA_SELECTION",ATTACHED_DATA_FILES:"ATTACHED_DATA_FILES",LAYOUT_DECIMAL_SEPARATOR:"LAYOUT_DECIMAL_SEPARATOR",LAYOUT_NUMBER_OF_DECIMALS:"LAYOUT_NUMBER_OF_DECIMALS",LAYOUT_EMPTY_CELL_PLACEHOLDER:"LAYOUT_EMPTY_CELL_PLACEHOLDER",DATAFLOW_NOTES:"DATAFLOW_NOTES",DATAFLOW_SOURCE:"DATAFLOW_SOURCE",METADATA_URL:"METADATA_URL",KEYWORDS:"KEYWORDS",DEFAULT_VIEW:"DEFAULT_VIEW",GEO_ID:"GEO_ID",LAST_UPDATE:"LAST_UPDATE",VIRTUAL_DATAFLOW_NODE:"VIRTUAL_DATAFLOW_NODE",DATAFLOW_CATALOG_TYPE:"DATAFLOW_CATALOG_TYPE"},showCategoryLevels:(null===D||void 0===D?void 0:D.showCategoryLevels)||1,decimalNumber:(null===D||void 0===D?void 0:D.decimalNumber)||1,decimalSeparator:(null===D||void 0===D?void 0:D.decimalSeparator)||{en:","},catalogNavigationMode:(null===D||void 0===D?void 0:D.catalogNavigationMode)||"List",hiddenAttributes:(null===D||void 0===D||null===(a=D.extras)||void 0===a?void 0:a.find((function(e){return"HiddenAttributes"===e.key})))?JSON.parse(D.extras.find((function(e){return"HiddenAttributes"===e.key})).value):[],pageSize:(null===D||void 0===D||null===(r=D.extras)||void 0===r?void 0:r.find((function(e){return"PageSize"===e.key})))?JSON.parse(D.extras.find((function(e){return"PageSize"===e.key})).value):"",restDataResponseXml:!(null===D||void 0===D||null===(l=D.extras)||void 0===l?void 0:l.find((function(e){return"RestDataResponseXml"===e.key})))||"false"!==D.extras.find((function(e){return"RestDataResponseXml"===e.key})).value&&"true"!==D.extras.find((function(e){return"RestDataResponseXml"===e.key})).value?"":D.extras.find((function(e){return"RestDataResponseXml"===e.key})).value,downloadFormats:(null===D||void 0===D||null===(s=D.extras)||void 0===s?void 0:s.find((function(e){return"DownloadFormats"===e.key})))?JSON.parse(D.extras.find((function(e){return"DownloadFormats"===e.key})).value):[],supportPostFilters:!(!(null===D||void 0===D||null===(c=D.extras)||void 0===c?void 0:c.find((function(e){return"SupportPostFilters"===e.key})))||"false"!==D.extras.find((function(e){return"SupportPostFilters"===e.key})).value&&"true"!==D.extras.find((function(e){return"SupportPostFilters"===e.key})).value)&&JSON.parse(D.extras.find((function(e){return"SupportPostFilters"===e.key})).value),enableEndpointV20:!(!(null===D||void 0===D||null===(d=D.extras)||void 0===d?void 0:d.find((function(e){return"EnableEndPointV20"===e.key})))||"false"!==D.extras.find((function(e){return"EnableEndPointV20"===e.key})).value&&"true"!==D.extras.find((function(e){return"EnableEndPointV20"===e.key})).value)&&JSON.parse(D.extras.find((function(e){return"EnableEndPointV20"===e.key})).value),endpointV20:(null===D||void 0===D||null===(u=D.extras)||void 0===u?void 0:u.find((function(e){return"EndPointV20"===e.key})))&&D.extras.find((function(e){return"EndPointV20"===e.key})).value||""})}),q=H.register,W=H.errors,K=H.handleSubmit,Y=H.watch,J=H.setValue,$=Y("enableHttpAuth"),Q=Y("enableProxy"),Z=Y("enableEndpointV20");if(Object(i.useImperativeHandle)(t,(function(){return{submit:function(e){G(!0),K((function(t){var n,a,i,o,r,l,s,c,d=Object(B.a)(Object(B.a)(Object(B.a)({},D),t),{},{type:"SDMX-REST",annotationConfig:void 0,restDataResponseXml:void 0,optimizeCallWithSoap:void 0,namespaceV20:void 0,namespaceV21:void 0,hiddenAttributes:void 0,pageSize:void 0,downloadFormats:void 0,enableEndpointV20:void 0,endpointV20:void 0});(null===(n=d.extras)||void 0===n?void 0:n.find((function(e){return"AnnotationConfig"===e.key})))?d.extras.find((function(e){return"AnnotationConfig"===e.key})).value=JSON.stringify(t.annotationConfig):(d.extras=d.extras||[],d.extras.push({key:"AnnotationConfig",value:JSON.stringify(t.annotationConfig),isPublic:!1})),(null===(a=d.extras)||void 0===a?void 0:a.find((function(e){return"RestDataResponseXml"===e.key})))?d.extras.find((function(e){return"RestDataResponseXml"===e.key})).value=t.restDataResponseXml:(d.extras=d.extras||[],d.extras.push({key:"RestDataResponseXml",value:t.restDataResponseXml,isPublic:!1})),(null===(i=d.extras)||void 0===i?void 0:i.find((function(e){return"SupportPostFilters"===e.key})))?d.extras.find((function(e){return"SupportPostFilters"===e.key})).value=JSON.stringify(t.supportPostFilters):(d.extras=d.extras||[],d.extras.push({key:"SupportPostFilters",value:JSON.stringify(t.supportPostFilters),isPublic:!1})),(null===(o=d.extras)||void 0===o?void 0:o.find((function(e){return"HiddenAttributes"===e.key})))?d.extras.find((function(e){return"HiddenAttributes"===e.key})).value=JSON.stringify(t.hiddenAttributes):(d.extras=d.extras||[],d.extras.push({key:"HiddenAttributes",value:JSON.stringify(t.hiddenAttributes),isPublic:!0})),(null===(r=d.extras)||void 0===r?void 0:r.find((function(e){return"PageSize"===e.key})))?d.extras.find((function(e){return"PageSize"===e.key})).value=JSON.stringify(t.pageSize):(d.extras=d.extras||[],d.extras.push({key:"PageSize",value:JSON.stringify(t.pageSize),isPublic:!0})),(null===(l=d.extras)||void 0===l?void 0:l.find((function(e){return"DownloadFormats"===e.key})))?d.extras.find((function(e){return"DownloadFormats"===e.key})).value=JSON.stringify(t.downloadFormats):(d.extras=d.extras||[],d.extras.push({key:"DownloadFormats",value:JSON.stringify(t.downloadFormats),isPublic:!0})),(null===(s=d.extras)||void 0===s?void 0:s.find((function(e){return"EnableEndPointV20"===e.key})))?d.extras.find((function(e){return"EnableEndPointV20"===e.key})).value=JSON.stringify(t.enableEndpointV20):(d.extras=d.extras||[],d.extras.push({key:"EnableEndPointV20",value:JSON.stringify(t.enableEndpointV20),isPublic:!1})),(null===(c=d.extras)||void 0===c?void 0:c.find((function(e){return"EndPointV20"===e.key})))?d.extras.find((function(e){return"EndPointV20"===e.key})).value=t.endpointV20:(d.extras=d.extras||[],d.extras.push({key:"EndPointV20",value:t.endpointV20||"",isPublic:!1})),M(d),e(d)}))()},cancel:function(e){R(),e()}}})),Object(i.useEffect)((function(){q({name:"code"},{required:U("commons.validation.required")}),q({name:"title"},{validate:function(e){return Re(e)||U("commons.validation.requiredAnyLanguage")}}),q({name:"agency"},{required:U("commons.validation.required")}),q({name:"active"}),q({name:"default"}),q({name:"slogan"}),q({name:"backgroundMediaURL"}),q({name:"logo"}),q({name:"description"}),q({name:"criteriaSelectionMode"},{required:U("commons.validation.required")}),q({name:"endPoint"},{required:U("commons.validation.required")}),q({name:"supportPostFilters"}),q({name:"enableEndpointV20"}),q({name:"enableHttpAuth"}),q({name:"enableProxy"}),q({name:"annotationConfig.ORDER"}),q({name:"annotationConfig.ORDER_CATEGORY"}),q({name:"annotationConfig.ORDER_CODELIST"}),q({name:"annotationConfig.NOT_DISPLAYED"}),q({name:"annotationConfig.DEFAULT"}),q({name:"annotationConfig.LAYOUT_ROW"}),q({name:"annotationConfig.LAYOUT_COLUMN"}),q({name:"annotationConfig.LAYOUT_FILTER"}),q({name:"annotationConfig.LAYOUT_ROW_SECTION"}),q({name:"annotationConfig.LAYOUT_CHART_PRIMARY_DIM"}),q({name:"annotationConfig.LAYOUT_CHART_SECONDARY_DIM"}),q({name:"annotationConfig.LAYOUT_CHART_FILTER"}),q({name:"annotationConfig.CRITERIA_SELECTION"}),q({name:"annotationConfig.ATTACHED_DATA_FILES"}),q({name:"annotationConfig.LAYOUT_DECIMAL_SEPARATOR"}),q({name:"annotationConfig.LAYOUT_NUMBER_OF_DECIMALS"}),q({name:"annotationConfig.LAYOUT_EMPTY_CELL_PLACEHOLDER"}),q({name:"annotationConfig.DATAFLOW_NOTES"}),q({name:"annotationConfig.DATAFLOW_SOURCE"}),q({name:"annotationConfig.METADATA_URL"}),q({name:"annotationConfig.KEYWORDS"}),q({name:"annotationConfig.DEFAULT_VIEW"}),q({name:"annotationConfig.GEO_ID"}),q({name:"annotationConfig.LAST_UPDATE"}),q({name:"annotationConfig.VIRTUAL_DATAFLOW_NODE"}),q({name:"annotationConfig.DATAFLOW_CATALOG_TYPE"}),q({name:"ttlCatalog"},{validate:function(e){return!e||e>0||U("commons.validation.positiveInteger")}}),q({name:"ttlDataflow"},{validate:function(e){return!e||e>0||U("commons.validation.positiveInteger")}}),q({name:"showDataflowUncategorized"}),q({name:"showDataflowNotInProduction"}),q({name:"showCategoryLevels"},{required:U("commons.validation.required")}),q({name:"decimalNumber"},{required:U("commons.validation.required"),validate:function(e){return!e||e>0||U("commons.validation.positiveInteger")}}),q({name:"decimalSeparator"},{validate:function(e){return Re(e)||U("commons.validation.requiredAnyLanguage")}}),q({name:"labelDimensionTerritorials"}),q({name:"labelDimensionTemporals"}),q({name:"categorySchemaExcludes"}),q({name:"catalogNavigationMode"},{required:U("commons.validation.required")}),q({name:"hiddenAttributes"}),q({name:"pageSize"},{validate:function(e){return!e||e>0||U("commons.validation.positiveInteger")}}),q({name:"restDataResponseXml"},{required:U("commons.validation.required")}),q({name:"downloadFormats"})}),[q,U]),Object(i.useEffect)((function(){$&&(q({name:"authHttpUsername"},{required:U("commons.validation.required")}),q({name:"authHttpPassword"}),q({name:"authHttpDomain"}))}),[q,$,U]),Object(i.useEffect)((function(){Q&&(q({name:"proxyAddress"},{required:U("commons.validation.required")}),q({name:"proxyPort"},{required:U("commons.validation.required"),validate:function(e){return Ln.a.isPort(e)||U("scenes.nodeSettings.fields.proxyPort.validation")}}),q({name:"proxyUsername"}),q({name:"proxyPassword"}))}),[q,Q,U]),Object(i.useEffect)((function(){Z&&q({name:"endpointV20"},{required:U("commons.validation.required")})}),[Z,q,U]),Object.keys(W).length>0&&N){G(!1);var X=Object.keys(W)[0];"code"===X||"agency"===X||"title"===X||"slogan"===X?"general"!==z&&V("general"):"showCategoryLevels"===X||"decimalNumber"===X||"decimalSeparator"===X||"labelDimensionTerritorials"===X||"labelDimensionTemporals"===X||"categorySchemaExcludes"===X||"catalogNavigationMode"===X||"hiddenAttributes"===X||"pageSize"===X||"downloadFormats"===X?"view"!==z&&V("view"):X&&"endpoint"!==z&&V("endpoint")}return o.a.createElement(h.a,{className:P.root},o.a.createElement(wt.a,{value:z,onChange:function(e,t){return V(t)}},o.a.createElement(At.a,{value:"general",label:U("scenes.nodeSettings.tabs.general.label")}),o.a.createElement(At.a,{value:"infos",label:U("scenes.nodeSettings.tabs.information.label")}),o.a.createElement(At.a,{value:"endpoint",label:U("scenes.nodeSettings.tabs.endpoint.label")}),o.a.createElement(At.a,{value:"annotations",label:U("scenes.nodeSettings.tabs.annotations.label")}),o.a.createElement(At.a,{value:"view",label:U("scenes.nodeSettings.tabs.view.label")}),o.a.createElement(At.a,{value:"cache",label:U("scenes.nodeSettings.tabs.cache.label")})),o.a.createElement("div",{className:P.tabContent},o.a.createElement(h.a,{style:"general"!==z?{display:"none"}:void 0},o.a.createElement(i.Fragment,null,o.a.createElement(b.a,{container:!0,spacing:3},o.a.createElement(b.a,{item:!0,xs:3},o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{disabled:!!D,name:"code",variant:"outlined",label:o.a.createElement(ha,{tooltip:U("scenes.nodeSettings.fields.code.tooltip")},U("scenes.nodeSettings.fields.code.label")),required:!0,error:!!W.code,helperText:null===(m=W.code)||void 0===m?void 0:m.message,value:Y("code")||"",onChange:function(e){var t=e.target;return J("code",(t.value||"").toUpperCase())},inputProps:{style:{textTransform:"uppercase"}}}))),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(yn,{name:"title",label:U("scenes.nodeSettings.fields.title.label"),required:!0,error:!!W.title,helperText:null===(f=W.title)||void 0===f?void 0:f.message,variant:"outlined",value:Y("title")||{},onChange:function(e){return J("title",e)}}))),o.a.createElement(b.a,{item:!0,xs:3},o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"agency",label:U("scenes.nodeSettings.fields.agency.label"),required:!0,error:!!W.agency,helperText:null===(g=W.agency)||void 0===g?void 0:g.message,variant:"outlined",value:Y("agency")||"",onChange:function(e){var t=e.target;return J("agency",t.value)}})))),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(_e.a,{label:o.a.createElement(ha,{tooltip:U("scenes.nodeSettings.fields.active.tooltip"),tooltipOnRight:!0},U("scenes.nodeSettings.fields.active.label")),control:o.a.createElement(ke.a,{name:"active",required:!0,checked:Y("active"),onChange:function(e,t){return J("active",t)}})})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(_e.a,{label:U("scenes.nodeSettings.fields.default.label"),control:o.a.createElement(ke.a,{name:"default",required:!0,checked:Y("default"),onChange:function(e,t){return J("default",t)}})})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(yn,{name:"slogan",label:U("scenes.nodeSettings.fields.slogan.label"),variant:"outlined",value:Y("slogan")||{},onChange:function(e){return J("slogan",e)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(Dt,{label:U("scenes.nodeSettings.fields.backgroundMediaURL.label"),value:Y("backgroundMediaURL"),onChange:function(e){return J("backgroundMediaURL",e)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(Dt,{label:U("scenes.nodeSettings.fields.logo.label"),value:Y("logo"),onChange:function(e){return J("logo",e)}})))),o.a.createElement(h.a,{style:"infos"!==z?{display:"none"}:void 0},o.a.createElement(xn,{value:Y("description"),onChange:function(e){return J("description",e)}})),o.a.createElement(h.a,{style:"endpoint"!==z?{display:"none"}:void 0},o.a.createElement(In.a,{variant:"outlined",className:P.paper},o.a.createElement(b.a,{container:!0,spacing:3},o.a.createElement(b.a,{item:!0,sm:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"type",select:!0,label:U("scenes.nodeSettings.fields.type.label"),value:"SDMX-REST",variant:"outlined"},o.a.createElement(xe.a,{value:"SDMX-REST"},"SDMX-REST")))),o.a.createElement(b.a,{item:!0,sm:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"criteriaSelectionMode",select:!0,label:o.a.createElement(ha,{tooltip:U("scenes.nodeSettings.fields.criteriaSelectionMode.tooltip")},U("scenes.nodeSettings.fields.criteriaSelectionMode.label")),variant:"outlined",onChange:function(e){return J("criteriaSelectionMode",e.target.value)},value:Y("criteriaSelectionMode")||"",helperText:null===(p=W.criteriaSelectionMode)||void 0===p?void 0:p.message,error:!!W.criteriaSelectionMode},o.a.createElement(xe.a,{value:"FullAll"},"ALL_FULL"),o.a.createElement(xe.a,{value:"PartialAll"},"ALL_PARTIAL"),o.a.createElement(xe.a,{value:"FullStep"},"STEP_BY_STEP_FULL"),o.a.createElement(xe.a,{value:"PartialStep"},"STEP_BY_STEP_PARTIAL"),o.a.createElement(xe.a,{value:"Dynamic"},"STEP_BY_STEP_DYNAMIC")))))),o.a.createElement(In.a,{variant:"outlined",className:P.paper},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"endPoint",label:U("scenes.nodeSettings.fields.endPoint.label"),required:!0,error:!!W.endPoint,helperText:null===(v=W.endPoint)||void 0===v?void 0:v.message,variant:"outlined",value:Y("endPoint")||"",onChange:function(e){var t=e.target;return J("endPoint",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{select:!0,label:U("scenes.nodeSettings.fields.responseFormat.label"),value:Y("restDataResponseXml")||"",required:!0,variant:"outlined",error:!!W.restDataResponseXml,helperText:null===(k=W.restDataResponseXml)||void 0===k?void 0:k.message,onChange:function(e){var t=e.target;return J("restDataResponseXml",t.value)}},o.a.createElement(xe.a,{value:"true"},"XML"),o.a.createElement(xe.a,{value:"false"},"JSON"))),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(_e.a,{label:U("scenes.nodeSettings.fields.supportPostFilters.label"),control:o.a.createElement(ke.a,{name:"supportPostFilters",required:!0,checked:Y("supportPostFilters")||!1,onChange:function(e,t){return J("supportPostFilters",t)}})})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(_e.a,{label:o.a.createElement(ha,{tooltip:U("scenes.nodeSettings.fields.enableEndpointV20.tooltip")},U("scenes.nodeSettings.fields.enableEndpointV20.label")),control:o.a.createElement(ke.a,{name:"enableEndpointV20",required:!0,checked:Z,onChange:function(e,t){return J("enableEndpointV20",t)}})})),Z&&o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"endpointV20",label:U("scenes.nodeSettings.fields.endpointV20.label"),required:!0,error:!!W.endpointV20,helperText:null===(C=W.endpointV20)||void 0===C?void 0:C.message,variant:"outlined",value:Y("endpointV20")||"",onChange:function(e){var t=e.target;return J("endpointV20",t.value)}}))),o.a.createElement(In.a,{variant:"outlined",className:P.paper},o.a.createElement(b.a,{container:!0,spacing:3},o.a.createElement(b.a,{item:!0,sm:4},o.a.createElement(_e.a,{label:U("scenes.nodeSettings.fields.enableHttpAuth.label"),control:o.a.createElement(ke.a,{name:"enableHttpAuth",checked:$||!1,onChange:function(e,t){return J("enableHttpAuth",t)}})})),$&&o.a.createElement(i.Fragment,null,o.a.createElement(b.a,{item:!0,sm:4},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"authHttpUsername",label:U("scenes.nodeSettings.fields.authHttpUsername.label"),required:!0,error:!!W.authHttpUsername,helperText:null===(y=W.authHttpUsername)||void 0===y?void 0:y.message,variant:"outlined",value:Y("authHttpUsername")||"",onChange:function(e){var t=e.target;return J("authHttpUsername",t.value)}}))),o.a.createElement(b.a,{item:!0,sm:4},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"authHttpPassword",label:U("scenes.nodeSettings.fields.authHttpPassword.label"),type:"password",variant:"outlined",value:Y("authHttpPassword")||"",onChange:function(e){var t=e.target;return J("authHttpPassword",t.value)}}))),o.a.createElement(b.a,{item:!0,sm:4}),o.a.createElement(b.a,{item:!0,sm:4},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"authHttpDomain",label:U("scenes.nodeSettings.fields.authHttpDomain.label"),variant:"outlined",value:Y("authHttpDomain")||"",onChange:function(e){var t=e.target;return J("authHttpDomain",t.value)}})))))),o.a.createElement(In.a,{variant:"outlined",className:P.paper},o.a.createElement(b.a,{container:!0,spacing:3},o.a.createElement(b.a,{item:!0,sm:4},o.a.createElement(_e.a,{label:U("scenes.nodeSettings.fields.enableProxy.label"),control:o.a.createElement(ke.a,{name:"enableProxy",checked:Q||!1,onChange:function(e,t){return J("enableProxy",t)}})})),Q&&o.a.createElement(i.Fragment,null,o.a.createElement(b.a,{item:!0,sm:4},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"proxyAddress",label:U("scenes.nodeSettings.fields.proxyAddress.label"),required:!0,error:!!W.proxyAddress,helperText:null===(w=W.proxyAddress)||void 0===w?void 0:w.message,variant:"outlined",value:Y("proxyAddress")||"",onChange:function(e){var t=e.target;return J("proxyAddress",t.value)}}))),o.a.createElement(b.a,{item:!0,sm:4},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"proxyPort",label:U("scenes.nodeSettings.fields.proxyPort.label"),required:!0,error:!!W.proxyPort,helperText:null===(A=W.proxyPort)||void 0===A?void 0:A.message,variant:"outlined",value:Y("proxyPort")||"",onChange:function(e){var t=e.target;return J("proxyPort",t.value)}}))),o.a.createElement(b.a,{item:!0,sm:4}),o.a.createElement(b.a,{item:!0,sm:4},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"proxyUsername",label:U("scenes.nodeSettings.fields.proxyUsername.label"),variant:"outlined",value:Y("proxyUsername")||"",onChange:function(e){var t=e.target;return J("proxyUsername",t.value)}}))),o.a.createElement(b.a,{item:!0,sm:4},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"proxyPassword",label:U("scenes.nodeSettings.fields.proxyPassword.label"),type:"password",variant:"outlined",value:Y("proxyPassword")||"",onChange:function(e){return J("proxyPassword",e.target.value)}}))))))),o.a.createElement(h.a,{style:"annotations"!==z?{display:"none"}:void 0},o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.ORDER",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.ORDER.label")),variant:"outlined",value:Y("annotationConfig.ORDER")||"",onChange:function(e){var t=e.target;return J("annotationConfig.ORDER",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.ORDER_CATEGORY",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.ORDER_CATEGORY.label")),variant:"outlined",value:Y("annotationConfig.ORDER_CATEGORY")||"",onChange:function(e){var t=e.target;return J("annotationConfig.ORDER_CATEGORY",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.ORDER_CODELIST",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.ORDER_CODELIST.label")),variant:"outlined",value:Y("annotationConfig.ORDER_CODELIST")||"",onChange:function(e){var t=e.target;return J("annotationConfig.ORDER_CODELIST",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.NOT_DISPLAYED",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.NOT_DISPLAYED.label")),variant:"outlined",value:Y("annotationConfig.NOT_DISPLAYED")||"",onChange:function(e){var t=e.target;return J("annotationConfig.NOT_DISPLAYED",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.DEFAULT",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.DEFAULT.label")),variant:"outlined",value:Y("annotationConfig.DEFAULT")||"",onChange:function(e){var t=e.target;return J("annotationConfig.DEFAULT",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.LAYOUT_ROW",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.LAYOUT_ROW.label")),variant:"outlined",value:Y("annotationConfig.LAYOUT_ROW")||"",onChange:function(e){var t=e.target;return J("annotationConfig.LAYOUT_ROW",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.LAYOUT_COLUMN",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.LAYOUT_COLUMN.label")),variant:"outlined",value:Y("annotationConfig.LAYOUT_COLUMN")||"",onChange:function(e){var t=e.target;return J("annotationConfig.LAYOUT_COLUMN",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.LAYOUT_FILTER",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.LAYOUT_FILTER.label")),variant:"outlined",value:Y("annotationConfig.LAYOUT_FILTER")||"",onChange:function(e){var t=e.target;return J("annotationConfig.LAYOUT_FILTER",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.LAYOUT_ROW_SECTION",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.LAYOUT_ROW_SECTION.label")),variant:"outlined",value:Y("annotationConfig.LAYOUT_ROW_SECTION")||"",onChange:function(e){var t=e.target;return J("annotationConfig.LAYOUT_ROW_SECTION",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.LAYOUT_CHART_PRIMARY_DIM",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.LAYOUT_CHART_PRIMARY_DIM.label")),variant:"outlined",value:Y("annotationConfig.LAYOUT_CHART_PRIMARY_DIM")||"",onChange:function(e){var t=e.target;return J("annotationConfig.LAYOUT_CHART_PRIMARY_DIM",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.LAYOUT_CHART_SECONDARY_DIM",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.LAYOUT_CHART_SECONDARY_DIM.label")),variant:"outlined",value:Y("annotationConfig.LAYOUT_CHART_SECONDARY_DIM")||"",onChange:function(e){var t=e.target;return J("annotationConfig.LAYOUT_CHART_SECONDARY_DIM",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.LAYOUT_CHART_FILTER",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.LAYOUT_CHART_FILTER.label")),variant:"outlined",value:Y("annotationConfig.LAYOUT_CHART_FILTER")||"",onChange:function(e){var t=e.target;return J("annotationConfig.LAYOUT_CHART_FILTER",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.CRITERIA_SELECTION",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.CRITERIA_SELECTION.label")),variant:"outlined",value:Y("annotationConfig.CRITERIA_SELECTION")||"",onChange:function(e){var t=e.target;return J("annotationConfig.CRITERIA_SELECTION",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.ATTACHED_DATA_FILES",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.ATTACHED_DATA_FILES.label")),variant:"outlined",value:Y("annotationConfig.ATTACHED_DATA_FILES")||"",onChange:function(e){var t=e.target;return J("annotationConfig.ATTACHED_DATA_FILES",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.LAYOUT_DECIMAL_SEPARATOR",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.LAYOUT_DECIMAL_SEPARATOR.label")),variant:"outlined",value:Y("annotationConfig.LAYOUT_DECIMAL_SEPARATOR")||"",onChange:function(e){var t=e.target;return J("annotationConfig.LAYOUT_DECIMAL_SEPARATOR",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.LAYOUT_NUMBER_OF_DECIMALS",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.LAYOUT_NUMBER_OF_DECIMALS.label")),variant:"outlined",value:Y("annotationConfig.LAYOUT_NUMBER_OF_DECIMALS")||"",onChange:function(e){var t=e.target;return J("annotationConfig.LAYOUT_NUMBER_OF_DECIMALS",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.LAYOUT_EMPTY_CELL_PLACEHOLDER",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.LAYOUT_EMPTY_CELL_PLACEHOLDER.label")),variant:"outlined",value:Y("annotationConfig.LAYOUT_EMPTY_CELL_PLACEHOLDER")||"",onChange:function(e){var t=e.target;return J("annotationConfig.LAYOUT_EMPTY_CELL_PLACEHOLDER",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.DATAFLOW_NOTES",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.DATAFLOW_NOTES.label")),variant:"outlined",value:Y("annotationConfig.DATAFLOW_NOTES")||"",onChange:function(e){var t=e.target;return J("annotationConfig.DATAFLOW_NOTES",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.DATAFLOW_SOURCE",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.DATAFLOW_SOURCE.label")),variant:"outlined",value:Y("annotationConfig.DATAFLOW_SOURCE")||"",onChange:function(e){var t=e.target;return J("annotationConfig.DATAFLOW_SOURCE",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.METADATA_URL",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.METADATA_URL.label")),variant:"outlined",value:Y("annotationConfig.METADATA_URL")||"",onChange:function(e){var t=e.target;return J("annotationConfig.METADATA_URL",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.KEYWORDS",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.KEYWORDS.label")),variant:"outlined",value:Y("annotationConfig.KEYWORDS")||"",onChange:function(e){var t=e.target;return J("annotationConfig.KEYWORDS",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.DEFAULT_VIEW",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.DEFAULT_VIEW.label")),variant:"outlined",value:Y("annotationConfig.DEFAULT_VIEW")||"",onChange:function(e){var t=e.target;return J("annotationConfig.DEFAULT_VIEW",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.GEO_ID",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.GEO_ID.label")),variant:"outlined",value:Y("annotationConfig.GEO_ID")||"",onChange:function(e){var t=e.target;return J("annotationConfig.GEO_ID",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.LAST_UPDATE",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.LAST_UPDATE.label")),variant:"outlined",value:Y("annotationConfig.LAST_UPDATE")||"",onChange:function(e){var t=e.target;return J("annotationConfig.LAST_UPDATE",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.VIRTUAL_DATAFLOW_NODE",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.VIRTUAL_DATAFLOW_NODE.label")),variant:"outlined",value:Y("annotationConfig.VIRTUAL_DATAFLOW_NODE")||"",onChange:function(e){var t=e.target;return J("annotationConfig.VIRTUAL_DATAFLOW_NODE",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"annotationConfig.DATAFLOW_CATALOG_TYPE",label:o.a.createElement(ha,null,U("scenes.nodeSettings.fields.annotations.DATAFLOW_CATALOG_TYPE.label")),variant:"outlined",value:Y("annotationConfig.DATAFLOW_CATALOG_TYPE")||"",onChange:function(e){var t=e.target;return J("annotationConfig.DATAFLOW_CATALOG_TYPE",t.value)}}))),o.a.createElement(h.a,{style:"cache"!==z?{display:"none"}:void 0},o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"ttlCatalog",variant:"outlined",helperText:null===(_=W.ttlCatalog)||void 0===_?void 0:_.message,label:o.a.createElement(ha,{tooltip:U("scenes.nodeSettings.fields.catalogCacheValidity.tooltip")},U("scenes.nodeSettings.fields.catalogCacheValidity.label")),error:!!W.ttlCatalog,value:Y("ttlCatalog")||"",onChange:function(e){var t=e.target;return J("ttlCatalog",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"ttlDataflow",variant:"outlined",helperText:null===(S=W.ttlDataflow)||void 0===S?void 0:S.message,label:o.a.createElement(ha,{tooltip:U("scenes.nodeSettings.fields.dataflowCacheValidity.tooltip")},U("scenes.nodeSettings.fields.dataflowCacheValidity.label")),error:!!W.ttlDataflow,value:Y("ttlDataflow")||"",onChange:function(e){var t=e.target;return J("ttlDataflow",t.value)}}))),o.a.createElement(h.a,{style:"view"!==z?{display:"none"}:void 0},o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(_e.a,{label:U("scenes.nodeSettings.fields.showDataflowUncategorized.label"),control:o.a.createElement(ke.a,{name:"showDataflowUncategorized",required:!0,checked:Y("showDataflowUncategorized")||!1,onChange:function(e,t){return J("showDataflowUncategorized",t)}})})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(_e.a,{label:U("scenes.nodeSettings.fields.showDataflowNotInProduction.label"),control:o.a.createElement(ke.a,{name:"showDataflowNotInProduction",required:!0,checked:Y("showDataflowNotInProduction")||!1,onChange:function(e,t){return J("showDataflowNotInProduction",t)}})})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"showCategoryLevels",select:!0,required:!0,label:U("scenes.nodeSettings.fields.showCategoryLevels.label"),onChange:function(e){return J("showCategoryLevels",e.target.value)},value:Y("showCategoryLevels")||"",error:!!W.showCategoryLevels,helperText:null===(E=W.showCategoryLevels)||void 0===E?void 0:E.message,variant:"outlined"},o.a.createElement(xe.a,{value:1},"1"),o.a.createElement(xe.a,{value:5},"5"))),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{name:"decimalNumber",label:U("scenes.nodeSettings.fields.decimalNumber.label"),variant:"outlined",required:!0,type:"number",error:!!W.decimalNumber,helperText:null===(O=W.decimalNumber)||void 0===O?void 0:O.message,value:Y("decimalNumber")||"",onChange:function(e){var t=e.target;return J("decimalNumber",t.value)}})),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(yn,{name:"decimalSeparator",select:!0,required:!0,label:U("scenes.nodeSettings.fields.decimalSeparator.label"),onChange:function(e){return J("decimalSeparator",e)},value:Y("decimalSeparator")||"",helper:U("scenes.nodeSettings.fields.decimalSeparator.helper"),error:!!W.decimalSeparator,helperText:null===(T=W.decimalSeparator)||void 0===T?void 0:T.message,variant:"outlined"},o.a.createElement(xe.a,{value:"."},"Dot"),o.a.createElement(xe.a,{value:","},"Comma"))),o.a.createElement(Pn.a,{multiple:!0,variant:"outlined",freeSolo:!0,options:[],value:Y("labelDimensionTerritorials")||[],renderTags:function(e,t){return e.map((function(e,n){return o.a.createElement(Dn.a,Object.assign({variant:"outlined",label:e},t({index:n})))}))},onChange:function(e,t){return J("labelDimensionTerritorials",t)},renderInput:function(e){return o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,Object.assign({label:U("scenes.nodeSettings.fields.labelDimensionTerritorials.label")},e,{variant:"outlined",placeholder:U("scenes.nodeSettings.fields.labelDimensionTerritorials.placeholder")})))}}),o.a.createElement(Pn.a,{multiple:!0,variant:"outlined",freeSolo:!0,options:[],value:Y("labelDimensionTemporals")||[],renderTags:function(e,t){return e.map((function(e,n){return o.a.createElement(Dn.a,Object.assign({variant:"outlined",label:e},t({index:n})))}))},onChange:function(e,t){return J("labelDimensionTemporals",t)},renderInput:function(e){return o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,Object.assign({label:U("scenes.nodeSettings.fields.labelDimensionTemporals.label")},e,{variant:"outlined",placeholder:U("scenes.nodeSettings.fields.labelDimensionTemporals.placeholder")})))}}),o.a.createElement(Pn.a,{multiple:!0,variant:"outlined",freeSolo:!0,options:[],value:Y("categorySchemaExcludes")||[],renderTags:function(e,t){return e.map((function(e,n){return o.a.createElement(Dn.a,Object.assign({variant:"outlined",label:e},t({index:n})))}))},onChange:function(e,t){return J("categorySchemaExcludes",t)},renderInput:function(e){return o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,Object.assign({label:U("scenes.nodeSettings.fields.categorySchemaExcludes.label")},e,{variant:"outlined",placeholder:U("scenes.nodeSettings.fields.categorySchemaExcludes.placeholder")})))}}),o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,{select:!0,label:U("scenes.nodeSettings.fields.catalogNavigationMode.label"),onChange:function(e){return J("catalogNavigationMode",e.target.value)},value:Y("catalogNavigationMode")||"",required:!0,variant:"outlined",error:!!W.catalogNavigationMode,helperText:null===(x=W.catalogNavigationMode)||void 0===x?void 0:x.message},o.a.createElement(xe.a,{value:"Card"},U("scenes.nodeSettings.fields.catalogNavigationMode.values.card")),o.a.createElement(xe.a,{value:"List"},U("scenes.nodeSettings.fields.catalogNavigationMode.values.list")))),o.a.createElement(Pn.a,{multiple:!0,variant:"outlined",freeSolo:!0,options:[],value:Y("hiddenAttributes")||[],renderTags:function(e,t){return e.map((function(e,n){return o.a.createElement(Dn.a,Object.assign({variant:"outlined",label:e},t({index:n})))}))},onChange:function(e,t){return J("hiddenAttributes",t)},renderInput:function(e){return o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,Object.assign({label:U("scenes.nodeSettings.fields.hiddenAttributes.label")},e,{variant:"outlined",placeholder:U("scenes.nodeSettings.fields.hiddenAttributes.placeholder")})))}}),o.a.createElement(Pn.a,{multiple:!0,variant:"outlined",options:Object.keys(fa(U)),getOptionLabel:function(e){return fa(U)[e].label},value:Y("downloadFormats")||[],renderTags:function(e,t){return e.map((function(e,n){return o.a.createElement(Dn.a,Object.assign({variant:"outlined",label:fa(U)[e].label},t({index:n})))}))},onChange:function(e,t){return J("downloadFormats",t)},renderInput:function(e){return o.a.createElement(se.a,{fullWidth:!0,className:P.field},o.a.createElement(le.a,Object.assign({label:U("scenes.nodeSettings.fields.downloadFormats.label")},e,{variant:"outlined",placeholder:U("scenes.nodeSettings.fields.downloadFormats.placeholder")})))}}))))})),ka=Object(he.d)(Object(H.b)((function(e){return{config:e.nodesConfig.node}}),(function(e){return{fetchConfig:function(t){return e(function(e){return $("nodesConfig/fetchNode",function(e){return"nodes/".concat(e,"/config")}(e),void 0,void 0,(function(e){return{onStart:e("scenes.nodesSettings.messages.fetchNode.start")}}))}(t))},sendConfigCreate:function(t){return e((n=t,$("nodesConfig/createNode","nodes",a.POST,n,(function(e){return{onStart:e("scenes.nodesSettings.messages.sendNodeCreate.start")}}))));var n},sendConfig:function(t){return e(function(e){return $("nodesConfig/editNode",(t=e.nodeId,"nodes/".concat(t)),a.PUT,e,(function(e){return{onStart:e("scenes.nodesSettings.messages.sendNodeEdit.start")}}),{nodeId:e.nodeId});var t}(t))},clearConfig:function(){return e({type:"nodesConfig/clearNode"})}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){var n=e.config,a=e.nodeId,r=e.fetchConfig,l=e.sendConfigCreate,s=e.sendConfig,c=e.clearConfig,d=Object(i.useState)(null!==a),u=Object(ne.a)(d,2),m=u[0],h=u[1];return Object(i.useEffect)((function(){m&&(h(!1),r(a))}),[n,m,h,r,a]),(null===a||n)&&o.a.createElement(ba,{config:null===a?void 0:n,ref:t,onSubmit:null===a?l:s,onCancel:c})})),Ca=n(103),ya=n.n(Ca),wa=n(298),Aa=n.n(wa),_a=function(e){return $("cache/fetch",function(e){return"DataflowCache/DataflowData/Nodes/".concat(e)}(e),void 0,void 0,(function(e){return{onStart:e("scenes.nodesSettings.cacheSettings.messages.fetchDataflowCache.start")}}))},Sa=n(443),Ea={Delete:Object(i.forwardRef)((function(e,t){return o.a.createElement(zt.a,Object.assign({},e,{ref:t}))})),Edit:Object(i.forwardRef)((function(e,t){return o.a.createElement(ya.a,Object.assign({},e,{ref:t}))})),Check:Object(i.forwardRef)((function(e,t){return o.a.createElement(Aa.a,Object.assign({},e,{ref:t}))})),Clear:Object(i.forwardRef)((function(e,t){return o.a.createElement(M.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(i.forwardRef)((function(e,t){return o.a.createElement(M.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(i.forwardRef)((function(e,t){return o.a.createElement(Nt.a,Object.assign({},e,{ref:t}))})),Search:Object(i.forwardRef)((function(e,t){return o.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),Add:Object(i.forwardRef)((function(e,t){return o.a.createElement(Rt.a,Object.assign({},e,{ref:t}))}))},Oa=function(e,t,n,a){var i="";return i+=e>0?e+"d ":"",i+=(t<10?" "+t:t)+"h ",i+=(n<10?" "+n:n)+"m ",0===e&&(i+=(a<10?" "+a:a)+"s"),i},Ta=Object(he.d)(Object(g.a)((function(e){return{root:{height:440},field:{marginTop:e.spacing(3)},paper:{marginTop:e.spacing(2),padding:e.spacing(3)},tabContent:{overflowY:"auto",overflowX:"hidden",height:"calc(100% - 56px)",marginTop:8,padding:"0 4px"},title:{fontSize:16}}})),Sa.a,Object(he.d)(Object(H.b)((function(e){return{config:e.cacheConfig}}),(function(e){return{fetchCache:function(t){return e(_a(t))},clearCache:function(){return e({type:"cache/clear"})},updateCache:function(t,n,i){return e(function(e,t,n){return $("cache/update",function(e,t){return"DataflowCache/DataflowData/".concat(t,"/Nodes/").concat(e)}(e,t),a.PUT,{ttl:n},(function(e){return{onStart:e("scenes.nodesSettings.cacheSettings.messages.updateDataflowCache.start")}}),{ttl:n,nodeId:e,cacheId:t})}(t,n,i))},createCache:function(t,n){return e(function(e,t){return $("cache/create",function(e){return"DataflowCache/DataflowData/Nodes/".concat(e)}(e),a.POST,t,(function(e){return{onStart:e("scenes.nodesSettings.cacheSettings.messages.createDataflowCache.start")}}),{oldData:t})}(t,n))},deleteFromCache:function(t,n){return e(function(e,t){return $("cache/delete",function(e,t){return"DataflowCache/Clear/".concat(t,"/Nodes/").concat(e)}(e,t),a.POST,{},(function(e){return{onStart:e("scenes.nodesSettings.cacheSettings.messages.deleteDataflowCache.start")}}),{nodeId:e,cacheId:t})}(t,n))},deleteAllFromCache:function(t){return e(function(e){return $("cache/deleteAll",function(e){return"DataflowCache/ClearAll/Nodes/".concat(e)}(e),a.POST,void 0,(function(e){return{onStart:e("scenes.nodesSettings.cacheSettings.messages.deleteAllDataflowCache.start")}}),{nodeId:e})}(t))},deleteCatalogCache:function(t){return e(function(e){return $("cache/deleteCatalog",function(e){return"MemoryCache/Clear/CatalogTree/Nodes/".concat(e)}(e),a.POST,void 0,(function(e){return{onStart:e("scenes.nodesSettings.cacheSettings.messages.deleteCatalogCache.start")}}),{nodeId:e})}(t))}}}),null,{forwardRef:!0}),i.forwardRef))((function(e,t){var n=e.classes,a=e.config,r=e.nodeId,l=e.fetchCache,s=e.createCache,c=e.updateCache,d=e.clearCache,u=e.deleteFromCache,m=e.deleteAllFromCache,f=e.deleteCatalogCache,g=Object(i.useState)(null!==r&&(!a||0===a.length)),p=Object(ne.a)(g,2),v=p[0],k=p[1],C=Object(i.useState)(!0),y=Object(ne.a)(C,2),w=y[0],A=y[1],_=Object(i.useState)(0),S=Object(ne.a)(_,2),O=S[0],T=S[1],x=Object(i.useState)(0),P=Object(ne.a)(x,2),D=P[0],M=P[1],R=Object(ue.a)().t;return Object(i.useEffect)((function(){if(!a||0===a.length)return M(0),void T(0);M(a.length),T(a.filter((function(e){return 0===(null===e||void 0===e?void 0:e.cacheSize)})).length)}),[a]),Object(i.useEffect)((function(){v&&(k(!1),l(r))}),[a,l,r,v,k]),Object(i.useImperativeHandle)(t,(function(){return{submit:function(e){e()},cancel:function(e){d(),e()}}})),o.a.createElement(b.a,{container:!0},o.a.createElement(b.a,{container:!0,spacing:2},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(In.a,{variant:"outlined",className:n.paper},o.a.createElement(b.a,{container:!0,spacing:2},o.a.createElement(b.a,{item:!0,xs:4},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(E.a,{container:!0,style:{marginRight:24},size:"large",variant:"contained",color:"primary",onClick:function(){return f(r)}},R("scenes.nodeSettings.cacheSettings.deleteCatalogCache")))))))),o.a.createElement(b.a,{container:!0,spacing:2},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(In.a,{variant:"outlined",className:n.paper},o.a.createElement(b.a,{container:!0,spacing:1},o.a.createElement(b.a,{item:!0,xs:4},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(E.a,{container:!0,style:{marginRight:24},size:"large",variant:"contained",color:"primary",onClick:function(){return m(r)}},R("scenes.nodeSettings.cacheSettings.deleteAllDataflowCache")))),o.a.createElement(b.a,{item:!0,xs:4}),o.a.createElement(b.a,{item:!0,xs:4}),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0,className:n.field},o.a.createElement(_e.a,{label:R("scenes.nodeSettings.cacheSettings.hideEmptyEntries"),control:o.a.createElement(ke.a,{name:"active",required:!0,disabled:0===O||0===D,checked:w,onChange:function(e,t){return A(t)}})})))),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(Ht,{components:{Container:h.a},icons:Ea,columns:[{title:R("scenes.nodeSettings.cacheSettings.table.dataflowTitle"),field:"title",editable:"never"},{title:R("scenes.nodeSettings.cacheSettings.table.dataflowValidity"),field:"ttl",type:"numeric",editable:"onUpdate",render:function(e){return function(e){if(!e)return"0 s";var t=Math.floor(e/86400),n=Math.floor((e-86400*t)/3600),a=Math.floor((e-86400*t-3600*n)/60),i=e-86400*t-3600*n-60*a;return i=Math.round(100*i)/100,Oa(t,n,a,i)}(e.ttl)}},{title:R("scenes.nodeSettings.cacheSettings.table.dataflowFiles"),field:"cachedDataflow",type:"numeric",editable:"never"},{title:R("scenes.nodeSettings.cacheSettings.table.dataflowSize"),field:"cacheSize",type:"numeric",editable:"never",render:function(e){return e.cacheSize+" Kb"}},{title:R("scenes.nodeSettings.cacheSettings.table.dataflowAccess"),field:"cachedDataAccess",type:"numeric",editable:"never"}],data:(null===a||void 0===a?void 0:a.filter((function(e){return!w||e.cacheSize>0})))||[],editable:{onRowUpdate:function(e,t){return new Promise((function(n,i){e.ttl<0?i():e.ttl!==t.ttl?(Object(Je.a)(a)[t.tableData.id]=e,e.id&&"00000000-0000-0000-0000-000000000000"!==e.id?c(r,e.id,e.ttl):s(r,e),n()):n()}))},onRowDelete:function(e){return new Promise((function(t,n){var i=Object(Je.a)(a),o=e.tableData.id;i.splice(o,1),e.id&&"00000000-0000-0000-0000-000000000000"!==e.id?(u(r,e.id),t()):t()}))}},options:{paging:!1,draggable:!0,actionsColumnIndex:-1,searchFieldAlignment:"left",showTitle:!1},localization:{body:{editRow:{deleteText:R("scenes.nodesSettings.cacheSettings.modals.deleteDataflowCache.title")},editTooltip:R("scenes.nodeSettings.cacheSettings.table.actions.editRow"),deleteTooltip:R("scenes.nodeSettings.cacheSettings.table.actions.deleteRow")}}}))))))})),xa=function(e){return $("nodeTemplatesConfig/fetch",function(e){return"nodes/".concat(e,"/templates")}(e),void 0,void 0,(function(e){return{onStart:e("scenes.nodesSettings.templatesSettings.fetchConfig.start")}}))},Pa={Search:Object(i.forwardRef)((function(e,t){return o.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(i.forwardRef)((function(e,t){return o.a.createElement(M.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(i.forwardRef)((function(e,t){return o.a.createElement(Nt.a,Object.assign({},e,{ref:t}))}))},Da=Object(he.d)(Object(g.a)((function(e){return{tableToolbar:{marginBottom:e.spacing(1)}}})),Object(H.b)((function(e){return{defaultLanguage:e.app.language,languages:e.app.languages,templates:e.nodeTemplatesConfig.templates}}),(function(e){return{fetchTemplates:function(t){return e(xa(t))},deleteTemplate:function(t,n){return e(function(e,t){return $("nodeTemplatesConfig/deleteTemplate",function(e,t){return"nodes/".concat(e,"/templates/").concat(t)}(e,t),a.DELETE,void 0,(function(e){return{onStart:e("scenes.nodesSettings.templatesSettings.deleteTemplate.start")}}),{nodeId:e})}(t,n))},clearTemplates:function(){return e({type:"nodeTemplatesConfig/clear"})}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){e.classes;var n=e.defaultLanguage,a=e.languages,r=e.nodes,l=e.nodeId,s=(e.defaultNodeOpen,e.templates),c=e.fetchTemplates,d=e.deleteTemplate,u=e.clearTemplates,m=e.onTemplatesClose,f=Object(i.useState)(!0),g=Object(ne.a)(f,2),p=g[0],v=g[1],b=Object(ue.a)().t;Object(i.useEffect)((function(){p&&(v(!1),c(l))}),[s,p,v,c,l]),Object(i.useImperativeHandle)(t,(function(){return{cancel:function(e){u(),e()}}}));var k=Object(i.useState)(null),C=Object(ne.a)(k,2),y=C[0],w=C[1];return s&&o.a.createElement(i.Fragment,null,o.a.createElement(Ht,{components:{Container:h.a},columns:[{field:"datasetId",title:b("scenes.nodeSettings.templatesSettings.table.columns.datasetId")},{field:"title",title:b("scenes.nodeSettings.templatesSettings.table.columns.templateName"),render:function(e){var t=e.title;return Ie(t,n,a)},customFilterAndSearch:Be(n,a)}],data:(s||[]).filter((function(e){var t=e.nodeId;return r.find((function(e){return e.nodeId===t}))})),actions:[{icon:we.a,tooltip:b("scenes.nodeSettings.templatesSettings.table.actions.viewData"),onClick:function(e,t){var n=t.nodeId,a=t.datasetId,i=r.find((function(e){return e.nodeId===n})).code.toLowerCase();return window.location.href.toLowerCase().includes(i)&&window.location.href.toLowerCase().includes(a.toLowerCase())?m():ot(i,[],a)}},{icon:zt.a,tooltip:b("scenes.nodeSettings.templatesSettings.table.actions.deleteTemplate"),onClick:function(e,t){var n=t.viewTemplateId;return w(n)}}],options:{paging:!1,draggable:!0,actionsColumnIndex:3,maxBodyHeight:400,showTitle:!1,searchFieldAlignment:"left"},icons:Pa}),o.a.createElement(ae.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:null!==y},o.a.createElement(oe.a,null," ",b("scenes.nodeSettings.templatesSettings.modals.deleteTemplate.title")),o.a.createElement(re.a,null,b("scenes.nodeSettings.templatesSettings.modals.deleteTemplate.content")),o.a.createElement(ie.a,null,o.a.createElement(E.a,{autoFocus:!0,onClick:function(){w(null)}},b("commons.confirm.cancel")),o.a.createElement(E.a,{onClick:function(){d(l,y),w(null)}},b("commons.confirm.confirm")))))})),Ma={Search:Object(i.forwardRef)((function(e,t){return o.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(i.forwardRef)((function(e,t){return o.a.createElement(M.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(i.forwardRef)((function(e,t){return o.a.createElement(Nt.a,Object.assign({},e,{ref:t}))}))},Ra=function(e){return{tableToolbar:{marginBottom:e.spacing(1)},buttonAction:Object(B.a)({},e.typography.button)}},Ia=["ManageCache","ManageTemplate","ManageConfig"],Ba=function(e){return{ManageCache:e("scenes.nodeSettings.permissions.table.columns.manageCache"),ManageTemplate:e("scenes.nodeSettings.permissions.table.columns.manageTemplate"),ManageConfig:e("scenes.nodeSettings.permissions.table.columns.manageConfig")}},La=Object(he.d)(Object(g.a)(Ra),i.forwardRef)((function(e,t){e.classes;var n=e.config,a=e.nodeId,r=e.onSubmit,l=e.onCancel,s=Object(ce.a)({defaultValues:{config:null===n||void 0===n?void 0:n.map((function(e,t){var i=Object(B.a)({},e);return Ia.forEach((function(e){i[e]=!0===n[t].permission.includes("".concat(e,"_SingleNode_").concat(a))})),i}))}}),c=s.register,d=s.handleSubmit,u=s.watch,m=s.setValue,f=Object(ue.a)().t;return Object(i.useEffect)((function(){n&&n.forEach((function(e,t){return Ia.forEach((function(e){return c({name:"config[".concat(t,"].").concat(e)})}))}))}),[c,n]),Object(i.useImperativeHandle)(t,(function(){return{submit:function(e){d((function(t){var i=t.config.map((function(e,t){var a={userId:n[t].userId,nodePermissions:[]};return Ia.forEach((function(t){!0===e[t]&&a.nodePermissions.push(t)})),a.tableData=void 0,a}));r(a,i),e(i)}))()},cancel:function(e){l(),e()}}})),n&&o.a.createElement(i.Fragment,null,o.a.createElement(Ht,{components:{Container:h.a},columns:[{field:"firstName",title:f("scenes.nodeSettings.permissions.table.columns.userFirstName")},{field:"lastName",title:f("scenes.nodeSettings.permissions.table.columns.userLastName")},{field:"organization",title:f("scenes.nodeSettings.permissions.table.columns.userOrganization")},{field:"email",title:f("scenes.nodeSettings.permissions.table.columns.userEmail")}].concat(Object(Je.a)(Ia.map((function(e){return{title:Ba(f)[e],render:function(t){var n=t.tableData;return o.a.createElement(b.a,{container:!0,justify:"center"},o.a.createElement(b.a,{item:!0},o.a.createElement(ke.a,{checked:u("config[".concat(n.id,"].").concat(e)),onChange:function(t,a){return m("config[".concat(n.id,"].").concat(e),a)}})))}}})))),data:n,options:{paging:!1,draggable:!0,searchFieldAlignment:"left",maxBodyHeight:400,showTitle:!1},icons:Ma}))})),za=Object(he.d)(Object(g.a)(Ra),Object(H.b)((function(e){return{config:e.nodePermissionsConfig.permissions}}),(function(e){return{fetchConfig:function(t){return e(function(e){return $("nodePermissionsConfig/fetch",function(e){return"Users/Permissions/Nodes/".concat(e)}(e),void 0,void 0,(function(e){return{onStart:e("scenes.nodesSettings.permissionsSettings.fetchConfig.start")}}))}(t))},sendConfig:function(t,n){return e(function(e,t){return $("nodePermissionsConfig/send",function(e){return"Users/Permissions/Nodes/".concat(e)}(e),a.PUT,t,(function(e){return{onStart:e("scenes.nodesSettings.permissionsSettings.sendConfig.start")}}))}(t,n))},clearConfig:function(){return e({type:"nodePermissionsConfig/clear"})}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){var n=e.config,a=e.nodeId,r=e.fetchConfig,l=e.sendConfig,s=e.clearConfig,c=Object(i.useState)(null!==a),d=Object(ne.a)(c,2),u=d[0],m=d[1];return Object(i.useEffect)((function(){u&&(m(!1),r(a))}),[n,u,m,r,a]),(null===a||n)&&o.a.createElement(La,{nodeId:a,config:null===a?void 0:n,ref:t,onSubmit:l,onCancel:s})})),Va=n(529),ja=n.n(Va),Fa=n(299),Na=n.n(Fa),Ga=Object(he.d)(Object(H.b)((function(e){return{config:e.hubConfig.hub,user:e.user,dashboards:e.nodesConfig.nodeDashboards,allDashboards:e.nodesConfig.allDashboards}}),(function(e){return{fetchDashboards:function(t){return e(Vn(t))},fetchAllDashboards:function(){return e($("nodesConfig/nodeDashboards/fetchAll","Dashboards",a.GET,null,(function(e){return{onStart:e("scenes.nodesSettings.messages.fetchAllDashboards.start")}})))},clearDashboards:function(){return e({type:"nodesConfig/nodeDashboards/clear"})},clearAllDashboards:function(){return e({type:"nodesConfig/nodeDashboards/clearAll"})},addDashboard:function(t,n){return e(function(e,t){return $("nodesConfig/nodeDashboards/addDashboard",function(e,t){return"Dashboards/".concat(t,"/Nodes/").concat(e)}(e,t),a.POST,null,(function(e){return{onStart:e("scenes.nodesSettings.messages.addNodeDashboard.start")}}),{nodeId:e})}(t,n))},removeDashboard:function(t,n){return e(function(e,t){return $("nodesConfig/nodeDashboards/removeDashboard",function(e,t){return"Dashboards/".concat(t,"/Nodes/").concat(e)}(e,t),a.DELETE,null,(function(e){return{onStart:e("scenes.nodesSettings.messages.removeNodeDashboard.start")}}),{nodeId:e})}(t,n))},sendDashboardsOrders:function(t,n){return e(function(e,t){return $("nodesConfig/nodeDashboards/sendOrders",function(e){return"Dashboards/Order/Nodes/".concat(e)}(e),a.POST,t,(function(e){return{onStart:e("scenes.nodesSettings.messages.sendNodeDashboardsOrders.start")}}),{nodeId:e})}(t,n))}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){var n=e.dashboards,a=e.allDashboards,i=e.fetchDashboards,r=e.fetchAllDashboards,l=e.clearDashboards,s=e.clearAllDashboards,c=e.addDashboard,d=e.removeDashboard,u=e.sendDashboardsOrders,m=e.nodeId;return o.a.createElement(Wt,{dashboards:n,allDashboards:a,fetchDashboards:function(){return i(m)},fetchAllDashboards:r,clearDashboards:l,clearAllDashboards:s,addDashboard:function(e){return c(m,e)},removeDashboard:function(e){return d(m,e)},sendDashboardsOrders:function(e){return u(m,e)},ref:t})})),Ua=(n(740),{Search:Object(i.forwardRef)((function(e,t){return o.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(i.forwardRef)((function(e,t){return o.a.createElement(M.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(i.forwardRef)((function(e,t){return o.a.createElement(Nt.a,Object.assign({},e,{ref:t}))}))}),Ha=Object(he.d)(Object(g.a)((function(e){return{tableToolbar:{marginBottom:e.spacing(1)},buttonAction:Object(B.a)({},e.typography.button)}})),Object(H.b)((function(e){return{config:e.nodesConfig.nodes,user:e.user,language:e.app.language,languages:e.app.languages}}),(function(e){return{fetchConfig:function(){return e(zn())},sendOrders:function(t){return e(function(e){return $("nodesConfig/sendNodesOrder","nodes/order",a.PUT,e,(function(e){return{onStart:e("scenes.nodesSettings.messages.sendNodesOrder.start")}}))}(t))},deleteNode:function(t){return e(function(e){return $("nodesConfig/deleteNode",ee(e),a.DELETE,void 0,(function(e){return{onStart:e("scenes.nodesSettings.messages.deleteNode.start")}}),{nodeId:e,onForce:function(){return $("nodesConfig/deleteNode",ee(e,!0),a.DELETE,void 0,(function(e){return{onStart:e("scenes.nodesSettings.messages.deleteNode.start")}}),{nodeId:e})}})}(t))},clearConfig:function(){return e({type:"nodesConfig/clearNodes"})},onClose:function(){return e({type:"nodesConfig/close"})}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){var n,a,r,l,s=e.classes,c=e.defaultNodeOpen,d=e.config,u=e.fetchConfig,m=e.sendOrders,f=e.deleteNode,g=e.clearConfig,p=(e.nodes,e.user),v=e.onClose,k=e.language,C=e.languages,y=e.onNodesClose,w=Object(i.useState)(!0),A=Object(ne.a)(w,2),_=A[0],S=A[1],O=Object(ue.a)().t;Object(i.useEffect)((function(){_&&(S(!1),u())}),[d,_,S,u]),Object(i.useImperativeHandle)(t,(function(){return{cancel:function(e){g(),v(),e()}}}));var T=Object(i.useState)(c||!1),x=Object(ne.a)(T,2),P=x[0],D=x[1],M=Object(i.useState)(null),R=Object(ne.a)(M,2),I=R[0],B=R[1],L=Object(i.useState)(null),z=Object(ne.a)(L,2),V=z[0],j=z[1],F=Object(i.useState)(null),N=Object(ne.a)(F,2),G=N[0],U=N[1],H=Object(i.useState)(!1),q=Object(ne.a)(H,2),W=q[0],K=q[1],$=Object(i.useState)(null),Q=Object(ne.a)($,2),Z=Q[0],X=Q[1],ee=Object(i.useState)(null),te=Object(ne.a)(ee,2),le=te[0],se=te[1],ce=Object(i.useState)(null),de=Object(ne.a)(ce,2),he=de[0],fe=de[1],ge=Object(i.useRef)(),pe=Object(i.useRef)(),ve=Object(i.useRef)(),be=Object(i.useRef)(),ke=Object(i.useRef)(),Ce=((d||[]).filter((function(e){var t=e.nodeId;return en(p)||tn(p)||on(p,t)||rn(p,t)||mn(p)||sn(p,t)||gn(p)}))||[]).sort((function(e,t){return e.order-t.order})),ye=Ce.map((function(e){return e.nodeId}));return d&&o.a.createElement(i.Fragment,null,o.a.createElement(h.a,{className:"nodes-settings-form__table"},o.a.createElement(Ht,{components:{Container:h.a,Toolbar:function(e){return o.a.createElement(b.a,{container:!0,justify:"space-between",spacing:1,alignItems:"center"},o.a.createElement(b.a,{item:!0},o.a.createElement(Gt.MTableToolbar,e)),en(p)&&o.a.createElement(b.a,{item:!0},o.a.createElement(E.a,{size:"small",startIcon:o.a.createElement(Rt.a,null),onClick:function(){B(null),D(!0),K(!1)}},O("scenes.nodesSettings.createNode"))))}},columns:[{field:"code",title:O("scenes.nodesSettings.table.columns.nodeCode")},{field:"title",title:O("scenes.nodesSettings.table.columns.nodeName"),render:function(e){var t=e.title;return Ie(t,k,C)},customFilterAndSearch:Be(k,C)},{field:"active",title:O("scenes.nodesSettings.table.columns.isNodeActive.title"),render:function(e){var t=e.active;return O(t?"scenes.nodesSettings.table.columns.isNodeActive.values.true":"scenes.nodesSettings.table.columns.isNodeActive.values.false")}},{field:"default",title:O("scenes.nodesSettings.table.columns.isNodeDefault.title"),render:function(e){return e.default?O("scenes.nodesSettings.table.columns.isNodeDefault.values.true"):O("scenes.nodesSettings.table.columns.isNodeDefault.values.false")}}],data:Ce,actions:[function(e){var t=e.tableData;return tn(p)?{icon:Bt.a,tooltip:O("scenes.nodesSettings.table.actions.nodeOrderMoveUp"),onClick:function(e,t){var n,a=t.tableData;return n=a.id,m([].concat(Object(Je.a)(ye.slice(0,n-1)),[ye[n],ye[n-1]],Object(Je.a)(ye.slice(n+1))))},disabled:0===t.id}:null},function(e){var t=e.tableData;return tn(p)?{icon:Ne.a,tooltip:O("scenes.nodesSettings.table.actions.nodeOrderMoveDown"),onClick:function(e,t){var n,a=t.tableData;return n=a.id,m([].concat(Object(Je.a)(ye.slice(0,n)),[ye[n+1],ye[n]],Object(Je.a)(ye.slice(n+2))))},disabled:t.id===d.length-1}:null},function(e){var t=e.nodeId;return on(p,t)?{icon:function(){return o.a.createElement("div",{className:s.buttonAction},O("scenes.nodesSettings.table.actions.nodeDataflowsCache.label"))},tooltip:O("scenes.nodesSettings.table.actions.nodeDataflowsCache.tooltip"),onClick:function(e,t){var n=t.nodeId;U(n),D(!1),K(!0)}}:null},function(e){var t=e.nodeId;return rn(p,t)?{icon:function(){return o.a.createElement("div",{className:s.buttonAction},O("scenes.nodesSettings.table.actions.nodeTemplates.label"))},tooltip:O("scenes.nodesSettings.table.actions.nodeTemplates.tooltip"),onClick:function(e,t){var n=t.nodeId;X(n)}}:null},function(){return mn(p)?{icon:ja.a,tooltip:O("scenes.nodesSettings.table.actions.nodePermissions"),onClick:function(e,t){var n=t.nodeId;se(n)}}:null},function(e){var t=e.nodeId;return function(e,t){return e&&e.isAuthenticated&&(e.roles.includes(Y.Administrator)||e.permissions.includes(Zt(J.ManageConfig,t)))}(p,t)?{icon:Na.a,tooltip:O("scenes.nodesSettings.table.actions.nodeDashboards"),onClick:function(e,t){var n=t.nodeId;fe(n)}}:null},function(e){var t=e.nodeId;return sn(p,t)?{icon:ya.a,tooltip:O("scenes.nodesSettings.table.actions.editNode"),onClick:function(e,t){var n=t.nodeId;B(n),D(!0),K(!1)}}:null},function(){return gn(p)?{icon:zt.a,tooltip:O("scenes.nodesSettings.table.actions.deleteNode"),onClick:function(e,t){var n=t.nodeId;return j(n)}}:null}],options:{paging:!1,draggable:!0,actionsColumnIndex:4,searchFieldAlignment:"left",maxBodyHeight:400,showTitle:!1},icons:Ua})),o.a.createElement(me,{title:O("scenes.nodesSettings.modals.editNode"),open:P,onClose:function(){ge.current?ge.current.cancel((function(){D(!1),B(null)})):(D(!1),B(null))},onSubmit:function(){ge.current?ge.current.submit((function(){D(!1),B(null)})):(D(!1),B(null))},hasSubmit:!0},o.a.createElement(ka,{ref:ge,nodeId:I})),o.a.createElement(me,{title:O("scenes.nodesSettings.modals.nodeCache",{nodeCode:null===(n=d.find((function(e){return e.nodeId===G})))||void 0===n?void 0:n.code}),open:W,onClose:function(){pe.current?pe.current.cancel((function(){K(!1),U(null)})):(K(!1),U(null))},onSubmit:function(){pe.current?pe.current.submit((function(){K(!1),U(null)})):(K(!1),U(null))},false:!0},o.a.createElement(Ta,{ref:pe,nodeId:G})),o.a.createElement(me,{title:O("scenes.nodesSettings.modals.nodeTemplates",{nodeCode:null===(a=d.find((function(e){return e.nodeId===Z})))||void 0===a?void 0:a.code}),open:null!==Z,onClose:function(){ve.current?ve.current.cancel((function(){return X(null)})):X(null)},maxWidth:"md"},o.a.createElement(Da,{ref:ve,nodeId:Z,nodes:d,onTemplatesClose:function(){X(null),y()}})),o.a.createElement(me,{title:O("scenes.nodesSettings.modals.nodePermissions",{nodeCode:null===(r=d.find((function(e){return e.nodeId===le})))||void 0===r?void 0:r.code}),open:null!==le,onClose:function(){be.current?be.current.cancel((function(){se(null)})):se(null)},onSubmit:function(){be.current?be.current.submit((function(){se(null)})):se(null)},hasSubmit:!0},o.a.createElement(za,{ref:be,nodeId:le})),o.a.createElement(me,{title:O("scenes.nodesSettings.modals.nodeDashboards",{nodeCode:null===(l=d.find((function(e){return e.nodeId===he})))||void 0===l?void 0:l.code}),open:null!==he,onClose:function(){ke.current?ke.current.destroy((function(){fe(null)})):fe(null)},onSubmit:function(){ke.current?ke.current.destroy((function(){fe(null)})):fe(null)}},o.a.createElement(Ga,{ref:ke,nodeId:he})),o.a.createElement(ae.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:null!==V},o.a.createElement(oe.a,null,O("scenes.nodesSettings.modals.nodeDelete.title")),o.a.createElement(re.a,null,O("scenes.nodesSettings.modals.nodeDelete.content")),o.a.createElement(ie.a,null,o.a.createElement(E.a,{autoFocus:!0,onClick:function(){j(null),U(null)}},O("commons.confirm.cancel")),o.a.createElement(E.a,{onClick:function(){f(V),j(null),U(null)}},O("commons.confirm.confirm")))))})),qa=n(291),Wa=(n(741),{Search:Object(i.forwardRef)((function(e,t){return o.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(i.forwardRef)((function(e,t){return o.a.createElement(M.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(i.forwardRef)((function(e,t){return o.a.createElement(Nt.a,Object.assign({},e,{ref:t}))}))}),Ka=Object(he.d)(Object(g.a)((function(e){return{tableToolbar:{marginBottom:e.spacing(1)},buttonAction:Object(B.a)({},e.typography.button)}})),Object(H.b)((function(e){return{config:e.usersConfig.users,userErrors:e.usersConfig.userErrors,userId:e.usersConfig.userId,appConfig:e.appConfig,languages:e.app.languages,language:e.app.language}}),(function(e){return{fetchConfig:function(){return e(Ce())},deleteUser:function(t){return e(function(e){return $("usersConfig/deleteUser",function(e){return"users/".concat(e)}(e),a.DELETE,void 0,(function(e){return{onStart:e("scenes.usersConfig.deleteUser.start")}}),{userId:e})}(t))},clearConfig:function(){return e({type:"usersConfig/clearUsers"})},onUserFormShow:function(t){return e(function(e){return{type:"usersConfig/showForm",payload:{userId:e}}}(t))},onUserFormHide:function(){return e({type:"usersConfig/hideForm"})}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){e.classes;var n=e.config,a=e.fetchConfig,r=e.deleteUser,l=e.clearConfig,s=(e.users,e.userErrors),c=e.userId,d=e.onUserFormShow,u=e.onUserFormHide,m=e.appConfig,f=e.languages,g=e.language,p=Object(i.useState)(!0),v=Object(ne.a)(p,2),k=v[0],C=v[1];Object(i.useEffect)((function(){k&&(C(!1),a())}),[n,k,C,a]),Object(i.useImperativeHandle)(t,(function(){return{cancel:function(e){l(),e()}}}));var y=Object(i.useState)(null),w=Object(ne.a)(y,2),A=w[0],_=w[1],S=Object(i.useRef)(),O=Object(ue.a)().t;return n&&o.a.createElement("div",{className:"users-settings-form__table"},o.a.createElement(Ht,{components:{Container:h.a,Toolbar:function(e){return o.a.createElement(b.a,{container:!0,justify:"space-between",spacing:1,alignItems:"center"},o.a.createElement(b.a,{item:!0},o.a.createElement(Gt.MTableToolbar,e)),o.a.createElement(b.a,{item:!0},o.a.createElement(E.a,{size:"small",startIcon:o.a.createElement(Rt.a,null),onClick:function(){return d(-1)}},O("scenes.usersSettings.createUser"))))}},columns:[{field:"firstName",title:O("scenes.usersSettings.table.columns.userFirstName")},{field:"lastName",title:O("scenes.usersSettings.table.columns.userLastName")},{field:"type",title:O("scenes.usersSettings.table.columns.type"),render:function(e){var t,n,a,i=e.type;return Ie(null===m||void 0===m||null===(t=m.user)||void 0===t||null===(n=t.typeOptions)||void 0===n||null===(a=n.find((function(e){var t=e.id;return i===t})))||void 0===a?void 0:a.label,g,f)}},{field:"organization",title:O("scenes.usersSettings.table.columns.userOrganization")},{field:"email",title:O("scenes.usersSettings.table.columns.userEmail")},{field:"isActive",title:O("scenes.usersSettings.table.columns.isActive.title"),render:function(e){var t=e.isActive;return O(t?"scenes.usersSettings.table.columns.isActive.values.true":"scenes.usersSettings.table.columns.isActive.values.false")}}],data:n,actions:[{icon:ya.a,tooltip:O("scenes.usersSettings.table.actions.editUser"),onClick:function(e,t){var n=t.userId;d(n)}},{icon:zt.a,tooltip:O("scenes.usersSettings.table.actions.deleteUser"),onClick:function(e,t){var n=t.userId;_(n)}}],options:{paging:!1,draggable:!0,actionsColumnIndex:5,searchFieldAlignment:"left",maxBodyHeight:400,showTitle:!1},icons:Wa}),o.a.createElement(me,{title:O(-1===c?"scenes.usersSettings.modals.createUser":"scenes.usersSettings.modals.editUser"),maxWidth:"sm",open:null!==c||null!==s,onClose:function(){S.current?S.current.cancel((function(){u()})):u()},onSubmit:function(){S.current&&S.current.submit((function(){}))},hasSubmit:!0},o.a.createElement(ze,{ref:S,userId:c})),o.a.createElement(ae.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:null!==A},o.a.createElement(oe.a,null,O("scenes.usersSettings.modals.deleteUser.title")),o.a.createElement(re.a,null,O("scenes.usersSettings.modals.deleteUser.content")),o.a.createElement(ie.a,null,o.a.createElement(E.a,{autoFocus:!0,onClick:function(){_(null)}},O("commons.confirm.cancel")),o.a.createElement(E.a,{onClick:function(){r(A),_(null)}},O("commons.confirm.confirm")))))})),Ya=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={isAppOpen:!1,isNodesOpen:!1,isUsersOpen:!1,appSettingsRef:o.a.createRef(),nodesSettingsRef:o.a.createRef(),usersSettingsRef:o.a.createRef(),isLogDownloadOpen:!1,logLimit:5},e.onAppOpen=function(){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isAppOpen:!0}))},e.onAppClose=function(t){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isAppOpen:!1,isAppSubmitSnackbarVisible:t||!1}))},e.onNodesOpen=function(){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isNodesOpen:!0}))},e.onNodesClose=function(){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isNodesOpen:!1}))},e.onUsersOpen=function(){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isUsersOpen:!0}))},e.onUsersClose=function(){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isUsersOpen:!1}))},e.onLogDownloadOpen=function(){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isLogDownloadOpen:!0}))},e.onLogDownloadClose=function(){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isLogDownloadOpen:!1,logLimit:5}))},e.onLogLimitSet=function(t){isNaN(t)||e.setState(Object(B.a)(Object(B.a)({},e.state),{},{logLimit:t}))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.onLogDownload,r=t.nodes,l=t.user,s=t.t,c=this.state,d=c.isAppOpen,u=c.isNodesOpen,m=c.isUsersOpen,h=c.appSettingsRef,f=c.nodesSettingsRef,g=c.usersSettingsRef,p=c.isLogDownloadOpen,v=c.logLimit;return o.a.createElement(i.Fragment,null,o.a.createElement(Ge,{value:"",icon:o.a.createElement(yt.a,null)},Xt(l)&&o.a.createElement("div",{onClick:this.onAppOpen,className:n.option},s("components.header.settings.app")),an(l)&&o.a.createElement("div",{onClick:this.onUsersOpen,className:n.option},s("components.header.settings.users")),nn(l)&&o.a.createElement("div",{onClick:this.onNodesOpen,className:n.option},s("components.header.settings.nodes")),un(l)&&o.a.createElement("div",{onClick:this.onLogDownloadOpen,className:n.option},s("components.header.settings.queriesLog"))),o.a.createElement(me,{title:s("scenes.appSettings.title"),open:d,onClose:function(){h.current?h.current.cancel((function(){return e.onAppClose()})):e.onAppClose()},onSubmit:function(){h.current?h.current.submit((function(){e.onAppClose()})):e.onAppClose()},hasSubmit:!0},o.a.createElement(Rn,{ref:h})),o.a.createElement(me,{title:s("scenes.nodesSettings.title"),open:u,onClose:function(){f.current?f.current.cancel((function(){return e.onNodesClose()})):e.onNodesClose()},maxWidth:"md"},o.a.createElement(Ha,{ref:f,nodes:r,onNodesClose:this.onNodesClose})),o.a.createElement(me,{title:s("scenes.usersSettings.title"),open:m,onClose:function(){g.current?g.current.cancel((function(){return e.onUsersClose()})):e.onUsersClose()},maxWidth:"md"},o.a.createElement(Ka,{ref:g})),o.a.createElement(ae.a,{open:p,onClose:this.onLogDownloadClose},o.a.createElement(re.a,null,o.a.createElement(b.a,{container:!0,spacing:2,style:{width:400}},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement("div",null,s("components.header.settings.queriesLogModal.content"),":")),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(qa.a,{value:v,onChange:function(t){return e.onLogLimitSet(t.target.value)},style:{width:"100%"}})))),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:this.onLogDownloadClose},s("commons.confirm.cancel")),o.a.createElement(E.a,{autoFocus:!0,onClick:function(){e.onLogDownloadClose(),a(v)},color:"primary"},s("commons.confirm.download")))))}}]),n}(o.a.Component),Ja=Object(he.d)(Object(H.b)((function(e){return{user:e.user}}),(function(e){return{onLogDownload:function(t){return e(function(e){return $("query/log/download",function(e){return"tracing/limit/".concat(e)}(e),a.GET,null,null,{fileSave:{name:"sdmx-query-log.txt",type:"text/plain;charset=utf-8"},stringifyResponse:!0})}(t))},onCacheClear:function(){return e($("memory/cache/clear","MemoryCache/Clear",a.POST,null,(function(e){return{onStart:e("components.header.settings.clearServerCacheAction.messages.clear.start")}})))}}})),Object(g.a)((function(e){return{option:{width:"100%"}}})),Object(vt.a)())(Ya),$a=n(19),Qa=Object(g.a)((function(e){return{button:{borderRadius:e.shape.borderRadius,backgroundColor:"#f5f5f5",borderColor:e.palette.primary.main,borderWidth:1,position:"relative",height:35},icon:{width:e.spacing(6),height:35,position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",position:"absolute",width:"calc(100% - ".concat(e.spacing(6),")"),left:e.spacing(6)},inputInput:{padding:e.spacing(1,1,1,0)}}}))((function(e){var t=e.classes,n=e.query,a=void 0===n?"":n,r=e.onSubmit,l=Object(i.useRef)(null),s=Object(ue.a)().t;return o.a.createElement("div",{className:t.button,style:{width:320}},o.a.createElement("label",{htmlFor:"search-input",style:{display:"none"}},s("components.searchInput.label")),o.a.createElement(le.a,{id:"search-input",fullWidth:!0,size:"small",variant:"outlined",placeholder:s("components.searchInput.placeholder"),defaultValue:a,InputProps:{startAdornment:o.a.createElement(ye.a,{position:"start"},o.a.createElement(jt.a,null)),inputRef:l},onKeyDown:function(e){"Enter"===e.key&&l.current.value&&l.current.value.length>0&&(e.preventDefault(),r(l.current.value))}}))})),Za=window.jQuery,Xa=Object(g.a)((function(e){return{button:{borderRadius:e.shape.borderRadius,backgroundColor:Object($a.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object($a.d)(e.palette.common.white,.25)},position:"relative",height:35},icon:{width:e.spacing(6),height:35,position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",position:"absolute",width:"calc(100% - ".concat(e.spacing(6),")"),left:e.spacing(6)},inputInput:{padding:e.spacing(1,1,1,0)}}}))((function(e){e.classes;var t=e.dialogTop,n=(e.modalWidth,e.query),a=e.onSubmit,r=Object(i.useState)(Object(q.a)()),l=Object(ne.a)(r,1)[0],s=Object(i.useState)(!1),c=Object(ne.a)(s,2),d=c[0],u=c[1];return o.a.createElement("div",null,o.a.createElement(P.a,{color:"inherit",onClick:function(){return u(!0)}},o.a.createElement(jt.a,null)),o.a.createElement(ae.a,{open:d,onClose:function(){return u(!1)},onRendered:function(){return Za("#search-dialog__dialog__".concat(l," input")).focus()},PaperProps:{style:{position:"absolute",top:t,height:40}}},o.a.createElement("div",{id:"search-dialog__dialog__".concat(l)},o.a.createElement(Qa,{query:n,onSubmit:function(e){u(!1),a(e)}}))))})),ei=n(302),ti=n.n(ei),ni=(Jt={},Object(L.a)(Jt,"type",null),Object(L.a)(Jt,"value",null),Object(L.a)(Jt,"widthPercentage",100),Object(L.a)(Jt,"showTitle",!0),Object(L.a)(Jt,"enableFilters",!1),Object(L.a)(Jt,"filterDimension",null),Jt),ai=function(e,t){return"".concat(e,"+").concat(t)},ii=n(148),oi=function(){return $("otherConfig/fetchViews","views",void 0,void 0,(function(e){return{onStart:e("scenes.viewsConfig.messages.fetchViews.start")}}))},ri=function(e,t){var n=Me.a.cloneDeep(e),a=[];n.dashboardConfig.forEach((function(e,t){e.forEach((function(e,i){var o=e.type,r=e.value,l=e.filterDimension;"view"!==o||null===r||void 0===r||a.includes(r)||a.push(r),""===l&&(n.dashboardConfig[t][i].filterDimension=null)}))}));var i={};return ii.labels.forEach((function(e){i=Object(B.a)(Object(B.a)({},i),{},Object(L.a)({},e,n.filterLevels[e]||!1))})),{dashboardId:t,title:n.title,dashboardConfig:JSON.stringify(n.dashboardConfig),viewIds:a,filterLevels:JSON.stringify(i)}},li={Search:Object(i.forwardRef)((function(e,t){return o.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(i.forwardRef)((function(e,t){return o.a.createElement(M.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(i.forwardRef)((function(e,t){return o.a.createElement(Nt.a,Object.assign({},e,{ref:t}))}))},si=Object(he.d)(Object(g.a)((function(e){return{tableToolbar:{marginBottom:e.spacing(1)}}})),Object(H.b)((function(e){return{defaultLanguage:e.app.language,languages:e.app.languages,views:e.otherConfig.views}}),(function(e){return{fetchViews:function(){return e(oi())},clearViews:function(){return e({type:"otherConfig/clearViews"})},deleteView:function(t,n){return e(function(e,t){return $("otherConfig/deleteView",function(e,t){return"nodes/".concat(e,"/views/").concat(t)}(e,t),a.DELETE,void 0,(function(e){return{onStart:e("scenes.viewsConfig.messages.deleteView.start")}}))}(t,n))}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){e.classes;var n=e.defaultLanguage,a=e.languages,r=e.views,l=e.fetchViews,s=e.clearViews,c=e.deleteView,d=e.nodes,u=e.onViewsClose,m=Object(i.useState)(!0),f=Object(ne.a)(m,2),g=f[0],p=f[1],v=Object(ue.a)().t;Object(i.useEffect)((function(){g&&(p(!1),l())}),[r,g,p,l]),Object(i.useImperativeHandle)(t,(function(){return{cancel:function(e){s(),e()}}}));var b=Object(i.useState)(null),k=Object(ne.a)(b,2),C=k[0],y=k[1],w=Object(i.useState)(null),A=Object(ne.a)(w,2),_=A[0],S=A[1];return d&&r&&o.a.createElement(i.Fragment,null,o.a.createElement(Ht,{components:{Container:h.a},columns:[{field:"nodeId",title:v("scenes.viewsSettings.table.columns.viewNodeId"),render:function(e){var t=e.nodeId;return d.find((function(e){return e.nodeId===t})).code},customFilterAndSearch:function(e,t){var n=t.nodeId;return d.find((function(e){return e.nodeId===n})).code.toLowerCase().includes(e.toLowerCase())}},{field:"datasetId",title:v("scenes.viewsSettings.table.columns.viewDatasetId")},{field:"title",title:v("scenes.viewsSettings.table.columns.viewTitle"),render:function(e){var t=e.title;return Ie(t,n,a)},customFilterAndSearch:Be(n,a)}],data:(r||[]).filter((function(e){var t=e.nodeId;return d.find((function(e){return e.nodeId===t}))})),actions:[{icon:we.a,tooltip:v("scenes.viewsSettings.table.actions.viewView"),onClick:function(e,t){var n=t.nodeId,a=t.datasetId,i=t.viewTemplateId;return window.location.href.toLowerCase().includes("view=".concat(i))?u():ot(d.find((function(e){return e.nodeId===n})).code,[],a,i)}},{icon:zt.a,tooltip:v("scenes.viewsSettings.table.actions.deleteView"),onClick:function(e,t){var n=t.nodeId,a=t.viewTemplateId;y(a),S(n)}}],options:{paging:!1,draggable:!0,actionsColumnIndex:3,maxBodyHeight:400,showTitle:!1,searchFieldAlignment:"left"},icons:li}),o.a.createElement(ae.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:null!==C},o.a.createElement(oe.a,null,v("scenes.viewsSettings.modals.deleteView.title")),o.a.createElement(re.a,null,v("scenes.viewsSettings.modals.deleteView.content")),o.a.createElement(ie.a,null,o.a.createElement(E.a,{autoFocus:!0,onClick:function(){y(null),S(null)}},v("commons.confirm.cancel")),o.a.createElement(E.a,{onClick:function(){c(_,C),y(null),S(null)}},v("commons.confirm.confirm")))))})),ci=n(553),di=n.n(ci),ui=n(244),mi=n.n(ui),hi=n(27),fi=n.n(hi),gi=n(243),pi=n.n(gi),vi=(n(742),window.jQuery);function bi(){var e=vi("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),t=vi("<div>").css({width:"100%"}).appendTo(e).outerWidth();return e.remove(),100-t}function ki(e,t){return"string"===typeof e&&e.length>0?(t.innerText=e,t.offsetWidth):0}var Ci=n(530),yi=n.n(Ci),wi=(n(743),function(e){var t=e.value,n=e.onChange;return o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:"infinite-scroll-table__header__sort-buttons__icon-container"},o.a.createElement(P.a,{onClick:function(){return n("SORT_DIRECTION_ASC"!==t?"SORT_DIRECTION_ASC":"SORT_DIRECTION_DESC")},style:{padding:4,top:-4}},"SORT_DIRECTION_ASC"===t?o.a.createElement(Nt.a,{className:"infinite-scroll-table__header__icon"}):o.a.createElement(yi.a,{className:"infinite-scroll-table__header__icon"}))))}),Ai=n(532),_i=40,Si="_checked",Ei=3*Math.floor(200/3),Oi=function(e,t){return{startIdx:e*(t-1),stopIdx:e*t-1}},Ti=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={tempValue:e.value||"",value:e.value||"",timeout:null},a.onChange=a.onChange.bind(Object(wn.a)(a)),a.onClear=a.onClear.bind(Object(wn.a)(a)),a}return Object(d.a)(n,[{key:"onClear",value:function(){this.state.timeout&&clearTimeout(this.state.timeout),this.setState({tempValue:null,value:"",timeout:null}),this.props.onSearch("")}},{key:"onChange",value:function(e){var t=this;this.state.timeout&&clearTimeout(this.state.timeout),this.setState({tempValue:e,timeout:setTimeout((function(){t.setState({tempValue:null,value:e}),t.props.onSearch(e)}),500)})}},{key:"componentWillUnmount",value:function(){this.state.timeout&&clearTimeout(this.state.timeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.placeholder,i=this.state,r=i.tempValue,l=i.value;return o.a.createElement(le.a,{value:null!==r?r:l,placeholder:a||n("components.autoSearchInput.placeholder")+"...",onChange:function(t){var n=t.target;return e.onChange(n.value)},InputProps:{startAdornment:o.a.createElement(ye.a,{position:"start"},o.a.createElement(jt.a,null)),endAdornment:o.a.createElement(ye.a,{position:"end"},o.a.createElement(P.a,{disabled:!l||0===l.length,onClick:this.onClear,style:{padding:6}},o.a.createElement(M.a,{fontSize:"small"})))},style:{width:"100%"}})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.value&&e.value!==t.value?(t.timeout&&clearTimeout(t.timeout),{tempValue:null,value:e.value}):null}}]),n}(o.a.Component),xi=Object(vt.a)()(Ti),Pi=Object(vt.a)()((function(e){var t=e.t,n=e.searchText,a=e.onSearch,r=e.selectedRowCount,l=e.tableActions,s=e.renderTableAction,c=e.leftActions,d=e.rightActions;return o.a.createElement(b.a,{container:!0,style:{marginBottom:4}},o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(b.a,{container:!0,justify:"space-between"},o.a.createElement(b.a,{item:!0},c),o.a.createElement(b.a,{item:!0},o.a.createElement(b.a,{container:!0,justify:"flex-end"},l&&r>0&&o.a.createElement(i.Fragment,null,o.a.createElement(b.a,{item:!0,style:{padding:"14px 16px 14px 8px"}},t(r>1?"components.infiniteScrollTable.preHeader.selectedCount_plural":"components.infiniteScrollTable.preHeader.selectedCount",{selectedRowCount:r})),l.map((function(e,t){return o.a.createElement(b.a,{item:!0,key:t},s(e))}))),d&&o.a.createElement(b.a,{item:!0},d))))),o.a.createElement(b.a,{item:!0,xs:6,style:{padding:"8px 0"}},o.a.createElement(xi,{value:n,onSearch:a})))})),Di=n(430),Mi=Object(vt.a)()((function(e){var t=e.t,n=e.isLoading,a=e.isHidden,i=e.rowNumStart,r=e.rowNumEnd,l=e.rowCount;return o.a.createElement(b.a,{container:!0,justify:"flex-end",style:{marginTop:8}},o.a.createElement(b.a,{item:!0},a?o.a.createElement("span",null):n?o.a.createElement(Di.a,{size:"small",className:"infinite-scroll-table__footer__spinner",style:{fontSize:10,width:13,height:13,marginRight:2}}):t("components.infiniteScrollTable.footer.rowCount",{rowNumStart:i,rowNumEnd:r,rowCount:l})))})),Ri=n(531),Ii=Object(he.d)(fi()((function(e){return{root:{position:"relative",height:"100%"},text:{fontStyle:"italic",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%)"},image:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -100%)",paddingBottom:16}}})),Object(vt.a)())((function(e){var t=e.t,n=e.classes,a=e.text,i=e.textStyle,r=e.width,l=e.backgroundColor,s=e.color,c=e.image;return o.a.createElement("div",{className:n.root,style:{width:r||"100%",backgroundColor:l,color:s}},o.a.createElement("div",{style:{width:r||"100%"}},c&&o.a.createElement("div",{className:n.image},c),o.a.createElement("div",{className:n.text,style:Object(B.a)({},i)},a||t("components.customEmpty.placeholder"))))})),Bi=(n(758),n(903)),Li=n(198),zi=n.n(Li),Vi=function(e){var t=e.value,n=e.onChange,a=e.options,r=Object(i.useState)(null),l=Object(ne.a)(r,2),s=l[0],c=l[1];return o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:"infinite-scroll-table__header__filter-button__icon-container"},o.a.createElement(P.a,{onClick:function(e){c(e.currentTarget)},style:{padding:4,top:-4}},o.a.createElement(zi.a,{className:"infinite-scroll-table__header__icon"}))),o.a.createElement(Bi.a,{open:Boolean(s),anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){c(null)}},a&&a.length?a.map((function(e,a){return o.a.createElement(b.a,{container:!0,className:"infinite-scroll-table__header__filter-button__option",key:a},o.a.createElement(b.a,{item:!0},o.a.createElement(ke.a,{checked:void 0!==(t||[]).find((function(t){return t===e.value})),onChange:function(a){return a.target.checked?n([].concat(Object(Je.a)(t||[]),[e.value])):n((t||[]).filter((function(t){return t!==e.value})))}})),o.a.createElement(b.a,{item:!0},o.a.createElement("div",{style:{height:42,lineHeight:"42px",marginRight:16}},e.text)))})):o.a.createElement("div",{style:{padding:8}},o.a.createElement(xi,{onSearch:n,value:t}))))},ji=window.jQuery,Fi=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onSearchTextChange=a.onSearchTextChange.bind(Object(wn.a)(a)),a.onFiltersChange=a.onFiltersChange.bind(Object(wn.a)(a)),a.onSortChange=a.onSortChange.bind(Object(wn.a)(a)),a.getSelectedRowKeys=a.getSelectedRowKeys.bind(Object(wn.a)(a)),a.onRowSelectionChange=a.onRowSelectionChange.bind(Object(wn.a)(a)),a.getCols=a.getCols.bind(Object(wn.a)(a)),a.getNormalizedTableActions=a.getNormalizedTableActions.bind(Object(wn.a)(a)),a.renderActions=a.renderActions.bind(Object(wn.a)(a)),a.renderGridRow=a.renderGridRow.bind(Object(wn.a)(a)),a.renderFixedActions=a.renderFixedActions.bind(Object(wn.a)(a)),a.renderHeaderCells=a.renderHeaderCells.bind(Object(wn.a)(a)),a.renderCheckboxTitle=a.renderCheckboxTitle.bind(Object(wn.a)(a)),a.renderCheckbox=a.renderCheckbox.bind(Object(wn.a)(a)),a.getPopulatedRows=a.getPopulatedRows.bind(Object(wn.a)(a)),a.getColWidths=a.getColWidths.bind(Object(wn.a)(a)),a.getQueriedRows=a.getQueriedRows.bind(Object(wn.a)(a)),a.getRenderedRows=a.getRenderedRows.bind(Object(wn.a)(a)),a.onRenderedRowsChange=a.onRenderedRowsChange.bind(Object(wn.a)(a)),a.state={uuid:Object(q.a)(),gridKeyForRefresh:Object(q.a)(),scrollTop:0,scrollLeft:0,gridScrollbarWidth:bi(),searchText:"",sortCol:null,sortByDesc:!1,filters:{},selectedRowKeys:e.rowSelection&&e.rowSelection.selectedRowKeys?e.rowSelection.selectedRowKeys:[],cols:null,populatedRows:null,colWidths:null,renderedRows:null,queriedRows:null,isResizing:!1,resizeTimeout:null,pageSize:null,pageNum:null,pageRequestTimeout:null,isPaginating:e.isPaginated,pageRequestParams:null,viewStartIdx:null,viewEndIdx:null,viewIndexesUpdateTimeout:null,doNotCallOnChangeOnNextRenderedRowsChange:!1},e.isPaginated&&(a.state.pageRequestParams={pageSize:Ei,pageNum:1,filters:a.state.filters,searchText:a.state.searchText,sortCol:a.state.sortCol,sortByDesc:a.state.sortByDesc}),e.onChange&&e.isPaginated&&e.onChange(a.state.pageRequestParams),a}return Object(d.a)(n,[{key:"getPopulatedRows",value:function(e){var t=this.props,n=t.defaultLanguage,a=t.languages,i=t.multilangStrDataIndexes,o=t.actions,r=t.fixedActions,l=t.altActions,s=t.getIsAltRow,c=function(e,t){return(e||[]).filter((function(e){return null!==e})).map((function(e){return"function"===typeof e?e(t):e})).filter((function(e){return null!==e})).map((function(e){return Object(B.a)(Object(B.a)({},e),{},{row:t})}))};return null!==e&&void 0!==e?e.map((function(e){var t=Object(B.a)({},e);if(t.__originalRow=Object(B.a)({},t),i){var d,u=Object(Pe.a)(i);try{for(u.s();!(d=u.n()).done;){var m=d.value;t[m]=Ie(t[m],n,a)}}catch(h){u.e(h)}finally{u.f()}}return t.__originalTranslatedRow=Object(B.a)({},t),t._fixedActions=r?c(r,t.__originalTranslatedRow):null,t._actions=o||l?c(s&&s(t.__originalTranslatedRow)?l:o,t.__originalTranslatedRow):null,t})):null}},{key:"getColWidths",value:function(e,t){var n=this.props.size,a=this.state.gridScrollbarWidth;if(null===t)return null;var i=ji("<span>").css({visibility:"hidden",position:"absolute"}).appendTo("body").get(0),o=t.map((function(t){var n=ki(t.title,i)+(t.noFilter&&t.noSort?0:4)+(t.noFilter?0:16)+(t.noSort?0:16)+(t.noFilter||t.noSort?0:4)+16+4;return t.width?Math.max(n,t.width):(t.widthToContent||t.minWidthToContent)&&e.length>0?Math.max.apply(Math,[n].concat(Object(Je.a)(e.map((function(e){return ki(t.renderText?t.renderText(e.__originalRow[t.dataIndex],e.__originalRow):e[t.dataIndex],i)+16+4}))))):t.minWidth?Math.max(n,t.minWidth):n}));ji(i).remove();var r=function(t){return!t.width&&(!(e.length>0)||!t.widthToContent)},l=t.filter(r),s=0;o.forEach((function(e){return s+=e}));var c=n.width-s-(null!==e&&this.getIsVerticalScrollbarVisible(e.length)?a:0)-2;if(l.length>0&&c>0){var d=c/l.length;o=o.map((function(e,n){return r(t[n])?e+d:e}))}return o}},{key:"getRenderedRows",value:function(e,t,n,a){var i=this,o=this.props,r=o.rowSelection,l=o.tableActions,s=o.getRowKey;return null!==e?e.map((function(e){var o=Object(B.a)({},e);return(r||l)&&(o[Si]=a.includes(s(e))),Object(B.a)(Object(B.a)({},o),{},Object(L.a)({},"__rendered",i.renderGridRow(o,t,n)))})):null}},{key:"getQueriedRows",value:function(e,t,n,a,i,o){if(this.props.isPaginated)return e;var r=this.getFilteredGridRows(e,t,n);return r=this.getSearchTextFilteredGridRows(r,t,a),this.getSortedGridRows(r,t,i,o)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.isPaginated,a=this.state,i=a.filters,o=a.searchText,r=a.sortCol,l=a.sortByDesc;if(null!==t){var s=this.getCols(),c=this.getPopulatedRows(t),d=this.getColWidths(c,s),u=this.getRenderedRows(c,s,d,this.getSelectedRowKeys()),m=this.getQueriedRows(u,s,i,o,r,l,n);this.setState({cols:s,populatedRows:c,colWidths:d,renderedRows:u,queriedRows:m})}}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,i=a.isPaginated,o=a.rowSelection,r=a.data,l=this.state,s=l.uuid,c=l.filters,d=l.searchText,u=l.sortCol,m=l.sortByDesc,h=l.scrollLeft,f=l.scrollTop,g=l.resizeTimeout,p=l.colWidths,v=l.cols,b=l.pageSize,k=l.pageNum,C=l.pageRequestParams;if(n.isArrayPropertyChangedLazy(e.data,r)){var y=null,w=null,A=null,_=null,S=null,E=null;if(null!==r)y=this.getCols(),w=this.getPopulatedRows(this.props.data),A=null!==p&&null!==v&&(null===e.data&&null===r||null!==e.data&&0===e.data.length&&null!==r&&0===r.length)?p:this.getColWidths(w,y),_=this.getRenderedRows(w,y,A,this.getSelectedRowKeys()),S=this.getQueriedRows(_,y,c,d,u,m);else{var O=ji(".infinite-scroll-table__".concat(s," .infinite-scroll-table__grid"));O&&(E=O.scrollTop())}this.setState({cols:y,populatedRows:w,colWidths:A,renderedRows:_,queriedRows:S,pageNum:i&&C?C.pageNum:k,pageSize:i&&C?C.pageSize:b,isPaginating:!1,pageRequestParams:null,scrollTop:E,selectedRowKeys:this.getSelectedRowKeys()})}else if(o&&n.isArrayPropertyChangedLazy(e.rowSelection.selectedRowKeys,o.selectedRowKeys))this.setState({selectedRowKeys:o.selectedRowKeys}),this.updateRenderedRows(o.selectedRowKeys);else if(e.size&&this.props.size&&e.size.width!==this.props.size.width){g&&clearTimeout(g);var T=null,x=ji(".infinite-scroll-table__".concat(s," .infinite-scroll-table__grid"));x&&(T=x.scrollTop()),this.setState({isResizing:!0,scrollTop:T||f,resizeTimeout:setTimeout((function(){t.setState((function(e){var n=e.populatedRows,a=e.cols,i=t.getColWidths(n,a),o=t.getRenderedRows(n,a,i,t.getSelectedRowKeys()),r=t.getQueriedRows(o,a,c,d,u,m);return{gridKeyForRefresh:Object(q.a)(),isResizing:!1,resizeTimeout:null,colWidths:i,renderedRows:o,queriedRows:r}}))}),1e3)})}var P=ji(".infinite-scroll-table__".concat(s," .infinite-scroll-table__grid:not(.infinite-scroll-table__grid--with-event-handlers)"));if(P.length){var D=this;P.scrollLeft(h).addClass("infinite-scroll-table__grid--with-event-handlers").on("scroll",(function(){var e=ji(this).scrollLeft();e!==D.state.scrollLeft&&(ji(".infinite-scroll-table__".concat(s," .infinite-scroll-table__header")).scrollLeft(e),D.setState({scrollLeft:e}))}))}}},{key:"componentWillUnmount",value:function(){var e=this.state,t=e.uuid,n=e.resizeTimeout,a=e.pageRequestTimeout,i=e.viewIndexesUpdateTimeout,o=ji(".infinite-scroll-table__".concat(t," .infinite-scroll-table__grid--with-event-handlers"));o.length&&o.off("scroll"),n&&clearTimeout(n),a&&clearTimeout(a),i&&clearTimeout(i)}},{key:"shouldComponentUpdate",value:function(e,t,n){return this.state.gridKeyForRefresh!==t.gridKeyForRefresh||this.state.scrollLeft===t.scrollLeft}},{key:"updateRenderedRows",value:function(e){var t=this.state,n=t.populatedRows,a=t.cols,i=t.colWidths,o=t.filters,r=t.searchText,l=t.sortCol,s=t.sortByDesc,c=this.getRenderedRows(n,a,i,e);this.setState({renderedRows:c,queriedRows:this.getQueriedRows(c,a,o,r,l,s)})}},{key:"applyQueryChange",value:function(e,t,n,a){var i=this.props.isPaginated,o=this.state,r=o.renderedRows,l=o.cols,s=o.queriedRows;this.setState({scrollTop:0,gridKeyForRefresh:Object(q.a)(),queriedRows:i?s:this.getQueriedRows(r,l,e,t,n,a)})}},{key:"onFiltersChange",value:function(e,t){var n=this.props,a=n.onChange,i=n.isPaginated,o=this.state,r=o.searchText,l=o.sortCol,s=o.sortByDesc,c=this.state.filters;null!==t&&t.length>0?c[e]=t:delete c[e];var d={pageNum:1,pageSize:Ei,searchText:r,filters:c,sortCol:l,sortByDesc:s};this.setState({filters:c,isPaginating:i,pageRequestParams:i?d:null,doNotCallOnChangeOnNextRenderedRowsChange:i&&a}),this.applyQueryChange(c,r,l,s),a&&a(d)}},{key:"onSearchTextChange",value:function(e){var t=this.props,n=t.onChange,a=t.isPaginated,i=this.state,o=i.filters,r=i.sortCol,l=i.sortByDesc,s=e,c={pageNum:1,pageSize:Ei,searchText:s,filters:o,sortCol:r,sortByDesc:l};this.setState({searchText:s,isPaginating:a,pageRequestParams:a?c:null,doNotCallOnChangeOnNextRenderedRowsChange:a&&n}),this.applyQueryChange(o,s,r,l),n&&n(c)}},{key:"onSortChange",value:function(e,t){var n=this.props,a=n.onChange,i=n.isPaginated,o=this.state,r=o.searchText,l=o.filters,s=t?e:null,c="SORT_DIRECTION_DESC"===t,d={pageNum:1,pageSize:Ei,searchText:r,filters:l,sortCol:s,sortByDesc:c};this.setState({sortCol:s,sortByDesc:c,isPaginating:i,pageRequestParams:i?d:null,doNotCallOnChangeOnNextRenderedRowsChange:i&&a}),this.applyQueryChange(l,r,s,c),a&&a(d)}},{key:"onRowSelectionChange",value:function(e,t){var n=this.state,a=n.searchText,i=n.sortCol,o=n.sortByDesc,r=n.filters,l=this.props,s=l.rowSelection,c=l.getRowKey,d=l.getIsDisabledRow;if(s&&(s.onSelect||s.onSelectAll))null!==e&&s.onSelect&&s.onSelect(e,t),null===e&&s.onSelectAll&&s.onSelectAll(t,{searchText:a,sortCol:i,sortByDesc:o,filters:r});else{var u=this.state,m=u.selectedRowKeys,h=u.queriedRows,f=null;f=null!==e?t?[].concat(Object(Je.a)(m),[e]):m.filter((function(t){return t!==e})):t?h.map((function(e){return e.__originalRow})).filter((function(e){return!d||!d(e)})).map((function(e){return c(e)})):[],s&&s.onChange&&s.onChange(f),this.setState({selectedRowKeys:f}),this.updateRenderedRows(f)}}},{key:"getCols",value:function(){var e=this.props,t=e.columns,n=e.rowSelection;if(null===t)return null;var a=t.filter((function(e){return null!==e}));return(n||this.getNormalizedTableActions().length>0)&&(a=[{dataIndex:Si,render:this.renderCheckbox,titleRender:this.renderCheckboxTitle,noSearchText:!0,noFilter:!0,noSort:!0,width:_i,renderText:function(){return""}}].concat(Object(Je.a)(a))),this.getNormalizedFixedActions().length>0&&(a=[].concat(Object(Je.a)(a),[{dataIndex:"_fixedActions",render:this.renderFixedActions,noSearchText:!0,noFilter:!0,noSort:!0,disableOnRowClickForCell:!0,renderText:function(){return""},width:28*this.getNormalizedFixedActions().length-4+4+16}])),(this.getNormalizedActions().length>0||this.getNormalizedAltActions().length>0)&&(a=[].concat(Object(Je.a)(a),[{dataIndex:"_actions",render:this.renderActions,noSearchText:!0,noFilter:!0,noSort:!0,disableOnRowClickForCell:!0,renderText:function(){return""},width:28*Math.max(this.getNormalizedActions().length,this.getNormalizedAltActions().length)-4+4+16}])),a}},{key:"getNormalizedTableActions",value:function(){return(this.props.tableActions||[]).filter((function(e){return null!==e}))}},{key:"getNormalizedActions",value:function(){return(this.props.actions||[]).filter((function(e){return null!==e}))}},{key:"getNormalizedAltActions",value:function(){return(this.props.altActions||[]).filter((function(e){return null!==e}))}},{key:"getNormalizedFixedActions",value:function(){return(this.props.fixedActions||[]).filter((function(e){return null!==e}))}},{key:"getSelectedRowKeys",value:function(){var e=this.props.rowSelection,t=this.state.selectedRowKeys;return e&&e.selectedRowKeys?e.selectedRowKeys:t}},{key:"getFilteredGridRows",value:function(e,t,a){return Object.keys(a).length>0?e.filter((function(e){var i=function(i){if(a.hasOwnProperty(i)){var o=t.find((function(e){return e.dataIndex===i}));if(!(o.withValuesFilter?a[i].includes(e[i]):n.isValuePassingSearchText(o.renderText?o.renderText(e.__originalRow[i],e.__originalRow):e[i],a[i])))return{v:!1}}};for(var o in a){var r=i(o);if("object"===typeof r)return r.v}return!0})):e}},{key:"getSearchTextFilteredGridRows",value:function(e,t,a){return null!==a?null!==e?e.filter((function(e){var i,o=Object(Pe.a)(t);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(!r.noSearchText&&"boolean"!==typeof e[r.dataIndex]&&n.isValuePassingSearchText(r.renderText?r.renderText(e.__originalRow[r.dataIndex],e.__originalRow):e[r.dataIndex],a))return!0}}catch(l){o.e(l)}finally{o.f()}return!1})):null:e}},{key:"getSortedGridRows",value:function(e,t,a,i){var o=null!==a?t.find((function(e){return e.dataIndex===a})):null;return o?e.sort((function(e,t){var a=o.renderText?o.renderText(e.__originalRow[o.dataIndex],e.__originalRow):e[o.dataIndex],r=o.renderText?o.renderText(t.__originalRow[o.dataIndex],e.__originalRow):t[o.dataIndex];return o.sorter?o.sorter(a,r)*(i?-1:1):n.defaultSorter(a,r,i)})):e}},{key:"renderGridRow",value:function(e,t,n){var a=this.props,i=a.onRowClick,r=a.getIsDisabledRow,l=a.getRowStyle;return o.a.createElement("div",{className:"infinite-scroll-table__grid__row",style:{width:"100%",height:40}},t.map((function(a,s){var c=e[a.dataIndex],d=!i||a.disableOnRowClickForCell||r&&r(e.__originalRow),u=0;t.slice(0,s).map((function(e,t){return t})).forEach((function(e){return u+=n[e]}));var m=l?l(e.__originalRow):null;return o.a.createElement(Ve.a,{key:s,title:a.renderText?a.renderText(c,e.__originalRow):c},o.a.createElement("div",{className:"infinite-scroll-table__grid__cell"+(r&&r(e.__originalRow)?" infinite-scroll-table__grid__cell--disabled":""),style:Object(B.a)({position:"absolute",width:n[s],height:40,lineHeight:"".concat(24,"px"),top:0,left:u,cursor:d?null:"pointer"},m),onClick:d?null:function(){return i(e.__originalTranslatedRow)}},a.render?a.render(c,e.__originalRow):c))})))}},{key:"renderHeaderCells",value:function(e,t,a){var i=this,r=this.props.data,l=this.state,s=l.filters,c=l.sortCol,d=l.sortByDesc;return(e||[]).map((function(e,l){return o.a.createElement("div",{key:l,className:"infinite-scroll-table__header__cell",style:{width:t[l],height:40,padding:8}},o.a.createElement(b.a,{container:!0,justify:"space-between"},(e.title||e.titleRender)&&o.a.createElement(b.a,{item:!0,style:{marginRight:e.noFilter&&e.noSort?0:4}},o.a.createElement("div",{style:{height:24,lineHeight:"".concat(24,"px"),textAlign:"center"}},e.titleRender?e.titleRender(a):e.title)),e.noFilter&&e.noSort?o.a.createElement("span",null):o.a.createElement(b.a,{item:!0},o.a.createElement(b.a,{container:!0},!e.noSort&&o.a.createElement(b.a,{item:!0,style:{marginRight:e.noFilter?0:4}},o.a.createElement(wi,{value:e.dataIndex===c?d?"SORT_DIRECTION_DESC":"SORT_DIRECTION_ASC":null,onChange:function(t){return i.onSortChange(e.dataIndex,t)}})),!e.noFilter&&o.a.createElement(b.a,{item:!0},o.a.createElement(Vi,{value:s[e.dataIndex],onChange:function(t){return i.onFiltersChange(e.dataIndex,t)},options:e.withValuesFilter?Me.a.uniqBy(r||[],e.dataIndex).map((function(t){return{value:t[e.dataIndex],text:e.renderText?e.renderText(t[e.dataIndex],t.__originalRow):t[e.dataIndex]}})).sort((function(t,a){return e.sorter?e.sorter(t.text,a.text):n.defaultSorter(t.text,a.text)})):null}))))))}))}},{key:"renderFixedActions",value:function(e){var t=this,n=this.props.getRowKey,a=this.state.selectedRowKeys;return o.a.createElement(b.a,{container:!0},(e||[]).map((function(e,i){return o.a.createElement(b.a,{item:!0,key:i,style:{marginLeft:0===i?0:4}},o.a.createElement(Ve.a,{title:e.title},o.a.createElement(P.a,Object.assign({},e,{key:i,size:"small",onClick:function(i){i.stopPropagation(),e.onClick(e.row,(function(){return t.setState({selectedRowKeys:a.filter((function(t){return t!==n(e.row)}))})}))}}),e.icon)))})))}},{key:"renderActions",value:function(e){var t=this,n=this.props.getRowKey,a=this.state.selectedRowKeys;return o.a.createElement(b.a,{container:!0,className:"infinite-scroll-table__grid__cell__actions-container",justify:"flex-end"},(e||[]).map((function(e,i){return o.a.createElement(b.a,{item:!0,key:i,style:{marginLeft:0===i?0:4}},o.a.createElement(Ve.a,{title:e.title},o.a.createElement(P.a,{className:"infinite-scroll-table__grid__cell__action ".concat(e.className||""),style:{width:24,height:24,padding:0},disabled:e.disabled,onClick:function(i){i.stopPropagation(),e.onClick(e.row,(function(){return t.setState({selectedRowKeys:a.filter((function(t){return t!==n(e.row)}))})}))}},e.icon)))})))}},{key:"renderTableAction",value:function(e,t){var n=this,a=this.props.getRowKey;return o.a.createElement(E.a,{type:"primary",className:e.className,startIcon:e.icon,title:e.title,disabled:e.disabled,onClick:function(i){i.stopPropagation(),e.onClick(t.filter((function(e){return n.getSelectedRowKeys().includes(a(e.__originalRow))})),(function(){return n.onRowSelectionChange(null,!1)}))}},e.title)}},{key:"renderCheckbox",value:function(e,t){var n=this,a=this.props,i=a.getRowKey,r=a.rowSelection,l=a.getIsDisabledRow,s=a.isCheckDisabled,c=r&&r.getCheckboxProps?r.getCheckboxProps(t):{disabled:s||l&&l(t)};return o.a.createElement(ke.a,Object.assign({checked:e,onChange:function(a){a.stopPropagation(),n.onRowSelectionChange(i(t),!e)},style:{padding:0}},c))}},{key:"renderCheckboxTitle",value:function(e){var t=this,n=this.props,a=n.getRowKey,i=n.getIsDisabledRow,r=n.isCheckDisabled,l=this.getSelectedRowKeys(),s=null!==e&&e.length>0&&0===e.filter((function(e){return!i||!i(e.__originalRow)})).map((function(e){return a(e.__originalRow)})).filter((function(e){return!l.includes(e)})).length;return o.a.createElement(ke.a,{checked:s,onChange:function(){return t.onRowSelectionChange(null,!s)},style:{padding:0},disabled:r})}},{key:"onRenderedRowsChange",value:function(e,t,n,a){var i=this,o=this.props,r=o.onChange,l=o.rowCount,s=o.isPaginated,c=this.state,d=c.pageRequestTimeout,u=c.pageSize,m=c.pageNum,h=c.isPaginating,f=c.viewIndexesUpdateTimeout,g=c.doNotCallOnChangeOnNextRenderedRowsChange;if(f&&clearTimeout(f),this.setState({viewIndexesUpdateTimeout:setTimeout((function(){return i.setState({viewStartIdx:e,viewEndIdx:t,viewIndexesUpdateTimeout:null})}),200)}),s&&!g){var p=Oi(u||Ei,m||1);if(h||n<p.startIdx||a>p.stopIdx){null!==d&&clearTimeout(d);var v=Math.floor(100/3),b=function(e,t,n){var a=t-e+1,i=n+1,o=(t+1)/a;if(Number.isInteger(o))return{pageSize:a,pageNum:o};for(var r=a+1;r<=i;r++)for(var l=Math.ceil((t+1)/r),s=Math.floor(e/r+1),c=l;c<=s;c++){var d=Oi(r,c);if(d.startIdx<=e&&t<=d.stopIdx)return{pageSize:r,pageNum:c}}}(Math.max(n-v,0),Math.min(n+2*v-1,l-1),l),k={pageSize:b.pageSize,pageNum:b.pageNum,filters:this.state.filters,searchText:this.state.searchText,sortCol:this.state.sortCol,sortByDesc:this.state.sortByDesc};this.setState({isPaginating:!0,pageRequestTimeout:setTimeout((function(){r(k),i.setState({pageRequestParams:k})}),500)})}}else s&&this.setState({doNotCallOnChangeOnNextRenderedRowsChange:!1})}},{key:"getIsVerticalScrollbarVisible",value:function(e){var t=this.props.height;return 40*e>(void 0===t?340:t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.size,r=t.leftActions,l=t.rightActions,s=t.showHeader,c=void 0===s||s,d=t.rowCount,u=t.isPaginated,m=void 0!==u&&u,h=t.height,f=void 0===h?340:h,g=t.selectedRowCount,p=t.autoSearch,v=void 0===p||p,b=this.state,k=b.uuid,C=b.cols,y=b.gridKeyForRefresh,w=b.scrollTop,A=b.gridScrollbarWidth,_=b.populatedRows,S=b.queriedRows,E=b.isResizing,O=b.colWidths,T=b.pageSize,x=b.pageNum,P=b.isPaginating,D=b.viewStartIdx,M=b.viewEndIdx,R=b.viewIndexesUpdateTimeout,I=b.searchText,L=Oi(T||Ei,x||1);return o.a.createElement("div",{className:"infinite-scroll-table infinite-scroll-table__".concat(k)},o.a.createElement(Pi,{searchText:I,autoSearch:v,onSearch:this.onSearchTextChange,selectedRowCount:g||this.getSelectedRowKeys().length,tableActions:this.getNormalizedTableActions(),renderTableAction:function(t){return e.renderTableAction(t,_)},leftActions:r,rightActions:l}),o.a.createElement(i.Fragment,null,c&&(E?o.a.createElement("div",{className:"infinite-scroll-table__header-placeholder",style:{height:40}}):o.a.createElement("div",{className:"infinite-scroll-table__header",style:{height:40}},null!==S?o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:"infinite-scroll-table__header__cells-container"},this.renderHeaderCells(C,O,S)),o.a.createElement("div",{className:"infinite-scroll-table__header__scrollbar-padding",style:{width:A,height:40}})):o.a.createElement("div",{className:"infinite-scroll-table__header-placeholder",style:{height:40,width:a.width}}))),E||null===S||0===S.length?o.a.createElement("div",{style:{height:f},className:"infinite-scroll-table__grid-container-placeholder"},o.a.createElement(Ii,{width:E||null===S?void 0:Me.a.sum(O),text:E?n("components.infiniteScrollTable.resizing")+"...":null===S?n("components.infiniteScrollTable.updating")+"...":void 0,image:E?o.a.createElement(Di.a,null):o.a.createElement("span",null)})):o.a.createElement("div",{className:"infinite-scroll-table__grid-container",style:{position:"relative",height:f}},P&&o.a.createElement("div",{style:{position:"absolute",width:Math.min(Me.a.sum(O),a.width),height:f}},o.a.createElement(Ii,{text:n("components.infiniteScrollTable.updating")+"..."})),o.a.createElement(Ai.a,{className:"infinite-scroll-table__grid",key:y,width:a.width,height:f,itemSize:40,itemCount:d||S.length,initialScrollOffset:w,onItemsRendered:function(t){var n=t.visibleStartIndex,a=t.visibleStopIndex,i=t.overscanStartIndex,o=t.overscanStopIndex;return e.onRenderedRowsChange(n,a,i,o)}},(function(e){var t=e.index,n=e.style;return o.a.createElement("div",{style:Object(B.a)(Object(B.a)({},n),{},{width:Me.a.sum(O)}),className:"infinite-scroll-table__grid__row infinite-scroll-table__grid__row--".concat(t%2?"odd":"even")},!m||!P&&L.startIdx<=t&&t<=L.stopIdx&&t-L.startIdx<S.length?S[m?t-L.startIdx:t].__rendered:o.a.createElement("span",null))}))),o.a.createElement(Mi,{isHidden:null===S||0===S.length,isLoading:P||R,rowNumStart:D+1,rowNumEnd:M+1,rowCount:d||(S?S.length:null)})))}}],[{key:"isValuePassingSearchText",value:function(e,t){return String(e).toLowerCase().includes(t.toLowerCase())}},{key:"isArrayPropertyChangedLazy",value:function(e,t){return e!==t||(null===e||void 0===e)&&null!==t&&void 0!==t||e&&t&&e.length!==t.length}}]),n}(i.Component);Fi.defaultSorter=function(e,t,n){var a=function(e){return"string"===typeof e?e.toLowerCase():Number(e)},i=a(e),o=a(t);return(n?o<i:i<o)?-1:1};var Ni=Object(he.d)(Object(Ri.withSize)(),Object(vt.a)(),Object(H.b)((function(e){return{languages:e.app.languages,defaultLanguage:e.app.language}})))(Fi),Gi={cursor:"pointer"},Ui=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={value:null},a.callOnChange=a.callOnChange.bind(Object(wn.a)(a)),a}return Object(d.a)(n,[{key:"callOnChange",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.detailTitle,a=e.selectTitle,i=e.resetTitle,r=e.onDetail,l=e.onSelect,s=e.onReset,c=e.render,d=e.variant,u=e.className,m=this.state.value;return o.a.createElement(le.a,{value:c?c(m):m,onChange:function(e){return e},variant:d||"outlined",InputProps:{readOnly:!0,endAdornment:t?void 0:null!==m?i?o.a.createElement(Ve.a,{title:i},o.a.createElement(pi.a,{onClick:s,style:Gi})):o.a.createElement(pi.a,{onClick:s,style:Gi}):a?o.a.createElement(Ve.a,{title:a},o.a.createElement(Rt.a,{onClick:l,style:Gi})):o.a.createElement(Rt.a,{onClick:l,style:Gi}),startAdornment:r&&null!==m?n?o.a.createElement(Ve.a,{title:n},o.a.createElement(mi.a,{onClick:r,style:Gi})):o.a.createElement(mi.a,{onClick:r,style:Gi}):void 0},className:u})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value!==t.value?{value:e.value}:null}}]),n}(o.a.Component),Hi=Object(H.b)((function(e){return{languages:e.app.languages,defaultLanguage:e.app.language}}))((function(e){var t=e.textFieldProps,n=e.defaultLanguage,a=e.languages,r=Object(i.useState)(n),l=Object(ne.a)(r,2),s=l[0],c=l[1],d=Object(i.useState)(function(e,t){var n={};return t.forEach((function(e){return n[e]=""})),Me.a.merge(n,e)}(t.value,a)),u=Object(ne.a)(d,2),m=u[0],h=u[1],f=Object(i.useState)(null),g=Object(ne.a)(f,2),p=g[0],v=g[1],b=function(e){var n=Me.a.cloneDeep(m);n[s]=e,h(n),function(e){t.onChange&&(p&&clearTimeout(p),v(setTimeout((function(){t.onChange(e)}),500)))}(n)};return o.a.createElement(le.a,Object.assign({},t,{value:m&&m[s]?m[s]:"",onChange:function(e){var t=e.target;return b(t.value)},InputProps:{startAdornment:o.a.createElement(ye.a,{position:"start"},o.a.createElement(kn,{value:s,onChange:function(e){return c(e)}}))}}),t.children)})),qi=function(e){return o.a.createElement(Hi,{textFieldProps:e})},Wi=function(e){return function(e){return{Region:e("dashboards.dynamicFilterLabels.region"),Province:e("dashboards.dynamicFilterLabels.province"),Municipality:e("dashboards.dynamicFilterLabels.municipality")}}(void 0!==e?e:function(e){return e})},Ki=window.jQuery,Yi=function(e){var t=Ki("<span>").get(0);t.innerHTML=e;var n=t.textContent||t.innerText||"";return Ki(t).remove(),n},Ji=function(e){var t=e.t,n=e.classes,a=e.defaultLanguage,i=e.languages,r=e.dashboard,l=e.rowIdx,s=e.colIdx,c=e.col,d=e.onColRemove,u=e.onTypeReset,m=e.fetchViews,h=e.onViewReset,f=e.onTextEdit,g=e.onShowTitleChange,p=e.onEnableFiltersChange,v=e.onFilterDimensionChange;return o.a.createElement("div",{className:n.colContainer,style:{width:"calc(".concat(c.widthPercentage,"% - ").concat(8,"px)")}},o.a.createElement("div",{className:n.col},null===c.type?o.a.createElement(b.a,{container:!0,justify:"center",style:{margin:"47px 0"}},o.a.createElement(b.a,{item:!0},o.a.createElement(E.a,{onClick:function(){return m(l,s)}},t("components.dashboardBuilder.actions.addView"))),o.a.createElement(b.a,{item:!0},o.a.createElement(E.a,{onClick:function(){return f(l,s,"")}},t("components.dashboardBuilder.actions.addText")))):o.a.createElement("div",{className:n.viewContainer},o.a.createElement("div",{className:n.view},"view"===c.type?o.a.createElement(b.a,{container:!0},o.a.createElement(b.a,{item:!0,xs:12,style:{marginBottom:8}},o.a.createElement(Ui,{value:c.value?r.views[c.value]:null,render:function(e){return(null===e||void 0===e?void 0:e.title)?Ie(e.title,a,i):""},variant:"standard",className:n.input,selectTitle:t("components.dashboardBuilder.actions.selectView"),onSelect:function(){return m(l,s)},resetTitle:t("components.dashboardBuilder.actions.deselectView"),onReset:function(){return h(l,s,c.value)}})),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(b.a,{container:!0},o.a.createElement(b.a,{item:!0,style:{marginRight:8}},o.a.createElement(_e.a,{className:n.formLabel,label:t("components.dashboardBuilder.actions.showTitle"),control:o.a.createElement(ke.a,{style:{padding:5},checked:c.showTitle,onChange:function(e,t){return g(l,s,t)}})})),o.a.createElement(b.a,{item:!0},o.a.createElement(_e.a,{className:n.formLabel,label:t("components.dashboardBuilder.actions.enableFilters"),control:o.a.createElement(ke.a,{style:{padding:5},checked:c.enableFilters,onChange:function(e,t){return p(l,s,t)}})})))),o.a.createElement(b.a,{item:!0,xs:12,style:{marginTop:8}},o.a.createElement(_e.a,{className:n.formLabel,style:{marginLeft:8},label:t("components.dashboardBuilder.filterDimension.label")+":",labelPlacement:"start",control:o.a.createElement(le.a,{value:c.filterDimension||"",placeholder:t("components.dashboardBuilder.filterDimension.noOne"),className:n.dynamicViewInput,variant:"outlined",onChange:function(e){var t=e.target;return v(l,s,t.value)}})}))):o.a.createElement(le.a,{value:Yi(Ie(c.value,a,i)||""),className:"".concat(n.input," ").concat(n.htmlInput),multiline:!0,rows:5,InputProps:{readOnly:!0,endAdornment:o.a.createElement(Ve.a,{title:t("components.dashboardBuilder.actions.editText")},o.a.createElement(ya.a,{style:{cursor:"pointer",marginLeft:4},onClick:function(){return f(l,s,c.value)}}))}})),o.a.createElement(Ve.a,{title:t("components.dashboardBuilder.actions.resetColumn")},o.a.createElement(P.a,{className:n.viewAction,onClick:function(){return u(l,s)}},o.a.createElement(pi.a,null))))),o.a.createElement(Ve.a,{title:t("components.dashboardBuilder.actions.removeColumn")},o.a.createElement("span",null,o.a.createElement(P.a,{className:n.colActions,onClick:function(){return d(l,s)},disabled:1===r.dashboardConfig[l].length},o.a.createElement(zt.a,null)))))},$i=function(e){var t=e.t,n=e.classes,a=e.defaultLanguage,i=e.languages,r=e.dashboard,l=e.row,s=e.rowIdx,c=e.onRowRemove,d=e.onColAdd,u=e.onColRemove,m=e.onTypeReset,h=e.fetchViews,f=e.onViewReset,g=e.onTextEdit,p=e.onShowTitleChange,v=e.onEnableFiltersChange,b=e.onFilterDimensionChange;return o.a.createElement("div",{className:n.rowContainer},o.a.createElement("div",{className:n.row},l.map((function(e,l){return o.a.createElement(Ji,{key:l,t:t,classes:n,defaultLanguage:a,languages:i,dashboard:r,rowIdx:s,colIdx:l,col:e,onColRemove:u,onTypeReset:m,fetchViews:h,onViewReset:f,onTextEdit:g,onShowTitleChange:p,onEnableFiltersChange:v,onFilterDimensionChange:b})}))),o.a.createElement("div",{className:n.rowActions},o.a.createElement(Ve.a,{title:t("components.dashboardBuilder.actions.addColumn")},o.a.createElement("span",null,o.a.createElement(P.a,{className:n.rowAction,onClick:function(){return d(s)},disabled:4===l.length},o.a.createElement(Rt.a,null)))),o.a.createElement(Ve.a,{title:t("components.dashboardBuilder.actions.removeRow")},o.a.createElement(P.a,{className:n.rowAction,onClick:function(){return c(s)}},o.a.createElement(zt.a,null)))))};var Qi=Object(he.d)(fi()((function(e){return{filterLevels:{fontSize:16},rowContainer:{width:"100%",marginTop:8},row:{width:"calc(100% - ".concat(96,"px)"),height:164,display:"inline-block"},rowActions:{width:96,display:"inline-block",margin:"5px 0"},rowAction:{width:48},colContainer:{border:"1px solid rgba(0, 0, 0, 0.2)",marginRight:8,padding:16,height:"100%",display:"inline-block",verticalAlign:"middle"},col:{width:"calc(100% - ".concat(48,"px)"),display:"inline-block",verticalAlign:"middle"},colActions:{width:48,display:"inline-block",verticalAlign:"middle"},viewContainer:{width:"100%"},view:{width:"calc(100% - ".concat(52,"px)"),display:"inline-block",verticalAlign:"middle"},viewAction:{width:48,marginLeft:4,display:"inline-block",verticalAlign:"middle"},input:{width:"100%","& > div":{width:"100%"},"& input":{padding:10,height:20},display:"inline-block",verticalAlign:"middle"},dynamicViewInput:{marginLeft:16,"& input":{padding:10,height:20}},htmlInput:{"& > div":{height:130}},formLabel:{marginLeft:0,marginRight:0}}})),Object(H.b)((function(e){return{languages:e.app.languages,defaultLanguage:e.app.language}})))((function(e){var t=e.classes,n=e.defaultLanguage,a=e.languages,r=e.nodes,l=e.dashboard,s=e.onChange,c=e.views,d=e.fetchViews,u=e.onViewsHide,m=Object(ue.a)().t,h=Object(i.useState)(null),f=Object(ne.a)(h,2),g=f[0],p=f[1],v=Object(i.useState)(null),k=Object(ne.a)(v,2),C=k[0],y=k[1],w=Object(i.useState)(!1),A=Object(ne.a)(w,2),_=A[0],S=A[1],O=Object(i.useState)(null),T=Object(ne.a)(O,2),x=T[0],P=T[1],D=function(e){var t=Me.a.cloneDeep(l);t.dashboardConfig=t.dashboardConfig.filter((function(t,n){return n!==e})),s(t)},M=function(e){var t=Me.a.cloneDeep(l);t.dashboardConfig[e].push(ni);var n=0;t.dashboardConfig[e]=t.dashboardConfig[e].map((function(a,i){var o=i<t.dashboardConfig[e].length-1?Math.floor(100/t.dashboardConfig[e].length):0;return n+=o,Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},"widthPercentage",o||100-n))})),s(t)},R=function(e,t){var n=Me.a.cloneDeep(l);n.dashboardConfig[e]=n.dashboardConfig[e].filter((function(e,n){return n!==t})),n.dashboardConfig[e]=n.dashboardConfig[e].map((function(t){return Object(B.a)(Object(B.a)({},t),{},Object(L.a)({},"widthPercentage",100/n.dashboardConfig[e].length))})),s(n)},I=function(e,t){var n=Me.a.cloneDeep(l);n.dashboardConfig[e][t].type=null,n.dashboardConfig[e][t].value=null,s(n)},z=function(e,t,n){var a=Me.a.cloneDeep(l);a.dashboardConfig[e][t].value=null,s(a),u()},V=function(e,t,n){p(e),y(t),P(n),S(!0)},j=function(){p(null),y(null),P(null),S(!1)},F=function(e,t,n){var a=Me.a.cloneDeep(l);a.dashboardConfig[e][t].showTitle=n,s(a)},N=function(e,t,n){var a=Me.a.cloneDeep(l);a.dashboardConfig[e][t].enableFilters=n,s(a)},G=function(e,t,n){var a=Me.a.cloneDeep(l);a.dashboardConfig[e][t].filterDimension=n,s(a)};return o.a.createElement(i.Fragment,null,l&&o.a.createElement(b.a,{container:!0,spacing:1},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0,className:t.field},o.a.createElement(qi,{label:m("components.dashboardBuilder.title"),value:l.title,variant:"outlined",required:!0,onChange:function(e){return s(Object(B.a)(Object(B.a)({},l),{},{title:e}))}}))),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(b.a,{container:!0},o.a.createElement(b.a,{item:!0,className:t.filterLevels,style:{marginRight:16,lineHeight:"34px"}},m("components.dashboardBuilder.filterLevels"),":"),o.a.createElement(b.a,{item:!0},o.a.createElement(b.a,{container:!0},ii.labels.map((function(e,n){return o.a.createElement(b.a,{item:!0,key:n,style:{marginRight:8}},o.a.createElement(_e.a,{className:t.formLabel,label:Wi(m)[e],control:o.a.createElement(ke.a,{style:{padding:5},checked:!!l.filterLevels[e],onChange:function(t,n){return s(Object(B.a)(Object(B.a)({},l),{},{filterLevels:Object(B.a)(Object(B.a)({},l.filterLevels),{},Object(L.a)({},e,n))}))}})}))})))))),o.a.createElement(b.a,{item:!0,xs:12},(l.dashboardConfig||[]).map((function(e,i){return o.a.createElement($i,{key:i,t:m,classes:t,defaultLanguage:n,languages:a,dashboard:l,row:e,rowIdx:i,onRowRemove:D,onColAdd:M,onColRemove:R,onTypeReset:I,fetchViews:function(e,t){d(),p(e),y(t)},onViewReset:z,onTextEdit:V,onShowTitleChange:F,onEnableFiltersChange:N,onFilterDimensionChange:G})}))),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(b.a,{container:!0,justify:"center"},o.a.createElement(E.a,{endIcon:o.a.createElement(Rt.a,null),onClick:function(){var e=Me.a.cloneDeep(l);e.dashboardConfig.push([ni]),s(e)}},m("components.dashboardBuilder.actions.addRow"))))),o.a.createElement(ae.a,{open:null!==c&&void 0!==c,fullWidth:!0,maxWidth:"md",onClose:u},o.a.createElement(oe.a,null,m("components.dashboardBuilder.modals.views.title")),o.a.createElement(re.a,null,o.a.createElement(Ni,{data:(c||[]).filter((function(e){var t=e.nodeId;return r.find((function(e){return e.nodeId===t}))})),getRowKey:function(e){return e.viewTemplateId},columns:[{title:m("components.dashboardBuilder.modals.views.columns.node"),dataIndex:"nodeId",render:function(e,t){var n=t.nodeId;return r.find((function(e){return e.nodeId===n})).code},renderText:function(e){return r.find((function(t){return t.nodeId===e})).code},minWidthToContent:!0},{title:m("components.dashboardBuilder.modals.views.columns.datasetId"),dataIndex:"datasetId",minWidthToContent:!0},{title:m("components.dashboardBuilder.modals.views.columns.name"),dataIndex:"title",minWidthToContent:!0}],multilangStrDataIndexes:["title"],onRowClick:function(e){var t=e.__originalRow;!function(e,t,n){var a=Me.a.cloneDeep(l);a.dashboardConfig[e][t].type="view",a.dashboardConfig[e][t].value=n.viewTemplateId,a.views[n.viewTemplateId]=n,s(a),u()}(g,C,t),p(null),y(null)}})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){u(),p(null),y(null)}},m("commons.confirm.cancel")))),o.a.createElement(ae.a,{open:_,fullWidth:!0,disableEnforceFocus:!0,maxWidth:"md",onClose:j},o.a.createElement(oe.a,null,m("components.dashboardBuilder.modals.text.title")),o.a.createElement(re.a,null,o.a.createElement(xn,{value:x,onChange:P})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:j},m("commons.confirm.cancel")),o.a.createElement(E.a,{onClick:function(){return function(e,t,n){var a=Me.a.cloneDeep(l);a.dashboardConfig[e][t].type="text",a.dashboardConfig[e][t].value=n,s(a),S(!1)}(g,C,x)}},m("commons.confirm.confirm")))))})),Zi=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){void 0!==this.props.disabled&&this.props.disabled||this.props.cb(this.props.cbParam)}},{key:"componentDidUpdate",value:function(e){e.cb;var t=e.cbParam,n=e.disabled;void 0!==this.props.disabled&&this.props.disabled||JSON.stringify(t)===JSON.stringify(this.props.cbParam)&&(void 0===this.props.disabled||!0!==n||!1!==this.props.disabled)||this.props.cb(this.props.cbParam)}},{key:"render",value:function(){return this.props.children}}]),n}(o.a.Component),Xi=(n(475),n(542)),eo=n.n(Xi),to=n(303),no=n.n(to),ao=n(543),io=n.n(ao),oo=n(540),ro=n.n(oo),lo=n(541),so=n.n(lo),co=n(951),uo=function(e){var t=e.attribute,n=e.list;return o.a.createElement(b.a,{item:!0,xs:12},"".concat(n?"- ":"").concat(t.id,": ").concat(t.value))};var mo=fi()((function(e){return{root:{},cardTitle:{fontSize:17,fontWeight:"bold"},datasetAttributesCard:{background:"#F5F5F5"},datasetAttributes:{margin:0,padding:"0 16px 16px"},seriesAttributes:{margin:0,padding:"0 0 16px"},attributeGroup:{margin:0,padding:"0 16px"}}}))((function(e){var t=e.classes,n=e.datasetAttributes,a=e.otherAttributes,i=Object(ue.a)().t;return o.a.createElement("div",{className:t.root},n.length>0&&o.a.createElement(k.a,{variant:"outlined",className:t.datasetAttributesCard},o.a.createElement(co.a,{title:o.a.createElement("div",{className:t.cardTitle},i("components.attributeList.datasetInformation.title"),":"),disableTypography:!0}),o.a.createElement(b.a,{container:!0,spacing:2,className:t.datasetAttributes},n.map((function(e,t){return o.a.createElement(uo,{key:t,attribute:e})})))),a.length>0&&o.a.createElement(k.a,{variant:"outlined",style:{marginTop:16}},o.a.createElement(co.a,{title:o.a.createElement("div",{className:t.cardTitle},i("components.attributeList.seriesInformation.title"),":"),disableTypography:!0}),o.a.createElement(b.a,{container:!0,spacing:2,className:t.seriesAttributes},a.map((function(e,n){var a=e.dims,i=e.attributes;return o.a.createElement(b.a,{container:!0,key:n,spacing:2,className:t.attributeGroup,style:{background:n%2?"#FFFFFF":"#F5F5F5"}},o.a.createElement(b.a,{item:!0,xs:12},a.map((function(e,t){var n=e.id,i=e.value;return o.a.createElement("div",{key:t,style:{display:"inline-block",marginRight:8}},o.a.createElement("b",null,n),": ",o.a.createElement("i",null,i),t<a.length-1?",":"")}))),i.map((function(e,t){return o.a.createElement(uo,{key:t,attribute:e,list:!0})})))})))))})),ho=(new Intl.NumberFormat).format,fo=function(e,t){for(var n=e+"",a=[];n.length>3;)a.push(n.slice(-3)),n=n.slice(0,-3),a.push(t||".");return n.length>0?a.push(n):a.pop(),a.reverse(),a.join("")},go=function(e,t,n,a){if(null===e||void 0===e||"string"===typeof e&&0===e.length)return a||"";if(isNaN(e))return e;var i="."===t?",":".";if(Number.isInteger(e))return fo(e,i);var o=Math.floor(e);if(0===n)return fo(o,i);var r=(e-o).toFixed(n||2).slice(2);return fo(o,i)+(t||",")+r};function po(e,t,n){var a=[];return function e(i,o){return i?i.map((function(i){return n===o&&a.push(Me.a.cloneDeep(i)),i[t]&&i[t].length&&e(i[t],o+1),null})):[]}(e,1),a}function vo(e,t,n){var a={},i=[];return e.forEach((function(e){e[n]=[],a[e.id]=e})),e.forEach((function(e){e[t]?a[e[t]][n].push(e):i.push(e)})),i}var bo=function(e){return{type:"fetch/dataset/async/handler/error",payload:{statusCode:e}}},ko=n(300),Co=n.n(ko),yo=(n(759),function(){window&&window.error?window.error.show("An error occurred while contacting the server."):console.error("An error occurred while contacting the server.")}),wo=function(e,t){var n=0,a=0,i=0,o=!1;return e.forEach((function(e,r){!0===e&&(n++,i=r,n===t+1&&(a=r,o=!0))})),o?a:i+1},Ao=function(e,t,n){return e.map((function(e){return e.nutsLevel})).reduce((function(e,t){if(!e[t]){var a=function(e){return function(e){return{0:e("nutsLevel0"),1:e("nutsLevel1"),2:e("nutsLevel2"),3:e("nutsLevel3"),4:e("nutsLevel4"),5:e("nutsLevel5"),6:e("nutsLevel6"),7:e("nutsLevel7"),8:e("nutsLevel8"),9:e("nutsLevel9")}}(void 0!==e?e:function(e){return e})}(n)[t];e[t]={level:t,counter:0,label:a||"nutsLevel".concat(t)}}return e[t].counter++,e}),[]).filter((function(e){return!!e&&!(!0===t&&e.counter<=1)})).sort((function(e,t){return e.level-t.level}))},_o=n(564),So=function(e){return e("scenes.dataViewer.chartSettings.colors.allDimValues")},Eo=function(e,t){var n={};return Object.keys(e).forEach((function(a){t.id.includes(a)&&Object.keys(e[a]).forEach((function(i){(t.dimension[a].category.index.includes(i)||"ALL_ITEMS"===i)&&e[a][i]&&(n[a]=Object(B.a)({},n[a]),n[a][i]=e[a][i])}))})),n},Oo=function(e){var t=e.t,n=e.classes,a=e.jsonStat,r=e.dimension,l=e.items,s=e.onColorEdit,c=e.onColorRemove;return o.a.createElement("div",{className:n.row},o.a.createElement(b.a,{container:!0,spacing:3},o.a.createElement(b.a,{item:!0,xs:4},o.a.createElement(Ve.a,{title:a.dimension[r].label||r},o.a.createElement("div",{className:n.rowDimension},a.dimension[r].label||r))),o.a.createElement(b.a,{item:!0,xs:8},Object.keys(l).map((function(e,d){var u=a.dimension[r].category.label[e]?a.dimension[r].category.label[e]:"ALL_ITEMS"===e?So(t):e;return o.a.createElement(i.Fragment,{key:d},o.a.createElement("div",{className:n.item},o.a.createElement(Ve.a,{title:u},o.a.createElement("div",{className:n.itemLabel},u)),o.a.createElement("div",{className:n.itemColor,style:{background:l[e],border:"1px solid ".concat(l[e]),borderRadius:"4px"}})),o.a.createElement("div",{className:n.rowActions},o.a.createElement(Ve.a,{title:t("scenes.dataViewer.chartSettings.colors.row.actions.edit")},o.a.createElement(P.a,{onClick:function(){return s(r,e,l[e])}},o.a.createElement(ya.a,null))),o.a.createElement(Ve.a,{title:t("scenes.dataViewer.chartSettings.colors.row.actions.delete")},o.a.createElement(P.a,{onClick:function(){return c(r,e)}},o.a.createElement(zt.a,null)))))})).sort((function(e,t){return"ALL_ITEMS"===e?1:"ALL_ITEMS"===t?-1:0})))))};var To=Object(he.d)(fi()((function(e){return{root:{width:"100%",height:"100%",padding:"8px 8px 0 8px"},title:{width:"calc(100% - 96px)"},scrollableRows:{height:"calc(100% - 44px)",overflowY:"auto",overflowX:"hidden"},rows:{marginBottom:16},row:{},rowDimension:{fontSize:14,lineHeight:"48px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},item:{display:"inline-block",verticalAlign:"middle",width:"calc(100% - 96px)"},itemLabel:{display:"inline-block",verticalAlign:"middle",width:"calc(50% - 8px)",height:48,lineHeight:"48px",marginRight:8,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},itemColor:{display:"inline-block",verticalAlign:"middle",width:"calc(50% - 8px)",height:32,marginRight:8},rowActions:{display:"inline-block",verticalAlign:"middle",width:96},selector:{width:"100%"}}})),Object(vt.a)())((function(e){var t=e.t,n=e.classes,a=e.jsonStat,r=e.colors,l=e.onColorsSet,s=Object(i.useState)(!1),c=Object(ne.a)(s,2),d=c[0],u=c[1],m=Object(i.useState)(!1),h=Object(ne.a)(m,2),f=h[0],g=h[1],p=Object(i.useState)(null),v=Object(ne.a)(p,2),k=v[0],C=v[1],y=Object(i.useState)(null),w=Object(ne.a)(y,2),A=w[0],S=w[1],O=Object(i.useState)("rgba(0, 0, 0, 0.1)"),T=Object(ne.a)(O,2),x=T[0],P=T[1],D=Object(i.useState)(null),M=Object(ne.a)(D,2),R=M[0],I=M[1],L=Object(i.useState)(!0),z=Object(ne.a)(L,2),V=z[0],j=z[1],F=Object(i.useState)(!1),N=Object(ne.a)(F,2),G=N[0],U=N[1],H=Object(i.useState)(null),q=Object(ne.a)(H,2),W=q[0],K=q[1],Y=Object(i.useState)(null),J=Object(ne.a)(Y,2),$=J[0],Q=J[1],Z=Object(i.useState)(null),X=Object(ne.a)(Z,2),ee=X[0],te=X[1];Object(i.useEffect)((function(){u(Eo(r,a))}),[r,a]);var oe=function(){g(!1),C(null),S(null),P("rgba(0, 0, 0, 0.1)")},le=function(e,t){var n=Me.a.cloneDeep(d);n[e][t]=void 0,l(Eo(n,a))},se=function(e,t,n){K(e),Q(t),te(n),U(!0)},ce=function(){K(null),Q(null),te(null),U(!1)};return o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:n.root},o.a.createElement("div",{className:n.title},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(b.a,{container:!0,spacing:3,style:{margin:0}},o.a.createElement(b.a,{item:!0,xs:4},o.a.createElement(b.a,{container:!0,justify:"center"},t("scenes.dataViewer.chartSettings.colors.dimension"))),o.a.createElement(b.a,{item:!0,xs:4},o.a.createElement(b.a,{container:!0,justify:"center"},t("scenes.dataViewer.chartSettings.colors.dimensionValue"))),o.a.createElement(b.a,{item:!0,xs:4},o.a.createElement(b.a,{container:!0,justify:"center"},t("scenes.dataViewer.chartSettings.colors.color")))))),o.a.createElement("div",{className:n.scrollableRows},o.a.createElement("div",{className:n.rows},Object.keys(d).map((function(e,r){return o.a.createElement(i.Fragment,{key:r},o.a.createElement(Oo,{t:t,classes:n,jsonStat:a,dimension:e,items:d[e],onColorEdit:se,onColorRemove:le}),o.a.createElement(_.a,null))}))),o.a.createElement(b.a,{container:!0,justify:"center"},o.a.createElement(E.a,{endIcon:o.a.createElement(Rt.a,null),onClick:function(){return g(!0)}},t("scenes.dataViewer.chartSettings.colors.actions.addColor"))))),o.a.createElement(ae.a,{open:f,onClose:oe,fullWidth:!0,maxWidth:"md"},o.a.createElement(re.a,null,o.a.createElement(b.a,{container:!0},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(b.a,{container:!0,spacing:2,style:{margin:0}},o.a.createElement(b.a,{item:!0,xs:4},o.a.createElement(b.a,{container:!0,justify:"center"},t("scenes.dataViewer.chartSettings.colors.dimension"))),o.a.createElement(b.a,{item:!0,xs:4},o.a.createElement(b.a,{container:!0,justify:"center"},t("scenes.dataViewer.chartSettings.colors.dimensionValue"))),o.a.createElement(b.a,{item:!0,xs:4},o.a.createElement(b.a,{container:!0,justify:"center"},t("scenes.dataViewer.chartSettings.colors.color"))))),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(b.a,{container:!0,spacing:2},o.a.createElement(b.a,{item:!0,xs:4},o.a.createElement(Ui,{value:k,render:function(e){return e?a.dimension[e].label||e:""},selectTitle:t("scenes.dataViewer.chartSettings.colors.addColor.selectDimension"),onSelect:function(){j(!0),I(a.id.map((function(e){return{id:e,label:a.dimension[e].label||e}})))},resetTitle:t("scenes.dataViewer.chartSettings.colors.addColor.resetDimension"),onReset:function(){C(null),S(null)},className:n.selector})),o.a.createElement(b.a,{item:!0,xs:4},k&&o.a.createElement(Ui,{value:A,render:function(e){return e?a.dimension[k].category.label[e]?a.dimension[k].category.label[e]:"ALL_ITEMS"===e?So(t):e:""},selectTitle:t("scenes.dataViewer.chartSettings.colors.addColor.selectDimensionValue"),onSelect:function(){j(!1);var e=[{id:"ALL_ITEMS",label:So(t)}];a.dimension[k].category.index.forEach((function(t){return e.push({id:t,label:a.dimension[k].category.label[t]||t})})),I(e)},resetTitle:t("scenes.dataViewer.chartSettings.colors.addColor.resetDimensionValue"),onReset:function(){return S(null)},className:n.selector})),o.a.createElement(b.a,{item:!0,xs:4},A&&o.a.createElement("div",{style:{width:"100%",height:"100%",background:x,border:"1px solid ".concat(x),borderRadius:"4px"},onClick:function(){return U(!0)}})))))),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:oe},t("commons.confirm.cancel")),o.a.createElement(E.a,{onClick:function(){g(!1);var e=Me.a.cloneDeep(d);e[k]=Object(B.a)({},e[k]),e[k][A]=x,l(e),C(null),S(null),P("rgba(0, 0, 0, 0.1)")},disabled:!k||!A||!x},t("commons.confirm.confirm")))),o.a.createElement(ae.a,{open:null!==R,onClose:function(){return I(null)},fullWidth:!0,maxWidth:"md"},o.a.createElement(re.a,null,o.a.createElement(Ni,{data:R,getRowKey:function(e){return e.id},showHeader:!1,columns:[{title:"",dataIndex:"label",render:function(e,t){return t.label},minWidth:100}],onRowClick:function(e){var t=e.id;V?t!==k&&(C(t),S(null)):t!==A&&S(t),I(null)}})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){return I(null)},color:"primary"},t("commons.confirm.cancel")))),o.a.createElement(ae.a,{open:G,onClose:ce,maxWidth:"sm"},o.a.createElement(re.a,{style:{padding:0}},o.a.createElement(_o.a,{color:ee||x,onChange:function(e){var t=e.rgb,n="rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")");if(W&&$&&ee){te(n);var a=Me.a.cloneDeep(d);a[W][$]=n,l(a)}else P(n)}})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:ce},t("commons.confirm.close")))))})),xo={},Po=["rgba(30, 136, 229, 0.3)","rgba(194, 24, 91, 0.3)","rgba(253, 216, 53, 0.3)","rgba(14, 157, 89, 0.3)","rgba(240, 98, 146, 0.3)","rgba(255, 112, 67, 0.3)","rgba(139, 195, 74, 0.3)","rgba(0, 188, 212, 0.3)","rgba(234, 63, 77, 0.3)","rgba(170, 71, 188, 0.3)","rgba(38, 166, 154, 0.3)","rgba(255, 152, 0, 0.3)"],Do=function(e){switch(e){case"area":return"line";case"pyramid":return"horizontalBar";default:return e}},Mo=function(e){return"bar"===e||"horizontalBar"===e||"pyramid"===e},Ro=function(e){return"line"===e||"area"===e||"radar"===e},Io=function(e){return Mo(e)||Ro(e)},Bo=function(e,t,n,a,i,o,r){var l=0;return t.datasets.forEach((function(e){return e.data.forEach((function(e){return l=Math.max(l,Math.abs(e))}))})),l+=Math.floor(l/100*20),{responsive:!0,maintainAspectRatio:!1,scales:Io(e)&&"radar"!==e?{xAxes:[{gridLines:{display:"bar"!==e},ticks:{beginAtZero:"horizontalBar"===e||"pyramid"===e,callback:function(i){return"horizontalBar"===e||"pyramid"===e?"pyramid"===e&&2===t.datasets.length&&i<0?go(-i,n,a):go(i,n,a):i},max:"pyramid"===e?l:void 0,min:"pyramid"===e?-l:void 0},stacked:"pyramid"===e||o&&Io(e)}],yAxes:[{gridLines:{display:"horizontalBar"!==e&&"pyramid"!==e},ticks:{beginAtZero:"horizontalBar"!==e&&"pyramid"!==e,callback:function(t){return"horizontalBar"!==e&&"pyramid"!==e?go(t,n,a):t}},stacked:"pyramid"===e||o&&Io(e)}]}:{},legend:{display:!Io(e)||(t.datasets||[]).length>1,position:i},tooltips:{enabled:!0,mode:"index",callbacks:{title:function(e,t){return t.labels[e[0].index]||""},label:function(t,i){var o=function(){var o=r.data[t.index];return o?(o=go(o,n,a),"pyramid"===e&&2===i.datasets.length&&0===t.datasetIndex&&"-"===o[0]?o.slice(1):o):null},r=i.datasets[t.datasetIndex];return o()?"".concat(r.label,": ").concat(o()):null}}},plugins:r?{}:{zoom:{pan:{enabled:Io(e)&&"radar"!==e,mode:function(){return"horizontalBar"===e||"pyramid"===e?"x":"y"}},zoom:{enabled:Io(e)&&"radar"!==e,mode:function(){return"horizontalBar"===e||"pyramid"===e?"x":"y"}}}}}},Lo=function(e,t,n,a,i,o){var r=n.primaryDim,l=n.primaryDimValues,s=n.secondaryDim,c=n.secondaryDimValues,d=n.filtersValue,u=r[0],m=u?t.dimension[u].category.index.filter((function(e){return l.includes(e)})):l,h=s[0],f=h?t.dimension[h].category.index.filter((function(e){return c.includes(e)})):c,g=ta(t),p={};f.forEach((function(e){p[e]=new Array(m.length).fill(!1)}));var v=new Array(m.length).fill(!1),b=[];if(f&&f.length>0)f.forEach((function(n,a){var o=[];m.forEach((function(i,r){var l=t.id.map((function(e){return e===u?i:e===h?n:d[e]})),s=qn(l.map((function(e,n){return g[t.id[n]][e]})),t.size),c=t.value[s];null!==c&&void 0!==c?("pyramid"===e&&2===f.length&&0===a?o.push(-c):o.push(c),p[n][r]=!0):o.push(null)})),b.push({label:Hn(t,h,n,i),data:o})}));else{var k=[];m.forEach((function(e,n){var a=t.id.map((function(t){return t===u?e:d[t]})),i=qn(a.map((function(e,n){return g[t.id[n]][e]})),t.size),o=t.value[i];null!==o&&void 0!==o?(k.push(o),v[n]=!0):k.push(null)})),b.push({label:"",data:k})}var C=[],y=f&&f.length>0?new Array(m.length):Object(Je.a)(v);a?(f&&f.length>0&&m.forEach((function(e,t){var n=!1;f.forEach((function(e){n||!0!==p[e][t]||(n=!0)})),y[t]=n})),b.forEach((function(e){return e.data=e.data.filter((function(e,t){return y[t]}))})),m.forEach((function(e,n){y[n]&&C.push(Hn(t,u,e,i))}))):m.forEach((function(e){C.push(Hn(t,u,e,i))}));var w=function(t){return Mo(e)?b[t].data.map((function(e,n){var i,r,l,s=a?wo(y,n):n;return(null===o||void 0===o||null===(i=o[u])||void 0===i?void 0:i[m[s]])||(null===o||void 0===o||null===(r=o[h])||void 0===r?void 0:r[f[t]])||!h&&(null===o||void 0===o||null===(l=o[u])||void 0===l?void 0:l.ALL_ITEMS)||Po[t%Po.length]})):Ro(e)?h&&(null===o||void 0===o||null===(n=o[h])||void 0===n?void 0:n[f[t]])||!h&&(null===o||void 0===o||null===(i=o[u])||void 0===i?void 0:i.ALL_ITEMS)||Po[t%Po.length]:b[t].data.map((function(e,t){var n,i=a?wo(y,t):t;return(null===o||void 0===o||null===(n=o[u])||void 0===n?void 0:n[m[i]])||Po[t%Po.length]}));var n,i};return{labels:C,datasets:b.map((function(t,n){return Object(B.a)(Object(B.a)({},t),{},{borderWidth:1,lineTension:"area"===e?0:void 0,fill:"area"===e||"radar"===e,backgroundColor:w(n),borderColor:w(n)})}))}},zo=function(e,t){var n=t.primaryDim;return!(("line"===e||"area"===e)&&"TIME_PERIOD"===n[0])},Vo=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).chartRef=Object(i.createRef)(),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.jsonStat,n=e.type,a=e.layout,i=e.removeEmptyValues,o=void 0===i?zo(n,a):i,r=e.labelFormat,l=void 0===r?"LABEL_FORMAT_SELECTOR_FORMAT_NAME":r,s=e.decimalSeparator,c=e.decimalPlaces,d=e.legendPosition,u=void 0===d?"top":d,m=e.stacked,h=void 0!==m&&m,f=e.colors,g=void 0===f?xo:f,p=e.disableWheelZoom,v=void 0!==p&&p;Co.a.defaults.global.defaultFontFamily="'Roboto', 'Helvetica', 'Arial', sans-serif";var b=Lo(n,t,a,o,l,g);this.myChart=new Co.a(this.chartRef.current,{type:Do(n),options:Bo(n,b,s,c,u,h,v),data:b,plugins:[{beforeDraw:function(e){var t=e.chart.ctx;t.fillStyle="white",t.fillRect(0,0,e.chart.width,e.chart.height)}}]})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.jsonStat,a=t.type,i=t.layout,o=t.removeEmptyValues,r=void 0===o?zo(a,i):o,l=t.labelFormat,s=void 0===l?"LABEL_FORMAT_SELECTOR_FORMAT_NAME":l,c=t.decimalSeparator,d=t.decimalPlaces,u=t.legendPosition,m=void 0===u?"top":u,h=t.stacked,f=void 0!==h&&h,g=t.colors,p=void 0===g?xo:g,v=t.disableWheelZoom,b=void 0!==v&&v;if(e.jsonStat!==n||e.type!==a||!Me.a.isEqual(e.layout,i)||null!==e.labelFormat&&void 0!==e.labelFormat&&e.labelFormat!==s||null!==e.decimalSeparator&&void 0!==e.decimalSeparator&&e.decimalSeparator!==c||null!==e.decimalPlaces&&void 0!==e.decimalPlaces&&e.decimalPlaces!==d||null!==e.legendPosition&&void 0!==e.legendPosition&&e.legendPosition!==m||null!==e.stacked&&void 0!==e.stacked&&e.stacked!==f||null!==e.colors&&void 0!==e.colors&&!Me.a.isEqual(e.colors,p)){var k=Lo(a,n,i,r,s,p);this.myChart.config.type=Do(a),this.myChart.options=Bo(a,k,c,d,m,f,b),this.myChart.data=k,this.myChart.update()}}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.chartId,a=void 0===n?"cart__".concat(Object(q.a)()):n,r=e.type,l=e.layout,s="pyramid"===r&&(1!==(l.secondaryDim||[]).length||2!==(l.secondaryDimValues||[]).length);return o.a.createElement(i.Fragment,null,s&&o.a.createElement(Ii,{text:t("components.chart.pyramid.invalidSecondaryDimension")}),o.a.createElement("canvas",{id:a,ref:this.chartRef,style:{display:s?"none":"block"}}))}}]),n}(i.Component),jo=Object(vt.a)()(Vo),Fo=(n(867),n(372)),No=n(375),Go=window.jQuery,Uo=["top-left-ol-zoom","top-right-ol-zoom","bottom-left-ol-zoom","bottom-right-ol-zoom"];var Ho=Object(H.b)(null,(function(e){return{addSpinner:function(t,n){return e(xt(t,n))},markSpinner:function(t,n){return e(Pt(t,n))}}}))((function(e){var t,n=e.mapId,a=void 0===n?"map__".concat(Object(q.a)()):n,r=e.jsonStat,l=e.layout,s=e.onGeometryFetch,c=e.geometries,d=e.geometryDetailLevels,u=e.hideSpinner,m=void 0!==u&&u,h=e.isFullscreen,f=e.addSpinner,g=e.markSpinner,p=e.detailLevel,v=e.setDetailLevel,b=e.classificationMethod,k=e.paletteStartColor,C=e.paletteEndColor,y=e.paletteCardinality,w=e.opacity,A=e.isLegendCollapsed,_=e.setSettings,S=e.zoomControlPosition,E=void 0===S?"bottom-left-ol-zoom":S,O=e.disableWheelZoom,T=void 0!==O&&O,x=e.readOnly,P=void 0!==x&&x,D=e.isGeometryData,M=void 0!==D&&D,R=e.enableLog,I=void 0!==R&&R,B=Object(ue.a)().t,L=Object(i.useState)(!0),z=Object(ne.a)(L,2),V=z[0],j=z[1],F=Object(i.useState)(!0),N=Object(ne.a)(F,2),G=N[0],U=N[1],H=Object(i.useState)(null),W=Object(ne.a)(H,2),K=W[0],Y=W[1],J=Object(i.useState)(null),$=Object(ne.a)(J,2),Q=$[0],Z=$[1],X=Object(i.useState)(null),ee=Object(ne.a)(X,2),te=ee[0],ae=ee[1],ie=Object(i.useState)("quantile"),oe=Object(ne.a)(ie,2),re=oe[0],le=oe[1],ce=Object(i.useState)("#eff3ff"),de=Object(ne.a)(ce,2),me=de[0],he=de[1],fe=Object(i.useState)("#2171b5"),ge=Object(ne.a)(fe,2),pe=ge[0],ve=ge[1],be=Object(i.useState)(9),ke=Object(ne.a)(be,2),Ce=ke[0],ye=ke[1],we=Object(i.useState)(.9),Ae=Object(ne.a)(we,2),_e=Ae[0],Se=Ae[1],Ee=Object(i.useState)(!0),Oe=Object(ne.a)(Ee,2),Te=Oe[0],Pe=Oe[1],De=Object(i.useState)(Object(q.a)()),Me=Object(ne.a)(De,1)[0];return Object(i.useEffect)((function(){return function(){window.LMap.isInitialized(a)&&window.LMap.destroyMap(a)}}),[a]),Object(i.useEffect)((function(){window.dispatchEvent(new Event("resize"))}),[h]),Object(i.useEffect)((function(){if(c&&I){var e={};c.forEach((function(t){return e[t.id]=t}));var t=[];r.dimension[l.territoryDim].category.index.forEach((function(n){if(!e[n]){var a={id:n,label:r.dimension[l.territoryDim].category.label[n]};t.push(a)}})),console.log("missing ids",t)}}),[c,r,l,I]),Object(i.useEffect)((function(){var e={configure:B("components.map.translation.configure"),opacity:B("components.map.translation.opacity"),from:B("components.map.translation.from"),to:B("components.map.translation.to"),cancel:B("components.map.translation.cancel"),apply:B("components.map.translation.apply"),classification:B("components.map.translation.classification"),equalInterval:B("components.map.translation.equalInterval"),naturalBreaks:B("components.map.translation.naturalBreaks"),quantile:B("components.map.translation.quantile"),numberOfClasses:B("components.map.translation.numberOfClasses"),startColor:B("components.map.translation.startColor"),endColor:B("components.map.translation.endColor"),preview:B("components.map.translation.preview"),collapse:B("components.map.translation.collapse"),uncollapse:B("components.map.translation.uncollapse")},t={baseMap:"osm",baseMapToGray:!0,zoomControlClass:Uo.includes(E)?E:"bottom-left-ol-zoom",disableWheelZoom:T,onLoadingStart:function(){I&&console.log("Map creation - start")},onLoadingFinish:function(){I&&console.log("Map creation - done")},onSettingsChange:function(e){var t=e.classificationMethod,n=e.paletteStartColor,a=e.paletteEndColor,i=e.paletteCardinality,o=e.opacity;_?_({classificationMethod:t,paletteStartColor:n,paletteEndColor:a,paletteCardinality:i,opacity:o}):(le(t),he(n),ve(a),ye(i),Se(o))},legendFontFamily:"Roboto"};window.LMap.isInitialized(a)&&window.LMap.destroyMap(a),window.LMap.initMap(a,t,e)}),[a,_,T,E,B,I]),Object(i.useEffect)((function(){if(d)if(p&&d.map((function(e){return e.level})).includes(p))Y(p);else if(d&&(null===d||void 0===d?void 0:d.length)>0){var e=d.findIndex((function(e){return e}));Y(d[e].level)}else Y(-1)}),[a,d,p]),Object(i.useEffect)((function(){if(c&&K){if(K<0)return g(Me),void j(!1);var e={};c.forEach((function(t){return e[t.id]=t}));var t=null===l||void 0===l?void 0:l.territoryDim,n=r.dimension[t].category.index,a=ta(r),i=[],o={};n.forEach((function(n){var s=r.id.map((function(e){return e===t?n:l.filtersValue[e]})),c=qn(s.map((function(e,t){return a[r.id[t]][e]})),r.size),d=r.value[c],u=e[n];null!==d&&void 0!==d&&u&&u.nutsLevel===+K&&i.push({value:d,identifier:u.uniqueId,geometry:u.wkt,label:r.dimension[t].category.label[n]}),d&&(null===u||void 0===u?void 0:u.nutsLevel)>=0&&(o[u.nutsLevel]||(o[u.nutsLevel]=0),o[u.nutsLevel]++)})),Z(i)}}),[c,K,r,l,Me,g]),Object(i.useEffect)((function(){Q&&0!==Q.length&&(m?j(!0):f(Me,B("components.map.spinners.rendering")),ae({srid:"EPSG:4326",legendSettings:{classificationMethod:re,paletteStartColor:me,paletteEndColor:pe,paletteCardinality:Ce,opacity:_e,isLegendCollapsed:Te,pointStartRadius:1,pointEndRadius:9,pointRadiusCardinality:9},onDataRender:function(){g(Me),j(!1)},borderColor:[128,128,128,.5],valueFormatter:ho,centerMarker:M?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAABIAAAASABGyWs+AAAAB3RJTUUH5AEUBxoBYX/GhAAABKtJREFUWMPNlktslFUUx3/n+76ZKaXQYpkCBQr4JMZHfKOEBFdoIxFiWBgDWB+4cVHYkLDQDUYjgQIrA4iv4KIYQgmQslCjkIhEEoKAgYaIQsqMA50pM31M57v3uCiFduab6Uzd+F+e+7/n/O855557YQKYsfgN6juVhve+kWjrYXlg9mpqvro0EVdIOaTo+qOINaJuaDoijwGPgszD+nVuOi5YPwVyBeF3kLO43g2s1dielv8moGH9UdQNgzVzENaCrAIeBCYBYH3cdBysP7JlALgE8h0iX2L9a3gRYrvfrFxAdEMnNlKLM3TrRZBPgacK+IUCRqDAaUQ2+qnYD17dLGKfv12+gGjrYfAioHYpyBfA/MDd1sdJx5FCASP4C5EW1P6oboT47rUFBCdwmxMCaxtBPgkKbqxiFVxHcB3BqmJVgzzNQ/VjxG0UmwsM5eYbGlqPgBsCdB1Iy+gs6W3FTzbV6juL57JmUSPPzfJYUF/FQM7SkxkSLUzrbOA61v+l5tlVZE4fHLPoFRTPccH6tYizMj942BXWLWnS95fOl/qaMLlcjr+rMzw/v4bmRxpo/61bD5yJiW/GZENAV+KF92D83vFLIALIAmDhGGEKrz/TqBuX3S/1NeGCctxT7dHywlxZ9nBUA6qxELULho8xbg8ICE3A1BGLVZhTF9F3lzRRFQpuG6sQ8Rxee2Im0Slh8kRMBZrQsgQASt3o8lhVHp8zlXunTy45N6wqs+uq5KEZNZrXlB5QF7THoUzMrI0QcscfnJ4r1NeEynVbRIDQC5jRpkzWEHzT8pKnMDBk8s0G6A3iBwhQUK4DfXf0CJzvTnMjky0pQQRS/TkuJ/qHe/ku+oDr+cZgAaqAXgW6R0yuCBfjfXLobLzk6QXhp64evXJzQJyxwbpBrgYN3kABYnNx4ORoc84o27+/Quf5xJhrJiI4Muz6xOWkfnuqW4zNT5T8iheOI4XhCibhlKdXoKHJCiogK7h9G0QgPejLz109kurPae2kEKJWYomb/Jno0wNn4nx98pr09OVwxh50EJGPMP4fVNeROdWel7UARDd0AkxDnA5gSX6FFGVadYjpkxw1vTGS6X5JD5o7fZCH44jzKpAMehE9gmBy4FUlwe4FWQTcuVciw7VODfgkM7646X7EmqDAADlE9qImqV4kkBB4DRM7loMaUO0AjgdxBHAEHJFiwQFOgHQgLvFdawMJRQeRWB/ESYLuADJUjgwi21GbxA0XJRUV8M/2V0AtqD0GtFMxpB1xjiEOsV2rKxcwvGhBnCyqW4GuCqJ3IWxFbdYLlR7LJQXEtzWDNeCGLqC6BciWETyLyBYxuQsqLtc+WzNxAQCJtmYwQ4DuA/aPH1/2I84+dcPEy/iWl/camhyI9KO6GThXgnkOkc2o7dcSjVexgMSO5WAtOM5F0A+AVAAthciHWHMRxyVeovEqzwCQaHsZrEGsOQS6k7HPtQHZieN14HrEdo+f+ooFACS2vYSKa1BtAw6OWjqISBvWmNietypxWWQUl4BgUHFTwCZRve/2GNwEmnK98n9Cd/1NAA2tR5DBXjQ8eZFkM2i4+qSTvUWsyLj9X+NfjIrf5xSToJ0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDEtMjBUMDc6MjY6MDEtMDU6MDBgs6EoAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAxLTIwVDA3OjI2OjAxLTA1OjAwEe4ZlAAAACh0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vdG1wL21hZ2ljay1ydlN6UjFMS4iPJtsAAAAASUVORK5CYII=":void 0,centerMarkerText:M?"test":void 0,selectedCenterMarker:M?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADIklEQVR4AbXXA3hrWRQF4Ixt27Zt27atcGzbto3YeUZt2zbiNau+PVVO0uzv+9+r97o4UsVT6z7iUa1D66s9q26pc6+6td6lGpK0OuMF05BVaEs6jR6h949/1vzzdjrHz1tonJ+Qgc6hbbbUulbZUuuct8ZDdqCnKJsGCISTnjODAcCmY/yUTy/SzpurnSoGSbj5KZRGUYKSGECQTWdvrXcLIeSbVxIIkgFAdXQWDYWQDrAdrSCITnveiNPp1Bcs2NHgxKZqBzZ9ZMYg6bQjSV+9Tmx8Op1J93+1GD8vKcXiwkZYc5rwtqscZ7yzHFuy4ebTh3hi5H1wxRxgI1oqNj/nZQs+dxegsy8AsVp7/HjGWIRt9a7pQqTwEWxKMQc4mNonBXjehHctOQiEwpipBoNhqH/Pw2Zqhxigk46gmANcSMGJ5kZc+54LVS09mKsKG3tw4PMLGWJSgDBdIRPgZsKYU58z4pnfUxGKRDFXBcMR3PBVBjaZ+lLellCA9625iLV0f+YnHOBiCikDvPZvJqJRzFlR/tA9P+WIASJ0lUyAo6hbOe7v/GwhOvr8mKuau/048Y2l4ovYS8fLBNiGCgljznrJjH9TKjFXfbGoClvrXOLtL6MdZAKsSt8SlCPh6ndcWFbcNO2jiPCL1txm7P/sAnEEgH7iJLS6zDww9h74xSn4srcc+NJTgKL6TrT3+tHMCSi9uhPPmYqx11O+6eaAwNjz30rnkpqON6FFBGFCIiMuecOOGz704YTXFmO3J7zDjTcXr5xoOW1Oca2GNyknJNEJz5qwjVZoPFmY7qS4l+RNyJvAcrxEuPq47sJF1BtHgH66nMRVUDrEWvR1HAF+5G1fh+ZlT7gflUoEqKSDxKtPNMRd5I8hQJDu21ztEF+8hEOsSz/EEOB3Nt5A4sWTugt7Ud4sAYpof+Wkk4wQl1LXNAF66Gr5s4B8iNXoeQorAkTpVTZeXbz1yQqxMXfHfykCmGiz5DYXHsXZL5r2POFZc9b2ekfeZhrnvmye3AOqGGIXg1115NOWY3c12E/kIVV87smvTTRu1ca0yah4638QYUyY6yhczwAAAABJRU5ErkJggg==":void 0}))}),[Q,M,re,me,pe,Ce,_e,Te,m,Me,f,g,B]),Object(i.useEffect)((function(){if(a&&Q&&te){var e=B("components.map.translation.legend");setTimeout((function(){G?window.LMap.addLayer(a,Q,e,te):window.LMap.updateLayer(a,Q,e,te)}),100),ae(null),U(!1)}}),[a,Q,te,G,B]),Object(i.useEffect)((function(){null!==b&&void 0!==b&&le(b),null!==k&&void 0!==k&&he(k),null!==C&&void 0!==C&&ve(C),null!==y&&void 0!==y&&ye(y),null!==w&&void 0!==w&&Se(w),null!==A&&void 0!==A&&Pe(A)}),[b,k,C,y,w,A]),(null===l||void 0===l?void 0:l.territoryDim)&&r.dimension[l.territoryDim]?o.a.createElement(Zi,{cb:s,cbParam:Object(Je.a)(r.dimension[l.territoryDim].category.index),disabled:null!==c&&void 0!==c&&null!==d&&void 0!==d},d&&d.length>1&&K&&K>0&&o.a.createElement("div",{style:{float:"left",position:"relative",zIndex:1}},o.a.createElement("div",{style:{background:"rgba(255, 255, 255, 0.7)",margin:8,padding:8}},function(){var e=Go("<span>").css({visibility:"hidden",position:"absolute",fontSize:16}).appendTo("body").get(0),t=B("components.map.detailLevel"),n=o.a.createElement(se.a,null,o.a.createElement(Fo.a,null,t),o.a.createElement(No.a,{value:K,style:{minWidth:ki(t,e)+16},onChange:function(e){return v?v(e.target.value):Y(e.target.value)},disabled:P},d.map((function(e){return o.a.createElement(xe.a,{value:e.level,key:e.level},e.label)}))));return Go(e).remove(),n}())),null===K?o.a.createElement(Ii,{text:B("components.map.spinners.loading")+"..."}):V?o.a.createElement(Ii,{text:B("components.map.spinners.rendering")+"..."}):Q&&0!==Q.length?o.a.createElement("span",null):K>0?o.a.createElement(Ii,{text:B("components.map.noDataToDisplayFor")+" "+((null===(t=(d||[]).find((function(e){return e.level===+K})))||void 0===t?void 0:t.label)||"")}):o.a.createElement(Ii,{text:B("components.map.noDataToDisplay")}),o.a.createElement("div",{id:a,style:{width:"100%",height:"100%",position:"relative",zIndex:0,visibility:V||!Q||0===Q.length?"hidden":"visible"}})):o.a.createElement(Ii,{text:B("components.map.noTerritorialDim")})})),qo={selectorType:"TimeRange",freq:null,minDate:null,maxDate:null,fromDate:null,toDate:null,periods:null,missingRange:!1},Wo={datasetId:null,nodeCode:null,categoryPath:null,viewId:null,dataset:null,isPartialData:!1,isEmptyData:!1,isTooBigData:!1,isCriteriaVisible:!1,isCriteriaAlertVisible:!1,dimensions:null,mode:null,type:null,viewerIdx:0,view:null,template:null,hasViewLayout:!1,hasTemplateLayout:!1,hasAnnotationLayout:!1,tableLayout:null,mapLayout:null,chartLayout:null,tableFilterTree:null,mapFilterTree:null,chartFilterTree:null,labelFormat:null,criteria:{},initialCriteria:null,decimalSeparator:null,decimalPlaces:null,tableEmptyChar:"",chartStacked:!1,chartLegendPosition:"top",chartColors:{},mapDetailLevel:null,mapClassificationMethod:"quantile",mapPaletteStartColor:"#eff3ff",mapPaletteEndColor:"#2171b5",mapPaletteCardinality:9,mapOpacity:.9,mapIsLegendCollapsed:!0,hasMapStartColor:!1,hasMapEndColor:!1,enableCriteria:!0,enableLayout:!0,maxAllowedCells:1e6,codes:null,isCodesFlat:!1,codelists:null,areCodelistsFlat:[],codelistsLength:null,timePeriod:qo,criteriaObsCount:null,timings:null,isFetchStructureDisabled:!0,isFetchDatasetDisabled:!0,isDownloadWarningVisible:!1,isUnavailableViewWarningVisible:!1,isCriteriaLengthWarningVisible:!1,geometries:null,geometryDetailLevels:null,backup:null,isViewVisible:!1,isViewErrorVisible:!1,viewErrorMessage:null,isTemplateVisible:!1,templateGeometries:null,templateGeometryDetailLevels:null},Ko=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dataset/state/backup":return Object(B.a)(Object(B.a)({},Wo),{},{backup:{viewId:e.viewId,datasetId:e.datasetId,nodeCode:e.nodeCode,categoryPath:e.categoryPath,template:{defaultView:ql(e.viewerIdx),criteria:la(e.criteria),layouts:JSON.stringify({labelFormat:e.labelFormat,tableLayout:e.tableLayout,mapLayout:e.mapLayout,chartLayout:e.chartLayout,tableEmptyChar:e.tableEmptyChar,chartStacked:e.chartStacked,chartLegendPosition:e.chartLegendPosition,chartColors:e.chartColors,mapDetailLevel:e.mapDetailLevel,mapClassificationMethod:e.mapClassificationMethod,mapPaletteStartColor:e.mapPaletteStartColor,mapPaletteEndColor:e.mapPaletteEndColor,mapPaletteCardinality:e.mapPaletteCardinality,mapOpacity:e.mapOpacity,mapIsLegendCollapsed:e.mapIsLegendCollapsed})}}});case"dataset/state/reset":return Object(B.a)(Object(B.a)({},Wo),{},{backup:e.backup});case"dataset/structure/fetch/enable":return Object(B.a)(Object(B.a)({},e),{},{isFetchStructureDisabled:!1,datasetId:t.payload.datasetId,nodeCode:t.payload.nodeCode,categoryPath:t.payload.categoryPath,viewId:t.payload.viewId||null});case"dataset/fetch/enable":return Object(B.a)(Object(B.a)({},e),{},{isFetchDatasetDisabled:!1,criteriaObsCount:null});case"dataset/criteria/show":return Object(B.a)(Object(B.a)({},e),{},{isCriteriaVisible:!0});case"dataset/criteria/hide":return Object(B.a)(Object(B.a)({},e),{},{isCriteriaVisible:!1,criteria:e.initialCriteria,codes:null,isCodesFlat:!1,codelists:null,areCodelistsFlat:[],timePeriod:qo});case"dataset/criteria/alert/hide":return Object(B.a)(Object(B.a)({},e),{},{isCriteriaAlertVisible:!1});case"dataset/structure/codelist/criteria/set":return Object(B.a)(Object(B.a)({},e),{},{criteria:t.criteria,timePeriod:Object(B.a)(Object(B.a)({},e.timePeriod),{},{freq:t.criteria[Nn]?ra(t.criteria):e.timePeriod.freq}),criteriaObsCount:null});case"dataset/structure/codelist/timePeriod/set":var n=Me.a.cloneDeep(e.criteria),a=t.timePeriod.selectorType||"TimeRange";return n=Object(B.a)(Object(B.a)({},n),{},Object(L.a)({},"TIME_PERIOD","TimePeriod"===a&&null===t.timePeriod.periods?void 0:{id:"TIME_PERIOD",type:a,filterValues:null,period:"TimePeriod"===a?t.timePeriod.periods:null,from:"TimeRange"===a?t.timePeriod.fromDate:null,to:"TimeRange"===a?t.timePeriod.toDate:null})),Object(B.a)(Object(B.a)({},e),{},{criteria:n,timePeriod:t.timePeriod,criteriaObsCount:null});case"dataset/viewer/set":return Object(B.a)(Object(B.a)({},e),{},{viewerIdx:t.viewerIdx});case"dataset/table/layout/submit":return Object(B.a)(Object(B.a)({},e),{},{tableLayout:t.layout});case"dataset/table/filters/tree/submit":return Object(B.a)(Object(B.a)({},e),{},{tableFilterTree:t.filterTree});case"dataset/map/layout/submit":return Object(B.a)(Object(B.a)({},e),{},{mapLayout:t.layout});case"dataset/chart/layout/submit":return Object(B.a)(Object(B.a)({},e),{},{chartLayout:t.layout});case"dataset/chart/filters/tree/submit":return Object(B.a)(Object(B.a)({},e),{},{chartFilterTree:t.filterTree});case"dataset/label/format/set":return Object(B.a)(Object(B.a)({},e),{},{labelFormat:t.labelFormat});case"dataset/chart/stacked/set":return Object(B.a)(Object(B.a)({},e),{},{chartStacked:t.stacked});case"dataset/chart/legend/position/set":return Object(B.a)(Object(B.a)({},e),{},{chartLegendPosition:t.legendPosition});case"dataset/chart/colors/set":return Object(B.a)(Object(B.a)({},e),{},{chartColors:t.colors});case"dataset/map/detail/level/set":return Object(B.a)(Object(B.a)({},e),{},{mapDetailLevel:t.detailLevel});case"dataset/map/settings/set":return Object(B.a)(Object(B.a)({},e),{},{mapClassificationMethod:null!==t.mapSettings.classificationMethod&&void 0!==t.mapSettings.classificationMethod?t.mapSettings.classificationMethod:e.mapClassificationMethod,mapPaletteStartColor:null!==t.mapSettings.paletteStartColor&&void 0!==t.mapSettings.paletteStartColor?t.mapSettings.paletteStartColor:e.mapPaletteStartColor,mapPaletteEndColor:null!==t.mapSettings.paletteEndColor&&void 0!==t.mapSettings.paletteEndColor?t.mapSettings.paletteEndColor:e.mapPaletteEndColor,mapPaletteCardinality:null!==t.mapSettings.paletteCardinality&&void 0!==t.mapSettings.paletteCardinality?t.mapSettings.paletteCardinality:e.mapPaletteCardinality,mapOpacity:null!==t.mapSettings.opacity&&void 0!==t.mapSettings.opacity?t.mapSettings.opacity:e.mapOpacity,mapIsLegendCollapsed:null!==t.mapSettings.isLegendCollapsed&&void 0!==t.mapSettings.isLegendCollapsed?t.mapSettings.isLegendCollapsed:e.mapIsLegendCollapsed});case"dataset/download/warning/hide":return Object(B.a)(Object(B.a)({},e),{},{isDownloadWarningVisible:!1});case"dataset/unavailable/view/warning/hide":return Object(B.a)(Object(B.a)({},e),{},{isUnavailableViewWarningVisible:!1});case"dataset/criteria/length/warning/show":return Object(B.a)(Object(B.a)({},e),{},{isCriteriaLengthWarningVisible:!0,isFetchDatasetDisabled:!0});case"dataset/criteria/length/warning/hide":return Object(B.a)(Object(B.a)({},e),{},{isCriteriaLengthWarningVisible:!1});case"dataset/html/generating/time/set":return Object(B.a)(Object(B.a)({},e),{},{timings:Object(B.a)(Object(B.a)({},e.timings),{},Object(L.a)({},"generatingHtml",t.time))});case"fetch/dataset/async/handler/init":return Object(B.a)(Object(B.a)({},e),{},{dataset:null,isFetchDatasetDisabled:!0});case"fetch/dataset/async/handler/success":var i,o,r;return t.payload.worker&&t.payload.worker.terminate(),Object(B.a)(Object(B.a)({},e),{},{dataset:0!==((null===(i=t.payload.response)||void 0===i?void 0:i.id)||"").length?t.payload.response:null,isTooBigData:t.payload.isTooBigData,isEmptyData:t.payload.isEmptyData,isPartialData:t.payload.isPartialData,isCriteriaVisible:t.payload.isResponseNotValid,isCriteriaAlertVisible:t.payload.isResponseNotValid,tableLayout:t.payload.tableLayout,mapLayout:t.payload.mapLayout,chartLayout:t.payload.chartLayout,tableFilterTree:t.payload.tableFilterTree,mapFilterTree:t.payload.mapFilterTree,chartFilterTree:t.payload.chartFilterTree,initialCriteria:t.payload.isResponseNotValid?e.initialCriteria:e.criteria,codes:t.payload.isResponseNotValid?e.codes:null,isCodesFlat:!!t.payload.isResponseNotValid&&e.isCodesFlat,codelists:t.payload.isResponseNotValid?e.codelists:null,areCodelistsFlat:t.payload.isResponseNotValid?e.areCodelistsFlat:[],isCriteriaLengthWarningVisible:!1,timings:(r={},Object(L.a)(r,"observationCount",(null===(o=t.payload.response)||void 0===o?void 0:o.value)?Object.keys(t.payload.response.value).length:null),Object(L.a)(r,"serverTimings",t.payload.responseHeaders.backendtimers?JSON.parse(t.payload.responseHeaders.backendtimers):null),r)});case"fetch/dataset/async/handler/error":var l=413===t.payload.statusCode;return Object(B.a)(Object(B.a)({},e),{},{dataset:null,isPartialData:!1,isEmptyData:!1,isTooBigData:l,isCriteriaAlertVisible:l});case"dataset/view/template/show":return Object(B.a)(Object(B.a)({},e),{},{isViewVisible:!!t.isView||e.isViewVisible,isTemplateVisible:!t.isView||e.isTemplateVisible});case"dataset/view/template/hide":return Object(B.a)(Object(B.a)({},e),{},{isViewVisible:!t.isView&&e.isViewVisible,isTemplateVisible:!!t.isView&&e.isTemplateVisible,templateGeometries:null,templateGeometryDetailLevels:null});case"dataset/view/error/hide":return Object(B.a)(Object(B.a)({},e),{},{isViewErrorVisible:!1,viewErrorMessage:null});case"request/init":switch(t.payload.label){case"dataset/structure/fetch":return Object(B.a)(Object(B.a)({},e),{},{isFetchStructureDisabled:!0});case"dataset/structure/codelist/fetch":return Object(B.a)(Object(B.a)({},e),{},{codes:null,isCodesFlat:!1,criteriaObsCount:null});default:return e}case K:switch(t.payload.label){case"dataset/structure/fetch":var s,c,d,u,m,h,f,g,p,v,b,k,C,y,w,A,_,S,E,O,T,x,P,D,M,R,I,z,V,j,F,N,G,U,H,q,Y,J=t.payload.response.criteriaView,$="view",Q="template",Z=t.payload.response[$]?t.payload.response[$]:t.payload.response[Q]?t.payload.response[Q]:null,X=null!==e.backup&&e.backup.nodeCode===e.nodeCode&&(e.backup.categoryPath||[]).join()===(e.categoryPath||[]).join()&&e.backup.datasetId===e.datasetId&&(e.backup.viewId||"")===(e.viewId||"");if(X)Z=Object(B.a)(Object(B.a)({},Z),null===(Y=e.backup)||void 0===Y?void 0:Y.template);var ee=Z?JSON.parse(Z.layouts):null;if(t.payload.response[$])if(t.payload.response[Q]){var te=JSON.parse(t.payload.response[Q].layouts);Z=Object(B.a)(Object(B.a)({},Z),{},{enableCriteria:t.payload.response[Q].enableCriteria,enableLayout:t.payload.response[Q].enableLayout,decimalNumber:t.payload.response[Q].decimalNumber,decimalSeparator:t.payload.response[Q].decimalSeparator}),ee=Object(B.a)(Object(B.a)({},ee),{},{tableLayout:ee.tableLayout||te.tableLayout,tableEmptyChar:te.tableEmptyChar,mapLayout:ee.mapLayout||te.mapLayout,chartLayout:ee.chartLayout||te.chartLayout})}else Z=Object(B.a)(Object(B.a)({},Z),{},{enableCriteria:!0,enableLayout:!0});var ne=(null===(s=ee)||void 0===s?void 0:s.tableLayout)?ee.tableLayout:t.payload.response.layout?t.payload.response.layout:null,ae=(null===(c=ee)||void 0===c?void 0:c.mapLayout)?ee.mapLayout:null,ie=(null===(d=ee)||void 0===d?void 0:d.chartLayout)?ee.chartLayout:t.payload.response.layoutChart?Object(B.a)(Object(B.a)({},t.payload.response.layoutChart),{},{filters:void 0}):null,oe=Z?Z.criteria:t.payload.response.filters?t.payload.response.filters:null,re=sa(oe),le=0;if(Z)le=Hl(Z.defaultView);else if(t.payload.response.defaultView){var se=t.payload.response.defaultView;"table"===(se||"").toLowerCase()?le=0:"map"===(se||"").toLowerCase()?le=1:"graph"===(se||"").toLowerCase()&&(le=2)}return Object(B.a)(Object(B.a)({},e),{},{backup:null,hasViewLayout:!!t.payload.response[$],hasTemplateLayout:!!t.payload.response[Q],hasAnnotationLayout:!!t.payload.response.layout,view:t.payload.response[$]?Object(B.a)(Object(B.a)({},t.payload.response[$]),{},{layouts:JSON.parse(t.payload.response[$].layouts)}):null,template:t.payload.response[Q]?Object(B.a)(Object(B.a)({},t.payload.response[Q]),{},{layouts:JSON.parse(t.payload.response[Q].layouts)}):null,dimensions:t.payload.response.criteria,mode:"FullAll"===J||"PartialAll"===J?"all":"stepByStep",type:"FullAll"===J||"FullStep"===J?"full":"PartialAll"===J||"PartialStep"===J?"partial":"dynamic",codelistsLength:e.codelistsLength?e.codelistsLength:t.payload.response.criteria.map((function(){return null})),isCriteriaVisible:null===oe,viewerIdx:le,isUnavailableViewWarningVisible:!!(null===(u=t.payload.extra)||void 0===u?void 0:u.viewId)&&!(null===(m=t.payload.response)||void 0===m?void 0:m[$]),tableLayout:ne,mapLayout:ae,chartLayout:ie,labelFormat:(null===(h=ee)||void 0===h?void 0:h.labelFormat)||"LABEL_FORMAT_SELECTOR_FORMAT_NAME",criteria:re,initialCriteria:re,decimalSeparator:Object.keys((null===(f=Z)||void 0===f?void 0:f.decimalSeparator)||{}).length>0?Ie(Z.decimalSeparator,t.payload.extra.defaultLanguage,t.payload.extra.languages):t.payload.response.decimalSeparator,decimalPlaces:(null===(g=Z)||void 0===g?void 0:g.decimalNumber)||t.payload.response.decimalPlaces,tableEmptyChar:null!==(null===(p=ee)||void 0===p?void 0:p.tableEmptyChar)&&void 0!==(null===(v=ee)||void 0===v?void 0:v.tableEmptyChar)?ee.tableEmptyChar:null!==t.payload.response.emptyCellPlaceHolder&&void 0!==t.payload.response.emptyCellPlaceHolder?t.payload.response.emptyCellPlaceHolder:e.tableEmptyChar,chartStacked:null!==(null===(b=ee)||void 0===b?void 0:b.chartStacked)&&void 0!==(null===(k=ee)||void 0===k?void 0:k.chartStacked)?ee.chartStacked:e.chartStacked,chartLegendPosition:null!==(null===(C=ee)||void 0===C?void 0:C.chartLegendPosition)&&void 0!==(null===(y=ee)||void 0===y?void 0:y.chartLegendPosition)?ee.chartLegendPosition:e.chartLegendPosition,chartColors:null!==(null===(w=ee)||void 0===w?void 0:w.chartColors)&&void 0!==(null===(A=ee)||void 0===A?void 0:A.chartColors)?ee.chartColors:e.chartColors,mapDetailLevel:null!==(null===(_=ee)||void 0===_?void 0:_.mapDetailLevel)&&void 0!==(null===(S=ee)||void 0===S?void 0:S.mapDetailLevel)?ee.mapDetailLevel:e.mapDetailLevel,mapClassificationMethod:null!==(null===(E=ee)||void 0===E?void 0:E.mapClassificationMethod)&&void 0!==(null===(O=ee)||void 0===O?void 0:O.mapClassificationMethod)?ee.mapClassificationMethod:e.mapClassificationMethod,mapPaletteStartColor:null!==(null===(T=ee)||void 0===T?void 0:T.mapPaletteStartColor)&&void 0!==(null===(x=ee)||void 0===x?void 0:x.mapPaletteStartColor)?ee.mapPaletteStartColor:e.mapPaletteStartColor,mapPaletteEndColor:null!==(null===(P=ee)||void 0===P?void 0:P.mapPaletteEndColor)&&void 0!==(null===(D=ee)||void 0===D?void 0:D.mapPaletteEndColor)?ee.mapPaletteEndColor:e.mapPaletteEndColor,mapPaletteCardinality:null!==(null===(M=ee)||void 0===M?void 0:M.mapPaletteCardinality)&&void 0!==(null===(R=ee)||void 0===R?void 0:R.mapPaletteCardinality)?ee.mapPaletteCardinality:e.mapPaletteCardinality,mapOpacity:null!==(null===(I=ee)||void 0===I?void 0:I.mapOpacity)&&void 0!==(null===(z=ee)||void 0===z?void 0:z.mapOpacity)?ee.mapOpacity:e.mapOpacity,mapIsLegendCollapsed:null!==(null===(V=ee)||void 0===V?void 0:V.mapIsLegendCollapsed)&&void 0!==(null===(j=ee)||void 0===j?void 0:j.mapIsLegendCollapsed)?ee.mapIsLegendCollapsed:e.mapIsLegendCollapsed,hasMapStartColor:null!==(null===(F=ee)||void 0===F?void 0:F.mapPaletteStartColor)&&void 0!==(null===(N=ee)||void 0===N?void 0:N.mapPaletteStartColor),hasMapEndColor:null!==(null===(G=ee)||void 0===G?void 0:G.mapPaletteEndColor)&&void 0!==(null===(U=ee)||void 0===U?void 0:U.mapPaletteEndColor),enableCriteria:!1!==(null===(H=Z)||void 0===H?void 0:H.enableCriteria),enableLayout:!1!==(null===(q=Z)||void 0===q?void 0:q.enableLayout),isFetchDatasetDisabled:null===oe,maxAllowedCells:t.payload.response.maxTableCells||1e6});case"dataset/structure/codelist/fetch":var ce,de=t.payload.response.criteria[0]||{},ue=de.values?de.values:[],me=de.id?(e.dimensions||[]).map((function(e){return e.id})).indexOf(de.id):-1,he=e.codelistsLength?Object(Je.a)(e.codelistsLength):[];me>=0&&"TIME_PERIOD"!==de.id&&(he[me]=ue.length);var fe=!0;ue.forEach((function(e){fe&&null!==e.parentId&&void 0!==e.parentId&&(fe=!1)}));var ge=Me.a.cloneDeep(e.criteria);return"TIME_PERIOD"!==de.id&&1===ue.length&&(ge=Object(B.a)(Object(B.a)({},ge),{},Object(L.a)({},de.id,{id:de.id,type:"CodeValues",filterValues:[ue[0].id]}))),Object(B.a)(Object(B.a)({},e),{},{criteria:ge,codes:vo(ue||[],"parentId","children"),isCodesFlat:fe,codelistsLength:he,timePeriod:oa(e.timePeriod,e.criteria,"TIME_PERIOD"===de.id?de:null,de.id===Nn?de:null),criteriaObsCount:"stepByStep"===e.mode&&"dynamic"===e.type&&(null===(ce=t.payload.response)||void 0===ce?void 0:ce.obsCount)||null});case"dataset/structure/codelists/fetch":var pe=(e.dimensions||[]).map((function(e){var n=e.id,a=t.payload.response.criteria.find((function(e){return e.id===n}));return{id:n,values:(null===a||void 0===a?void 0:a.values)||[]}})),ve=pe?pe.map((function(e){return e.values||[]})):[],be=ve.map((function(){return!0}));ve.forEach((function(e,t){e.forEach((function(e){be[t]&&null!==e.parentId&&void 0!==e.parentId&&(be[t]=!1)}))}));var ke=(e.dimensions||[]).map((function(e){return e.id})).indexOf("TIME_PERIOD"),Ce=(e.dimensions||[]).map((function(e){return e.id})).indexOf(Nn),ye=Me.a.cloneDeep(e.criteria);return pe.forEach((function(e,t){"TIME_PERIOD"!==e.id&&1===ve[t].length&&(ye=Object(B.a)(Object(B.a)({},ye),{},Object(L.a)({},e.id,{id:e.id,type:"CodeValues",filterValues:[ve[t][0].id]})))})),Object(B.a)(Object(B.a)({},e),{},{codelists:ve.map((function(e){return vo(e||[],"parentId","children")})),areCodelistsFlat:be,timePeriod:oa(e.timePeriod,e.criteria,pe[ke],pe[Ce]),codelistsLength:ve.map((function(e,t){return t!==ke?e.length:null})),criteria:ye});case"dataset/geometries/fetch":return Object(B.a)(Object(B.a)({},e),{},{geometries:t.payload.response,geometryDetailLevels:Ao(t.payload.response,!0,t.payload.extra.t)});case"dataset/view/template/geometries/fetch":return Object(B.a)(Object(B.a)({},e),{},{templateGeometries:t.payload.response,templateGeometryDetailLevels:Ao(t.payload.response,!0,t.payload.extra.t)});case"dataset/view/template/submit":return Object(B.a)(Object(B.a)({},e),{},{isViewVisible:!1,isTemplateVisible:!1,templateGeometries:null,templateGeometryDetailLevels:null});default:return e}case W:switch(t.payload.label){case"dataset/structure/fetch":return Object(B.a)(Object(B.a)({},Wo),{},{enableCriteria:!1,enableLayout:!1});case"dataset/structure/codelist/fetch":case"dataset/structure/codelists/fetch":return Object(B.a)({},e);case"dataset/geometries/fetch":return Object(B.a)(Object(B.a)({},e),{},{dataset:null,geometries:null,geometryDetailLevels:null});case"dataset/download/submit":return Object(B.a)(Object(B.a)({},e),{},{isDownloadWarningVisible:406===t.payload.statusCode});case"dataset/view/template/submit":return Object(B.a)(Object(B.a)({},e),{},{isViewErrorVisible:!(!t.payload.extra.isView||409!==t.payload.statusCode||!t.payload.response),viewErrorMessage:t.payload.response});default:return e}default:return e}},Yo=function(e){return function(e){var t;return t={nsiResponse:e("timings.nsiResponse"),nsiResponseDownload:e("timings.nsiResponseDownload")},Object(L.a)(t,"nsiResponseDownloadSize",e("timings.nsiResponseDownloadSize")),Object(L.a)(t,"jsonToJsonStat",e("timings.jsonToJsonStat")),Object(L.a)(t,"xmlToJsonStat",e("timings.xmlToJsonStat")),Object(L.a)(t,"others",e("timings.others")),Object(L.a)(t,"total",e("timings.total")),Object(L.a)(t,"cacheRead",e("timings.cacheRead")),t}(void 0!==e?e:function(e){return e})},Jo=function(e,t,n){return o.a.createElement(b.a,{container:!0,key:e,justify:"space-between",spacing:2,style:{height:n?40:void 0}},o.a.createElement(b.a,{item:!0,style:n?{fontSize:15,fontWeight:"bold",textDecoration:"underline"}:void 0},e),t&&o.a.createElement(b.a,{item:!0},o.a.createElement("b",null,t)))},$o=Object(he.d)(Object(g.a)((function(e){return{root:{},divider:{margin:"16px 0"}}})),Object(vt.a)())((function(e){var t=e.t,n=e.classes,a=e.timings,r=[];if(a){if(null!==a.generatingHtml&&void 0!==a.generatingHtml&&(r.push(Jo(t("timings.observationCount"),a.observationCount,!0)),r.push(o.a.createElement(_.a,{className:n.divider,key:"divider1"}))),a.serverTimings){for(var l in r.push(Jo(t("timings.serverTimings"),null,!0)),a.serverTimings)a.serverTimings.hasOwnProperty(l)&&"total"!==l&&"nsiResponseDownloadSize"!==l&&r.push(Jo(Yo(t)[l],a.serverTimings[l]));r.push(Jo(Yo(t).total,a.serverTimings.total,!0)),r.push(o.a.createElement(_.a,{className:n.divider,key:"divider2"})),a.serverTimings.nsiResponseDownloadSize&&(r.push(Jo(Yo(t).nsiResponseDownloadSize,a.serverTimings.nsiResponseDownloadSize,!0)),r.push(o.a.createElement(_.a,{className:n.divider,key:"divider3"})))}null!==a.generatingHtml&&void 0!==a.generatingHtml&&(r.push(Jo(t("timings.clientTimings"),null,!0)),r.push(Jo(t("timings.generatingHtml"),"".concat(a.generatingHtml,"ms"))))}return o.a.createElement(i.Fragment,null,r)})),Qo=Object(vt.a)()((function(e){var t=e.t,n=e.view,a=e.onChange;return o.a.createElement(b.a,{container:!0,spacing:2},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(yn,{label:t("scenes.dataViewer.viewBuilder.form.title.label"),required:!0,variant:"outlined",value:n.title,onChange:function(e){return a(Object(B.a)(Object(B.a)({},n),{},{title:e}))}}))))})),Zo=function(e){var t=0;return e.forEach((function(e){!0===e&&t++})),t},Xo=function(e){return e?'<td class="c c-rb" style="min-width: '.concat(e,'px;">'):""},er=(n(868),n(965)),tr=n(537),nr=n.n(tr),ar=n(538),ir=n.n(ar),or=window.jQuery,rr=null,lr=null,sr=null;function cr(e){var t=e.uuid,n=e.classes,a=e.orientation,r=e.value,l=e.maxValue,s=e.onChange,c=e.onIncrement,d=e.ticks,u=e.isVerticalScrollbarVisible;Object(i.useEffect)((function(){var e=function(){clearInterval(lr),sr=null};return window.addEventListener("mouseup",e),function(){return window.removeEventListener("mouseup",e)}}),[]);var m=function(e,t,n,a){var i=Math.ceil(d/10);"mousedown"===t.type?(sr=function(e,t){var n=t.getBoundingClientRect();return e.clientY>=n.top-32&&e.clientY<=n.bottom+32&&e.clientX>=n.left-32&&e.clientX<=n.right+32}(t,or("#".concat(a," span.MuiSlider-thumb"))[0]),n<e?e-i>n?(c(!1,i,n),clearInterval(lr),lr=setInterval((function(){return c(!1,i,n)}),200)):s(n):e+i<n?(c(!0,i,n),clearInterval(lr),lr=setInterval((function(){return c(!0,i,n)}),200)):s(n)):"mousemove"===t.type&&sr&&s(n)};return"vertical"===a?o.a.createElement("div",{style:{width:32,height:"100%",display:"inline-block",verticalAlign:"top"}},o.a.createElement(P.a,{className:n.sliderButton,onMouseDown:function(){r>0&&(c(!1,1),lr=setInterval((function(){return c(!1,1)}),200))},disabled:0===r},o.a.createElement(Bt.a,null)),o.a.createElement(er.a,{id:"sliders__custom-sliders__vertical__".concat(t),orientation:"vertical",value:d-r,min:0,max:d,onChange:function(e,n){m(r,e,d-n,"sliders__custom-sliders__vertical__".concat(t))},track:"inverted",className:n.verticalSlider,style:{height:"calc(100% - ".concat(72,"px)"),padding:"0 15px",margin:"".concat(4,"px 0")}}),o.a.createElement(P.a,{className:n.sliderButton,onMouseDown:function(){r<l-1&&(c(!0,1),lr=setInterval((function(){return c(!0,1)}),200))},disabled:r>=l-1},o.a.createElement(Ne.a,null))):o.a.createElement("div",{style:{width:"100%",height:32,display:"inline-block",verticalAlign:"middle"}},o.a.createElement(P.a,{className:n.sliderButton,style:{display:"inline-block",verticalAlign:"middle"},onMouseDown:function(){c(!1,1),lr=setInterval((function(){return c(!1,1)}),200)},disabled:0===r},o.a.createElement(nr.a,{fontSize:"small"})),o.a.createElement(er.a,{id:"sliders__custom-sliders__horizontal__".concat(t),orientation:"horizontal",value:r,min:0,max:d,onChange:function(e,n){return m(r,e,n,"sliders__custom-sliders__horizontal__".concat(t))},className:n.horizontalSlider,style:{width:"calc(100% - ".concat(72+(u?32:0),"px)"),padding:"15px 0",display:"inline-block",verticalAlign:"middle",margin:"0 ".concat(4,"px")}}),o.a.createElement(P.a,{className:n.sliderButton,style:{display:"inline-block",verticalAlign:"middle"},onMouseDown:function(){c(!0,1),lr=setInterval((function(){return c(!0,1)}),200)},disabled:r>=l-1},o.a.createElement(ir.a,null)),u&&o.a.createElement("div",{style:{width:32,height:32,display:"inline-block",verticalAlign:"middle"}}))}var dr=fi()((function(e){return{root:{},sliderButton:{width:32,height:32,padding:0,"& svg":{width:32,height:32}},horizontalSlider:{color:"#808080","& span.MuiSlider-rail":{backgroundColor:"#cfcfcf",opacity:1},"& span.MuiSlider-track":{backgroundColor:"#cfcfcf",opacity:1}},verticalSlider:{color:"#808080","& span.MuiSlider-rail":{backgroundColor:"#cfcfcf",opacity:1},"& span.MuiSlider-track":{backgroundColor:"#cfcfcf",opacity:1}},spinnerOverlay:{width:"100%",height:"100%",position:"absolute",top:0,left:0}}}))((function(e){var t=e.classes,n=e.children,a=e.verticalValue,r=e.verticalMaxValue,l=e.verticalTicks,s=e.onVerticalScroll,c=e.isVerticalScrollbarVisible,d=e.horizontalValue,u=e.horizontalMaxValue,m=e.horizontalTicks,h=e.onHorizontalScroll,f=e.isHorizontalScrollbarVisible,g=e.disableWheelZoom,p=Object(ue.a)().t,v=Object(i.useState)(Object(q.a)()),b=Object(ne.a)(v,1)[0],k=Object(i.useState)(a),C=Object(ne.a)(k,2),y=C[0],w=C[1],A=Object(i.useState)(d),_=Object(ne.a)(A,2),S=_[0],E=_[1],O=Object(i.useState)(!1),T=Object(ne.a)(O,2),x=T[0],P=T[1],D=function(e,t){t?(w(e),e!==y&&P(!0)):(E(e),e!==S&&P(!0))},M=function(e,t,n,a){return n?e+t>a?a:e+t:e-t<a?a:e-t},R=function(e,t,n,a){return t?w((function(t){return M(t,n,e,e?a||r-1:a||0)})):E((function(t){return M(t,n,e,e?a||u-1:a||0)}))},I=Object(i.useCallback)((function(e){var t=0!==e.wheelDeltaY,n=t?e.wheelDeltaY>0?-1:1:e.wheelDeltaX>0?-1:1,a=function(e,t,n){return e>=t&&e<n};t?w((function(e){var t=a(e+n,0,r)?e+n:e;return c?t:e})):E((function(e){var t=a(e+n,0,u)?e+n:e;return f?t:e}))}),[c,f,r,u,w,E]);return Object(i.useEffect)((function(){return g||document.getElementById("scrollbars-container__".concat(b)).addEventListener("wheel",I),function(){return document.getElementById("scrollbars-container__".concat(b)).removeEventListener("wheel",I)}}),[b,g,I]),Object(i.useEffect)((function(){rr&&clearTimeout(rr),rr=setTimeout((function(){s(y),h(S),P(!1)}),100)}),[y,S,s,h,P]),Object(i.useEffect)((function(){w(a),E(d)}),[a,d,w,E]),o.a.createElement("div",{id:"scrollbars-container__".concat(b),style:{width:"100%",height:"100%"}},o.a.createElement("div",{style:{width:"100%",height:"calc(100% - ".concat(f?32:0,"px)")}},o.a.createElement("div",{style:{width:"calc(100% - ".concat(c?32:0,"px)"),height:"100%",display:"inline-block",verticalAlign:"top",position:"relative"}},o.a.createElement("div",{className:t.spinnerOverlay,style:{filter:x?"blur(1px)":""}},n),x&&o.a.createElement("div",{className:t.spinnerOverlay},o.a.createElement(Ii,{text:p("components.table.scrollbars.loading")+"...",textStyle:{fontWeight:"bold"},color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.1)",image:o.a.createElement(Di.a,{style:{color:"#ffffff"}})}))),c&&o.a.createElement(cr,{uuid:b,classes:t,orientation:"vertical",value:y,maxValue:r,onChange:function(e){return D(e,!0)},onIncrement:function(e,t,n){return R(e,!0,t,n)},ticks:l,isVerticalScrollbarVisible:c})),f&&o.a.createElement(cr,{uuid:b,classes:t,orientation:"horizontal",value:S,maxValue:u,onChange:function(e){return D(e,!1)},onIncrement:function(e,t,n){return R(e,!1,t,n)},ticks:m,isVerticalScrollbarVisible:c}))})),ur=n(539),mr=n.n(ur),hr=n(955),fr=window.jQuery,gr=!1,pr=!1,vr=function(e,t,n,a,i){var o=t.getBoundingClientRect(),r=e.getBoundingClientRect();return r.top>=o.top&&r.bottom<=o.bottom-(a?32:0)&&(!0===i||r.left>=o.left&&r.right<=o.right-(n?32:0))},br=function(e,t){return"".concat(t||e).concat(t!==e?" [".concat(e,"]"):"")};var kr=Object(he.d)(Object(H.b)(null,(function(e){return{onTimeSet:function(t){return e(function(e){return{type:"dataset/html/generating/time/set",time:e}}(t))},addSpinner:function(t,n){return e(xt(t,n))},removeSpinner:function(t,n){return e(Pt(t,n))}}})),fi()((function(e){return{root:{width:"100%",height:"100%"},table:{width:"100%",height:"100%"}}})))((function(e){var t=e.classes,n=e.jsonStat,a=e.layout,r=e.labelFormat,l=void 0===r?"LABEL_FORMAT_SELECTOR_FORMAT_NAME":r,s=e.fontSize,c=e.isFullscreen,d=e.isPreview,u=void 0!==d&&d,m=e.removeEmptyLines,h=void 0===m?!u:m,f=e.isPaginated,g=void 0===f?!u:f,p=e.isStickyHeader,v=void 0===p||p,k=e.decimalSeparator,C=e.decimalPlaces,y=e.emptyChar,w=e.hiddenAttributes,A=e.addSpinner,_=e.removeSpinner,S=e.hideSpinner,O=void 0!==S&&S,T=e.disableWheelZoom,x=void 0!==T&&T,P=e.onTimeSet,D=Object(ue.a)().t,M=Object(i.useState)(Object(q.a)()),R=Object(ne.a)(M,1)[0],I=Object(i.useState)(Object(q.a)()),L=Object(ne.a)(I,1)[0],z=Object(i.useState)(null),V=Object(ne.a)(z,2),j=V[0],F=V[1],N=Object(i.useState)(""),G=Object(ne.a)(N,2),U=G[0],H=G[1],W=Object(i.useState)(0),K=Object(ne.a)(W,2),Y=K[0],J=K[1],$=Object(i.useState)(0),Q=Object(ne.a)($,2),Z=Q[0],X=Q[1],ee=Object(i.useState)(1),te=Object(ne.a)(ee,2),le=te[0],se=te[1],ce=Object(i.useState)(1),me=Object(ne.a)(ce,2),he=me[0],fe=me[1],ge=Object(i.useState)(0),pe=Object(ne.a)(ge,2),ve=pe[0],be=pe[1],ke=Object(i.useState)(null),Ce=Object(ne.a)(ke,2),ye=Ce[0],we=Ce[1],Ae=Object(i.useState)(null),_e=Object(ne.a)(Ae,2),Se=_e[0],Ee=_e[1],Te=Object(i.useState)(null),xe=Object(ne.a)(Te,2),Pe=xe[0],De=xe[1],Me=Object(i.useState)(!1),Re=Object(ne.a)(Me,2),Ie=Re[0],Be=Re[1],Le=Object(i.useState)((function(){return new Worker("./workers/getJsonStatTableSupportStructuresWorker.js")})),ze=Object(ne.a)(Le,1)[0];Object(i.useEffect)((function(){return function(){ze&&ze.terminate()}}),[ze]);var Ve=Object(i.useCallback)((function(e,t){if(!u&&j){if(!t){var n=fr(".jsonstat-table__".concat(R," #jsonstat-table__tooltip"));fr(".jsonstat-table__".concat(R," .ca .ct")).hover((function(){var e=fr(this).get(0),t=e.getBoundingClientRect(),a=e.className.includes("ctd")?j.observationAttributesMap[e.id].attributes:j.dimensionAttributesMap[e.id.split(",")[0]][e.id.split(",")[1]].attributes;a.forEach((function(e){var t=e.id,a=e.label,i=e.valueId,o=e.valueLabel;n.append(fr('<li class="cttt"><b>'.concat(a||t,"</b>: ").concat(br(i,o),"</li>")))}));var i=t.x<window.innerWidth/2?t.left:t.left-n.innerWidth();n.css({visibility:"visible",top:t.top-18*a.length-30,left:i})}),(function(){n.empty().css({visibility:"hidden"})})).click((function(){var e=fr(this).get(0),t=e.className.includes("ctd")?j.observationAttributesMap[e.id].attributes:j.dimensionAttributesMap[e.id.split(",")[0]][e.id.split(",")[1]].attributes;De(t)}));var i=fr(".jsonstat-table__".concat(R," th.c:first"));if(""===(i.css("minWidth")||"")||"0px"===(i.css("minWidth")||"")){var o=i.css("fontSize"),r=Number(i.css("paddingLeft").split("px")[0]),l=Number(i.css("paddingRight").split("px")[0]),s=fr("<span>").css({visibility:"hidden",position:"absolute",fontSize:o}).appendTo("body").get(0);fr(".jsonstat-table__".concat(R," table thead th")).each((function(){var e=ki(fr(this).text(),s);fr(this).css({minWidth:e/2+r+l+24})})),fr(s).remove()}}if(!g){var c=a.cols.length+1,d=a.rows.length;if(v){for(var m=[0],h=fr(".jsonstat-table__".concat(R," thead tr")),f=0;f<h.length;f++)m.push(m[f]+h[f].getBoundingClientRect().height);for(var p=0;p<m.length-1;p++)fr(".jsonstat-table__".concat(R," thead tr:nth-child(").concat(p+1,") th")).css("top",m[p]);for(var b=[0],k=fr(".jsonstat-table__".concat(R," tbody tr:not(.rs):first th")),C=0;C<k.length;C++)b.push(b[C]+k[C].getBoundingClientRect().width);for(var y=0;y<b.length-1;y++)fr(".jsonstat-table__".concat(R," th.cl").concat(y)).css("left",b[y]);fr(".jsonstat-table__".concat(R," .cs")).css({top:m[m.length-1],left:0})}else if(!e){for(var w=0;w<c;w++)fr(".jsonstat-table__".concat(R," thead tr:nth-child(").concat(w+1,") th")).css("top","auto");for(var A=0;A<d;A++)fr(".jsonstat-table__".concat(R," th.cl").concat(A)).css("left","auto");fr(".jsonstat-table__".concat(R," .cs")).css({top:"auto",left:"auto"})}}_(L)}}),[R,j,a,u,v,g,_,L]),je=Object(i.useCallback)((function(e){var t=fr(".jsonstat-table__".concat(R));if(t&&j){var n=null,a=null,i=j.rowCount,o=j.colCount,r=fr(".jsonstat-table__".concat(R," table"));Ee((function(e){return n=null!==Y&&void 0!==Y&&0!==Y?e:i>50||i<=50&&r.height()>t.height()})),we((function(e){return a=null!==Z&&void 0!==Z&&0!==Z?e:o>30||o<=30&&r.width()-ve>t.width()}));var l=0;fr(".jsonstat-table__".concat(R," tbody tr:not(.rs):first td")).each((function(e,i){vr(i,t[0],n,a)&&l++})),e&&fe(l);var s=0;fr(".jsonstat-table__".concat(R," tbody tr:not(.rs)")).each((function(e,i){vr(fr(i).children("td")[0],t[0],n,a)&&s++})),fr(".jsonstat-table__".concat(R," tbody tr.rs")).each((function(e,i){vr(i,t[0],n,a,!0)&&s++})),e&&se(s)}}),[R,j,ve,Y,Z]);return Object(i.useEffect)((function(){n&&a&&(pr=!1,F(null),H(""),O||u||A(L,D("components.table.spinners.rendering")),ze.onmessage=function(e){pr=!0,F(e.data),e.data.hasAttributeObservationError&&window.error.show(D("components.table.error.observationAttribute"))},ze.onerror=function(){F(null),_(L,!0)},ze.postMessage({jsonStat:n,layout:a,isPreview:u,removeEmptyLines:h,hiddenAttributes:w}),J(0),X(0),gr=!0)}),[n,a,u,h,O,A,_,L,D]),Object(i.useEffect)((function(){if(pr&&j){var e=function(){Ve(!1,!0),je(!0)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}}),[j,Ve,je]),Object(i.useEffect)((function(){if(pr&&j){var e=j.rows,t=j.cols,a=j.sections,i=(j.filters,j.filtersValue),o=j.colCount,r=j.rowCount,c=j.colsObj,d=j.rowsObj,m=j.combinations,h=j.indexesMap,f=j.valorizedCols,p=j.valorizedRows,v=j.valorizedRowsPerSection,b=j.sectionsLength,w=j.dimensionAttributesMap,A=j.observationAttributesMap,_=Y+50>=r?r:Y+50,S=Z+30>=o?o:Z+30,E=100*(30-(S-Z));be(E),H(function(e,t,n,a,i,o,r,l,s,c,d,u,m,h,f,g,p,v,b,k,C,y,w,A,_,S){var E=w?w.colStart:0,O=w?w.colEnd:r,T=wo(h,w?w.rowStart:0),x=w?wo(h,w.rowEnd):Zo(h),P=wo(m,w?w.colStart:0),D=w?wo(m,w.colEnd):Zo(m),M=performance.now(),R='<table id="'.concat(Object(q.a)(),'">');if(R+="<thead>",n.forEach((function(n,a){if(R+='<tr data-row-key="h-'.concat(a,'">'),R+='<th class="c cf'.concat(v,' ch cl0" colspan="').concat(t.length,'">').concat(Un(e,n),"</th>"),y)for(var i=0;i<3;i++)R+='<th class="c cf'.concat(v,' csh" colspan="1">').concat("xxx","</th>");else for(var o=P,r=E,l=function(){var t=o,a=s[n].ids.slice(o,o+s[n].repCount).filter((function(e){return e===s[n].ids[t]})).length,i=m.slice(o,o+a).filter((function(e){return!0===e})).length;if(r+i>O&&(i=O-r),i>0){var l,c,d=(null===A||void 0===A||null===(l=A[n])||void 0===l||null===(c=l[s[n].ids[o]])||void 0===c?void 0:c.htmlString)||"";R+='<th class="c cf'.concat(v," csh ").concat(d.length>0?"ca":"",'" colspan="').concat(i,'">')+Hn(e,n,s[n].ids[o],p)+d+"</th>"}o+=a,r+=i};r<O;)l();R+=Xo((null===w||void 0===w?void 0:w.tableRightPadding)||1),R+="</tr>"})),t.length>0&&(R+='<tr data-row-key="hh">',t.forEach((function(t,n){return R+='<th class="c cf'.concat(v," ch cl").concat(n,'">').concat(Un(e,t),"</th>")})),R+=y?'<th class="c cf'.concat(v,' csh" colspan="').concat(n.length>0?3:1,'"/>'):'<th class="c cf'.concat(v,' csh" colspan="').concat(O-E,'"/>'),R+=Xo((null===w||void 0===w?void 0:w.tableRightPadding)||1),R+="</tr>"),R+="</thead>",R+='<tbody id="body">',y){if(a&&a.length>0){R+='<tr data-row-key="s-0" class="rs">';var I="";a.forEach((function(t,n){I+='<span style="display: inline-block;"><span class="cs-d">'.concat(Un(e,t),":</span> ").concat("xxx","</span>"),I+=n<a.length-1?'<span style="display: inline-block; margin: 0 8px">'.concat('<svg height="6px" width="6px" fill="#00295a"><path d="M 0 0 H 6 V 6 H 0 Z"/></svg>',"</span>"):""})),R+='<th class="c cf'.concat(v,' cs" colspan="').concat((t.length||1)+(n.length>0?3:1),'">').concat(I,"</th>"),R+=Xo(1),R+="</tr>"}for(var L=0;L<(t.length>0?3:1);L++){if(R+='<tr data-row-key="r-'.concat(L,'">'),t.length>0)for(var z=0;z<t.length;z++)R+='<th class="c cf'.concat(v," csh cl").concat(z,'">xxx</th>');else R+='<th class="c cf'.concat(v,' csh cl0">&nbsp;</th>');for(var V=0;V<(n.length>0?3:1);V++)R+='<td class="c cf'.concat(v,'"/>');R+=Xo(1),R+="</tr>"}R+='<tr><td class="c c-bb" colspan="'.concat((t.length||1)+(n.length>0?3:1),'"></td></tr>')}else{var j=[0];f.forEach((function(e,t){return j.push(j[t]+e.length)}));var F={};t.forEach((function(e){return F[e]=-1}));for(var N=0,G=0;G<j.length;G++)T>=j[G]&&(G===j.length-1||T<j[G+1])&&(N=G);var U=function(n){var i='<tr data-row-key="s-'.concat(n,'" class="rs">'),o="",r=n;return a.forEach((function(t,n){var i,l,s=(null===A||void 0===A||null===(i=A[t])||void 0===i||null===(l=i[d[r][n]])||void 0===l?void 0:l.htmlString)||"";o+='<span class="'.concat(s.length>0?"ca":"",'" style="display: inline-block;">')+'<span class="cs-d">'.concat(Un(e,t),":</span> ").concat(Hn(e,t,d[r][n],p))+s+"</span>",o+=n<a.length-1?'<span style="display: inline-block; margin: 0 8px">'.concat('<svg height="6px" width="6px" fill="#00295a"><path d="M 0 0 H 6 V 6 H 0 Z"/></svg>',"</span>"):""})),i+='<th class="c cf'.concat(v,' cs" colspan="').concat(O-E+(t.length||1),'">').concat(o,"</th>"),i+=Xo((null===w||void 0===w?void 0:w.tableRightPadding)||1),i+="</tr>"};a&&a.length>0&&(R+=U(N));for(var H=function(i){if(a&&a.length>0&&i>T&&-1!==j.indexOf(i)&&(N=j.indexOf(i),R+=U(N)),!0===h[i]){R+='<tr data-row-key="r-'.concat(i,'">');var r="";if(t.length>0)for(var l=0;l<t.length;l++){var f,y,S=(null===A||void 0===A||null===(f=A[t[l]])||void 0===f||null===(y=f[c[t[l]].ids[i%g]])||void 0===y?void 0:y.htmlString)||"";if(i>F[t[l]]){var E=h.slice(i,i+(c[t[l]].repCount-i%c[t[l]].repCount)).filter((function(e){return!0===e})).length;i+E>x&&(E=x-i),F[t[l]]=i+(c[t[l]].repCount-i%c[t[l]].repCount)-1,E>0&&(r+='<th class="c cf'.concat(v," csh cl").concat(l," ").concat(S.length>0?"ca":"",'" rowspan="').concat(E,'">')+Hn(e,t[l],c[t[l]].ids[i%g],p)+S+"</th>")}}else r+='<th class="c cf'.concat(v,' csh cl0"/>');R+=r;var O=function(r,l){var m,h=Object(B.a)({},o);t.forEach((function(e){return h[e]=c[e].ids[i%g]})),n.forEach((function(e){return h[e]=s[e].ids[r]})),a.forEach((function(e,t){return h[e]=d[l][t]}));var f=e.id.map((function(e){return u[e][h[e]]})),p=qn(f,e.size),y=e.value[p],w=(null===(m=_[p])||void 0===m?void 0:m.htmlString)||"";return'<td id="'.concat(p,'" class="c cf').concat(v," ").concat(w.length>0?"ca":"",'">')+w+go(y,b,k,C)+"</td>"};if(!0===h[i])for(var M=P;M<D;M++)!0===m[M]&&(R+=O(M,N));else for(var I=P;I<D;I++)R+=O(I,N);R+=Xo((null===w||void 0===w?void 0:w.tableRightPadding)||1),R+="</tr>"}},W=T;W<x;W++)H(W);R+='<tr><td class="c c-bb" colspan="'.concat(t.length+(O-E+(t.length>0?0:1)),'"></td></tr>')}R+="</tbody>",R+="</table>",R+='<div id="jsonstat-table__tooltip" class="ctt"/>';var K=performance.now();return y||S(Math.round(100*(K-M))/100),R}(n,e,t,a,0,i,o,0,c,d,m,h,f,p,v,b,l,s||"m",k,C,Object(Oe.sanitize)(y),u,g?{rowStart:Y,rowEnd:_,colStart:Z,colEnd:S,tableRightPadding:u?1:E}:null,w,A,P)),fr(".jsonstat-table__".concat(R)).scrollTop(0).scrollLeft(0)}}),[R,j,n,l,s,c,k,C,y,u,g,P,Y,Z]),Object(i.useEffect)((function(){pr&&U&&U.length>0&&(Ve(gr,!1),je(gr),gr=!1)}),[U,Ve,je]),o.a.createElement(i.Fragment,null,j?o.a.createElement("div",{className:t.root},g?o.a.createElement(dr,{verticalValue:Y,verticalMaxValue:j.rowCount,verticalTicks:j.rowCount-(le-Math.floor(le/100*20)),onVerticalScroll:J,isVerticalScrollbarVisible:Se,horizontalValue:Z,horizontalMaxValue:j.colCount,horizontalTicks:j.colCount-(he-Math.floor(he/100*20)),onHorizontalScroll:X,isHorizontalScrollbarVisible:ye,disableWheelZoom:x},o.a.createElement("div",{className:"".concat(t.table," jsonstat-table jsonstat-table__").concat(R),style:{overflow:"hidden"},dangerouslySetInnerHTML:{__html:U}})):o.a.createElement("div",{className:"".concat(t.table," jsonstat-table jsonstat-table__").concat(R),style:{overflow:"auto"},dangerouslySetInnerHTML:{__html:U}})):o.a.createElement(Ii,{text:D("components.table.initializing")+"..."}),o.a.createElement(hr.a,{open:Ie,autoHideDuration:2e3,onClose:function(){return Be((function(e){return!e}))}},o.a.createElement(de.a,{severity:"success",onClose:function(){return Be((function(e){return!e}))}},D("components.table.alerts.attributeCopied"))),o.a.createElement(ae.a,{open:null!==Pe,onClose:function(){return De(null)}},o.a.createElement(oe.a,null,D("components.table.dialogs.observationAttributes.title")),o.a.createElement(re.a,{style:{width:480}},o.a.createElement(b.a,{container:!0,spacing:2},(Pe||[]).map((function(e,t){var n=e.id,a=e.label,i=e.valueId,r=e.valueLabel;return o.a.createElement(b.a,{item:!0,key:t,xs:12},o.a.createElement("b",null,a||n),": ".concat(br(i,r)))})))),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){return De(null)}},D("commons.confirm.close")),o.a.createElement(E.a,{color:"primary",autoFocus:!0,onClick:function(){mr()(Pe.map((function(e){var t=e.id,n=e.label,a=e.valueId,i=e.valueLabel;return"".concat(n||t,": ").concat(br(a,i))})).join(", ")),Be((function(e){return!e}))()}},D("commons.confirm.copy")))))}));var Cr=fi()((function(e){return{card:{padding:e.spacing(2)},viewer:{width:"100%",height:"calc(100% - 16px - 64px)",marginTop:16},tabContent:{overflowY:"auto",overflowX:"hidden",height:"calc(100% - 48px)",paddingTop:16}}}))((function(e){var t=e.classes,n=e.defaultLanguage,a=e.languages,r=e.template,l=e.onChange,s=e.viewers,c=e.jsonStat,d=e.labelFormat,u=e.tableLayout,m=e.chartLayout,h=e.mapLayout,f=e.templateGeometries,g=e.templateGeometryDetailLevels,p=e.onGeometryFetch,v=e.hiddenAttributes,C=Object(ue.a)().t,y=Object(i.useState)(0),w=Object(ne.a)(y,2),A=w[0],_=w[1],S=Object(i.useState)("map__"+Object(q.a)()),E=Object(ne.a)(S,1)[0],O=Object(i.useState)("bar"),T=Object(ne.a)(O,2),x=T[0],P=T[1];return o.a.createElement(i.Fragment,null,o.a.createElement(V.a,{position:"static",color:"default"},o.a.createElement(wt.a,{value:A,variant:"scrollable",scrollButtons:"auto",indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return _(t)}},o.a.createElement(At.a,{key:0,label:C("scenes.dataViewer.templateBuilder.tabs.options.label")}),o.a.createElement(At.a,{key:1,label:C("scenes.dataViewer.templateBuilder.tabs.table.label")}),o.a.createElement(At.a,{key:2,label:C("scenes.dataViewer.templateBuilder.tabs.chart.label")}),o.a.createElement(At.a,{key:3,label:C("scenes.dataViewer.templateBuilder.tabs.map.label"),disabled:!h}))),o.a.createElement("div",{className:t.tabContent},0===A&&o.a.createElement(i.Fragment,null,o.a.createElement(k.a,{variant:"outlined"},o.a.createElement(co.a,{title:C("scenes.dataViewer.templateBuilder.tabs.options.cards.general.title"),titleTypographyProps:{variant:"subtitle1"}}),o.a.createElement(b.a,{container:!0,spacing:3,className:t.card},o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0,className:t.field},o.a.createElement(yn,{label:C("scenes.dataViewer.templateBuilder.tabs.options.cards.general.form.title"),required:!0,variant:"outlined",value:r.title,onChange:function(e){return l(Object(B.a)(Object(B.a)({},r),{},{title:e}))}}))),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0,className:t.field},o.a.createElement(le.a,{select:!0,label:C("scenes.dataViewer.templateBuilder.tabs.options.cards.general.form.defaultView"),defaultValue:"table",value:r.defaultView,variant:"outlined",onChange:function(e){return l(Object(B.a)(Object(B.a)({},r),{},{defaultView:e.target.value}))}},s.map((function(e,t){var n=e.type,a=e.title;return o.a.createElement(xe.a,{key:t,value:n},a)}))))),o.a.createElement(b.a,{item:!0,xs:3},o.a.createElement(_e.a,{label:C("scenes.dataViewer.templateBuilder.tabs.options.cards.general.form.enableCriteria"),className:t.field,control:o.a.createElement(ke.a,{checked:r.enableCriteria,onChange:function(e,t){return l(Object(B.a)(Object(B.a)({},r),{},{enableCriteria:t}))}})})),o.a.createElement(b.a,{item:!0,xs:3},o.a.createElement(_e.a,{label:C("scenes.dataViewer.templateBuilder.tabs.options.cards.general.form.enableLayout"),className:t.field,control:o.a.createElement(ke.a,{checked:r.enableLayout,onChange:function(e,t){return l(Object(B.a)(Object(B.a)({},r),{},{enableLayout:t}))}})})),o.a.createElement(b.a,{item:!0,xs:3},o.a.createElement(_e.a,{label:C("scenes.dataViewer.templateBuilder.tabs.options.cards.general.form.enableVariation")+" (*)",className:t.field,control:o.a.createElement(ke.a,{checked:!0,onChange:function(e,t){return l(Object(B.a)(Object(B.a)({},r),{},{enableVariation:t}))},disabled:!0})})),o.a.createElement(b.a,{item:!0,xs:3}),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0,className:t.field},o.a.createElement(le.a,{label:C("scenes.dataViewer.templateBuilder.tabs.options.cards.general.form.decimalPlaces"),value:r.decimalNumber,variant:"outlined",required:!0,onChange:function(e){return l(Object(B.a)(Object(B.a)({},r),{},{decimalNumber:e.target.value}))}}))),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0,className:t.field},o.a.createElement(yn,{select:!0,label:C("scenes.dataViewer.templateBuilder.tabs.options.cards.general.form.decimalSeparator.label"),value:r.decimalSeparator,defaultValue:".",variant:"outlined",required:!0,onChange:function(e){return l(Object(B.a)(Object(B.a)({},r),{},{decimalSeparator:e}))}},o.a.createElement(xe.a,{value:"."},C("scenes.dataViewer.templateBuilder.tabs.options.cards.general.form.decimalSeparator.values.dot")),o.a.createElement(xe.a,{value:","},C("scenes.dataViewer.templateBuilder.tabs.options.cards.general.form.decimalSeparator.values.comma"))))))),o.a.createElement(k.a,{variant:"outlined",style:{marginTop:16}},o.a.createElement(co.a,{title:C("scenes.dataViewer.templateBuilder.tabs.options.cards.table.title"),titleTypographyProps:{variant:"subtitle1"}}),o.a.createElement(b.a,{container:!0,spacing:2,className:t.card},o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{fullWidth:!0,className:t.field},o.a.createElement(le.a,{label:C("scenes.dataViewer.templateBuilder.tabs.options.cards.table.form.emptyCellPlaceholder"),value:r.layouts.tableEmptyChar,variant:"outlined",required:!0,onChange:function(e){return l(Object(B.a)(Object(B.a)({},r),{},{layouts:Object(B.a)(Object(B.a)({},r.layouts),{},{tableEmptyChar:e.target.value})}))}}))),o.a.createElement(b.a,{item:!0,xs:6}))),o.a.createElement("div",{style:{marginTop:16}},"(*): "+C("scenes.dataViewer.templateBuilder.tabs.options.notImplemented"))),1===A&&o.a.createElement(i.Fragment,null,o.a.createElement(se.a,{fullWidth:!0,className:t.field},o.a.createElement(le.a,{select:!0,label:C("scenes.dataViewer.templateBuilder.tabs.table.form.defaultLayout.label"),value:r.layouts.tableDefaultLayout,variant:"outlined",onChange:function(e){return l(Object(B.a)(Object(B.a)({},r),{},{layouts:Object(B.a)(Object(B.a)({},r.layouts),{},{tableDefaultLayout:e.target.value,tableLayout:"custom"===e.target.value?u:null})}))}},o.a.createElement(xe.a,{value:"custom"},C("scenes.dataViewer.templateBuilder.tabs.table.form.defaultLayout.values.custom")),o.a.createElement(xe.a,{value:"default"},C("scenes.dataViewer.templateBuilder.tabs.table.form.defaultLayout.values.default")))),o.a.createElement("div",{className:t.viewer},"custom"===r.layouts.tableDefaultLayout?o.a.createElement(kr,{jsonStat:c,layout:u,labelFormat:d,decimalSeparator:Ie(r.decimalSeparator,n,a),decimalPlaces:r.decimalNumber,emptyChar:r.layouts.tableEmptyChar,hiddenAttributes:v}):o.a.createElement(Ii,{text:C("scenes.dataViewer.templateBuilder.tabs.table.form.defaultLayout.defaultPlaceholder")}))),2===A&&o.a.createElement(i.Fragment,null,o.a.createElement(se.a,{fullWidth:!0,className:t.field},o.a.createElement(le.a,{select:!0,label:C("scenes.dataViewer.templateBuilder.tabs.chart.cards.form.chartType.label"),defaultValue:"table",value:x,variant:"outlined",onChange:function(e){return P(e.target.value)}},s.slice(2).map((function(e,t){var n=e.type,a=e.title;return o.a.createElement(xe.a,{key:t,value:n},a)})))),o.a.createElement("div",{className:t.viewer},o.a.createElement(jo,{type:x,jsonStat:c,layout:m,labelFormat:d,decimalSeparator:Ie(r.decimalSeparator,n,a),decimalPlaces:r.decimalNumber,stacked:r.layouts.chartStacked,legendPosition:r.layouts.chartLegendPosition,colors:r.layouts.chartColors}))),3===A&&o.a.createElement("div",{style:{width:"100%",height:"100%"}},o.a.createElement(Ho,{mapId:E,jsonStat:c,layout:h,onGeometryFetch:function(e){return p(e,C)},geometries:f,geometryDetailLevels:g,detailLevel:r.layouts.mapDetailLevel,classificationMethod:r.layouts.mapClassificationMethod,paletteStartColor:r.layouts.mapPaletteStartColor,paletteEndColor:r.layouts.mapPaletteEndColor,paletteCardinality:r.layouts.mapPaletteCardinality,opacity:r.layouts.mapOpacity,isLegendCollapsed:r.layouts.mapIsLegendCollapsed}))))})),yr=function(e,t,n,a,i){return Object(B.a)({datasetId:t,type:"",title:{},defaultView:"table",criteria:{},layouts:{labelFormat:"LABEL_FORMAT_SELECTOR_FORMAT_NAME",tableDefaultLayout:"custom",tableLayout:{},mapLayout:{},chartLayout:{}},decimalNumber:null!==n&&void 0!==n?n:2,decimalSeparator:Object(L.a)({},i,a||","),enableCriteria:!0,enableLayout:!0},e)};var wr=Object(he.d)(fi()((function(e){return{root:{width:"100%",height:"100%",padding:"4px 16px 0"},titleContainer:{marginRight:8},title:{fontSize:20,fontWeight:500},subtitle:{padding:"0 12px 8px 48px"},attributeIcon:{width:24,height:24,fontSize:23,fontWeight:"bold",fontFamily:"Do Hyeon"},layoutIcon:{width:48,height:48,padding:12,color:"rgba(0, 0, 0, 0.54)"},attributeId:{cursor:"default",fontSize:13,color:"rgb(255, 255, 255)",backgroundColor:"rgb(136, 136, 136)",borderRadius:3,padding:"0 4px"},attributeAst:{cursor:"default",fontSize:15,color:"rgb(136, 136, 136)",fontFamily:"Do Hyeon"}}})),Object(H.b)((function(e){return{user:e.user,defaultLanguage:e.app.language,languages:e.app.languages,view:e.dataset.view,template:e.dataset.template,isViewVisible:e.dataset.isViewVisible,isViewErrorVisible:e.dataset.isViewErrorVisible,viewErrorMessage:e.dataset.viewErrorMessage,isTemplateVisible:e.dataset.isTemplateVisible,templateGeometries:e.dataset.templateGeometries,templateGeometryDetailLevels:e.dataset.templateGeometryDetailLevels}}),(function(e){return{onViewTemplateShow:function(t){return e(function(e){return{type:"dataset/view/template/show",isView:e}}(t))},onViewTemplateHide:function(t){return e(function(e){return{type:"dataset/view/template/hide",isView:e}}(t))},onViewErrorHide:function(t){return e({type:"dataset/view/error/hide"})},onViewTemplateGeometriesFetch:function(t,n){return e(function(e,t){return $("dataset/view/template/geometries/fetch","Geometry",a.POST,e,(function(e){return{onStart:e("scenes.dataset.actions.fetchingGeometries")}}),{t:t})}(t,n))}}})))((function(e){var t,n,a,r,l,s,c,d,u,m,h=e.classes,f=e.user,g=e.defaultLanguage,p=e.languages,v=e.nodeId,k=e.nodeCode,C=e.nodeDownloadFormats,y=e.datasetId,w=e.datasetTitle,A=e.viewId,_=e.hasViewLayout,S=e.hasTemplateLayout,O=e.hasAnnotationLayout,T=e.view,x=e.template,D=e.notes,M=e.attachedFiles,R=e.jsonStat,I=e.hiddenAttributes,z=e.labelFormat,V=e.tableLayout,j=e.chartLayout,F=e.mapLayout,N=e.criteria,G=e.decimalSeparator,U=e.decimalPlaces,H=e.tableEmptyChar,q=e.chartStacked,W=e.chartLegendPosition,K=e.chartColors,$=e.mapDetailLevel,Q=e.mapClassificationMethod,Z=e.mapPaletteStartColor,X=e.mapPaletteEndColor,ee=e.mapPaletteCardinality,te=e.mapOpacity,le=e.mapIsLegendCollapsed,se=e.viewers,ce=e.viewerIdx,de=e.isViewVisible,me=e.isViewErrorVisible,he=e.viewErrorMessage,fe=e.isTemplateVisible,ge=e.templateGeometries,pe=e.templateGeometryDetailLevels,ve=e.onViewTemplateShow,be=e.onViewTemplateHide,ke=e.onViewTemplateSubmit,Ce=e.onViewErrorHide,ye=e.onDownloadSubmit,we=e.onViewTemplateGeometriesFetch,Ae=e.timings,_e=e.chartId,Se=e.mapId,Ee=Object(ue.a)().t,Oe=Object(i.useState)(null),Te=Object(ne.a)(Oe,2),xe=Te[0],Pe=Te[1],De=Object(i.useState)(null),Me=Object(ne.a)(De,2),Ie=Me[0],Be=Me[1],Le=Object(i.useState)(null),ze=Object(ne.a)(Le,2),je=ze[0],Fe=ze[1],Ne=Object(i.useState)(null),Ue=Object(ne.a)(Ne,2),He=Ue[0],qe=Ue[1],We=Object(i.useState)(!1),Ke=Object(ne.a)(We,2),Ye=Ke[0],Je=Ke[1],$e=Object(i.useState)(!1),Qe=Object(ne.a)($e,2),Ze=Qe[0],Xe=Qe[1],et=Object(i.useState)(!1),tt=Object(ne.a)(et,2),nt=tt[0],at=tt[1],it=Object(i.useState)([]),ot=Object(ne.a)(it,2),rt=ot[0],st=ot[1],ct=Object(i.useState)(!1),dt=Object(ne.a)(ct,2),ut=dt[0],mt=dt[1];Object(i.useEffect)((function(){var e=document.getElementById("dataset-viewer-header__actions")?document.getElementById("dataset-viewer-header__actions").offsetWidth:0;document.getElementById("dataset-viewer-header__title").setAttribute("style","width: calc(100% - ".concat(e,"px - 8px)"))})),Object(i.useEffect)((function(){var e=yr(x,y,U,G,g);Fe(e),qe(e);var t=yr(T,y,U,G,g);Pe(t),Be(t)}),[T,x,y,H,U,G,g]),Object(i.useEffect)((function(){var e=[];(C||[]).forEach((function(t){(function(e){var t;return void 0!==(null===(t=fa())||void 0===t?void 0:t[e])})(t)&&e.push({label:ga(t,Ee),format:t,extension:pa(t,Ee)})})),st(e)}),[C,Ee]);var ht=function(e,t){ve(!0),Be(Object(B.a)(Object(B.a)({},xe),{},{title:t?Ie.title:Object(L.a)({},e,w),defaultView:se[ce].type,criteria:N,layouts:{labelFormat:z,tableLayout:0===ce?V:void 0,tableEmptyChar:0===ce?H:void 0,mapLayout:1===ce?F:void 0,mapDetailLevel:1===ce?$:void 0,mapClassificationMethod:1===ce?Q:void 0,mapPaletteStartColor:1===ce?Z:void 0,mapPaletteEndColor:1===ce?X:void 0,mapPaletteCardinality:1===ce?ee:void 0,mapOpacity:1===ce?te:void 0,mapIsLegendCollapsed:1===ce?le:void 0,chartLayout:ce>=2?j:void 0,chartStacked:ce>=2?q:void 0,chartLegendPosition:ce>=2?W:void 0,chartColors:ce>=2?K:void 0}}))},ft=function(){be(!0),Be(xe)},gt=function(){be(!1),qe(je)},pt=[],vt=(null===R||void 0===R||null===(t=R.extension)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.dataSet)||[],bt=(null===R||void 0===R||null===(a=R.extension)||void 0===a||null===(r=a.attributes)||void 0===r||null===(l=r.index)||void 0===l?void 0:l.dataSet)||[];vt&&vt.length>0&&bt&&bt.length>0&&(bt||[]).forEach((function(e,t){null===e||(I||[]).includes(vt[t].id)||pt.push({id:vt[t].name||vt[t].id,value:vt[t].values[e].name||vt[t].values[e].id})}));var kt=[],Ct=(null===R||void 0===R||null===(s=R.extension)||void 0===s||null===(c=s.attributes)||void 0===c?void 0:c.series)||[],yt=(null===R||void 0===R||null===(d=R.extension)||void 0===d||null===(u=d.attributes)||void 0===u||null===(m=u.index)||void 0===m?void 0:m.series)||[];Ct&&Ct.length>0&&yt&&yt.length>0&&yt.filter((function(e){return(e.coordinates||[]).filter((function(e){return null!==e})).length>1})).forEach((function(e){var t=e.coordinates,n=e.attributes,a=[],i=[];t.forEach((function(e,t){if(null!==e){var n=R.id[t];a.push(n),i.push(R.dimension[n].category.index[e])}}));var o=a.map((function(e,t){return{id:Un(R,e),value:Hn(R,e,i[t],z)}})),r=[];n.forEach((function(e,t){null===e||void 0===e||(I||[]).includes(Ct[t].id)||r.push({id:Ct[t].name||Ct[t].id,value:Ct[t].values[e].name||Ct[t].values[e].id})})),o.length>0&&r.length>0&&kt.push({dims:o,attributes:r})}));var wt=0===se[ce].key&&(null===V||void 0===V?void 0:V.filters)?V.filters:1===se[ce].key&&(null===F||void 0===F?void 0:F.filters)?F.filters:se[ce].key>=2&&(null===j||void 0===j?void 0:j.filters)?j.filters:[],At=[];R&&wt&&wt.forEach((function(e){1===R.size[R.id.indexOf(e)]&&At.push({dim:e,dimLabel:Un(R,e),value:R.dimension[e].category.index[0],valueLabel:Hn(R,e,R.dimension[e].category.index[0],z)})}));var _t=aa(R,I);return o.a.createElement(i.Fragment,null,o.a.createElement(b.a,{container:!0,className:h.root},o.a.createElement(b.a,{container:!0,justify:"space-between",alignItems:"flex-start"},o.a.createElement(b.a,{item:!0,id:"dataset-viewer-header__title",className:h.titleContainer},o.a.createElement(b.a,{container:!0,alignItems:"flex-start"},o.a.createElement(b.a,{item:!0},o.a.createElement(Ve.a,{title:Ee("scenes.dataViewer.header.action.goHome.tooltip")},o.a.createElement(P.a,{color:"primary",onClick:function(){return lt(k)}},o.a.createElement(ti.a,null)))),o.a.createElement(b.a,{container:!0,style:{width:"calc(100% - 48px)"}},o.a.createElement(b.a,{item:!0,className:h.title},o.a.createElement("div",{style:{display:"table",minHeight:48}},o.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle"}},o.a.createElement("span",{style:{marginRight:4}},w),D&&D.length>0&&o.a.createElement(Ve.a,{title:Ee("scenes.dataViewer.header.action.information.tooltip")},o.a.createElement(P.a,{id:"dataset-attributes-btn",onClick:function(){return Xe(!0)}},o.a.createElement(da.a,null))),pt.concat(kt).length>0&&o.a.createElement(Ve.a,{title:Ee("scenes.dataViewer.header.action.attributes.tooltip")},o.a.createElement(P.a,{id:"dataset-attributes-btn",onClick:function(){return Je(!0)}},o.a.createElement("div",{className:h.attributeIcon},"(*)"))))))))),o.a.createElement(b.a,{item:!0,id:"dataset-viewer-header__actions"},o.a.createElement(b.a,{container:!0,alignItems:"center"},function(){if(function(e,t){return e&&e.isAuthenticated&&(e.roles.includes(Y.Administrator)||e.permissions.includes(Zt(J.ManageTemplate,t)))}(f,v)){var e=null;if(_?e=Ee("scenes.dataViewer.header.action.hasViewLayout.tooltip"):S?e=Ee("scenes.dataViewer.header.action.hasTemplateLayout.tooltip"):O&&(e=Ee("scenes.dataViewer.header.action.hasAnnotationLayout.tooltip")),e)return o.a.createElement("div",{className:h.layoutIcon},o.a.createElement(Ve.a,{title:e},o.a.createElement(da.a,null)))}}(),function(e,t){return e&&e.isAuthenticated&&(e.roles.includes(Y.Administrator)||e.permissions.includes(Zt(J.ManageConfig,t)))}(f,v)&&o.a.createElement(b.a,{item:!0,id:"dataset-times-log-btn"},o.a.createElement(Ve.a,{title:Ee("scenes.dataViewer.header.action.timesLog.tooltip")},o.a.createElement("div",null,o.a.createElement(P.a,{onClick:function(){return at(!0)},disabled:null===Ae},o.a.createElement(ro.a,null))))),(dn(f)||ln(f,v))&&o.a.createElement(b.a,{item:!0,id:"dataset-save-btn"},o.a.createElement(Ge,{icon:o.a.createElement(so.a,null),tooltip:Ee("scenes.dataViewer.header.action.save.tooltip"),color:"default",disabled:!V&&!j&&!F},dn(f)&&o.a.createElement("div",{onClick:function(){ht(g,!1),mt(!1)}},Ee("scenes.dataViewer.header.action.save.values.createView")),dn(f)&&_&&A&&o.a.createElement("div",{onClick:function(){ht(g,!0),mt(!0)}},Ee("scenes.dataViewer.header.action.save.values.updateView")),ln(f,v)&&o.a.createElement("div",{onClick:function(){return function(e,t){ve(!1),qe(Object(B.a)(Object(B.a)({},je),{},{title:t?je.title:Object(L.a)({},e,w),criteria:N,layouts:{labelFormat:z,tableLayout:V,tableDefaultLayout:"custom",tableEmptyChar:V?H:void 0,mapLayout:F,mapDetailLevel:F?$:void 0,mapClassificationMethod:F?Q:void 0,mapPaletteStartColor:F?Z:void 0,mapPaletteEndColor:F?X:void 0,mapPaletteCardinality:F?ee:void 0,mapOpacity:F?te:void 0,mapIsLegendCollapsed:F?le:void 0,chartLayout:j,chartStacked:j?q:void 0,chartLegendPosition:j?W:void 0,chartColors:j?K:void 0}}))}(g,S)}},Ee(S?"scenes.dataViewer.header.action.save.values.updateTemplate":"scenes.dataViewer.header.action.save.values.createTemplate")))),function(e){return e&&e.isAuthenticated}(f)&&o.a.createElement(b.a,{item:!0,id:"dataset-share-btn"},o.a.createElement(Ve.a,{title:Ee("scenes.dataViewer.header.action.share.tooltip")},o.a.createElement(P.a,{onClick:window.notImplemented.show},o.a.createElement(eo.a,null)))),o.a.createElement(b.a,{item:!0,id:"dataset-attachments-btn"},o.a.createElement(Ge,{icon:o.a.createElement(io.a,null),tooltip:Ee("scenes.dataViewer.header.action.attachments.tooltip"),color:"default",onChange:function(e){var t=e.attachedFile;return window.open(t.url)},disabled:!M||0===M.length},(M||[]).map((function(e,t){var n=e.url.split("/").pop();return o.a.createElement("div",{key:t,"data-value":{attachedFile:e}},"".concat(n," (").concat(e.format,")"))})))),rt&&rt.length>0&&o.a.createElement(b.a,{item:!0,id:"dataset-export-btn"},o.a.createElement(Ge,{icon:o.a.createElement(no.a,null),tooltip:Ee("scenes.dataViewer.header.action.export.tooltip"),color:"default",onChange:function(e){var t=e.format,n=e.extension;"png"===t&&1===ce?window.LMap.exportPng(Se,"".concat(w,".png")):"jpeg"===t&&ce>=2?va(_e,"".concat(w,".jpeg")):ye(t,n)}},rt.concat(1===ce?{format:"png",label:"PNG",extension:"png"}:ce>=2?{format:"jpeg",label:"JPEG",extension:"jpeg"}:[]).map((function(e,t){var n=e.format,a=e.label,i=e.extension;return o.a.createElement("div",{key:t,"data-value":{format:n,extension:i}},a)}))))))),o.a.createElement(b.a,{item:!0,className:h.subtitle,xs:12},At&&_t&&At.map((function(e,t){var n=e.dim,a=e.dimLabel,i=e.value,r=e.valueLabel;return o.a.createElement("div",{key:t,style:{display:"inline-block",marginRight:8}},o.a.createElement("div",{style:{display:"inline-block"}},o.a.createElement("b",null,a||n),": ",o.a.createElement("i",null,r||i)),_t[n][i]&&o.a.createElement("div",{style:{display:"inline-block",marginLeft:4}},o.a.createElement(Ve.a,{title:o.a.createElement("div",null,_t[n][i].attributes.map((function(e,t){var n=e.id,a=e.label,i=e.valueId,r=e.valueLabel;return o.a.createElement("div",{key:t},"".concat(a||n,": ").concat(r||i).concat(r!==i?" [".concat(i,"]"):""))}))),placement:"top"},function(){var e=_t[n][i].ids;return e&&1===e.length&&e[0].length<=2?o.a.createElement("div",{className:h.attributeId},e[0]):o.a.createElement("div",{className:h.attributeAst},"(*)")}())),o.a.createElement("div",{style:{display:"inline-block"}},t<At.length-1?",":""))})))),o.a.createElement(ae.a,{open:Ye,fullWidth:!0,maxWidth:"md",onClose:function(){return Je(!1)}},o.a.createElement(oe.a,null,Ee("scenes.dataViewer.header.dialogs.attributes.title")),o.a.createElement(re.a,null,o.a.createElement(mo,{datasetAttributes:pt,otherAttributes:kt})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){return Je(!1)}},Ee("commons.confirm.close")))),o.a.createElement(ae.a,{open:nt,onClose:function(){return at(!1)}},o.a.createElement(re.a,{style:{width:400}},o.a.createElement($o,{timings:Ae})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{autoFocus:!0,onClick:function(){return at(!1)}},Ee("commons.confirm.close")))),xe&&o.a.createElement(i.Fragment,null,o.a.createElement(ae.a,{open:de,onClose:ft},o.a.createElement(oe.a,null,Ee(ut?"scenes.dataViewer.header.dialogs.view.title.update":"scenes.dataViewer.header.dialogs.view.title.create")),o.a.createElement(re.a,{style:{width:480}},o.a.createElement(Qo,{view:Ie,onChange:Be})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:ft},Ee("commons.confirm.cancel")),o.a.createElement(E.a,{color:"primary",autoFocus:!0,onClick:function(){return function(e){ke({type:"view",viewTemplateId:e?Number(e):void 0,datasetId:Ie.datasetId,title:Ie.title,defaultView:Ie.defaultView,criteria:la(Ie.criteria),layouts:JSON.stringify(Ie.layouts)},!0),Be(xe)}(ut?A:null)},disabled:!Re(Ie.title)},Ee("commons.confirm.save")))),o.a.createElement(ae.a,{open:me,maxWidth:"md",onClose:Ce},o.a.createElement(oe.a,null,Ee("scenes.dataViewer.header.dialogs.duplicateViewError.title")),o.a.createElement(re.a,null,he&&o.a.createElement(i.Fragment,null,Ee("scenes.dataViewer.header.dialogs.duplicateViewError.content")+": ",o.a.createElement("b",null,Object.keys(he).join(", ")))),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:Ce},Ee("commons.confirm.close"))))),je&&o.a.createElement(ae.a,{open:fe,fullScreen:!0,onClose:gt},o.a.createElement(oe.a,null,Ee(S?"scenes.dataViewer.header.dialogs.template.title.update":"scenes.dataViewer.header.dialogs.template.title.create")),o.a.createElement(re.a,null,o.a.createElement(Cr,{defaultLanguage:g,languages:p,template:He,onChange:qe,viewers:se.filter((function(e){return!0!==e.hidden})),jsonStat:R,labelFormat:z,tableLayout:V,chartLayout:j,mapLayout:F,templateGeometries:ge,templateGeometryDetailLevels:pe,onGeometryFetch:we,hiddenAttributes:I})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:gt},Ee("commons.confirm.cancel")),o.a.createElement(E.a,{color:"primary",autoFocus:!0,onClick:function(){ke(Object(B.a)(Object(B.a)({},He),{},{type:"template",criteria:la(He.criteria),layouts:JSON.stringify(Object(B.a)(Object(B.a)({},He.layouts),{},{tableDefaultLayout:void 0}))}),!1),qe(je)},disabled:!Re(He.title)||!Re(He.decimalSeparator)||!Number.isInteger(Number(He.decimalNumber))||Number(He.decimalNumber)<0||Number(He.decimalNumber)>20},Ee("commons.confirm.save")))),o.a.createElement(ae.a,{open:Ze,fullWidth:!0,maxWidth:"md",onClose:function(){return Xe(!1)}},o.a.createElement(oe.a,null,Ee("scenes.dataViewer.header.dialogs.notes.title")),o.a.createElement(re.a,null,D),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){return Xe(!1)}},Ee("commons.confirm.close")))))})),Ar=n(904),_r=n(245),Sr=n.n(_r),Er=n(950),Or=n(949);var Tr=fi()((function(e){return{root:{textAlign:"center","& ul":{padding:"4px 0",outline:"none"},"& .MuiBottomNavigation-root":{height:"unset !important",outline:"none"}},floatingMenuOption:{width:200,color:"gray"},floatingMenuOptionSelected:{color:e.palette.primary.main},divider:{margin:"4px 0"},categoryTitle:{color:"gray",fontSize:11,fontWeight:500},referenceMetadataIcon:{width:24,height:24,fontSize:22,fontWeight:"bold",display:"table"},iFrame:{width:960,border:0},navigationActionDisabled:{color:"rgba(0, 0, 0, 0.26) !important","& svg":{color:"rgba(0, 0, 0, 0.26)"}}}}))((function(e){var t=e.classes,n=e.viewers,a=e.selected,r=e.isCriteriaDisabled,l=e.isLayoutDisabled,s=e.isTableDisabled,c=e.isChartDisabled,d=e.isMapDisabled,u=e.referenceMetadataUrl,m=e.onViewerSelect,h=e.onCriteriaOpen,g=e.onLayoutOpen,p=Object(i.useState)(null),v=Object(ne.a)(p,2),b=v[0],k=v[1],C=Object(i.useState)(!1),y=Object(ne.a)(C,2),w=y[0],A=y[1],S=Object(ue.a)().t,O=function(e){m(e),k(null)};return o.a.createElement("div",{className:t.root},o.a.createElement(Ar.a,null,o.a.createElement(Or.a,{onChange:h,showLabels:!0},o.a.createElement(Er.a,{label:S("scenes.dataViewer.sidebar.criteria"),icon:o.a.createElement(yt.a,null),className:r?t.navigationActionDisabled:"",disabled:r})),o.a.createElement(Or.a,{onChange:g,showLabels:!0},o.a.createElement(Er.a,{label:S("scenes.dataViewer.sidebar.layout"),icon:o.a.createElement(ya.a,null),className:l||1===a?t.navigationActionDisabled:"",disabled:l||1===a})),o.a.createElement(_.a,{className:t.divider}),u&&o.a.createElement(Or.a,{onChange:function(){return A(!0)},showLabels:!0,style:{marginBottom:8}},o.a.createElement(Er.a,{label:S("scenes.dataViewer.sidebar.referenceMetadata"),icon:o.a.createElement("div",{className:t.referenceMetadataIcon},o.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle"}},"M"))})),o.a.createElement(Or.a,{value:0===a?0:null,onChange:function(){return O(0)},showLabels:!0},o.a.createElement(Er.a,{label:n[0].title,icon:n[0].icon,className:s?t.navigationActionDisabled:"",disabled:s})),o.a.createElement(Or.a,{value:a>=2?0:null,onChange:function(e){var t=e.currentTarget;return k(t)},showLabels:!0},o.a.createElement(Er.a,{label:a>=2?n[a].title:S("scenes.dataViewer.sidebar.chart"),icon:a>=2?n[a].icon:o.a.createElement(Sr.a,null),className:c?t.navigationActionDisabled:"",disabled:c})),o.a.createElement(Or.a,{value:1===a?0:null,onChange:function(){return O(1)},showLabels:!0},o.a.createElement(Er.a,{label:n[1].title,icon:n[1].icon,className:d?t.navigationActionDisabled:"",disabled:d}))),o.a.createElement(je.a,{anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:function(){return k(null)}},n.slice(2).filter((function(e){return!0!==e.hidden})).map((function(e){return o.a.createElement(xe.a,{className:"".concat(t.floatingMenuOption," ").concat(a===e.key?t.floatingMenuOptionSelected:""),key:e.key,selected:a===e.key,onClick:function(){return O(e.key)}},e.icon,o.a.createElement(f.a,{style:{marginLeft:8}},e.title))}))),o.a.createElement(ae.a,{open:w,fullWidth:!0,maxWidth:"md",onClose:function(){return A(!1)}},o.a.createElement(oe.a,null,S("scenes.dataViewer.sidebar.dialogs.referenceMetadata.title")),o.a.createElement(re.a,{style:{height:480}},o.a.createElement("iframe",{title:"title",src:u,style:{border:0,width:"100%",height:"calc(100% - 6px)"}})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){return A(!1)}},S("commons.confirm.close")))))}));var xr=Object(g.a)((function(e){return{root:{whiteSpace:"nowrap"},sheet:{display:"inline-block",marginRight:8}}}))((function(e){var t=e.classes,n=e.labels,a=e.dataIdx,r=e.setData,l=Object(ue.a)().t,s=Object(i.useState)(!1),c=Object(ne.a)(s,2),d=c[0],u=c[1];return o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:t.root},n.map((function(e,t){return{key:t,label:e}})).map((function(e){return o.a.createElement("div",{key:e.key,className:t.sheet},o.a.createElement(Dn.a,{label:e.label,color:e.key===a?"primary":void 0,onClick:function(){return r(e.key)},deleteIcon:o.a.createElement(Ve.a,{title:l("scenes.dataViewer.footer.worksheetDelete")},o.a.createElement(Et.a,null)),onDelete:a===e.key?void 0:function(){return u(!0)}}))}))),o.a.createElement(ae.a,{open:d,onClose:function(){return u(!1)}},o.a.createElement(oe.a,null,l("scenes.dataViewer.footer.dialogs.worksheetDelete.title")),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){return u(!1)},color:"primary"},l("commons.confirm.cancel")),o.a.createElement(E.a,{onClick:function(){return u(!1)},color:"primary",autoFocus:!0},l("commons.confirm.confirm")))))})),Pr=window.jQuery,Dr=function(e,t,n){switch(n){case"LABEL_FORMAT_SELECTOR_FORMAT_NAME":return t;case"LABEL_FORMAT_SELECTOR_FORMAT_ID":return e;case"LABEL_FORMAT_SELECTOR_FORMAT_BOTH":return"[".concat(e,"] ").concat(t);default:return t}},Mr=function(e,t){var n,a;return(null===t||void 0===t||null===(n=t.primaryDim)||void 0===n?void 0:n[0])===e||(null===t||void 0===t||null===(a=t.secondaryDim)||void 0===a?void 0:a[0])===e};var Rr=Object(he.d)(Object(g.a)((function(e){return{root:{},filter:{display:"inline-block",verticalAlign:"bottom",minWidth:120,marginRight:24,marginBottom:8},dialogContent:{padding:"8px !important"},item:{fontSize:14},itemDisabled:{pointerEvents:"none","& > svg":{visibility:"hidden"}},dimensionTitle:{marginBottom:4,fontSize:13,color:e.palette.primary.main},attributeId:{cursor:"default",fontSize:13,color:"rgb(255, 255, 255)",backgroundColor:"rgb(136, 136, 136)",borderRadius:3,padding:"0 4px"},attributeAst:{cursor:"default",fontSize:15,color:"rgb(136, 136, 136)",fontFamily:"Do Hyeon"}}})))((function(e){var t=e.classes,n=e.jsonStat,a=e.hiddenAttributes,r=e.layout,l=e.filterTree,s=e.labelFormat,c=e.onSelect,d=Object(ue.a)().t,u=Object(i.useState)(((null===r||void 0===r?void 0:r.primaryDim)||[]).concat((null===r||void 0===r?void 0:r.secondaryDim)||[]).concat((null===r||void 0===r?void 0:r.filters)||[])),m=Object(ne.a)(u,1)[0],h=Object(i.useState)(null),f=Object(ne.a)(h,2),g=f[0],p=f[1],v=Object(i.useState)(null),b=Object(ne.a)(v,2),k=b[0],C=b[1],y=Object(i.useState)(null),w=Object(ne.a)(y,2),A=w[0],_=w[1],S=Object(i.useState)(null),O=Object(ne.a)(S,2),T=O[0],x=O[1];Object(i.useEffect)((function(){x(aa(n,a))}),[n,a]);var P=function(){p(null),_(null),C(null)},D=function(e,t,a){var i;i=a?n.dimension[e].category.index.filter((function(e){return t.includes(e)})):t,c(e,i),P()};return o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:t.root},function(){var e=Pr("<span>").css({visibility:"hidden",position:"absolute",fontSize:16}).appendTo("body").get(0),a=[];return m.forEach((function(i,c){var u=r.filtersValue;if(Mr(i,r)||1!==n.size[n.id.indexOf(i)]){var h=n.dimension[i].label||i,f=ki(h,e)+16;a.push(o.a.createElement("div",{key:c,className:t.filter},Mr(i,r)&&o.a.createElement(Fo.a,{className:t.dimensionTitle},r.primaryDim[0]===i?d("components.datasetFilters.primaryDim"):d("components.datasetFilters.secondaryDim")),o.a.createElement(se.a,{style:{display:"inline-block",verticalAlign:"bottom"}},o.a.createElement(Fo.a,null,h),o.a.createElement(No.a,{open:!1,style:{minWidth:f},value:Mr(i,r)?r.primaryDim[0]===i?r.primaryDimValues:r.secondaryDimValues:u[i],multiple:Mr(i,r),renderValue:function(e){return Mr(i,r)?1!==n.size[n.id.indexOf(i)]?1===e.length?d("components.datasetFilters.selectedCount",{selected:e.length}):d("components.datasetFilters.selectedCount_plural",{selected:e.length}):Dr(e[0],n.dimension[i].category.label[e[0]],s):Dr(e,n.dimension[i].category.label[e],s)},className:"".concat(t.item," ").concat(1===n.size[n.id.indexOf(i)]?t.itemDisabled:""),onOpen:function(){return 1===n.size[n.id.indexOf(i)]?null:function(e){p(e);var t=ea(m[e],n,r,l,!0);"TIME_PERIOD"===m[e]&&t.reverse(),C(t);var a,i,o=m[e];Mr(o,r)&&(null===A&&o===(null===r||void 0===r||null===(a=r.primaryDim)||void 0===a?void 0:a[0])?_(r.primaryDimValues):null===A&&o===(null===r||void 0===r||null===(i=r.secondaryDim)||void 0===i?void 0:i[0])&&_(r.secondaryDimValues))}(c)}},n.dimension[i].category.index.map((function(e,t){return o.a.createElement(xe.a,{key:t+e,value:e},e)})))),T&&T[i][u[i]]&&o.a.createElement("div",{style:{display:"inline-block",verticalAlign:"bottom",marginLeft:8,marginBottom:4}},o.a.createElement(Ve.a,{title:o.a.createElement("div",null,T[i][u[i]].attributes.map((function(e,t){var n=e.id,a=e.label,i=e.valueId,r=e.valueLabel;return o.a.createElement("div",{key:t},"".concat(a||n,": ").concat(r||i).concat(r!==i?" [".concat(i,"]"):""))}))),placement:"top"},function(){var e=T[i][u[i]].ids;return e&&1===e.length&&e[0].length<=2?o.a.createElement("div",{className:t.attributeId},e[0]):o.a.createElement("div",{className:t.attributeAst},"(*)")}()))))}})),Pr(e).remove(),a}()),o.a.createElement(ae.a,{open:null!==k,onClose:P,fullWidth:!0,maxWidth:"md"},o.a.createElement(re.a,{className:t.dialogContent},Mr(m[g],r)?o.a.createElement(Ni,{data:k,getRowKey:function(e){return e.id},columns:[{title:d("components.datasetFilters.table.columns.label.title"),dataIndex:"label",render:function(e,t){var n=t.id,a=t.label;return Dr(n,a,s)},minWidth:100,noFilter:!0}],rowSelection:{selectedRowKeys:A,onChange:function(e){return _(k.map((function(e){return e.id})).filter((function(t){return e.includes(t)})))}}}):o.a.createElement(Ni,{data:k,getRowKey:function(e){return e.id},showHeader:!1,columns:[{title:"",dataIndex:"label",render:function(e,t){var n=t.id,a=t.label;return Dr(n,a,s)},minWidth:100}],onRowClick:function(e){return D(m[g],e.id)},getRowStyle:function(e){return{background:e.id===r.filtersValue[m[g]]?"#fff9e5":void 0}}})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:P,color:"primary"},d("commons.confirm.cancel")),Mr(m[g],r)&&o.a.createElement(E.a,{onClick:function(){return D(m[g],A,!0)},color:"primary",disabled:(A||[]).length<1},d("commons.confirm.confirm")))))})),Ir=n(304),Br=n.n(Ir),Lr=n(305),zr=n.n(Lr),Vr=n(544),jr=n.n(Vr),Fr=n(545),Nr=n.n(Fr),Gr=window.jQuery,Ur=function(e,t,n,a){var i=[];return function e(o){return o?o.map((function(o){return o[t]&&o[t].length&&e(o[t]),a&&!a(o)||i.push(n(o)),null})):[]}(e),i},Hr=function(e,t,n){var a=Gr(".enhanced-tree__".concat(e," .enhanced-tree__actions")).css("height"),i=0;if(n){i=48;for(var o=!1,r=function(e){t.find((function(t){return t==="TREE_NODE_KEY_OF_LEVEL_PREFIX_"+e}))&&!o?i+=32:o=!0},l=0;l<t.length;l++)r(l)}Gr(".enhanced-tree__".concat(e," .enhanced-tree__tree")).css("height","calc(100% - ".concat(a," - ").concat(i,"px)"))};var qr=Object(he.d)(fi()((function(e){return{root:{height:"100%"},tree:{overflow:"auto","& .MuiTreeItem-label":{width:"calc(100% - 19px)"}},treeActions:{marginBottom:6},treeNode:{height:34,padding:"2px 0"},treeNodeCheckbox:{display:"inline-block",verticalAlign:"middle",padding:"4px 8px"},treeNodeLabel:{display:"inline-block",verticalAlign:"middle",fontSize:14,color:"rgba(0, 0, 0, 0.65)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},levelTreeNodeLabel:{color:"rgba(0, 0, 0, 0.85)",fontWeight:500},treeNodeAction:{display:"inline-block",verticalAlign:"middle",marginLeft:4,"& > button":{padding:4}},divider:{margin:"4px 0"},showMoreNode:{marginLeft:10,"& i":{fontSize:14}},treeAction:{padding:8}}})),Object(H.b)((function(e){return{languages:e.app.languages,defaultLanguage:e.app.language}})))((function(e){var t=e.languages,n=e.defaultLanguage,a=e.classes,r=e.tree,l=e.getNodeKey,s=e.childrenKey,c=e.labelKey,d=e.getNodeLabel,u=e.checkable,m=e.isCheckDisabled,h=e.defaultExpandedKeys,f=e.nodeActions,g=e.withoutSearch,p=e.withoutCheckControls,v=e.withoutExpandControls,k=e.withLevelSelector,C=e.withoutPagination,y=e.getIsCheckable,w=e.isLabelNotMultilingual,A=Object(ue.a)().t,S=Object(i.useState)(Object(q.a)()),E=Object(ne.a)(S,1)[0],O=Object(i.useState)(""),T=Object(ne.a)(O,2),x=T[0],D=T[1],M=Object(i.useState)(e.checkedKeys||[]),R=Object(ne.a)(M,2),I=R[0],z=R[1],V=Object(i.useState)(h||[]),j=Object(ne.a)(V,2),F=j[0],N=j[1],G=Object(i.useState)({}),U=Object(ne.a)(G,2),H=U[0],W=U[1];Object(i.useEffect)((function(){Hr(E,[],k)}),[E,k]);var K=function(t,n){var a=Object(Je.a)(e.checkedKeys||I);n?a.push(l(t)):a.splice((e.checkedKeys||I).indexOf(l(t)),1),z(a),e.onCheck&&e.onCheck(a)},Y=function(t,n){var a=po(Z,s,t.level+1).filter((function(e){return!y||y(e)})).map((function(e){return l(e)})),i=Object(Je.a)(e.checkedKeys||I);i=n?Me.a.uniq(i.concat(a)):i.filter((function(e){return!a.includes(e)})),z(i),e.onCheck&&e.onCheck(i)},J=function(t){N(t),e.onExpand&&e.onExpand(t)},$=function(e){var t="".concat(e?l(e):"root"),n=(e?e[s]:Z.filter((function(e){return null!=e}))).length-10*((H[t]||0)+1);return o.a.createElement(Qe.a,{key:"".concat(t,"_showMore"),nodeId:"".concat(t,"_showMore"),className:a.showMoreNode,label:o.a.createElement("i",{onClick:function(e){e.stopPropagation(),W(Object(B.a)(Object(B.a)({},H),{},Object(L.a)({},t,H[t]?H[t]+1:1)))}},A("components.enhancedTree.showMore",{more:Math.min(n,10),remaining:n}))})},Q=function e(i,r,l,u,h,g,p){var v=(f||[]).filter((function(e){return e})).map((function(e){return"function"===typeof e?e(i):e})).filter((function(e){return e})),b=d&&!l?d(i):w?i[c]:Ie(i[c],n,t);return o.a.createElement(Qe.a,{key:r(i),nodeId:r(i),label:o.a.createElement("div",{className:a.treeNode},u&&o.a.createElement(ke.a,{className:a.treeNodeCheckbox,checked:l?!po(Z,s,i.level+1).filter((function(e){return!p||p(e)})).map((function(e){return r(e)})).some((function(e){return-1===h.indexOf(e)})):h.includes(r(i)),onClick:function(e){g(i,e.target.checked),e.stopPropagation()},disabled:m||!!p&&!p(i)}),o.a.createElement(Ve.a,{title:b},o.a.createElement("div",{className:"".concat(a.treeNodeLabel," ").concat(l?a.levelTreeNodeLabel:""),style:{width:"calc(100% - ".concat((u?40:0)+(v&&v.length>0?4+32*v.length:0),"px)")}},b)),!l&&o.a.createElement("div",{className:a.treeNodeAction},v.filter((function(e){return null!==e&&void 0!==e})).map((function(e,t){return o.a.createElement(Ve.a,{key:t,title:e.title},o.a.createElement(P.a,{onClick:function(t){e.onClick(i),t.stopPropagation()}},e.icon))}))))},i[s]?i[s].filter((function(e,t){return C||t<10*((H[r(i)]||0)+1)})).map((function(t){return e(t,r,l,u,h,g,p)})).concat(!C&&i[s].length>10*((H[r(i)]||0)+1)?[$(i)]:[]):null)},Z=function(e,t,n,a,i,o,r){var l=function(e){var t=a.toLowerCase();return e.id&&e.id.toLowerCase().indexOf(t)>=0||r&&e[n].toLowerCase().indexOf(t)>=0||!r&&Ie(e[n],i,o).toLowerCase().indexOf(t)>=0};return function e(n){return n?Object(Je.a)(n.map((function(e){return Object(B.a)({},e)})).filter((function(n){if(n[t]&&n[t].length){if(l(n))return!0;var a=Object(Je.a)(e(n[t]));return!!a.length&&(n[t]=a,!0)}return l(n)}))):null}(e)}(r,s,c,x,n,t,w),X=[];if(k){var ee,te=function(e,t){return e?Math.max.apply(Math,Object(Je.a)(e.map((function e(n){return n?1+Math.max.apply(Math,Object(Je.a)((n[t]||[]).map(e)).concat([0])):0}))).concat([0])):0}(Z,s);X=[(ee={id:"TREE_NODE_KEY_OF_LEVEL_PREFIX_0"},Object(L.a)(ee,c,w?A("components.enhancedTree.levelSelector",{level:0}):Object(L.a)({},n,A("components.enhancedTree.levelSelector",{level:0}))),Object(L.a)(ee,"level",0),ee)],null!==te&&0!==te&&Object(Je.a)(Array(te-1)).forEach((function(){for(var e,t=X[0],a=0;t[s];)t=t[s][0],a++;t[s]=[(e={id:"TREE_NODE_KEY_OF_LEVEL_PREFIX_"+Number(a+1)},Object(L.a)(e,c,w?A("components.enhancedTree.levelSelector",{level:a+1}):Object(L.a)({},n,A("components.enhancedTree.levelSelector",{level:a+1}))),Object(L.a)(e,"level",a+1),e)]}))}return o.a.createElement("div",{className:"enhanced-tree enhanced-tree__".concat(E," ").concat(a.root)},o.a.createElement("div",{className:"enhanced-tree__actions ".concat(a.treeActions)},o.a.createElement(b.a,{container:!0,justify:"space-between"},o.a.createElement(b.a,{item:!0,xs:6},p?null:o.a.createElement(i.Fragment,null,o.a.createElement(Ve.a,{title:A("components.enhancedTree.selectAll.tooltip")},o.a.createElement("span",null,o.a.createElement(P.a,{onClick:function(){var t=Ur(Z,s,l,y);z(t),e.onCheck&&e.onCheck(t)},className:a.treeAction,disabled:m},o.a.createElement(Br.a,null)))),o.a.createElement(Ve.a,{title:A("components.enhancedTree.deselectAll.tooltip")},o.a.createElement("span",null,o.a.createElement(P.a,{onClick:function(){z([]),e.onCheck&&e.onCheck([])},className:a.treeAction,disabled:m},o.a.createElement(zr.a,{style:{padding:1}}))))),v?null:o.a.createElement(i.Fragment,null,o.a.createElement(Ve.a,{title:A("components.enhancedTree.expandAll.tooltip")},o.a.createElement(P.a,{className:a.treeAction,onClick:function(){return J(Ur(Z,s,l))}},o.a.createElement(jr.a,null))),o.a.createElement(Ve.a,{title:A("components.enhancedTree.collapseAll.tooltip")},o.a.createElement(P.a,{className:a.treeAction,onClick:function(){return J([])}},o.a.createElement(Nr.a,null))))),o.a.createElement(b.a,{item:!0,xs:6,style:{padding:"8px 0"}},g?null:o.a.createElement(xi,{onSearch:function(e){D(e),N(e&&e.length>0?Ur(Z,s,l):[])}})))),k&&Ur(Z,s,l).length>1&&o.a.createElement(i.Fragment,null,o.a.createElement($e.a,{defaultCollapseIcon:o.a.createElement(Xe.a,null),defaultExpandIcon:o.a.createElement(tt.a,null),disableSelection:!0,onNodeToggle:function(e,t){return Hr(E,t,k)}},X.map((function(t){return Q(t,(function(e){return e.id}),!0,u,e.checkedKeys||I,Y,y)}))),o.a.createElement(_.a,{className:a.divider})),o.a.createElement("div",{className:"enhanced-tree__tree ".concat(a.tree)},Z&&Z.length>0?o.a.createElement($e.a,{defaultCollapseIcon:o.a.createElement(Xe.a,null),defaultExpandIcon:o.a.createElement(tt.a,null),disableSelection:!0,expanded:F,onNodeToggle:function(e,t){return J(t)}},Z.map((function(t){return Q(t,l,!1,u,e.checkedKeys||I,K,y)}))):o.a.createElement(Ii,null)))})),Wr=n(546),Kr=n.n(Wr),Yr=n(95),Jr=n(957),$r=n(565),Qr=n(956),Zr=function(e){var t;return t={},Object(L.a)(t,"S",{values:["S1","S2"],S1:{start:"".concat(e,"-01-01"),end:Fn()("".concat(e,"-06"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},S2:{start:"".concat(e,"-07-01"),end:Fn()("".concat(e,"-12"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")}}),Object(L.a)(t,"Q",{values:["Q1","Q2","Q3","Q4"],Q1:{start:"".concat(e,"-01-01"),end:Fn()("".concat(e,"-03"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},Q2:{start:"".concat(e,"-04-01"),end:Fn()("".concat(e,"-06"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},Q3:{start:"".concat(e,"-07-01"),end:Fn()("".concat(e,"-09"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},Q4:{start:"".concat(e,"-10-01"),end:Fn()("".concat(e,"-12"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")}}),Object(L.a)(t,"M",{values:["01","02","03","04","05","06","07","08","09","10","11","12"],"01":{start:"".concat(e,"-01-01"),end:Fn()("".concat(e,"-01"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},"02":{start:"".concat(e,"-02-01"),end:Fn()("".concat(e,"-02"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},"03":{start:"".concat(e,"-03-01"),end:Fn()("".concat(e,"-03"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},"04":{start:"".concat(e,"-04-01"),end:Fn()("".concat(e,"-04"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},"05":{start:"".concat(e,"-05-01"),end:Fn()("".concat(e,"-05"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},"06":{start:"".concat(e,"-06-01"),end:Fn()("".concat(e,"-06"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},"07":{start:"".concat(e,"-07-01"),end:Fn()("".concat(e,"-07"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},"08":{start:"".concat(e,"-08-01"),end:Fn()("".concat(e,"-08"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},"09":{start:"".concat(e,"-09-01"),end:Fn()("".concat(e,"-09"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},10:{start:"".concat(e,"-10-01"),end:Fn()("".concat(e,"-10"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},11:{start:"".concat(e,"-11-01"),end:Fn()("".concat(e,"-11"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")},12:{start:"".concat(e,"-12-01"),end:Fn()("".concat(e,"-12"),"YYYY-MM").endOf("month").format("YYYY-MM-DD")}}),t},Xr=function(e,t){var n=[];if(e&&t)for(var a=Number(e),i=Number(t),o=a;o<=i;o++)n.push(o+"");return n},el=function(e,t){if(e&&t){var n=t.slice(0,4);if(Zr(n)[e]){var a=Fn()(t,"YYYY-MM-DD");return Zr(n)[e].values.find((function(t){var i=Fn()(Zr(n)[e][t].start,"YYYY-MM-DD"),o=Fn()(Zr(n)[e][t].end,"YYYY-MM-DD");return a.isBetween(i,o,null,"[]")}))}}return null},tl=function(e,t,n,a,i,o,r,l,s){var c;return c=s?n===a&&o&&r?Fn()(n+o,"YYYY-MM-DD").isSameOrAfter(Fn()(e.minDate,"YYYY-MM-DD"))?Zr(n)[e.freq][o].start:Zr(n)[e.freq][r].start:n===i&&o&&l?Fn()(n+o,"YYYY-MM-DD").isSameOrBefore(Fn()(e.maxDate,"YYYY-MM-DD"))?Zr(n)[e.freq][o].start:Zr(n)[e.freq][l].start:o?Zr(n)[e.freq][o].start:n+"-01-01":n===a&&o&&r?o&&Fn()(n+o,"YYYY-MM-DD").isSameOrAfter(Fn()(e.minDate,"YYYY-MM-DD"))?Zr(n)[e.freq][o].end:Zr(n)[e.freq][r].end:n===i&&o&&l?o&&Fn()(n+o,"YYYY-MM-DD").isSameOrBefore(Fn()(e.maxDate,"YYYY-MM-DD"))?Zr(n)[e.freq][o].end:Zr(n)[e.freq][l].end:o?Zr(n)[e.freq][o].end:n+"-12-31",Object(B.a)(Object(B.a)({},e),{},{fromDate:s?c:e.fromDate,toDate:s?e.toDate:c})},nl=function(e,t,n){t(e),n(Fn()(e.fromDate,"YYYY-MM-DD").isSameOrBefore(Fn()(e.toDate,"YYYY-MM-DD")))},al=Object(he.d)(fi()((function(e){return{root:{},selectContainer:{},formControl:{width:"100%"},timePeriodInput:{width:"100%"},alert:{marginTop:8},typeSelectorContainer:{marginTop:8},typeSelectorLabel:{height:38,lineHeight:"38px"},typeSelectorSwitch:{"& > span.MuiSwitch-switchBase":{color:"#00295a"},"& > span.MuiSwitch-track":{background:"#00295a"}},lastPeriodsLabel:{height:48,lineHeight:"48px"},lastPeriodsInput:{"& input":{height:20,padding:14}}}})),Object(vt.a)())((function(e){var t=e.t,n=e.classes,a=e.timePeriod,r=e.onSetTimePeriod,l=e.isCriteriaValid,s=e.setCriteriaValidity,c=a.minDate?Fn()(a.minDate).format("YYYY"):null,d=a.maxDate?Fn()(a.maxDate).format("YYYY"):null,u=a.fromDate?Fn()(a.fromDate).format("YYYY"):null,m=a.toDate?Fn()(a.toDate).format("YYYY"):null,h=el(a.freq,a.minDate),f=el(a.freq,a.maxDate),g=el(a.freq,a.fromDate),p=el(a.freq,a.toDate),v=Zr(u)[a.freq]?Zr(u)[a.freq].values.slice(u===c?Zr(u)[a.freq].values.indexOf(h):0,u===d?Zr(u)[a.freq].values.indexOf(f)+1:void 0):[],k=Zr(m)[a.freq]?Zr(m)[a.freq].values.slice(m===c?Zr(m)[a.freq].values.indexOf(h):0,m===d?Zr(m)[a.freq].values.indexOf(f)+1:void 0):[];return o.a.createElement(i.Fragment,null,o.a.createElement(b.a,{container:!0,spacing:3},o.a.createElement(b.a,{item:!0,xs:12},null!==a.freq&&!a.missingRange&&o.a.createElement(b.a,{container:!0,spacing:2,justify:"flex-end"},o.a.createElement(b.a,{item:!0},o.a.createElement("div",{className:n.typeSelectorLabel},t("components.criteria.timePeriod.typeSelector.selectRange"))),o.a.createElement(b.a,{item:!0},o.a.createElement(Qr.a,{className:n.typeSelectorSwitch,color:"default",checked:"TimePeriod"===a.selectorType,onChange:function(){return r(Object(B.a)(Object(B.a)({},a),{},{selectorType:"TimePeriod"===a.selectorType?"TimeRange":"TimePeriod"}))}})),o.a.createElement(b.a,{item:!0},o.a.createElement("div",{className:n.typeSelectorLabel},t("components.criteria.timePeriod.typeSelector.selectLastPeriods"))))),o.a.createElement(b.a,{item:!0,xs:12},"TimeRange"===a.selectorType?null!==a.freq?o.a.createElement(i.Fragment,null,!l&&o.a.createElement(b.a,{item:!0,xs:12,className:n.alert},o.a.createElement(de.a,{severity:"warning"},t("components.criteria.timePeriod.alert.notValidRange"))),o.a.createElement(b.a,{container:!0,spacing:4},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(b.a,{container:!0,spacing:2,className:n.selectContainer},o.a.createElement(b.a,{item:!0,xs:12},t("components.criteria.timePeriod.start")),o.a.createElement(b.a,{item:!0,xs:void 0!==Zr(u)[a.freq]?6:12},u&&c&&m&&o.a.createElement(se.a,{className:n.formControl},o.a.createElement(Fo.a,null,t("components.criteria.timePeriod.year")),o.a.createElement(No.a,{value:u,onChange:function(e){var t=e.target.value,n=tl(a,a.fromDate,t,c,d,g,h,f,!0);nl(n,r,s)}},Xr(c,d).map((function(e,t){return o.a.createElement(xe.a,{key:t,value:e},e)}))))),u&&void 0!==Zr(u)[a.freq]&&v&&g&&o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{className:n.formControl},o.a.createElement(Fo.a,null,t("components.criteria.timePeriod.period")),o.a.createElement(No.a,{value:g,onChange:function(e){var t=e.target.value,n=Me.a.cloneDeep(a);n.fromDate=Zr(u)[a.freq][t].start,nl(n,r,s)}},v.map((function(e,t){return o.a.createElement(xe.a,{key:t,value:e},e)}))))))),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(b.a,{container:!0,spacing:2,className:n.selectContainer},o.a.createElement(b.a,{item:!0,xs:12},t("components.criteria.timePeriod.end")),o.a.createElement(b.a,{item:!0,xs:void 0!==Zr(m)[a.freq]?6:12},m&&u&&d&&o.a.createElement(se.a,{className:n.formControl},o.a.createElement(Fo.a,null,t("components.criteria.timePeriod.year")),o.a.createElement(No.a,{value:m,onChange:function(e){var t=e.target.value,n=tl(a,a.toDate,t,c,d,p,h,f,!1);nl(n,r,s)}},Xr(c,d).map((function(e,t){return o.a.createElement(xe.a,{key:t,value:e},e)}))))),m&&void 0!==Zr(m)[a.freq]&&k&&p&&o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(se.a,{className:n.formControl},o.a.createElement(Fo.a,null,t("components.criteria.timePeriod.period")),o.a.createElement(No.a,{value:k.includes(p)?p:k[k.length-1],onChange:function(e){var t=e.target.value,n=Me.a.cloneDeep(a);n.toDate=Zr(m)[a.freq][t].end,nl(n,r,s)}},k.map((function(e,t){return o.a.createElement(xe.a,{key:t,value:e},e)}))))))))):o.a.createElement(b.a,{container:!0,spacing:3},o.a.createElement(Yr.a,{utils:$r.a},o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(Jr.a,{openTo:"year",format:"yyyy-MM-dd",label:t("components.criteria.timePeriod.from"),views:["year","month","date"],clearable:!0,minDate:Fn()(a.minDate),maxDate:Fn()(a.toDate),value:Fn()(a.fromDate),onChange:function(e){return r(Object(B.a)(Object(B.a)({},a),{},{fromDate:e?Fn()(e).format("YYYY-MM-DD"):a.minDate}))},className:n.timePeriodInput})),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(Jr.a,{openTo:"year",format:"yyyy-MM-dd",label:t("components.criteria.timePeriod.to"),views:["year","month","date"],clearable:!0,minDate:Fn()(a.fromDate),maxDate:Fn()(a.maxDate),value:Fn()(a.toDate),onChange:function(e){return r(Object(B.a)(Object(B.a)({},a),{},{toDate:e?Fn()(e).format("YYYY-MM-DD"):a.maxDate}))},className:n.timePeriodInput})))):o.a.createElement(b.a,{container:!0,spacing:2,justify:"center"},o.a.createElement(b.a,{item:!0},o.a.createElement("div",{className:n.lastPeriodsLabel},t("components.criteria.timePeriod.selectLastPeriods.selectLast"))),o.a.createElement(b.a,{item:!0},o.a.createElement(le.a,{value:a.periods||"",placeholder:t("components.criteria.timePeriod.selectLastPeriods.noPeriodsSelected"),type:"number",variant:"outlined",className:n.lastPeriodsInput,style:{width:400},onChange:function(e){var t=e.target;""===t.value?r(Object(B.a)(Object(B.a)({},a),{},{periods:null})):!isNaN(t.value)&&Number(t.value)>0&&r(Object(B.a)(Object(B.a)({},a),{},{periods:Number(t.value)}))}})),o.a.createElement(b.a,{item:!0},o.a.createElement("div",{className:n.lastPeriodsLabel},t("components.criteria.timePeriod.selectLastPeriods.periods")))))))}));var il=Object(he.d)(fi()((function(e){return{root:{},criteriaContainer:{width:"100%",height:380,padding:8},codelistInfo:{width:"100%",height:40,padding:"8px 0"},codelistContainer:{width:"100%",height:"calc(100% - ".concat(40,"px)")},emptyContainer:{width:"100%",height:"100%"},timePeriodContainer:{width:"100%",height:"100%"},treeActions:{marginBottom:8}}})),Object(vt.a)(),Object(H.b)(null,(function(e){return{fetchCodelist:function(t){var n=t.nodeId,i=t.datasetId,o=t.dimensionId,r=t.type,l=t.criteria;return e(function(e,t,n,i,o){var r=la(o);return r=r.filter((function(e){return e.id!==n})),"dynamic"===i?$("dataset/structure/codelist/fetch",function(e,t,n){return"nodes/".concat(e,"/datasets/").concat(t,"/PartialCodelists/").concat(n)}(e,t,n),a.POST,r,(function(e){return{onStart:e("scenes.dataset.actions.fetchingCodelist")}})):$("dataset/structure/codelist/fetch",function(e,t,n,a){return"nodes/".concat(e,"/datasets/").concat(t,"/column/").concat(n,"/").concat(a?"full":"partial","/values")}(e,t,n,"full"===i),void 0,void 0,(function(e){return{onStart:e("scenes.dataset.actions.fetchingCodelist")}}))}(n,i,o,r,l))},fetchCodelists:function(t){var n=t.nodeId,a=t.datasetId,i=t.type;return e(function(e,t,n){return $("dataset/structure/codelists/fetch",function(e,t,n){return"nodes/".concat(e,"/datasets/").concat(t,"/columns/").concat(n?"full":"partial","/values")}(e,t,"full"===n),void 0,void 0,(function(e){return{onStart:e("scenes.dataset.actions.fetchingCodelists")}}))}(n,a,i))},onSetCriteria:function(t){return e(function(e){return{type:"dataset/structure/codelist/criteria/set",criteria:e}}(t))},onSetTimePeriod:function(t){return e(function(e){return{type:"dataset/structure/codelist/timePeriod/set",timePeriod:e}}(t))}}})))((function(e){var t,n=e.t,a=e.classes,r=e.nodeId,l=e.datasetId,s=e.dimensions,c=e.mode,d=e.type,u=e.codes,m=e.isCodesFlat,h=e.codelists,g=e.areCodelistsFlat,p=e.codelistsLength,v=e.criteria,b=e.timePeriod,k=e.fetchCodelist,C=e.fetchCodelists,y=e.onSetCriteria,w=e.onSetTimePeriod,A=e.isCriteriaValid,_=e.setCriteriaValidity,S=Object(i.useState)(0),O=Object(ne.a)(S,2),T=O[0],x=O[1],D=Object(i.useState)(!1),M=Object(ne.a)(D,2),R=M[0],I=M[1],B=Object(i.useState)(null),L=Object(ne.a)(B,2),z=L[0],j=L[1],F=Object(i.useState)(null),N=Object(ne.a)(F,2),G=N[0],U=N[1],H=function(e,t){var n=Me.a.cloneDeep(v),a=s[T].id;n[a]=(e||[]).length>0?{id:a,type:t||"CodeValues",filterValues:e,period:null,from:null,to:null}:void 0,y(n)};Object(i.useEffect)((function(){s&&!1===R&&I(!0)}),[s,R]);var q=(null===(t=v[s[T].id])||void 0===t?void 0:t.filterValues)||[];return o.a.createElement("div",{className:a.root},s&&o.a.createElement(i.Fragment,null,o.a.createElement(V.a,{position:"static",color:"default"},o.a.createElement(wt.a,{value:T,variant:"scrollable",scrollButtons:"auto",indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return function(e){if("dynamic"===d&&e<s.length-1){var t=Me.a.cloneDeep(v),n=s.map((function(e){return e.id})).slice(e+1).filter((function(e){return null!==t[e]&&void 0!==t[e]}));n.length>0?(n.forEach((function(e){return t[e]=void 0})),j(t),U(e)):(x(e),I(!1))}else x(e),I(!1)}(t)}},(s||[]).map((function(e,t){var n;return o.a.createElement(At.a,{key:t,label:o.a.createElement(Ve.a,{title:e.label||""},o.a.createElement("span",null,e.id+(p[t]?" (".concat(((null===(n=v[e.id])||void 0===n?void 0:n.filterValues)||[]).length,"/").concat(p[t],")"):""))),disabled:!A})})))),o.a.createElement("div",{key:T,className:a.criteriaContainer},o.a.createElement(Zi,{cb:"stepByStep"===c?k:C,cbParam:{nodeId:r,datasetId:l,dimensionId:s[T].id,mode:c,type:d,criteria:v},disabled:!r||!l||!s||"all"===c&&!!h||R},function(){var e,t,r="stepByStep"===c?u:null===h||void 0===h?void 0:h[T],l=1===(r||[]).length&&0===(r[0].children||[]).length;return r?"TIME_PERIOD"===s[T].id?o.a.createElement("div",{className:a.timePeriodContainer},o.a.createElement(al,{timePeriod:b,onSetTimePeriod:w,isCriteriaValid:A,setCriteriaValidity:_})):o.a.createElement(i.Fragment,null,o.a.createElement(f.a,{className:a.codelistInfo},"".concat(s[T].label||s[T].id).concat((null===(e=s[T])||void 0===e||null===(t=e.extra)||void 0===t?void 0:t.DataStructureRef)?" (".concat(s[T].extra.DataStructureRef,")"):"")),o.a.createElement("div",{className:a.codelistContainer},0===r.length?o.a.createElement(i.Fragment,null,o.a.createElement("div",{style:{margin:"16px 0"}},n("components.criteria.noCodelistAssociated.info")),o.a.createElement(le.a,{value:q[0]||"",placeholder:n("components.criteria.noCodelistAssociated.noFilter"),variant:"outlined",style:{width:"100%"},onChange:function(e){var t=e.target;return H([t.value],"StringValues")}})):!0===m||!0===(null===g||void 0===g?void 0:g[T])?o.a.createElement(Ni,{data:r,getRowKey:function(e){return e.id},showHeader:!1,columns:[{title:"",dataIndex:"name",render:function(e,t){var n=t.id,a=t.name;return"[".concat(n,"] ").concat(a)},renderText:function(e,t){var n=t.id,a=t.name;return"[".concat(n,"] ").concat(a)},minWidthToContent:!0,noFilter:!0}],rowSelection:{selectedRowKeys:q,onChange:H},leftActions:o.a.createElement(i.Fragment,null,o.a.createElement(Ve.a,{title:n("components.criteria.table.actions.selectAll.tooltip")},o.a.createElement("span",null,o.a.createElement(P.a,{onClick:function(){return H(r.map((function(e){return e.id})))},style:{padding:8},disabled:l},o.a.createElement(Br.a,null)))),o.a.createElement(Ve.a,{title:n("components.criteria.table.actions.deselectAll.tooltip")},o.a.createElement("span",null,o.a.createElement(P.a,{onClick:function(){return H([])},style:{padding:8},disabled:l},o.a.createElement(zr.a,{style:{padding:1}}))))),isCheckDisabled:l,height:204}):o.a.createElement(qr,{key:T,tree:r,getNodeKey:function(e){return e.id},childrenKey:"children",labelKey:"name",getNodeLabel:function(e){return"[".concat(e.id,"] ").concat(e.name)},isLabelNotMultilingual:!0,checkable:!0,withLevelSelector:!0,checkedKeys:q,getIsCheckable:function(e){return!1!==e.isSelectable},onCheck:H,isCheckDisabled:l,nodeActions:[function(e){return e.children&&e.children.length>0?{icon:o.a.createElement(Kr.a,null),title:n("components.criteria.tree.nodeActions.selectAll.title"),onClick:function(e){var t=Object(Je.a)(q),n=(e.children||[]).filter((function(e){return!1!==e.isSelectable})).map((function(e){return e.id})),a=n.filter((function(e){return!t.includes(e)}));t=a.length>0?t.concat(n):t.filter((function(e){return!n.includes(e)})),H(Me.a.uniq(t))}}:null}]}))):o.a.createElement("div",{className:a.emptyContainer},o.a.createElement(Ii,null))}())),o.a.createElement(ae.a,{open:null!==z,fullWidth:!0,maxWidth:"sm",onClose:function(){return j(null)}},o.a.createElement(re.a,null,n("components.criteria.dialogs.warning.losingFilters.title")),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){j(null),U(null)}},"cancel"),o.a.createElement(E.a,{autoFocus:!0,onClick:function(){j(null),y(z),U(null),x(G),I(!1)},color:"primary"},"ok")))))})),ol=n(127),rl=n(306),ll=n.n(rl),sl=n(307),cl=n.n(sl),dl=n(547),ul=n.n(dl),ml=function(e,t,n){var a=e.source,i=e.destination;if(i){var o=JSON.parse(JSON.stringify(t));a.droppableId===i.droppableId?function(e,t,n){var a=e.splice(t,1),i=Object(ne.a)(a,1)[0];e.splice(n,0,i)}(o[a.droppableId],a.index,i.index):function(e,t,n,a){var i=e.splice(n.index,1),o=Object(ne.a)(i,1)[0];t.splice(a.index,0,o)}(o[a.droppableId],o[i.droppableId],a,i),n(o)}},hl=function(e){var t=e.classes,n=e.id,a=e.title,r=e.Icon,l=e.dimensions,s=e.jsonStat;return o.a.createElement(k.a,{variant:"outlined",className:t.section},o.a.createElement(co.a,{title:o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:t.sectionHeaderIcon},r),o.a.createElement(f.a,{className:t.sectionHeaderTitle,variant:"button"},a)),className:t.sectionHeaderContainer}),o.a.createElement(ol.Droppable,{droppableId:n},(function(e,a){return o.a.createElement("div",{className:"".concat(t.sectionContentWrapper," ").concat(a.isDraggingOver?t.draggingHover:"")},o.a.createElement("div",{ref:e.innerRef,className:t.sectionContent},l.map((function(e,a){return o.a.createElement(ol.Draggable,{key:a,index:a,draggableId:"".concat(n,"-").concat(a)},(function(n,a){return o.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:(a.isDragging,i=n.draggableProps.style,Object(B.a)({userSelect:"none",height:32,marginBottom:8},i))}),o.a.createElement(Ve.a,{title:s.dimension[e].label},o.a.createElement(In.a,{className:t.sectionItem},"".concat(e," (").concat(s.size[s.id.indexOf(e)],")"))));var i}))})),e.placeholder))})))},fl=Object(he.d)(fi()((function(e){return{root:{},sectionContainer:{display:"inline-block",verticalAlign:"middle",width:"calc(60% - 8px)",marginRight:16},section:{height:216,background:"#eeeeee"},sectionHeaderContainer:{height:48,padding:"16px 16px 0"},sectionHeaderIcon:{display:"inline-block",verticalAlign:"middle",marginRight:8},sectionHeaderTitle:{display:"inline-block",verticalAlign:"middle",height:30},sectionContentWrapper:{width:"100%",height:"calc(100% - 48px)",padding:16},draggingHover:{border:"1px dashed #999999"},sectionContent:{width:"100%",height:"100%",overflowY:"auto",overflowX:"hidden"},sectionItem:{textAlign:"center",height:"100%",padding:"4px 16px"},previewContainer:{display:"inline-block",verticalAlign:"middle",width:"calc(40% - 8px)"},divider:{marginBottom:16}}})),Object(vt.a)())((function(e){var t=e.t,n=e.classes,a=e.jsonStat,i=e.layout,r=e.labelFormat,l=e.setLayout,s=i.filters,c=i.sections,d=i.rows,u=i.cols,m=1;u.forEach((function(e){return m*=a.size[a.id.indexOf(e)]}));var h=1;return d.forEach((function(e){return h*=a.size[a.id.indexOf(e)]})),c.forEach((function(e){return h*=a.size[a.id.indexOf(e)]})),o.a.createElement("div",{className:n.root},o.a.createElement(_.a,{className:n.divider}),o.a.createElement("div",{className:n.sectionContainer},o.a.createElement(ol.DragDropContext,{onDragEnd:function(e){return ml(e,i,l)}},o.a.createElement(b.a,{container:!0,spacing:2},o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(hl,{classes:n,id:"filters",title:t("components.tableLayout.sections.filters"),Icon:o.a.createElement(zi.a,null),dimensions:s,jsonStat:a})),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(hl,{classes:n,id:"sections",title:t("components.tableLayout.sections.sections"),Icon:o.a.createElement(ll.a,null),dimensions:c,jsonStat:a})),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(hl,{classes:n,id:"rows",title:t("components.tableLayout.sections.rows"),Icon:o.a.createElement(cl.a,null),dimensions:d,jsonStat:a})),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(hl,{classes:n,id:"cols",title:t("components.tableLayout.sections.columns"),Icon:o.a.createElement(ul.a,null),dimensions:u,jsonStat:a}))))),o.a.createElement("div",{className:"".concat(n.previewContainer)},o.a.createElement(kr,{jsonStat:a,layout:i,labelFormat:r,isPreview:!0}),o.a.createElement(b.a,{container:!0,spacing:1,style:{marginTop:16}},o.a.createElement(b.a,{item:!0,xs:12,style:{textAlign:"end"}},t("components.tableLayout.rowCount",{rowCount:h})),o.a.createElement(b.a,{item:!0,xs:12,style:{textAlign:"end"}},t("components.tableLayout.colCount",{colCount:m})))))})),gl=function(e){return o.a.createElement("div",{className:e},o.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle"}},"A"))},pl=Object(he.d)(fi()((function(e){return{fontSizeIcon:{width:24,height:24,fontWeight:"bold",display:"table"},fontSizeIconSm:{fontSize:14},fontSizeIconMd:{fontSize:16},fontSizeIconLg:{fontSize:20},fontSizeSelected:{"& div":{boxShadow:"inset 0 -2px 0 0 rgba(0, 0, 0, .54)"}}}})),Object(vt.a)())((function(e){var t=e.t,n=e.classes,a=e.fontSize,r=e.setFontSize;return o.a.createElement(i.Fragment,null,o.a.createElement(Ve.a,{title:t("components.fontSizeSelector.small.tooltip")},o.a.createElement(P.a,{className:"sm"===a?n.fontSizeSelected:"",onClick:function(){return r("sm")}},gl("".concat(n.fontSizeIcon," ").concat(n.fontSizeIconSm)))),o.a.createElement(Ve.a,{title:t("components.fontSizeSelector.normal.tooltip")},o.a.createElement(P.a,{className:"md"===a?n.fontSizeSelected:"",onClick:function(){return r("md")}},gl("".concat(n.fontSizeIcon," ").concat(n.fontSizeIconMd)))),o.a.createElement(Ve.a,{title:t("components.fontSizeSelector.big.tooltip")},o.a.createElement(P.a,{className:"lg"===a?n.fontSizeSelected:"",onClick:function(){return r("lg")}},gl("".concat(n.fontSizeIcon," ").concat(n.fontSizeIconLg)))))})),vl=n(309),bl=n.n(vl),kl=n(308),Cl=n.n(kl),yl=(n(870),n(548)),wl=n.n(yl),Al=n(549),_l=n.n(Al),Sl=n(550),El=n.n(Sl),Ol=n(551),Tl=n.n(Ol),xl=n(552),Pl=n.n(xl),Dl=n(200),Ml=function(e){var t=e.props;return o.a.createElement(Dl.a,t,o.a.createElement("path",{d:"M 2.00,20.00\r C 2.00,20.00 22.00,20.00 22.00,20.00\r 22.00,20.00 22.00,4.08 22.00,4.08\r 21.58,4.28 20.69,5.19 20.32,5.56\r 20.32,5.56 18.08,7.69 18.08,7.69\r 17.82,7.95 16.82,8.94 16.56,9.04\r 16.40,9.10 16.17,9.09 16.00,9.09\r 16.00,9.09 13.60,9.09 13.60,9.09\r 12.89,9.10 12.65,9.63 12.24,10.15\r 12.24,10.15 10.54,12.29 10.54,12.29\r 9.99,12.99 9.88,13.43 8.96,13.44\r 8.96,13.44 6.80,13.44 6.80,13.44\r 6.64,13.44 6.39,13.43 6.24,13.48\r 5.89,13.62 5.26,14.58 5.01,14.91\r 5.01,14.91 2.85,17.70 2.85,17.70\r 2.41,18.27 2.00,18.60 2.00,19.34\r 2.00,19.34 2.00,20.00 2.00,20.00 Z"}))},Rl=function(e){var t=e.props;return o.a.createElement(Dl.a,t,o.a.createElement("path",{d:"M 5.45,2.06\r C 4.05,2.59 4.72,4.26 5.94,3.93\r 7.01,3.64 6.79,1.93 5.45,2.06 Z\r M 6.63,3.58\r C 6.15,4.17 5.87,4.17 5.15,4.17\r 5.15,4.17 3.38,9.39 3.38,9.39\r 4.30,9.96 4.21,10.35 3.97,11.26\r 3.97,11.26 8.60,13.82 8.60,13.82\r 8.86,13.51 9.06,13.31 9.49,13.25\r 10.18,13.17 10.85,13.82 10.74,14.51\r 10.67,15.02 10.26,15.18 10.30,15.60\r 10.33,15.84 10.80,16.61 10.94,16.88\r 10.94,16.88 12.64,19.93 12.64,19.93\r 13.46,19.75 13.75,19.67 14.32,20.42\r 14.32,20.42 18.75,17.86 18.75,17.86\r 18.75,17.86 18.57,17.17 18.57,17.17\r 18.46,16.16 19.27,15.82 20.13,15.89\r 20.13,15.89 21.01,11.85 21.01,11.85\r 19.99,11.66 19.57,10.89 20.13,9.98\r 19.75,9.53 18.96,9.04 18.45,8.70\r 18.27,8.57 17.87,8.28 17.67,8.24\r 17.39,8.19 17.18,8.37 16.88,8.42\r 16.34,8.49 16.01,8.19 15.69,7.81\r 15.08,8.14 14.97,8.41 14.51,8.90\r 14.37,9.04 14.10,9.29 14.05,9.49\r 13.96,9.83 14.32,10.00 14.39,10.47\r 14.48,11.07 13.93,11.74 13.33,11.78\r 13.33,11.78 12.44,11.66 12.44,11.66\r 12.02,10.78 11.80,10.17 12.84,9.59\r 12.48,9.10 11.99,8.73 11.56,8.31\r 11.56,8.31 8.80,5.55 8.80,5.55\r 8.25,5.00 7.28,3.88 6.63,3.58 Z\r M 16.29,6.42\r C 15.36,6.97 15.73,8.11 16.58,8.26\r 17.81,8.47 18.20,6.50 16.88,6.35\r 16.64,6.32 16.51,6.36 16.29,6.42 Z\r M 2.69,9.56\r C 2.37,9.73 2.14,9.90 2.04,10.28\r 1.85,11.05 2.66,11.67 3.38,11.39\r 4.35,11.00 4.12,9.25 2.69,9.56 Z\r M 12.84,9.78\r C 11.96,10.27 12.11,11.45 13.13,11.61\r 14.19,11.78 14.63,10.28 13.72,9.78\r 13.43,9.65 13.14,9.68 12.84,9.78 Z\r M 20.72,9.75\r C 19.47,10.30 20.12,11.94 21.31,11.61\r 22.01,11.42 22.20,10.54 21.74,10.02\r 21.45,9.70 21.11,9.68 20.72,9.75 Z\r M 9.20,13.50\r C 8.00,14.19 8.89,15.72 9.98,15.29\r 10.69,15.00 10.72,14.08 10.25,13.67\r 9.94,13.39 9.58,13.41 9.20,13.50 Z\r M 19.44,16.06\r C 18.03,16.65 18.89,18.33 20.03,17.90\r 21.09,17.51 20.76,15.85 19.44,16.06 Z\r M 13.04,20.00\r C 11.75,20.55 12.43,22.19 13.62,21.86\r 14.67,21.57 14.48,19.76 13.04,20.00 Z"}))},Il=function(e){var t=e.props;return o.a.createElement(Dl.a,t,o.a.createElement("path",{d:"M 6.86,2.40\r C 6.86,2.40 7.42,4.56 7.42,4.56\r 7.42,4.56 8.60,9.12 8.60,9.12\r 8.60,9.12 9.80,13.76 9.80,13.76\r 10.70,13.13 12.27,11.48 13.14,10.64\r 13.14,10.64 13.96,9.92 13.96,9.92\r 13.96,9.92 16.33,7.60 16.33,7.60\r 16.33,7.60 18.45,5.60 18.45,5.60\r 17.96,4.94 16.81,4.14 16.08,3.71\r 14.05,2.52 11.91,1.99 9.55,2.00\r 8.86,2.00 7.50,2.17 6.86,2.40 Z\r M 10.12,14.00\r C 10.12,14.00 13.88,15.05 13.88,15.05\r 13.88,15.05 19.59,16.64 19.59,16.64\r 20.29,14.27 19.97,11.34 18.69,9.20\r 18.40,8.71 18.05,8.19 17.68,7.76\r 17.55,7.62 17.35,7.38 17.14,7.38\r 16.94,7.38 16.71,7.63 16.57,7.76\r 16.57,7.76 15.27,8.96 15.27,8.96\r 15.27,8.96 11.76,12.32 11.76,12.32\r 11.29,12.77 10.48,13.51 10.12,14.00 Z\r M 5.22,12.64\r C 5.22,12.64 9.47,13.84 9.47,13.84\r 9.47,13.84 8.72,10.72 8.72,10.72\r 8.67,10.50 8.54,9.80 8.36,9.69\r 8.13,9.55 7.49,9.90 7.27,10.02\r 6.29,10.55 5.43,11.54 5.22,12.64 Z\r M 4.24,12.72\r C 3.83,13.96 4.08,15.50 4.67,16.64\r 4.81,16.90 5.23,17.65 5.55,17.67\r 5.85,17.68 6.41,17.08 6.61,16.88\r 6.61,16.88 8.49,15.04 8.49,15.04\r 8.80,14.73 9.19,14.47 9.39,14.08\r 9.39,14.08 4.24,12.72 4.24,12.72 Z\r M 9.96,14.32\r C 9.96,14.32 10.46,16.24 10.46,16.24\r 10.46,16.24 11.34,19.68 11.34,19.68\r 11.34,19.68 11.92,22.00 11.92,22.00\r 13.94,21.55 15.70,20.27 16.81,18.56\r 17.22,17.94 17.65,17.15 17.71,16.40\r 17.71,16.40 15.27,15.74 15.27,15.74\r 15.27,15.74 12.33,14.93 12.33,14.93\r 12.33,14.93 9.96,14.32 9.96,14.32 Z\r M 9.71,14.40\r C 9.21,14.63 8.73,15.21 8.33,15.60\r 8.33,15.60 6.20,17.60 6.20,17.60\r 6.00,17.80 5.24,18.46 5.24,18.72\r 5.24,19.00 5.97,19.45 6.20,19.60\r 7.45,20.37 8.43,20.56 9.88,20.56\r 10.13,20.56 10.95,20.55 11.10,20.34\r 11.24,20.15 10.90,19.07 10.83,18.80\r 10.83,18.80 9.71,14.40 9.71,14.40 Z"}))},Bl=function(e){var t=e.props;return o.a.createElement(Dl.a,t,o.a.createElement("path",{d:"M 10.25,4.00\r C 10.25,4.00 10.25,6.25 10.25,6.25\r 10.25,6.25 11.92,6.25 11.92,6.25\r 11.92,6.25 11.92,4.00 11.92,4.00\r 11.92,4.00 10.25,4.00 10.25,4.00 Z\r M 12.75,4.00\r C 12.75,4.00 12.75,6.25 12.75,6.25\r 12.75,6.25 14.42,6.25 14.42,6.25\r 14.42,6.25 14.42,4.00 14.42,4.00\r 14.42,4.00 12.75,4.00 12.75,4.00 Z\r M 8.00,7.67\r C 8.00,7.67 8.00,9.92 8.00,9.92\r 8.00,9.92 11.92,9.92 11.92,9.92\r 11.92,9.92 11.92,7.67 11.92,7.67\r 11.92,7.67 8.00,7.67 8.00,7.67 Z\r M 12.75,7.67\r C 12.75,7.67 12.75,9.92 12.75,9.92\r 12.75,9.92 17.08,9.92 17.08,9.92\r 17.08,9.92 17.08,7.67 17.08,7.67\r 17.08,7.67 12.75,7.67 12.75,7.67 Z\r M 8.17,11.42\r C 8.17,11.42 8.17,13.67 8.17,13.67\r 8.17,13.67 11.92,13.67 11.92,13.67\r 11.92,13.67 11.92,11.42 11.92,11.42\r 11.92,11.42 8.17,11.42 8.17,11.42 Z\r M 12.75,11.42\r C 12.75,11.42 12.75,13.67 12.75,13.67\r 12.75,13.67 19.58,13.67 19.58,13.67\r 19.58,13.67 19.58,11.42 19.58,11.42\r 19.58,11.42 12.75,11.42 12.75,11.42 Z\r M 4.33,15.00\r C 4.33,15.00 4.33,17.33 4.33,17.33\r 4.33,17.33 11.92,17.33 11.92,17.33\r 11.92,17.33 11.92,15.00 11.92,15.00\r 11.92,15.00 4.33,15.00 4.33,15.00 Z\r M 12.75,15.00\r C 12.75,15.00 12.75,17.33 12.75,17.33\r 12.75,17.33 22.00,17.33 22.00,17.33\r 22.00,17.33 22.00,15.00 22.00,15.00\r 22.00,15.00 12.75,15.00 12.75,15.00 Z\r M 2.00,18.75\r C 2.00,18.75 2.00,21.00 2.00,21.00\r 2.00,21.00 11.92,21.00 11.92,21.00\r 11.92,21.00 11.92,18.75 11.92,18.75\r 11.92,18.75 2.00,18.75 2.00,18.75 Z\r M 12.75,18.75\r C 12.75,18.75 12.75,21.00 12.75,21.00\r 12.75,21.00 21.17,21.00 21.17,21.00\r 21.17,21.00 21.17,18.75 21.17,18.75\r 21.17,18.75 12.75,18.75 12.75,18.75 Z"}))},Ll=function(e,t,n){var a=e.source,i=e.destination;if(i){var o=JSON.parse(JSON.stringify(t));a.droppableId===i.droppableId?function(e,t,n){var a=e.splice(t,1),i=Object(ne.a)(a,1)[0];e.splice(n,0,i)}(o[a.droppableId],a.index,i.index):"secondaryDim"===a.droppableId&&"filters"===i.droppableId||"filters"===a.droppableId&&"secondaryDim"===i.droppableId&&0===o[i.droppableId].length?function(e,t,n,a){var i=e.splice(n.index,1),o=Object(ne.a)(i,1)[0];t.splice(a.index,0,o)}(o[a.droppableId],o[i.droppableId],a,i):function(e,t,n){var a=e.splice(n.index,1),i=Object(ne.a)(a,1)[0],o=t.splice(0,1,i),r=Object(ne.a)(o,1)[0];e.splice(e.length,0,r)}(o[a.droppableId],o[i.droppableId],a),n(o)}},zl=function(e){var t=e.classes,n=e.sectionClasses,a=e.id,r=e.title,l=e.Icon,s=e.dimensions,c=e.jsonStat;return o.a.createElement(k.a,{variant:"outlined",className:"".concat(t.section," ").concat(n)},o.a.createElement(co.a,{title:o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:t.sectionHeaderIcon},l),o.a.createElement(f.a,{className:t.sectionHeaderTitle,variant:"button"},r)),className:t.sectionHeaderContainer}),o.a.createElement(ol.Droppable,{droppableId:a},(function(e,n){return o.a.createElement("div",{className:"".concat(t.sectionContentWrapper," ").concat(n.isDraggingOver?t.draggingHover:"")},o.a.createElement("div",{ref:e.innerRef,className:t.sectionContent},s.map((function(e,n){return o.a.createElement(ol.Draggable,{key:n,index:n,draggableId:"".concat(a,"-").concat(n),isDragDisabled:"primaryDim"===a},(function(n,a){return o.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:(a.isDragging,i=n.draggableProps.style,Object(B.a)({userSelect:"none",height:32,marginBottom:8},i))}),o.a.createElement(In.a,{className:t.sectionItem},"".concat(e," (").concat(c.size[c.id.indexOf(e)],")")));var i}))})),e.placeholder))})))},Vl=Object(he.d)(fi()((function(e){return{root:{},sectionContainer:{display:"inline-block",verticalAlign:"middle",width:"calc(60% - 8px)",marginRight:16},section:{background:"#eeeeee"},sectionLeft:{height:416},sectionRight:{height:200},sectionHeaderContainer:{height:48,padding:"16px 16px 0"},sectionHeaderIcon:{display:"inline-block",verticalAlign:"middle",marginRight:8},sectionHeaderTitle:{display:"inline-block",verticalAlign:"middle",height:30},sectionContentWrapper:{width:"100%",height:"calc(100% - 48px)",padding:16},draggingHover:{border:"1px dashed #999999"},sectionContent:{width:"100%",height:"100%",overflowY:"auto",overflowX:"hidden"},sectionItem:{textAlign:"center",height:"100%",padding:"4px 16px"},divider:{marginBottom:16}}})),Object(vt.a)())((function(e){var t=e.t,n=e.classes,a=e.jsonStat,i=e.layout,r=e.setLayout,l=i.primaryDim,s=i.secondaryDim,c=i.filters;return o.a.createElement("div",{className:n.root},o.a.createElement(_.a,{className:n.divider}),o.a.createElement("div",{className:n.sectionContainer},o.a.createElement(ol.DragDropContext,{onDragEnd:function(e){return Ll(e,i,r)}},o.a.createElement(b.a,{container:!0,spacing:2},o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(zl,{classes:n,sectionClasses:n.sectionLeft,id:"filters",title:t("components.chartLayout.filters.title"),Icon:o.a.createElement(zi.a,null),dimensions:c,jsonStat:a})),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement(b.a,{item:!0,xs:12,style:{paddingBottom:8}},o.a.createElement(zl,{classes:n,sectionClasses:n.sectionRight,id:"primaryDim",title:t("components.chartLayout.primaryDim.title"),Icon:o.a.createElement(ll.a,null),dimensions:l,jsonStat:a})),o.a.createElement(b.a,{item:!0,xs:12,style:{paddingTop:8}},o.a.createElement(zl,{classes:n,sectionClasses:n.sectionRight,id:"secondaryDim",title:t("components.chartLayout.secondaryDim.title"),Icon:o.a.createElement(cl.a,null),dimensions:s,jsonStat:a})))))))})),jl=Object(he.d)(fi()((function(e){return{root:{margin:"0 8px"},label:{color:"rgba(0, 0, 0, 0.54)",fontSize:13,height:40,lineHeight:"40px",marginRight:8},formControl:{margin:"8px 0"},select:{"& .MuiSelect-root.MuiSelect-select":{padding:"2px 24px 3px 0",fontSize:14}},menuItem:{fontSize:14}}})),Object(vt.a)())((function(e){var t=e.t,n=e.classes,a=e.labelFormat,i=e.setLabelFormat;return o.a.createElement(b.a,{container:!0,className:n.root},o.a.createElement(b.a,{item:!0,className:n.label},t("components.labelFormatSelector.labelFormat.title"),":"),o.a.createElement(b.a,{item:!0},o.a.createElement(se.a,{className:n.formControl},o.a.createElement(No.a,{className:n.select,value:a||"",onChange:function(e){return i(e.target.value)}},o.a.createElement(xe.a,{className:n.menuItem,value:"LABEL_FORMAT_SELECTOR_FORMAT_NAME"},t("components.labelFormatSelector.labelFormat.values.name")),o.a.createElement(xe.a,{className:n.menuItem,value:"LABEL_FORMAT_SELECTOR_FORMAT_ID"},t("components.labelFormatSelector.labelFormat.values.id")),o.a.createElement(xe.a,{className:n.menuItem,value:"LABEL_FORMAT_SELECTOR_FORMAT_BOTH"},t("components.labelFormatSelector.labelFormat.values.both"))))))}));var Fl=Object(he.d)(fi()((function(e){return{root:{padding:4},tabs:{marginBottom:4},tabContent:{height:320}}})),Object(vt.a)())((function(e){var t=e.t,n=e.classes,a=e.jsonStat,r=e.isStacked,l=e.onIsStackedSet,s=e.legendPosition,c=e.onLegendPositionSet,d=e.colors,u=e.onColorsSet,m=Object(i.useState)(0),h=Object(ne.a)(m,2),f=h[0],g=h[1];return o.a.createElement("div",{className:n.root},o.a.createElement(V.a,{position:"static",color:"default",className:n.tabs},o.a.createElement(wt.a,{value:f,variant:"scrollable",scrollButtons:"auto",indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return g(t)}},o.a.createElement(At.a,{key:0,label:t("scenes.dataViewer.chartSettings.tabs.general")}),o.a.createElement(At.a,{key:1,label:t("scenes.dataViewer.chartSettings.tabs.colors")}))),o.a.createElement("div",{className:n.tabContent},0===f&&o.a.createElement(b.a,{container:!0,spacing:3,style:{marginTop:0}},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(_e.a,{label:t("scenes.dataViewer.chartSettings.isStacked"),control:o.a.createElement(ke.a,{checked:r,onChange:function(e,t){return l(t)}})})),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(le.a,{select:!0,fullWidth:!0,label:t("scenes.dataViewer.chartSettings.legendPosition.label"),value:s,variant:"outlined",onChange:function(e){return c(e.target.value)}},o.a.createElement(xe.a,{value:"top"},t("scenes.dataViewer.chartSettings.legendPosition.values.top")),o.a.createElement(xe.a,{value:"right"},t("scenes.dataViewer.chartSettings.legendPosition.values.right")),o.a.createElement(xe.a,{value:"bottom"},t("scenes.dataViewer.chartSettings.legendPosition.values.bottom")),o.a.createElement(xe.a,{value:"left"},t("scenes.dataViewer.chartSettings.legendPosition.values.left"))))),1===f&&o.a.createElement(To,{jsonStat:a,colors:d,onColorsSet:u})))})),Nl=n(155),Gl=n.n(Nl),Ul=function(e){return[{key:0,type:"table",title:e?e("scenes.dataViewers.viewers.table"):"",icon:o.a.createElement(wl.a,null)},{key:1,title:e?e("scenes.dataViewers.viewers.map"):"",type:"map",icon:o.a.createElement(_l.a,null)},{key:2,title:e?e("scenes.dataViewers.viewers.verticalBar"):"",type:"bar",icon:o.a.createElement(Sr.a,null),chartType:"bar"},{key:3,title:e?e("scenes.dataViewers.viewers.horizontalBar"):"",type:"horizontalBar",icon:o.a.createElement(Sr.a,{style:{transform:"rotate(90deg)"}}),chartType:"horizontalBar"},{key:4,title:e?e("scenes.dataViewers.viewers.line"):"",type:"line",icon:o.a.createElement(El.a,null),chartType:"line"},{key:5,title:e?e("scenes.dataViewers.viewers.area"):"",type:"area",icon:o.a.createElement(Ml,null),chartType:"area"},{key:6,title:e?e("scenes.dataViewers.viewers.doughnut"):"",type:"doughnut",icon:o.a.createElement(Tl.a,null),chartType:"doughnut"},{key:7,title:e?e("scenes.dataViewers.viewers.pie"):"",type:"pie",icon:o.a.createElement(Pl.a,null),chartType:"pie"},{key:8,title:e?e("scenes.dataViewers.viewers.radar"):"",type:"radar",icon:o.a.createElement(Rl,null),chartType:"radar"},{key:9,title:e?e("scenes.dataViewers.viewers.polarArea"):"",type:"polarArea",icon:o.a.createElement(Il,null),chartType:"polarArea"},{key:10,title:e?e("scenes.dataViewers.viewers.pyramid"):"",type:"pyramid",icon:o.a.createElement(Bl,null),chartType:"pyramid",hidden:!0}]},Hl=function(e){if(!e)return 0;var t=Ul().find((function(t){return t.type===e}));return t?t.key:0},ql=function(e){return Ul()[e].type},Wl=function(){var e=document.getElementById("node-header")?document.getElementById("node-header").offsetHeight:0;document.getElementById("data-viewer")&&document.getElementById("data-viewer").setAttribute("style","height: calc(100% - ".concat(e,"px); top: ").concat(e,"px"));var t=document.getElementById("data-viewer__header")?document.getElementById("data-viewer__header").offsetHeight:0,n=document.getElementById("data-viewer__footer")?document.getElementById("data-viewer__footer").offsetHeight:0;document.getElementById("data-viewer__page")&&document.getElementById("data-viewer__page").setAttribute("style","height: calc(100% - ".concat(t+n,"px)"));var a=document.getElementById("data-viewer__page__viewer__actions")?document.getElementById("data-viewer__page__viewer__actions").offsetWidth+5:0;document.getElementById("data-viewer__page__viewer__filters")&&document.getElementById("data-viewer__page__viewer__filters").setAttribute("style","width: calc(100% - ".concat(a,"px)"));var i=document.getElementById("data-viewer__page__viewer__filters-and-actions")?document.getElementById("data-viewer__page__viewer__filters-and-actions").offsetHeight:0;document.getElementById("data-viewer__page__viewer__viewer")&&document.getElementById("data-viewer__page__viewer__viewer").setAttribute("style","height: calc(100% - ".concat(i,"px)"))};var Kl=Object(he.d)(fi()((function(e){return{root:{position:"absolute",width:"100%"},header:{width:"100%"},page:{width:"100%"},sidebar:{display:"inline-block",verticalAlign:"top",width:80,height:"100%",overflow:"auto",marginLeft:e.spacing(2),padding:"0 8px"},data:{display:"inline-block",verticalAlign:"top",width:"calc(100% - ".concat(80+e.spacing(2)+e.spacing(2)+e.spacing(2),"px)"),height:"100%",marginLeft:e.spacing(2),marginRight:e.spacing(2),padding:e.spacing(2)},viewerContainer:{width:"100%",height:"100%"},filtersAndActions:{width:"100%",paddingBottom:e.spacing(1)},filters:{display:"inline-block",verticalAlign:"top"},actions:{display:"inline-block",verticalAlign:"top"},action:{height:40,"& button":{padding:8}},viewer:{width:"100%",position:"relative"},attributes:{width:"100%",paddingTop:12},footer:{bottom:0,left:0,width:"100%",overflowX:"auto",overflowY:"hidden",padding:e.spacing(1)},warningAlert:{width:"100%",marginBottom:16},criteriaContent:{overflow:"hidden !important"}}})),Object(H.b)((function(e){var t=e.dataset;return{dataset:t.dataset,isFetchDatasetDisabled:t.isFetchDatasetDisabled,isCriteriaVisible:t.isCriteriaVisible,isCriteriaAlertVisible:t.isCriteriaAlertVisible,hasViewLayout:t.hasViewLayout,hasTemplateLayout:t.hasTemplateLayout,hasAnnotationLayout:t.hasAnnotationLayout,dimensions:t.dimensions,mode:t.mode,type:t.type,codelistsLength:t.codelistsLength,viewerIdx:t.viewerIdx,tableLayout:t.tableLayout,mapLayout:t.mapLayout,chartLayout:t.chartLayout,tableFilterTree:t.tableFilterTree,mapFilterTree:t.mapFilterTree,chartFilterTree:t.chartFilterTree,labelFormat:t.labelFormat,criteria:t.criteria,decimalSeparator:t.decimalSeparator,decimalPlaces:t.decimalPlaces,tableEmptyChar:t.tableEmptyChar,chartStacked:t.chartStacked,chartLegendPosition:t.chartLegendPosition,chartColors:t.chartColors,mapDetailLevel:t.mapDetailLevel,mapClassificationMethod:t.mapClassificationMethod,mapPaletteStartColor:t.mapPaletteStartColor,mapPaletteEndColor:t.mapPaletteEndColor,mapPaletteCardinality:t.mapPaletteCardinality,mapOpacity:t.mapOpacity,mapIsLegendCollapsed:t.mapIsLegendCollapsed,hasMapStartColor:t.hasMapStartColor,hasMapEndColor:t.hasMapEndColor,enableCriteria:t.enableCriteria,enableLayout:t.enableLayout,maxAllowedCells:t.maxAllowedCells,codes:t.codes,isCodesFlat:t.isCodesFlat,codelists:t.codelists,areCodelistsFlat:t.areCodelistsFlat,timePeriod:t.timePeriod,criteriaObsCount:t.criteriaObsCount,geometries:t.geometries,geometryDetailLevels:t.geometryDetailLevels,isPartialData:t.isPartialData,isEmptyData:t.isEmptyData,isTooBigData:t.isTooBigData,isDownloadWarningVisible:t.isDownloadWarningVisible,isUnavailableViewWarningVisible:t.isUnavailableViewWarningVisible,isCriteriaLengthWarningVisible:t.isCriteriaLengthWarningVisible,timings:t.timings}}),(function(e){return{onDatasetFetch:function(t){var n=t.nodeId,i=t.datasetId,o=t.criteria,r=t.datasetTitle,l=t.checkCriteriaLength,s=t.tableLayout,c=t.chartLayout,d=t.mapLayout,u=t.maxAllowedCells,m=t.hasAnnotationLayout;return e(function(e,t,n,i,o,r,l,s,c,d){return o&&JSON.stringify(n).length+100>2e3?{type:"dataset/criteria/length/warning/show"}:$("dataset/fetch",Z(e,t),a.POST,la(n),(function(e){return{onStart:e("scenes.dataset.actions.fetchingDataset",{title:i})}}),{tableLayout:r,chartLayout:l,mapLayout:s,maxAllowedCells:c,hasAnnotationLayout:d},"",(function(e){return 413===e}))}(n,i,o,r,l,s,c,d,u,m))},onFetchDatasetEnable:function(){return e({type:"dataset/fetch/enable"})},onCriteriaShow:function(){return e({type:"dataset/criteria/show"})},onCriteriaHide:function(){return e({type:"dataset/criteria/hide"})},onCriteriaAlertHide:function(){return e({type:"dataset/criteria/alert/hide"})},onViewerSet:function(t){return e(function(e){return{type:"dataset/viewer/set",viewerIdx:e}}(t))},onTableLayoutSet:function(t){return e(function(e){return{type:"dataset/table/layout/submit",layout:e}}(t))},onTableFilterTreeSet:function(t){return e(function(e){return{type:"dataset/table/filters/tree/submit",filterTree:e}}(t))},onMapLayoutSet:function(t){return e(function(e){return{type:"dataset/map/layout/submit",layout:e}}(t))},onChartLayoutSet:function(t){return e(function(e){return{type:"dataset/chart/layout/submit",layout:e}}(t))},onChartFilterTreeSet:function(t){return e(function(e){return{type:"dataset/chart/filters/tree/submit",filterTree:e}}(t))},onLabelFormatSet:function(t){return e(function(e){return{type:"dataset/label/format/set",labelFormat:e}}(t))},onChartStackedSet:function(t){return e({type:"dataset/chart/stacked/set",stacked:t})},onChartLegendPositionSet:function(t){return e({type:"dataset/chart/legend/position/set",legendPosition:t})},onChartColorsSet:function(t){return e({type:"dataset/chart/colors/set",colors:t})},onMapDetailLevelSet:function(t){return e(function(e){return{type:"dataset/map/detail/level/set",detailLevel:e}}(t))},onMapSettingsSet:function(t){return e(function(e){return{type:"dataset/map/settings/set",mapSettings:e}}(t))},onDownloadSubmit:function(t,n,i,o,r,l){return e(function(e,t,n,i,o,r,l){return $("dataset/download/submit",X(e,t,o,l),a.POST,la(i),(function(e){return{onStart:e("scenes.dataset.actions.downloadingDataset")}}),{fileSave:{name:"".concat(n,".").concat(r),type:"text/plain;charset=utf-8"}},"",(function(e){return 406===e}),void 0,void 0,"jsondata"===o)}(t,n,i,o,r,l))},onDownloadHide:function(){return e({type:"dataset/download/warning/hide"})},onViewTemplateSubmit:function(t,n,i){return e(function(e,t,n){return $("dataset/view/template/submit",n?function(e){return"nodes/".concat(e,"/views")}(e):function(e){return"nodes/".concat(e,"/templates")}(e),a.POST,t,(function(e){return{onStart:e(n?"scenes.dataset.actions.savingView":"scenes.dataset.actions.savingTemplate")}}),{isView:n},"",(function(e){return 409===e}))}(t,n,i))},onUnavailableViewHide:function(){return e({type:"dataset/unavailable/view/warning/hide"})},onCriteriaLengthWarningHide:function(){return e({type:"dataset/criteria/length/warning/hide"})},onGeometryFetch:function(t,n){return e(function(e,t){return $("dataset/geometries/fetch","Geometry",a.POST,e,(function(e){return{onStart:e("scenes.dataset.actions.fetchingGeometries")}}),{t:t})}(t,n))}}})))((function(e){var t=e.classes,n=e.nodeId,a=e.nodeCode,r=e.datasetId,l=e.datasetTitle,s=e.viewId,c=e.notes,d=e.attachedFiles,u=e.referenceMetadataUrl,m=e.nodeExtras,h=e.maxObservation,f=e.dataset,g=e.isFetchDatasetDisabled,p=e.isCriteriaVisible,v=e.isCriteriaAlertVisible,C=e.hasViewLayout,y=e.hasTemplateLayout,w=e.hasAnnotationLayout,A=e.dimensions,_=e.mode,S=e.type,O=e.codelistsLength,T=e.viewerIdx,x=e.tableLayout,D=e.mapLayout,M=e.chartLayout,R=e.tableFilterTree,I=e.mapFilterTree,L=e.chartFilterTree,z=e.labelFormat,V=e.criteria,j=e.decimalSeparator,F=e.decimalPlaces,N=e.tableEmptyChar,G=e.chartStacked,U=e.chartLegendPosition,H=e.chartColors,W=e.mapDetailLevel,K=e.mapClassificationMethod,Y=e.mapPaletteStartColor,J=e.mapPaletteEndColor,$=e.mapPaletteCardinality,Q=e.mapOpacity,Z=e.mapIsLegendCollapsed,X=e.hasMapStartColor,ee=e.hasMapEndColor,te=e.enableCriteria,le=e.enableLayout,se=e.maxAllowedCells,ce=e.codes,me=e.isCodesFlat,he=e.codelists,fe=e.areCodelistsFlat,ge=e.timePeriod,pe=e.criteriaObsCount,ve=e.geometries,be=e.geometryDetailLevels,ke=e.isPartialData,Ce=e.isEmptyData,ye=e.isTooBigData,we=e.isDownloadWarningVisible,Ae=e.isUnavailableViewWarningVisible,_e=e.isCriteriaLengthWarningVisible,Se=e.timings,Ee=e.onDatasetFetch,Oe=e.onFetchDatasetEnable,Te=e.onCriteriaShow,xe=e.onCriteriaHide,Pe=e.onCriteriaAlertHide,De=e.onViewerSet,Me=e.onTableLayoutSet,Re=e.onTableFilterTreeSet,Ie=e.onMapLayoutSet,Be=e.onChartLayoutSet,Le=e.onChartFilterTreeSet,ze=e.onLabelFormatSet,je=e.onChartStackedSet,Fe=e.onChartLegendPositionSet,Ne=e.onChartColorsSet,Ge=e.onMapDetailLevelSet,Ue=e.onMapSettingsSet,He=e.onDownloadSubmit,qe=e.onDownloadHide,We=e.onViewTemplateSubmit,Ke=e.onUnavailableViewHide,Ye=e.onGeometryFetch,Je=e.onCriteriaLengthWarningHide,$e=Object(ue.a)().t,Qe=Object(i.useState)(null),Ze=Object(ne.a)(Qe,2),Xe=Ze[0],et=Ze[1],tt=Object(i.useState)(null),nt=Object(ne.a)(tt,2),at=nt[0],it=nt[1],ot=Object(i.useState)("chart__"+Object(q.a)()),rt=Object(ne.a)(ot,1)[0],lt=Object(i.useState)("map__"+Object(q.a)()),st=Object(ne.a)(lt,1)[0],ct=Object(i.useState)(!1),dt=Object(ne.a)(ct,2),ut=dt[0],mt=dt[1],ht=Object(i.useState)(!0),ft=Object(ne.a)(ht,2),gt=ft[0],pt=ft[1],vt=Object(i.useState)(!1),bt=Object(ne.a)(vt,2),kt=bt[0],Ct=bt[1],wt=Object(i.useState)("md"),At=Object(ne.a)(wt,2),_t=At[0],St=At[1],Et=Object(i.useState)(!1),Ot=Object(ne.a)(Et,2),Tt=Ot[0],xt=Ot[1],Pt=Object(i.useState)(null),Dt=Object(ne.a)(Pt,2),Mt=Dt[0],Rt=Dt[1],It=Object(i.useState)(null),Bt=Object(ne.a)(It,2),Lt=Bt[0],zt=Bt[1],Vt=Object(i.useState)(null),jt=Object(ne.a)(Vt,2),Ft=jt[0],Nt=jt[1],Gt=Object(i.useState)(!1),Ut=Object(ne.a)(Gt,2),Ht=Ut[0],qt=Ut[1];Object(i.useEffect)((function(){return window.addEventListener("resize",Wl),function(){return window.removeEventListener("resize",Wl)}}),[]),Object(i.useEffect)((function(){Wl()}),[f,T,x,D,M,z]),Object(i.useEffect)((function(){et(x)}),[x]),Object(i.useEffect)((function(){it(M)}),[M]),Object(i.useEffect)((function(){Rt(G)}),[G]),Object(i.useEffect)((function(){zt(U)}),[U]),Object(i.useEffect)((function(){Nt(H)}),[H]),Object(i.useEffect)((function(){if(!X||!ee){fetch("./custom.css").then((function(e){return e.text()})).then((function(e){var t=document.implementation.createHTMLDocument(""),n=document.createElement("style");n.textContent=String(e),t.body.appendChild(n);var i={};Object.values(n.sheet.cssRules).filter((function(e){var t=e.selectorText,n=e.style;return t.startsWith(".map__")&&"color"===n[0]&&n.color.length>0&&null!==Gl.a.get.rgb(n.color)})).forEach((function(e){var t=e.selectorText,n=e.style;i[t]=Gl.a.to.hex(Gl.a.get.rgb(n.color))}));var o=null;X||(o=a&&i[".map__node__"+a+"__start-color"]||i[".map__start-color"]||"#eff3ff");var r=null;ee||(r=a&&i[".map__node__"+a+"__end-color"]||i[".map__end-color"]||"#2171b5"),Ue({paletteStartColor:o,paletteEndColor:r})}))}}),[a,X,ee,Ue]);var Wt=function(){mt(!1),et(x),it(M)},Kt=function(){if(mt(!1),0===T){var e=Kn(Xe,f);Me(Object(B.a)(Object(B.a)({},Xe),{},{filtersValue:Yn(f,Xe,e)})),Re(e)}else if(T>=2){var t=at.primaryDim[0],n=at.secondaryDim[0],a=M.primaryDim[0],i=M.secondaryDim[0],o=!i&&!!n||!!i&&!n||!!i&&!!n&&i!==n,r=Kn(at,f);t!==a?(at.primaryDimValues=f.dimension[t].category.index,at.secondaryDimValues=n?ea(n,f,at,r):[]):o&&(at.secondaryDimValues=n?ea(n,f,at,r):[]),Be(Object(B.a)(Object(B.a)({},at),{},{filtersValue:Yn(f,at,r)})),Le(r)}},Yt=function(){xe(),pt(!0)},Jt=function(){Oe()},$t=function(e,t){0===T?Me(Xn(e,t,f,x,R)):1===T?Ie(Xn(e,t,f,D,I)):T>=2&&Be(Xn(e,t,f,M,L))},Qt=function(){xt(!1),Rt(G),zt(U),Nt(H)};return o.a.createElement("div",{id:"data-viewer",className:t.root},o.a.createElement(Zi,{cb:Ee,cbParam:{nodeId:n,datasetId:r,criteria:V,datasetTitle:l,checkCriteriaLength:!1,tableLayout:x,chartLayout:M,mapLayout:D,maxAllowedCells:se,hasAnnotationLayout:w},disabled:!n||!r||!V||!l||g},o.a.createElement("div",{id:"data-viewer__header",className:t.header},o.a.createElement(wr,{nodeId:n,nodeCode:a,nodeDownloadFormats:null===m||void 0===m?void 0:m.DownloadFormats,datasetId:r,datasetTitle:l,viewId:s,hasViewLayout:C,hasTemplateLayout:y,hasAnnotationLayout:w,notes:c,attachedFiles:d,jsonStat:f,hiddenAttributes:null===m||void 0===m?void 0:m.HiddenAttributes,tableLayout:x,mapLayout:D,chartLayout:M,labelFormat:z,criteria:V,decimalSeparator:j,decimalPlaces:F,tableEmptyChar:N,chartStacked:G,chartLegendPosition:U,chartColors:H,mapDetailLevel:W,mapClassificationMethod:K,mapPaletteStartColor:Y,mapPaletteEndColor:J,mapPaletteCardinality:$,mapOpacity:Q,mapIsLegendCollapsed:Z,viewers:Ul($e),viewerIdx:T,onViewTemplateSubmit:function(e,t){return We(n,e,t)},onDownloadSubmit:function(e,t){return He(n,r,l,V,e,t)},timings:Se,chartId:rt,mapId:st})),o.a.createElement("div",{id:"data-viewer__page",className:t.page},o.a.createElement(k.a,{className:t.sidebar},o.a.createElement(Tr,{viewers:Ul($e),selected:T,isCriteriaDisabled:!te,isLayoutDisabled:!le||!f||!(x||D||M),isTableDisabled:!f||!x,isChartDisabled:!f||!M,isMapDisabled:!f||!D,referenceMetadataUrl:u,onViewerSelect:function(e){De(e)},onCriteriaOpen:function(){Te()},onLayoutOpen:function(){mt(!0)}})),o.a.createElement(k.a,{className:t.data},o.a.createElement("div",{id:"data-viewer__page__viewer",className:t.viewerContainer},o.a.createElement("div",{id:"data-viewer__page__viewer__filters-and-actions",className:t.filtersAndActions},f&&o.a.createElement(i.Fragment,null,f&&ke&&o.a.createElement(de.a,{severity:"warning",className:t.warningAlert},$e("scenes.dataViewer.warnings.maxObservation.label",{maxObservation:h?ho(h):""})),o.a.createElement("div",{id:"data-viewer__page__viewer__filters",className:t.filters},function(){var e,t;return 0===T?(e=x,t=R):1===T?(e=D,t=I):(e=M,t=L),o.a.createElement(Rr,{key:Object(q.a)(),jsonStat:f,hiddenAttributes:null===m||void 0===m?void 0:m.HiddenAttributes,layout:e,filterTree:t,labelFormat:z,onSelect:$t})}()),o.a.createElement("div",{id:"data-viewer__page__viewer__actions",className:t.actions},o.a.createElement(b.a,{container:!0},o.a.createElement(b.a,{item:!0,className:t.action},o.a.createElement(jl,{labelFormat:z,setLabelFormat:function(e){return ze(e)}})),T>=2&&o.a.createElement(b.a,{item:!0,className:t.action},o.a.createElement(Ve.a,{title:$e("scenes.dataViewer.actions.chartSettings")},o.a.createElement(P.a,{onClick:function(){xt(!0)}},o.a.createElement(yt.a,null)))),o.a.createElement(b.a,{item:!0,className:t.action},o.a.createElement(pl,{fontSize:_t,setFontSize:function(e){St(e)}})),o.a.createElement(b.a,{item:!0,className:t.action},o.a.createElement(Ve.a,{title:$e(kt?"scenes.dataViewer.actions.fullscreen.exit":"scenes.dataViewer.actions.fullscreen.enter")},o.a.createElement(P.a,{onClick:function(){kt?document.getElementById("data-viewer__page__viewer").classList.remove("data-viewer__page__viewer--fullscreen"):document.getElementById("data-viewer__page__viewer").classList.add("data-viewer__page__viewer--fullscreen"),Ct(!kt)}},kt?o.a.createElement(Cl.a,null):o.a.createElement(bl.a,null)))))))),o.a.createElement("div",{id:"data-viewer__page__viewer__viewer",className:t.viewer},f?0===T&&x?ye?o.a.createElement(Ii,{text:$e("scenes.dataViewer.errors.tooBigData")}):o.a.createElement(kr,{jsonStat:f,layout:x,isFullscreen:kt,labelFormat:z,fontSize:"sm"===_t?"s":"md"===_t?"m":"l",decimalSeparator:j,decimalPlaces:F,emptyChar:N,hiddenAttributes:null===m||void 0===m?void 0:m.HiddenAttributes}):1===T&&D?o.a.createElement(Ho,{mapId:st,jsonStat:f,layout:D,geometries:ve,geometryDetailLevels:be,onGeometryFetch:function(e){return Ye(e,$e)},detailLevel:W,setDetailLevel:Ge,classificationMethod:K,paletteStartColor:Y,paletteEndColor:J,paletteCardinality:$,opacity:Q,isLegendCollapsed:!1,setSettings:Ue,isFullscreen:kt}):T>=2&&M?o.a.createElement(jo,{chartId:rt,type:Ul($e)[T].chartType,jsonStat:f,layout:M,labelFormat:z,decimalSeparator:j,decimalPlaces:F,stacked:G,legendPosition:U,colors:H}):void 0:Ce?o.a.createElement(Ii,{text:$e("scenes.dataViewer.errors.emptyData")}):o.a.createElement(Ii,{text:$e("scenes.dataViewer.errors.applyCriteria")}))))),o.a.createElement("div",{id:"data-viewer__footer",className:t.footer},o.a.createElement(xr,{labels:f?[l]:[],dataIdx:0,setData:function(e){}}))),o.a.createElement(ae.a,{open:p,fullWidth:!0,maxWidth:"md",onClose:Yt},o.a.createElement(oe.a,null,$e("scenes.dataViewer.dialogs.criteria.title")),o.a.createElement(re.a,{className:t.criteriaContent},A&&p&&o.a.createElement(i.Fragment,null,o.a.createElement(il,{nodeId:n,datasetId:r,dimensions:A,mode:_,type:S,codes:ce,isCodesFlat:me,codelists:he,areCodelistsFlat:fe,codelistsLength:O,criteria:V,timePeriod:ge,isCriteriaValid:gt,setCriteriaValidity:pt}),o.a.createElement(ae.a,{open:v,fullWidth:!0,maxWidth:"sm",onClose:Pe},function(){if(Ce)return o.a.createElement(oe.a,null,$e("scenes.dataViewer.errors.emptyData"));if(ye){var e=function(e,t){if(e){var n=1;if(t){var a=1;t.cols.forEach((function(t){return a*=e.size[e.id.indexOf(t)]}));var i=1;t.rows.forEach((function(t){return i*=e.size[e.id.indexOf(t)]})),t.sections.forEach((function(t){return i*=e.size[e.id.indexOf(t)]})),n=a*i}else e.size.forEach((function(e){return n*=e}));return n}return 0}(f);return o.a.createElement(i.Fragment,null,o.a.createElement(oe.a,null,$e("scenes.dataViewer.dialogs.tooBigData.title")),o.a.createElement(re.a,null,0!==e&&o.a.createElement("div",{style:{width:"100%",textAlign:"end"}},$e("scenes.dataViewer.dialogs.tooBigData.content.requestCells"),": ",o.a.createElement("b",null,ho(e))),o.a.createElement("div",{style:{width:"100%",textAlign:"end"}},$e("scenes.dataViewer.dialogs.tooBigData.content.maxCells"),": ",o.a.createElement("b",null,ho(se))),o.a.createElement("div",{style:{width:"100%",textAlign:"end",marginTop:16}},$e("scenes.dataViewer.dialogs.tooBigData.content.applyCriteria"))))}return o.a.createElement(oe.a,null,$e("scenes.dataViewer.errors.genericError"))}(),o.a.createElement(ie.a,null,o.a.createElement(E.a,{autoFocus:!0,onClick:Pe},$e("commons.confirm.confirm")))),o.a.createElement(ae.a,{open:Ht,fullWidth:!0,maxWidth:"sm",onClose:function(){return qt(!1)}},o.a.createElement(re.a,null,$e("scenes.dataViewer.dialogs.obsCountWarning.content")),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){return qt(!1)}},$e("commons.confirm.cancel")),o.a.createElement(E.a,{autoFocus:!0,onClick:function(){qt(!1),Jt()}},$e("commons.confirm.confirm")))))),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:Yt},$e("commons.confirm.cancel")),o.a.createElement(E.a,{autoFocus:!0,color:"primary",onClick:function(){return pe&&pe>h?qt(!0):Jt()},disabled:!gt},$e("commons.confirm.apply")))),o.a.createElement(ae.a,{open:ut&&0===T,fullWidth:!0,maxWidth:"md",onClose:Wt},o.a.createElement(oe.a,null,$e("scenes.dataViewer.dialogs.tableLayout.title")),o.a.createElement(re.a,null,o.a.createElement(fl,{jsonStat:f,layout:Xe,labelFormat:z,setLayout:et})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:Wt},$e("commons.confirm.cancel")),o.a.createElement(E.a,{autoFocus:!0,onClick:Kt,color:"primary"},$e("commons.confirm.apply")))),o.a.createElement(ae.a,{open:ut&&T>=2,fullWidth:!0,maxWidth:"md",onClose:Wt},o.a.createElement(oe.a,null,$e("scenes.dataViewer.dialogs.chartLayout.title")),o.a.createElement(re.a,null,o.a.createElement(Vl,{jsonStat:f,layout:at,setLayout:it})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:Wt},$e("commons.confirm.cancel")),o.a.createElement(E.a,{autoFocus:!0,onClick:Kt,color:"primary"},$e("commons.confirm.apply")))),o.a.createElement(ae.a,{open:we,maxWidth:"md",onClose:qe},o.a.createElement(re.a,null,$e("scenes.dataViewer.dialogs.downloadFormat.content")),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:qe},$e("commons.confirm.confirm")))),o.a.createElement(ae.a,{open:Ae,maxWidth:"md",onClose:Ke},o.a.createElement(re.a,null,$e("scenes.dataViewer.dialogs.unavailableView.content")),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:Ke},$e("commons.confirm.confirm")))),o.a.createElement(ae.a,{open:_e,maxWidth:"md",onClose:Je},o.a.createElement(re.a,null,$e("scenes.dataViewer.dialogs.tooLongQuery.content")),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:Je},$e("commons.confirm.cancel")),o.a.createElement(E.a,{onClick:function(){return Ee({nodeId:n,datasetId:r,criteria:V,datasetTitle:l,checkCriteriaLength:!1,tableLayout:x,chartLayout:M,mapLayout:D,maxAllowedCells:se,hasAnnotationLayout:w})}},$e("commons.confirm.confirm")))),o.a.createElement(ae.a,{open:Tt,maxWidth:"md",fullWidth:!0,onClose:Qt},o.a.createElement(oe.a,null,$e("scenes.dataViewer.dialogs.chartSettings.title")),o.a.createElement(re.a,null,o.a.createElement(Fl,{jsonStat:f,isStacked:Mt,onIsStackedSet:Rt,legendPosition:Lt,onLegendPositionSet:zt,colors:Ft,onColorsSet:Nt})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:Qt},$e("commons.confirm.cancel")),o.a.createElement(E.a,{autoFocus:!0,onClick:function(){xt(!1),je(Mt),Fe(Lt),Ne(Ft)},color:"primary"},$e("commons.confirm.apply")))))})),Yl=function(e){return{type:"dashboards/dashboards/clear",payload:{updatedDashboardId:e}}},Jl=function(e,t){return{type:"fetch/dashboard/dataset/async/handler/error",payload:{dashboardId:e,requestIds:t}}},$l={dashboards:null,layouts:null,isFetchDatasetDisabled:!0,jsonStats:null,filterTrees:null,maps:null,updatedDashboardId:null},Ql=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dashboards/dashboards/clear":return Object(B.a)(Object(B.a)({},$l),{},{updatedDashboardId:t.payload.updatedDashboardId||null});case"dashboards/updated/dashboard/id/reset":return Object(B.a)(Object(B.a)({},e),{},{updatedDashboardId:null});case"dashboards/dataset/fetch/enableStatus/set":return Object(B.a)(Object(B.a)({},e),{},{isFetchDatasetDisabled:t.payload.disabled});case"fetch/dashboard/dataset/async/handler/init":var n,a,i,o=Me.a.cloneDeep(null===(n=e.jsonStats)||void 0===n?void 0:n[t.payload.dashboardId]),r=Me.a.cloneDeep(null===(a=e.layouts)||void 0===a?void 0:a[t.payload.dashboardId]),l=Me.a.cloneDeep(null===(i=e.filterTrees)||void 0===i?void 0:i[t.payload.dashboardId]);return e.dashboards[t.payload.dashboardId].dashboardConfig.forEach((function(e,t){e.forEach((function(e,n){if("view"===e.type){var a,i,s,c=ai(t,n),d=0===(e.filterDimension||"").length,u=null===(a=o)||void 0===a?void 0:a[c];o=Object(B.a)(Object(B.a)({},o),{},Object(L.a)({},c,d&&u?u:"DASHBOARD_VIEW_STATE_FETCHING"));var m=null===(i=r)||void 0===i?void 0:i[c];r=Object(B.a)(Object(B.a)({},r),{},Object(L.a)({},c,d&&u?m:null));var h=null===(s=l)||void 0===s?void 0:s[c];l=Object(B.a)(Object(B.a)({},l),{},Object(L.a)({},c,d&&u?h:null))}}))})),Object(B.a)(Object(B.a)({},e),{},{jsonStats:Object(B.a)(Object(B.a)({},e.jsonStats),{},Object(L.a)({},t.payload.dashboardId,o)),layouts:Object(B.a)(Object(B.a)({},e.layouts),{},Object(L.a)({},t.payload.dashboardId,r)),filterTrees:Object(B.a)(Object(B.a)({},e.filterTrees),{},Object(L.a)({},t.payload.dashboardId,l))});case"fetch/dashboard/dataset/async/handler/success":return e.jsonStats&&e.layouts&&e.filterTrees?Object(B.a)(Object(B.a)({},e),{},{jsonStats:Object(B.a)(Object(B.a)({},e.jsonStats),{},Object(L.a)({},t.payload.dashboardId,Object(B.a)(Object(B.a)({},e.jsonStats[t.payload.dashboardId]),t.payload.dashboardJsonStats))),layouts:Object(B.a)(Object(B.a)({},e.layouts),{},Object(L.a)({},t.payload.dashboardId,Object(B.a)(Object(B.a)({},e.layouts[t.payload.dashboardId]),t.payload.dashboardLayouts))),filterTrees:Object(B.a)(Object(B.a)({},e.filterTrees),{},Object(L.a)({},t.payload.dashboardId,Object(B.a)(Object(B.a)({},e.filterTrees[t.payload.dashboardId]),t.payload.dashboardFilterTrees)))}):Object(B.a)({},e);case"fetch/dashboard/dataset/async/handler/error":var s=Me.a.cloneDeep(e.jsonStats),c=Me.a.cloneDeep(e.layouts),d=Me.a.cloneDeep(e.filterTrees);return(t.payload.requestIds||[]).forEach((function(e){s&&(s[t.payload.dashboardId]=Object(B.a)(Object(B.a)({},s[t.payload.dashboardId]),{},Object(L.a)({},e,"DASHBOARD_VIEW_STATE_ERROR"))),c&&(c[t.payload.dashboardId]=Object(B.a)(Object(B.a)({},c[t.payload.dashboardId]),{},Object(L.a)({},e,null))),d&&(d[t.payload.dashboardId]=Object(B.a)(Object(B.a)({},d[t.payload.dashboardId]),{},Object(L.a)({},e,null)))})),Object(B.a)(Object(B.a)({},e),{},{jsonStats:s,layouts:c,filterTrees:d});case"dashboards/dataset/filter/set":return Object(B.a)(Object(B.a)({},e),{},{layouts:Object(B.a)(Object(B.a)({},e.layouts),{},Object(L.a)({},t.payload.dashboardId,Object(B.a)(Object(B.a)({},e.layouts[t.payload.dashboardId]),{},Object(L.a)({},t.payload.viewIdx,Object(B.a)(Object(B.a)({},e.layouts[t.payload.dashboardId][t.payload.viewIdx]),{},{layout:Xn(t.payload.dimension,t.payload.value,e.jsonStats[t.payload.dashboardId][t.payload.viewIdx],e.layouts[t.payload.dashboardId][t.payload.viewIdx].layout,e.filterTrees[t.payload.dashboardId][t.payload.viewIdx])})))))});case"request/init":switch(t.payload.label){case"dashboards/map/geometries/fetch":var u;return Object(B.a)(Object(B.a)({},e),{},{maps:Object(B.a)(Object(B.a)({},e.maps),{},Object(L.a)({},t.payload.extra.dashboardId,Object(B.a)(Object(B.a)({},null===e||void 0===e||null===(u=e.maps)||void 0===u?void 0:u[t.payload.extra.dashboardId]),{},Object(L.a)({},t.payload.extra.viewIdx,null))))});default:return e}case K:switch(t.payload.label){case"dashboards/dashboard/fetch":var m,h,f=Me.a.cloneDeep(t.payload.response.views);for(var g in f)f.hasOwnProperty(g)&&(f[g]=Object(B.a)(Object(B.a)({},f[g]),{},{datasetId:f[g].datasetId?f[g].datasetId.split("+").join(","):void 0,criteria:sa(f[g].criteria),layouts:JSON.parse(f[g].layouts)}));return Object(B.a)(Object(B.a)({},e),{},{dashboards:Object(B.a)(Object(B.a)({},e.dashboards),{},Object(L.a)({},t.payload.extra.dashboardId,Object(B.a)(Object(B.a)({},t.payload.response),{},{dashboardConfig:(null===(m=t.payload.response)||void 0===m?void 0:m.dashboardConfig)?JSON.parse(t.payload.response.dashboardConfig):{},filterLevels:(null===(h=t.payload.response)||void 0===h?void 0:h.filterLevels)?JSON.parse(t.payload.response.filterLevels):{},views:f})))});case"dashboards/map/geometries/fetch":return Object(B.a)(Object(B.a)({},e),{},{maps:Object(B.a)(Object(B.a)({},e.maps),{},Object(L.a)({},t.payload.extra.dashboardId,Object(B.a)(Object(B.a)({},e.maps[t.payload.extra.dashboardId]),{},Object(L.a)({},t.payload.extra.viewIdx,{geometries:t.payload.response,geometryDetailLevels:Ao(t.payload.response,!1,t.payload.extra.t)}))))});default:return e}case W:switch(t.payload.label){case"dashboards/map/geometries/fetch":return e.jsonStats&&e.layouts&&e.filterTrees?Object(B.a)(Object(B.a)({},e),{},{jsonStats:Object(B.a)(Object(B.a)({},e.jsonStats),{},Object(L.a)({},t.payload.extra.dashboardId,Object(B.a)(Object(B.a)({},e.jsonStats[t.payload.extra.dashboardId]),{},Object(L.a)({},t.payload.extra.viewIdx,"DASHBOARD_VIEW_STATE_ERROR_FETCHING_GEOMETRIES")))),layouts:Object(B.a)(Object(B.a)({},e.layouts),{},Object(L.a)({},t.payload.extra.dashboardId,Object(B.a)(Object(B.a)({},e.layouts[t.payload.extra.dashboardId]),{},Object(L.a)({},t.payload.extra.viewIdx,null)))),filterTrees:Object(B.a)(Object(B.a)({},e.filterTrees),{},Object(L.a)({},t.payload.extra.dashboardId,Object(B.a)(Object(B.a)({},e.filterTrees[t.payload.extra.dashboardId]),{},Object(L.a)({},t.payload.extra.viewIdx,null))))}):Object(B.a)({},e);default:return e}default:return e}},Zl=function(e,t){var n,a=(null===(n=document.getElementById("dashboard__view-container__".concat(e,"__controllers__").concat(t)))||void 0===n?void 0:n.offsetHeight)||0,i=document.getElementById("dashboard__view-container__".concat(e,"__view__").concat(t));i&&i.setAttribute("style","height: calc(100% - ".concat(a,"px)"))};var Xl=Object(he.d)(Object(vt.a)(),fi()((function(e){return{col:{display:"inline-block",verticalAlign:"top"},viewContainer:{padding:12,height:640,width:"100%",overflow:"auto"},viewCard:{width:"100%",height:"100%",padding:24},viewPlaceholder:{height:"100%"},viewControllers:{paddingBottom:16},viewTitle:{fontSize:18,marginBottom:8},viewStaticFilters:{marginBottom:8},viewStaticFilter:{display:"inline-block",marginRight:8},viewActiveFilters:{},view:{width:"100%",position:"relative"},attributeId:{cursor:"default",fontSize:13,color:"rgb(255, 255, 255)",backgroundColor:"rgb(136, 136, 136)",borderRadius:3,padding:"0 4px"},attributeAst:{cursor:"default",fontSize:15,color:"rgb(136, 136, 136)",fontFamily:"Do Hyeon"}}})),Object(H.b)((function(e){return{languages:e.app.languages,defaultLanguage:e.app.language}})))((function(e){var t=e.t,n=e.classes,a=e.defaultLanguage,r=e.languages,l=e.dashboardId,s=e.dashboard,c=e.filterValue,d=e.rowIdx,u=e.colIdx,m=e.dashboardElem,h=e.jsonStat,f=e.layout,g=e.filterTree,p=e.map,v=e.onSelect,b=e.fetchMapGeometries,C=e.downloadCsv,y=Object(i.useState)(Object(q.a)()),w=Object(ne.a)(y,1)[0],A=Object(i.useState)("chart__"+Object(q.a)()),_=Object(ne.a)(A,1)[0],S=Object(i.useState)("map__"+Object(q.a)()),E=Object(ne.a)(S,1)[0],O=Object(i.useState)(h),T=Object(ne.a)(O,2),x=T[0],D=T[1],M=Object(i.useState)(f),R=Object(ne.a)(M,2),I=R[0],z=R[1],V=Object(i.useState)(g),j=Object(ne.a)(V,2),F=j[0],N=j[1],G=Object(i.useState)(p),U=Object(ne.a)(G,2),H=U[0],W=U[1],K=Object(i.useState)(!1),Y=Object(ne.a)(K,2),J=Y[0],$=Y[1];Object(i.useEffect)((function(){var e=function(){return Zl(w,ai(d,u))};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[w,d,u]),Object(i.useEffect)((function(){Zl(w,ai(d,u))}),[w,d,u,m,x,I]),Object(i.useEffect)((function(){D((function(e){return Me.a.isEqual(e,h)?e:h}))}),[h]),Object(i.useEffect)((function(){z((function(e){return Me.a.isEqual(e,f)?e:f}))}),[f]),Object(i.useEffect)((function(){N((function(e){return Me.a.isEqual(e,g)?e:g}))}),[g]),Object(i.useEffect)((function(){W((function(e){return Me.a.isEqual(e,p)?e:p}))}),[p]);var Q=ai(d,u),Z=Me.a.cloneDeep((s.views||{})[m.value]),X=Z?Hl(Z.defaultView):null;return o.a.createElement("div",{className:n.col,style:{width:"".concat(m.widthPercentage,"%")}},o.a.createElement("div",{className:n.viewContainer},o.a.createElement(k.a,{id:"dashboard__view-container__".concat(w,"__").concat(Q),className:n.viewCard},C&&"view"===m.type&&x&&I&&o.a.createElement("div",{style:{float:"right"}},o.a.createElement(Ge,{icon:o.a.createElement(no.a,null),tooltip:t("components.dashboard.actions.download"),color:"primary",onChange:function(e){var t=e.format;if("png"===t&&1===X)window.LMap.exportPng(E,"".concat(Ie(Z.title,a,r),".png"));else if("jpeg"===t&&X>=2)va(_,"".concat(Ie(Z.title,a,r),".jpeg"));else if("csv"===t){var n,i,o,l,s=Object(B.a)({},Z.criteria);Object.keys(I.layout.filtersValue).forEach((function(e){"TIME_PERIOD"!==e&&(s[e]={id:e,filterValues:[I.layout.filtersValue[e]]})}));var c=(null===(n=I.layout)||void 0===n||null===(i=n.primaryDim)||void 0===i?void 0:i[0])||null;c&&"TIME_PERIOD"!==c&&(s[c]={id:c,filterValues:I.layout.primaryDimValues});var d=(null===(o=I.layout)||void 0===o||null===(l=o.secondaryDim)||void 0===l?void 0:l[0])||null;d&&"TIME_PERIOD"!==d&&(s[d]={id:d,filterValues:I.layout.secondaryDimValues}),C(Z.nodeId,Z.datasetId,Ie(Z.title,a,r),s)}}},[{format:"csv",label:"CSV",extension:"csv"}].concat(1===X?{format:"png",label:"PNG",extension:"png"}:X>=2?{format:"jpeg",label:"JPEG",extension:"jpeg"}:[]).map((function(e,t){var n=e.format,a=e.label,i=e.extension;return o.a.createElement("div",{key:t,"data-value":{format:n,extension:i}},a)})))),("text"===m.type||x&&I)&&o.a.createElement("div",{style:{float:"right"}},o.a.createElement(Ve.a,{title:t(J?"components.dashboard.actions.fullscreen.exit":"components.dashboard.actions.fullscreen.enter")},o.a.createElement(P.a,{color:"primary",onClick:function(){J?document.getElementById("dashboard__view-container__".concat(w,"__").concat(ai(d,u))).classList.remove("dashboard__view-container--fullscreen"):document.getElementById("dashboard__view-container__".concat(w,"__").concat(ai(d,u))).classList.add("dashboard__view-container--fullscreen"),Zl(w,ai(d,u)),$(!J)}},J?o.a.createElement(Cl.a,null):o.a.createElement(bl.a,null)))),function(){if("text"===m.type)return o.a.createElement(Te,{html:Ie(m.value,a,r),allowTarget:!0});if(null===Z||void 0===Z)return o.a.createElement("div",{className:n.viewPlaceholder},o.a.createElement(Ii,{text:t("components.dashboard.missingView")}));if(null!==x&&void 0!==x){if("DASHBOARD_VIEW_STATE_APPLY_FILTERS"===x)return o.a.createElement("div",{className:n.viewPlaceholder},o.a.createElement(Ii,{text:t("components.dashboard.applyFilters")}));if("DASHBOARD_VIEW_STATE_FETCHING"===x)return o.a.createElement("div",{className:n.viewPlaceholder},o.a.createElement(Ii,{text:t("components.dashboard.fetching")+"...",image:o.a.createElement(Di.a,null)}));if("DASHBOARD_VIEW_STATE_ERROR"===x)return o.a.createElement("div",{className:n.viewPlaceholder},o.a.createElement(Ii,{text:t("components.dashboard.fetchingDatasetError")}));if("DASHBOARD_VIEW_STATE_ERROR_FETCHING_GEOMETRIES"===x)return o.a.createElement("div",{className:n.viewPlaceholder},o.a.createElement(Ii,{text:t("components.dashboard.fetchingGeometriesError")}));if(""===x)return o.a.createElement("div",{className:n.viewPlaceholder},o.a.createElement(Ii,{text:t("components.dashboard.emptyView")}));if(I){var e,s,d=m.filterDimension,u=Object(B.a)({},I.layout),h=[],f=null;return aa(x),(""===c||((null===(e=x.dimension[d])||void 0===e||null===(s=e.category)||void 0===s?void 0:s.index)||[]).includes(c))&&(d&&c&&((u.filters||[]).includes(d)?u.filtersValue=Object(B.a)(Object(B.a)({},u.filtersValue),{},Object(L.a)({},d,c)):(u.primaryDim||[]).includes(d)?u.primaryDimValues=Object(B.a)(Object(B.a)({},u.primaryDimValues),{},Object(L.a)({},d,c)):(u.secondaryDim||[]).includes(d)&&(u.secondaryDimValues=Object(B.a)(Object(B.a)({},u.secondaryDimValues),{},Object(L.a)({},d,c)))),u.filters.forEach((function(e){if(!m.enableFilters||1===x.size[x.id.indexOf(e)]){var t=u.filtersValue[e];h.push({dim:e,dimLabel:Un(x,e),value:t,valueLabel:Hn(x,e,t)})}})),f=aa(x)),o.a.createElement(i.Fragment,null,o.a.createElement("div",{id:"dashboard__view-container__".concat(w,"__controllers__").concat(Q),className:n.viewControllers},m.showTitle&&o.a.createElement("div",{className:n.viewTitle},Ie(Z.title,a,r)),o.a.createElement("div",{className:n.viewStaticFilters},h.map((function(e,t){var a=e.dim,i=e.dimLabel,r=e.value,l=e.valueLabel;return o.a.createElement("div",{key:t,style:{display:"inline-block",marginRight:8}},o.a.createElement("div",{style:{display:"inline-block"}},o.a.createElement("b",null,i||a),": ",o.a.createElement("i",null,l||r)),f&&f[a][r]&&o.a.createElement("div",{style:{display:"inline-block",marginLeft:4}},o.a.createElement(Ve.a,{title:o.a.createElement("div",null,f[a][r].attributes.map((function(e,t){var n=e.id,a=e.label,i=e.valueId,r=e.valueLabel;return o.a.createElement("div",{key:t},"".concat(a||n,": ").concat(r||i).concat(r!==i?" [".concat(i,"]"):""))}))),placement:"top"},function(){var e=f[a][r].ids;return e&&1===e.length&&e[0].length<=2?o.a.createElement("div",{className:n.attributeId},e[0]):o.a.createElement("div",{className:n.attributeAst},"(*)")}())),o.a.createElement("div",{style:{display:"inline-block"}},t<h.length-1?",":""))}))),m.enableFilters&&F&&o.a.createElement("div",{className:n.viewActiveFilters},o.a.createElement(Rr,{jsonStat:x,layout:u,filterTree:F,onSelect:function(e,t){return v(l,Q,e,t)}}))),o.a.createElement("div",{id:"dashboard__view-container__".concat(w,"__view__").concat(Q),className:n.view},0===X?o.a.createElement(kr,{jsonStat:x,layout:u,labelFormat:Z.layouts.labelFormat,decimalSeparator:",",decimalPlaces:2,emptyChar:I.tableEmptyChar,isFullscreen:J,hideSpinner:!0,disableWheelZoom:!0}):1===X?o.a.createElement(Ho,{mapId:E,jsonStat:x,layout:u,geometries:(null===H||void 0===H?void 0:H.geometries)||null,geometryDetailLevels:(null===H||void 0===H?void 0:H.geometryDetailLevels)||null,onGeometryFetch:function(e){return b(l,Q,e,t)},detailLevel:I.mapDetailLevel,classificationMethod:I.mapClassificationMethod,paletteStartColor:I.mapPaletteStartColor,paletteEndColor:I.mapPaletteEndColor,paletteCardinality:I.mapPaletteCardinality,opacity:I.mapOpacity,isLegendCollapsed:!0,isFullscreen:J,readOnly:!0,hideSpinner:!0,disableWheelZoom:!0}):o.a.createElement(jo,{chartId:_,type:Z.defaultView,jsonStat:x,layout:u,labelFormat:Z.layouts.labelFormat,decimalSeparator:",",decimalPlaces:2,stacked:I.chartStacked,legendPosition:I.chartLegendPosition,colors:I.chartColors,disableWheelZoom:!0})))}return o.a.createElement("span",null)}return o.a.createElement("span",null)}())))})),es=fi()((function(e){return{row:{width:"100%",marginBottom:8}}}))((function(e){var t=e.classes,n=e.dashboardId,a=e.dashboard,i=e.filterValue,r=e.row,l=e.rowIdx,s=e.jsonStats,c=e.layouts,d=e.filterTrees,u=e.onSelect,m=e.maps,h=e.fetchMapGeometries,f=e.downloadCsv;return o.a.createElement("div",{className:t.row},r.map((function(e,t){var r=ai(l,t);return o.a.createElement(Xl,{key:t,dashboardId:n,dashboard:a,filterValue:e.filterDimension?i:null,rowIdx:l,colIdx:t,dashboardElem:e,jsonStat:null===s||void 0===s?void 0:s[r],layout:null===c||void 0===c?void 0:c[r],filterTree:null===d||void 0===d?void 0:d[r],map:null===m||void 0===m?void 0:m[r],onSelect:u,fetchMapGeometries:h,downloadCsv:f})})))}));var ts=function(e){var t=e.dashboardId,n=e.dashboard,a=e.filterValue,r=e.jsonStats,l=e.layouts,s=e.filterTrees,c=e.onFilterSet,d=e.maps,u=e.fetchMapGeometries,m=e.downloadCsv,h=Object(i.useState)(n),f=Object(ne.a)(h,2),g=f[0],p=f[1];return Object(i.useEffect)((function(){p((function(e){return Me.a.isEqual(e,n)?e:n}))}),[n]),o.a.createElement(i.Fragment,null,(g.dashboardConfig||[]).map((function(e,n){return o.a.createElement(es,{key:n,dashboardId:t,dashboard:g,filterValue:a,row:e,rowIdx:n,jsonStats:r,layouts:l,filterTrees:s,maps:d,onSelect:c,fetchMapGeometries:u,downloadCsv:m})})))},ns={Search:Object(i.forwardRef)((function(e,t){return o.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(i.forwardRef)((function(e,t){return o.a.createElement(M.a,Object.assign({},e,{ref:t}))}))},as=function(e){if(!e)return null;var t=Me.a.cloneDeep(e);return t.dashboardConfig.forEach((function(e){e.forEach((function(e){e.filterDimension=null}))})),t},is={title:{},dashboardConfig:[],viewIds:[],views:{},filterLevels:{}},os=Object(he.d)(Object(g.a)((function(e){return{tableToolbar:{marginBottom:e.spacing(1)},previewDialog:{"& .MuiDialogTitle-root, & .MuiDialogContent-root, & .MuiDialogActions-root":{background:"#f5f5f5"}}}})),Object(H.b)((function(e){return{defaultLanguage:e.app.language,languages:e.app.languages,needDashboards:e.otherConfig.needDashboards,dashboards:e.otherConfig.dashboards,dashboard:e.otherConfig.dashboard,dashboardViews:e.otherConfig.dashboardViews,dashboardJsonStats:e.otherConfig.dashboardJsonStats,dashboardLayouts:e.otherConfig.dashboardLayouts,dashboardFilterTrees:e.otherConfig.dashboardFilterTrees,dashboardMaps:e.otherConfig.dashboardMaps}}),(function(e){return{fetchDashboards:function(){return e($("otherConfig/fetchDashboards","Dashboards",void 0,void 0,(function(e){return{onStart:e("scenes.dashboardsSettings.messages.fetchDashboards.start")}})))},clearDashboards:function(){return e({type:"otherConfig/clearDashboards"})},createDashboard:function(t){return e(function(e){return{type:"otherConfig/dashboard/create",payload:{dashboard:e}}}(t))},updateDashboard:function(t){return e(function(e){return $("otherConfig/dashboard/update",te(e),void 0,void 0,(function(e){return{onStart:e("scenes.dashboardsSettings.messages.fetchDashboard.start")}}))}(t))},changeDashboard:function(t){return e(function(e){return{type:"otherConfig/dashboard/change",payload:{dashboard:e}}}(t))},submitDashboardCreate:function(t){return e(function(e){return $("otherConfig/dashboard/create/submit","Dashboards/",a.POST,ri(e),(function(e){return{onStart:e("scenes.dashboardsSettings.messages.submitDashboardCreate.start")}}))}(t))},submitDashboardUpdate:function(t,n){return e(function(e,t){return $("otherConfig/dashboard/update/submit",function(e){return"Dashboards/".concat(e)}(e),a.PUT,ri(t,e),(function(e){return{onStart:e("scenes.dashboardsSettings.messages.submitDashboardUpdate.start")}}),{dashboardId:e})}(t,n))},deleteDashboard:function(t){return e(function(e){return $("otherConfig/dashboard/create",function(e){return"Dashboards/".concat(e)}(e),a.DELETE,void 0,(function(e){return{onStart:e("scenes.dashboardsSettings.messages.deleteDashboard.start")}}))}(t))},hideDashboard:function(){return e({type:"otherConfig/dashboard/hide"})},fetchViews:function(){return e($("otherConfig/dashboard/views/fetch","views",void 0,void 0,(function(e){return{onStart:e("scenes.dashboardsSettings.messages.fetchDashboardViews.start")}})))},clearViews:function(){return e({type:"otherConfig/dashboard/views/clear"})},onClose:function(){return e({type:"otherConfig/closeDashboards"})},fetchDataset:function(t,n,i,o){return e(function(e,t,n,i){return $("otherConfig/dashboard/dataset/fetch",Z(e,t),a.POST,la(n),(function(e){return{onStart:e("scenes.dashboard.actions.fetchingDataset")}}),{requestIds:i},"",(function(){return!0}),!0)}(t,n,i,o))},onFilterSet:function(t,n,a,i){return e(function(e,t,n){return{type:"otherConfig/dashboard/dataset/filter/set",payload:{viewIdx:e,dimension:t,value:n}}}(n,a,i))},fetchMapGeometries:function(t,n,i,o){return e(function(e,t,n){return $("otherConfig/dashboard/map/geometry/fetch","Geometry",a.POST,t,(function(e){return{onStart:e("scenes.dashboard.actions.fetchingGeometries")}}),{viewIdx:e,t:n},"",(function(){return!0}),!0)}(n,i,o))},clearDatasets:function(){return e({type:"otherConfig/dashboard/dataset/clear"})}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){var n=e.classes,a=e.defaultLanguage,r=e.languages,l=e.nodes,s=e.needDashboards,c=e.dashboards,d=e.dashboard,u=e.fetchDashboards,m=e.clearDashboards,f=e.createDashboard,g=e.updateDashboard,p=e.changeDashboard,v=e.submitDashboardCreate,k=e.submitDashboardUpdate,C=e.deleteDashboard,y=e.hideDashboard,w=e.dashboardViews,A=e.fetchViews,_=e.clearViews,S=e.onClose,O=e.dashboardJsonStats,T=e.dashboardLayouts,x=e.dashboardFilterTrees,P=e.onFilterSet,D=e.dashboardMaps,M=e.fetchDataset,R=e.fetchMapGeometries,I=e.clearDatasets,B=e.onDashboardsClose,L=Object(i.useState)(null),z=Object(ne.a)(L,2),V=z[0],j=z[1],F=Object(i.useState)(null),N=Object(ne.a)(F,2),G=N[0],U=N[1],H=Object(i.useState)(!1),q=Object(ne.a)(H,2),W=q[0],K=q[1],Y=Object(ue.a)().t;Object(i.useEffect)((function(){u()}),[u]),Object(i.useEffect)((function(){s&&u()}),[c,s,u]),Object(i.useImperativeHandle)(t,(function(){return{cancel:function(e){m(),S(),e()}}}));return c&&o.a.createElement(i.Fragment,null,o.a.createElement(Ht,{components:{Container:h.a,Toolbar:function(e){return o.a.createElement(b.a,{container:!0,justify:"space-between",spacing:1,alignItems:"center"},o.a.createElement(b.a,{item:!0},o.a.createElement(Gt.MTableToolbar,e)),o.a.createElement(b.a,{item:!0},o.a.createElement(E.a,{size:"small",startIcon:o.a.createElement(Rt.a,null),onClick:function(){return f(is)}},Y("scenes.dashboardsSettings.createDashboard"))))}},columns:[{field:"title",title:Y("scenes.dashboardsSettings.table.columns.dashboardTitle"),render:function(e){var t=e.title;return Ie(t,a,r)},customFilterAndSearch:Be(a,r)}],data:c,actions:[{icon:mi.a,tooltip:Y("scenes.dashboardsSettings.table.actions.viewDashboard"),onClick:function(e,t){var n=t.dashboardId;return window.location.href.toLowerCase().includes("/dashboards/".concat(n))?B():function(e){return window.open("./#/".concat(window.language,"/dashboards/").concat(e).concat(window.isA11y?"?accessible=true":""),"_self")}(n)}},{icon:ya.a,tooltip:Y("scenes.dashboardsSettings.table.actions.editDashboard"),onClick:function(e,t){var n=t.dashboardId;g(n),U(n)}},{icon:zt.a,tooltip:Y("scenes.dashboardsSettings.table.actions.deleteDashboard"),onClick:function(e,t){var n=t.dashboardId;return j(n)}}],options:{paging:!1,draggable:!0,actionsColumnIndex:1,maxBodyHeight:400,showTitle:!1,searchFieldAlignment:"left"},icons:ns}),o.a.createElement(ae.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",open:null!==V},o.a.createElement(oe.a,null,Y("scenes.dashboardsSettings.modals.deleteDashboard.title")),o.a.createElement(re.a,null,Y("scenes.dashboardsSettings.modals.deleteDashboard.content")),o.a.createElement(ie.a,null,o.a.createElement(E.a,{autoFocus:!0,onClick:function(){return j(null)}},Y("commons.confirm.cancel")),o.a.createElement(E.a,{onClick:function(){C(V),j(null)}},Y("commons.confirm.confirm")))),o.a.createElement(ae.a,{open:null!==d,fullScreen:!0,onClose:y},o.a.createElement(oe.a,null,Y(G?"scenes.dashboardsSettings.modals.updateDashboard.title":"scenes.dashboardsSettings.modals.createDashboard.title")),o.a.createElement(re.a,null,o.a.createElement(Qi,{nodes:l,dashboard:d,onChange:p,views:w,fetchViews:A,onViewsHide:_,jsonStats:O,fetchDataset:M})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){y(),U(null)}},Y("commons.confirm.close")),o.a.createElement(E.a,{onClick:function(){return K(!0)}},Y("commons.confirm.preview")),o.a.createElement(E.a,{onClick:G?function(){return k(G,d)}:function(){v(d),y()},disabled:d&&!Re(d.title)},Y("commons.confirm.save")))),o.a.createElement(ae.a,{open:W,fullScreen:!0,onClose:function(){return K(!1)},className:n.previewDialog},o.a.createElement(oe.a,null,Y("components.dashboardBuilder.modals.preview.title")),o.a.createElement(re.a,null,o.a.createElement(Zi,{cb:function(){var e=[];d.dashboardConfig.forEach((function(t,n){t.forEach((function(t,a){if("view"===t.type){var i=d.views[t.value],o=i.criteria,r=e.find((function(e){var t=e.nodeId,n=e.datasetId,a=e.criteria;return t===i.nodeId&&n===i.datasetId&&Me.a.isEqual(a,o)}));void 0===r?e.push({nodeId:i.nodeId,datasetId:i.datasetId.split("+").join(","),criteria:o,requestIds:[ai(n,a)]}):r.requestIds.push(ai(n,a))}}))})),e.forEach((function(e){var t=e.nodeId,n=e.datasetId,a=e.criteria,i=e.requestIds;return M(t,n,a,i)}))}},o.a.createElement(ts,{dashboard:as(d),jsonStats:O,layouts:T,filterTrees:x,onFilterSet:P,maps:D,fetchMapGeometries:R}))),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){K(!1),I()}},Y("commons.confirm.close")))))})),rs=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={isViewsOpen:!1,isDashboardsOpen:!1,viewsSettigsRef:o.a.createRef(),dashboardsSettingsRef:o.a.createRef()},e.onViewsOpen=function(){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isViewsOpen:!0}))},e.onViewsClose=function(){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isViewsOpen:!1}))},e.onDashboardsOpen=function(){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isDashboardsOpen:!0}))},e.onDashboardsClose=function(){return e.setState(Object(B.a)(Object(B.a)({},e.state),{},{isDashboardsOpen:!1}))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.nodes,r=t.user,l=t.t,s=this.state,c=s.isViewsOpen,d=s.isDashboardsOpen,u=s.viewsSettigsRef,m=s.dashboardsSettingsRef;return o.a.createElement(i.Fragment,null,o.a.createElement(Ge,{value:"",icon:o.a.createElement(di.a,null)},cn(r)&&o.a.createElement("div",{onClick:this.onViewsOpen,className:n.option},l("components.header.otherSettings.views")),hn(r)&&o.a.createElement("div",{onClick:this.onDashboardsOpen,className:n.option},l("components.header.otherSettings.dashboards"))),o.a.createElement(me,{title:l("scenes.viewsSettings.title"),open:c,onClose:function(){u.current?u.current.cancel((function(){return e.onViewsClose()})):e.onViewsClose()},maxWidth:"md"},o.a.createElement(si,{ref:u,nodes:a,onViewsClose:this.onViewsClose})),o.a.createElement(me,{title:l("scenes.dashboardsSettings.title"),open:d,onClose:function(){m.current?m.current.cancel((function(){return e.onDashboardsClose()})):e.onDashboardsClose()},maxWidth:"md"},o.a.createElement(os,{ref:m,nodes:a,onDashboardsClose:this.onDashboardsClose})))}}]),n}(o.a.Component),ls=Object(he.d)(Object(g.a)((function(e){return{option:{width:"100%"}}})),Object(H.b)((function(e){return{user:e.user}})),Object(vt.a)())(rs),ss=Object(H.b)((function(e){return{language:e.app.language}}),(function(e){return{onDatasetBackup:function(){return e({type:"dataset/state/backup"})}}}))((function(e){var t=e.language,n=e.onDatasetBackup,a=Object(s.f)();return o.a.createElement(kn,{value:t,onChange:function(e){if(e!==t){n();var i=a.pathname.includes(t)?"./#"+a.pathname.replace(t,e)+a.search:"./#/".concat(e);window.open(i,"_self")}}})})),cs=n(554),ds=n.n(cs),us=n(948),ms=Object(he.d)(Object(g.a)((function(e){return{badge:{padding:0,width:12,height:12,minWidth:0},badgeActive:{padding:0,width:12,height:12,minWidth:0,backgroundColor:e.palette.success.main},badgeIcon:{fontSize:12}}})),Object(H.b)((function(e){return{isA11y:e.app.isA11y}})))((function(e){var t=e.classes,n=e.isA11y,a=Object(s.f)(),i=Object(ue.a)().t;return o.a.createElement(Ge,{value:o.a.createElement(us.a,{showZero:!0,color:"secondary",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:n?o.a.createElement(Aa.a,{classes:{root:t.badgeIcon}}):void 0,classes:{badge:n?t.badgeActive:t.badge}},o.a.createElement(ds.a,null)),onChange:function(e){if(e!==n){var t=new URLSearchParams(a.search);e?t.set("accessible","true"):t.delete("accessible");var i=t.toString();window.open("./#"+a.pathname+(i.length>0?"?":"")+i,"_self")}}},o.a.createElement("span",{"data-value":!1},i("components.a11ySelect.disable")),o.a.createElement("span",{"data-value":!0},i("components.a11ySelect.enable")))})),hs=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={isDrawerOpen:e.props.defaultTreeOpen||!1},e.onDrawerOpen=function(){e.setState({isDrawerOpen:!0})},e.onDrawerClose=function(){e.setState({isDrawerOpen:!1})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.selectedCategoryPath,a=e.title,i=e.defaultAppConfigOpen,r=e.defaultUsersConfigOpen,l=e.defaultNodesConfigOpen,s=e.defaultNodeConfigOpen,c=e.nodes,d=e.noNode,u=e.catalog,m=e.node,h=e.query,g=e.hub,p=e.baseURL,v=e.user,k=e.isA11y,C=e.isDefault,y=e.t,w=this.state.isDrawerOpen,A=!d&&C&&m&&0===c.filter((function(e){return e.code.toLowerCase()!==m.code.toLowerCase()})).length;return o.a.createElement("div",{className:t.root,id:"node-header"},o.a.createElement(V.a,{position:"static",color:"primary"},o.a.createElement(b.a,{container:!0,justify:"space-between",alignItems:"center"},o.a.createElement(b.a,{item:!0,className:t.leftContainer},!d&&o.a.createElement(j.a,{className:t.leftToolbar},o.a.createElement(b.a,{container:!0,spacing:1,alignItems:"center"},o.a.createElement(b.a,{item:!0},o.a.createElement(P.a,{className:t.menuButton,edge:"start",color:"inherit",onClick:this.onDrawerOpen},o.a.createElement(N.a,null))),!A&&o.a.createElement(b.a,{item:!0},o.a.createElement("div",{id:"node-selector"},o.a.createElement(Ge,{value:o.a.createElement(f.a,{variant:"h6",color:"inherit"},null===m||void 0===m?void 0:m.name),onChange:function(e){return lt(e.toLowerCase())}},c.sort((function(e,t){return e.order-t.order})).map((function(e,t){var n=e.code,a=e.name;return o.a.createElement("span",{key:t,"data-value":n},a)})))))))),o.a.createElement(b.a,{item:!0,className:t.centerContainer},o.a.createElement(z.a,{onClick:st,style:{cursor:"pointer"}},o.a.createElement(b.a,{container:!0,spacing:2,alignItems:"center",justify:"center"},g.logoURL&&o.a.createElement(b.a,{item:!0},o.a.createElement("img",{src:p+g.logoURL,alt:g.name,className:t.sistanLogo})),o.a.createElement(b.a,{item:!0},o.a.createElement(f.a,{variant:"h6",color:"secondary"},g.name))))),o.a.createElement(b.a,{item:!0,className:t.rightContainer},o.a.createElement(j.a,null,o.a.createElement(b.a,{container:!0,justify:"flex-end",alignItems:"center",spacing:1},!d&&o.a.createElement("div",null,o.a.createElement(Xa,{query:h,modalWidth:320,dialogTop:56,onSubmit:function(e){return rt(m.code,e)}})),o.a.createElement(b.a,{item:!0,id:"language-btn"},o.a.createElement(ss,null)),o.a.createElement(b.a,{item:!0,id:"a11y-btn"},o.a.createElement(ms,null)),!d&&!k&&m&&m.dashboards&&m.dashboards.length>0&&o.a.createElement(b.a,{item:!0,id:"dashboards-btn"},o.a.createElement(P.a,{onClick:function(){return dt(m.code)},color:"inherit"},o.a.createElement(Na.a,null))),(Xt(v)||an(v)||nn(v)||un(v)||function(e){return e&&e.isAuthenticated&&e.roles.includes(Y.Administrator)}(v))&&o.a.createElement(b.a,{item:!0,id:"admin-settings-btn"},o.a.createElement(Ja,{defaultAppOpen:i,defaultNodesOpen:l,defaultUsersOpen:r,defaultNodeOpen:s,nodes:c})),(cn(v)||hn(v))&&o.a.createElement(b.a,{item:!0,id:"other-settings-btn"},o.a.createElement(ls,{nodes:c})),o.a.createElement(b.a,{item:!0,id:"user-settings-btn"},o.a.createElement(qe,null))))))),!d&&o.a.createElement(We.a,{anchor:"left",open:w,classes:{paper:t.drawer},onClose:this.onDrawerClose},o.a.createElement("div",{className:t.drawerHeader},o.a.createElement(f.a,{variant:"h6",className:t.drawerHeaderTitle},a),o.a.createElement(P.a,{onClick:this.onDrawerClose},o.a.createElement(Ye.a,null))),o.a.createElement(_.a,null),o.a.createElement("div",{className:t.goToHome},o.a.createElement(z.a,{underline:"none",onClick:function(){return lt(m.code)},style:{cursor:"pointer"}},o.a.createElement(b.a,{container:!0,spacing:1},o.a.createElement(b.a,{item:!0},o.a.createElement(ti.a,null)),o.a.createElement(b.a,{item:!0},o.a.createElement(f.a,null,y("components.header.drawer.backToNodeHome")))))),u&&o.a.createElement("div",{className:t.drawerCategories},o.a.createElement("div",{className:t.drawerCategoriesTitle},o.a.createElement(f.a,null,y("components.header.drawer.categoriesTitle"))),o.a.createElement(kt,{selectedCategoryPath:n,catalog:u,node:m,onClose:this.onDrawerClose}))))}}]),n}(i.Component),fs=Object(he.d)(Object(g.a)((function(e){var t;return{root:{position:"fixed",width:"100%",zIndex:e.zIndex.appBar},title:(t={flexGrow:1,display:"none"},Object(L.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(L.a)(t,"color","white"),t),leftToolbar:{zIndex:e.zIndex.appBar},leftContainer:{width:448},rightContainer:{width:448},drawer:{minWidth:448},drawerHeader:Object(B.a)(Object(B.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),drawerHeaderTitle:{position:"absolute",left:e.spacing(2)},drawerCategories:{margin:e.spacing(2)},drawerCategoriesTitle:{marginBottom:e.spacing(2)},goToHome:{margin:e.spacing(2,2,0,2)},centerContainer:{width:"calc(100% - 896px)",textAlign:"center"},sistanLogo:{height:32,transform:"translateY(3px)"}}})),Object(vt.a)(),Object(H.b)((function(e){return{baseURL:e.config.baseURL,user:e.user,isA11y:e.app.isA11y}})),s.g)(hs),gs=n(952),ps=Object(g.a)((function(e){return{image:{height:20,margin:e.spacing(1)}}}))((function(e){var t=e.classes,n=e.textOnly;return o.a.createElement(b.a,{container:!0,type:"flex",justify:"center",alignItems:"center"},o.a.createElement(b.a,{item:!0},n?o.a.createElement("span",null,"ISTAT\xa0"):o.a.createElement("img",{src:"images/istat/istat-logo-gray.png",className:t.image,alt:"istat logo"})),o.a.createElement(b.a,{item:!0},"Data Browser v1.1.0"))})),vs=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).info=o.a.createRef(),e.nodesRef=o.a.createRef(),e.state={isListMode:!0},e}return Object(d.a)(n,[{key:"scroll",value:function(e){e.current.scrollIntoView({behavior:"smooth",alignToTop:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.hub,i=t.baseURL,r=t.isA11y,l=t.t;return o.a.createElement(I,{id:"landing-page"},o.a.createElement(fs,{noNode:!0,defaultNodeConfigOpen:this.props.defaultNodeConfigOpen,defaultAppConfigOpen:this.props.defaultAppConfigOpen,defaultUserConfigOpen:this.props.defaultUserConfigOpen,defaultNodesConfigOpen:this.props.defaultNodesConfigOpen,hub:a.hub,nodes:a.nodes}),o.a.createElement(v,{title:a.hub.name,slogan:a.hub.slogan,logo:a.hub.logoURL&&o.a.createElement("img",{src:i+a.hub.logoURL,alt:a.hub.name}),background:a.hub.backgroundMediaURL?a.hub.backgroundMediaURL.match(/\.(jpeg|jpg|gif|png|JPEG|JPG|GIF|PNG|svg|SVG)$/)?o.a.createElement("img",{src:i+a.hub.backgroundMediaURL,alt:a.hub.name}):o.a.createElement("video",{autoPlay:!0,muted:!0,loop:!0},o.a.createElement("source",{src:i+a.hub.backgroundMediaURL})):o.a.createElement("video",{autoPlay:!0,muted:!0,loop:!0},o.a.createElement("source",{src:"./videos/landing-background.mp4"}))},a.hub.description&&a.hub.description.length>0&&o.a.createElement(E.a,{size:"large",color:"secondary",variant:"contained",onClick:function(){return e.scroll(e.info)}},l("scenes.hub.informations")),o.a.createElement(E.a,{size:"large",color:"secondary",variant:"contained",onClick:function(){return e.scroll(e.nodesRef)}},l("scenes.hub.nodes")),!r&&a.hub.dashboards&&a.hub.dashboards.length>0&&o.a.createElement(E.a,{size:"large",color:"secondary",variant:"contained",onClick:ct},l("scenes.hub.dashboards"))),o.a.createElement("div",{className:n.fullWidthContainer},o.a.createElement(gs.a,{className:n.container},a.hub.description&&a.hub.description.length>0&&o.a.createElement("div",{className:n.anchorContainer},o.a.createElement("div",{className:n.anchor,ref:this.info}),o.a.createElement(S,{className:n.section,sectiontitle:l("scenes.hub.informations")},o.a.createElement(h.a,{textAlign:"justify"},o.a.createElement(Te,{html:a.hub.description,allowTarget:!0})))),o.a.createElement("div",{className:n.anchorContainer},o.a.createElement("div",{className:n.anchor,ref:this.nodesRef}),o.a.createElement(S,{className:n.section,sectiontitle:l("scenes.hub.nodes")},o.a.createElement(h.a,{className:n.nodesContainer},o.a.createElement(A,{list:a.nodes.sort((function(e,t){return e.order-t.order})).map((function(e){var t=e.code,n=e.name,a=e.backgroundMediaURL;return{code:t,id:t,label:n,image:a?i+a:"./images/istat/istat-background.jpg"}})),onClick:function(e){return lt(e.code.toLowerCase())}})))),o.a.createElement("div",{className:n.footer},o.a.createElement(_.a,null),o.a.createElement("div",{className:n.footerContent},o.a.createElement(ps,null))))))}}]),n}(i.Component),bs=Object(he.d)(fi()((function(e){return{appBar:{transition:"opacity 1s"},toolbarButtons:{marginLeft:"auto","& > *":{marginRight:e.spacing(1)}},anchorContainer:{position:"relative"},anchor:{position:"absolute",top:-e.mixins.toolbar.minHeight},fullWidthContainer:{backgroundColor:"#f5f5f5",width:"100%"},container:{paddingTop:e.spacing(3),width:1024},section:{paddingTop:e.spacing(3)},footer:{paddingTop:e.spacing(4)},footerContent:{paddingTop:e.spacing(2)},nodesContainer:{marginTop:e.spacing(2)},centerContainer:{width:316,textAlign:"center"},sistanLogo:{width:32,height:32,transform:"translateY(3px)"},leftContainer:{width:"calc((100% - 316px)/2)"},rightContainer:{width:"calc((100% - 316px)/2)"}}})),Object(vt.a)(),Object(H.b)((function(e){return{hub:e.hub,baseURL:e.config.baseURL,isA11y:e.app.isA11y}})))(vs),ks=function(){return $("hub/fetch","hub/minimalInfo",void 0,void 0,(function(e){return{onStart:e("domains.hub.messages.fetch.start")}}))},Cs=n(905),ys=n(906),ws=n(441),As=Object(g.a)((function(e){return{list:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},cardContainer:{position:"relative"},card:{height:"100%",backgroundColor:e.palette.background.default},item:{padding:0},link:{cursor:"pointer"}}}))((function(e){for(var t=e.classes,n=e.categories,a=e.onClick,r=[],l=function(e){var l=n.slice(e,e+3);r.push(o.a.createElement(b.a,{key:e,container:!0,spacing:2},l.map((function(e,n){var i;return o.a.createElement(b.a,{item:!0,key:n,xs:4},o.a.createElement(f.a,{variant:"h5",className:t.title,style:{fontSize:20}},(null===(i=e.datasetIdentifiers)||void 0===i?void 0:i.length)>0?o.a.createElement(z.a,{onClick:function(){return a([e.id])},className:t.link},e.label," (",e.datasetIdentifiers.length,")"):e.label))}))));var s=[18,16,15,14],c=function e(n){var r=n.root,l=n.depth,s=n.fontSizes,c=n.parentPath,d=void 0===c?[]:c;return r.childrenCategories&&o.a.createElement("div",{className:t.card},o.a.createElement(Cs.a,{className:t.list},r.childrenCategories.map((function(n,c){var u;return o.a.createElement(i.Fragment,{key:c},o.a.createElement(ys.a,{className:t.item},o.a.createElement(ws.a,{primary:o.a.createElement(f.a,{style:{fontSize:s[0]}},(null===(u=n.datasetIdentifiers)||void 0===u?void 0:u.length)>0?o.a.createElement(z.a,{onClick:function(){return a([].concat(Object(Je.a)(d),[r.id,n.id]))},className:t.link},n.label," (",n.datasetIdentifiers.length,")"):n.label)})),l>1&&o.a.createElement(e,{root:n,depth:l-1,fontSizes:s.slice(1),parentPath:[].concat(Object(Je.a)(d),[r.id])}))}))))};r.push(o.a.createElement(b.a,{key:e+1,container:!0,spacing:2},l.map((function(e,n){return o.a.createElement(b.a,{item:!0,key:n,xs:4,className:t.cardContainer},o.a.createElement(c,{root:e,depth:4,fontSizes:s}))}))))},s=0;s<n.length;s+=3)l(s);return r})),_s=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={configIsListMode:5===e.props.hub.nodes.find((function(t){return t.code.toLowerCase()===e.props.nodeCode.toLowerCase()})).showCategoryLevels,isListMode:5===e.props.hub.nodes.find((function(t){return t.code.toLowerCase()===e.props.nodeCode.toLowerCase()})).showCategoryLevels,categorySchemeTab:0},e.info=o.a.createRef(),e.explore=o.a.createRef(),e.nodes=o.a.createRef(),e.onListModeToggle=function(){e.setState({isListMode:!e.state.isListMode})},e.setCategorySchemeTab=function(t){e.setState({categorySchemeTab:t})},e}return Object(d.a)(n,[{key:"scroll",value:function(e){e.current.scrollIntoView({behavior:"smooth",alignToTop:!0})}},{key:"render",value:function(){var e,t,n,a=this,i=this.props,r=i.classes,l=i.defaultTreeOpen,s=i.defaultNodeConfigOpen,c=i.defaultAppConfigOpen,d=i.defaultUserConfigOpen,u=i.defaultNodesConfigOpen,m=i.node,f=i.nodeCode,g=i.hub,p=i.catalog,b=i.baseURL,k=i.isDefault,C=i.isA11y,y=i.t,w=this.state,O=w.isListMode,T=w.categorySchemeTab,x=g.nodes.find((function(e){return e.code.toLowerCase()===f.toLowerCase()})),P={id:"uncategorized",label:y("commons.catalog.uncategorized"),childrenCategories:[],datasetIdentifiers:null===p||void 0===p?void 0:p.uncategorizedDatasets.map((function(e){return e.identifier}))},D=g.nodes.filter((function(e){return e.code.toLowerCase()!==f.toLowerCase()})),M=p?p.categoryGroups.length>1?"uncategorized"===T?[P]:p.categoryGroups[T].categories.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{image:e.image?b+e.image:void 0})})):p.uncategorizedDatasets.length>0?(null===(e=p.categoryGroups[0])||void 0===e?void 0:e.categories.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{image:e.image?b+e.image:void 0})})).concat([P]))||[P]:(null===(t=p.categoryGroups[0])||void 0===t?void 0:t.categories.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{image:e.image?b+e.image:void 0})})))||[]:[];return o.a.createElement(I,{id:k?"landing-page":null},o.a.createElement(fs,{hub:g.hub,nodes:g.nodes,catalog:p,defaultTreeOpen:l,title:x.name,node:m,defaultNodeConfigOpen:s,defaultAppConfigOpen:c,defaultUserConfigOpen:d,defaultNodesConfigOpen:u,nodeId:x.nodeId,isDefault:k}),o.a.createElement(v,{title:x.name,slogan:m&&m.slogan,logo:m&&x.logoURL&&o.a.createElement("img",{src:b+x.logoURL,alt:x.name}),background:x.backgroundMediaURL?x.backgroundMediaURL.match(/\.(jpeg|jpg|gif|png|JPEG|JPG|GIF|PNG|svg|SVG)$/)?o.a.createElement("img",{src:b+x.backgroundMediaURL,alt:x.name}):o.a.createElement("video",{autoPlay:!0,muted:!0,loop:!0},o.a.createElement("source",{src:b+x.backgroundMediaURL})):o.a.createElement("img",{src:"./images/istat/istat-background.jpg",alt:x.name})},m&&m.description&&m.description.length>0&&o.a.createElement(E.a,{size:"large",color:"secondary",variant:"contained",onClick:function(){return a.scroll(a.info)}},y("scenes.node.informations")),p&&M.length>0&&o.a.createElement(E.a,{id:"explore-btn",size:"large",color:"secondary",variant:"contained",onClick:function(){return a.scroll(a.explore)}},y("scenes.node.explore")),!C&&x.dashboards&&x.dashboards.length>0&&o.a.createElement(E.a,{size:"large",color:"secondary",variant:"contained",onClick:function(){return dt(f)}},y("scenes.node.dashboards")),k&&D.length>0&&o.a.createElement(E.a,{id:"other-nodes-btn",size:"large",color:"secondary",variant:"contained",onClick:function(){return a.scroll(a.nodes)}},y("scenes.node.otherNodes"))),o.a.createElement("div",{className:r.fullWidthContainer},o.a.createElement(gs.a,{className:r.container},m&&m.description&&m.description.length>0&&o.a.createElement("div",{className:r.anchorContainer},o.a.createElement("div",{className:r.anchor,ref:this.info}),o.a.createElement(S,{className:r.section,sectiontitle:y("scenes.node.informations")},o.a.createElement(h.a,{textAlign:"justify"},o.a.createElement(Te,{html:m.description,allowTarget:!0})))),p&&M.length>0&&o.a.createElement("div",{id:"explore-section",className:r.anchorContainer},o.a.createElement("div",{className:r.anchor,ref:this.explore}),o.a.createElement(S,{className:r.section,sectiontitle:y("scenes.node.explore")},o.a.createElement("div",{className:r.categoriesContainer},p.categoryGroups.length>1&&o.a.createElement(wt.a,{value:T,onChange:function(e,t){return a.setCategorySchemeTab(t)},className:r.categorySchemesTabs},p.categoryGroups.map((function(e,t){var n=e.label;return o.a.createElement(At.a,{value:t,label:n,key:t})})),(null===(n=p.uncategorizedDatasets)||void 0===n?void 0:n.length)>0&&o.a.createElement(At.a,{value:"uncategorized",label:y("commons.catalog.uncategorized"),key:"uncategorized"})),O?o.a.createElement(As,{categories:M,onClick:function(e){return it(m.code,"uncategorized"===e[0]?["uncategorized"]:p.categoryGroups.length>1?[p.categoryGroups[T].id].concat(Object(Je.a)(e)):e)}}):o.a.createElement(A,{squareImage:!0,list:M,onClick:function(e){return it(m.code,"uncategorized"===e.id?["uncategorized"]:p.categoryGroups.length>1?[p.categoryGroups[T].id,e.id]:[e.id])}})))),k&&D.length>0&&o.a.createElement("div",{id:"other-nodes-section",className:r.anchorContainer},o.a.createElement("div",{className:r.anchor,ref:this.nodes}),o.a.createElement(S,{className:r.section,sectiontitle:y("scenes.node.otherNodes")},o.a.createElement(h.a,{className:r.nodesContainer},o.a.createElement(A,{list:D.sort((function(e,t){return e.order-t.order})).map((function(e){var t=e.code,n=e.name,a=e.backgroundMediaURL;return{code:t,id:t,label:n,image:a?b+a:"./images/istat/istat-background.jpg"}})),onClick:function(e){return lt(e.code.toLowerCase())}})))),o.a.createElement("div",{className:r.footer},o.a.createElement(_.a,null),o.a.createElement("div",{className:r.footerContent},o.a.createElement(ps,null))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=5===e.hub.nodes.find((function(t){return t.code.toLowerCase()===e.nodeCode.toLowerCase()})).showCategoryLevels;return n!==t.configIsListMode?Object(B.a)(Object(B.a)({},t),{},{configIsListMode:n,isListMode:n}):null}}]),n}(i.Component),Ss=Object(he.d)(Object(g.a)((function(e){return{anchor:{position:"absolute",top:-e.mixins.toolbar.minHeight},anchorContainer:{position:"relative"},fullWidthContainer:{backgroundColor:"#f5f5f5",width:"100%",minHeight:"100%"},container:{paddingTop:e.spacing(3),width:1024},categoriesContainer:{paddingTop:e.spacing(2)},section:{paddingTop:e.spacing(3)},categorySchemesTabs:{marginBottom:e.spacing(2)},nodesContainer:{marginTop:e.spacing(2)},footer:{paddingTop:e.spacing(4)},footerContent:{paddingTop:e.spacing(2)}}})),Object(vt.a)(),Object(H.b)((function(e){return{baseURL:e.config.baseURL,isA11y:e.app.isA11y}})))(_s),Es=function(e){return $("node/fetch",function(e){return"nodes/".concat(e)}(e),void 0,void 0,(function(e){return{onStart:e("domains.node.messages.fetch.start")}}))},Os=function(e){return $("catalog/fetch",function(e){return"nodes/".concat(e,"/catalog")}(e),void 0,void 0,(function(e){return{onStart:e("domains.catalog.messages.fetch.start")}}),{nodeId:e})},Ts=n(558),xs=n.n(Ts),Ps=n(962);var Ds=Object(he.d)(Object(g.a)((function(){return{container:{background:"#F5F5F5",paddingTop:8,paddingBottom:8},nodeIcon:{marginTop:5},item:{background:"none !important"},resCount:{fontWeight:"bold",marginLeft:4},checkbox:{padding:0,transform:"translateY(-2px)"}}})),Object(vt.a)())((function(e){var t=e.classes,n=e.catalog,a=e.query,r=e.node,l=e.filters,s=void 0===l?[]:l,c=e.categoryGroupsWithCount,d=e.uncategorizedDatasetsCount,u=e.t,m=Object(i.useState)([]),f=Object(ne.a)(m,2),g=f[0],p=f[1],v=!!s.find((function(e){return e.includes("uncategorized")}));return o.a.createElement(h.a,{className:t.container},c.length>0&&o.a.createElement($e.a,{defaultCollapseIcon:o.a.createElement(Xe.a,null),defaultExpandIcon:o.a.createElement(tt.a,null),expanded:g,onNodeToggle:function(e,t){return p(t)}},function e(n,i){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.map((function(n,c){var d=!!s.find((function(e){return e.includes(n.id)}));return o.a.createElement(Qe.a,{key:c,nodeId:n.id,label:o.a.createElement(b.a,{spacing:1,container:!0,alignItems:"flex-start",style:{flexWrap:"nowrap",marginTop:4}},!l&&o.a.createElement(b.a,{item:!0},o.a.createElement("label",{htmlFor:"result-tree__checkbox__".concat(n.id),style:{display:"none"}},n.label),o.a.createElement(ke.a,{id:"result-tree__checkbox__".concat(n.id),checked:d,className:t.checkbox,onClick:function(e){rt(r.code,a,d?s.filter((function(e){return!e.includes(n.id)})):[].concat(Object(Je.a)(s),[[].concat(Object(Je.a)(i),[n.id])])),e.stopPropagation()}})),o.a.createElement(b.a,{item:!0,style:{width:"100%"}},n.label,!l&&o.a.createElement("span",{className:t.resCount}," (",n.count,")"))),classes:{label:t.item}},n.categories&&n.categories.length>0&&e(n.categories,[].concat(Object(Je.a)(i),[n.id])))}))}(n.categoryGroups.length>1?c:c[0].categories,[],n.categoryGroups.length>1)),d>0&&o.a.createElement($e.a,{defaultCollapseIcon:o.a.createElement(Xe.a,null),defaultExpandIcon:o.a.createElement(tt.a,null),expanded:g,onNodeToggle:function(e,t){return p(t)}},o.a.createElement(Qe.a,{key:"uncategorized",nodeId:"uncategorized",label:o.a.createElement(b.a,{spacing:1,container:!0,alignItems:"flex-start",style:{flexWrap:"nowrap",marginTop:4}},o.a.createElement(b.a,{item:!0},o.a.createElement("label",{htmlFor:"result-tree__checkbox__uncategorized",style:{display:"none"}},u("commons.catalog.uncategorized")),o.a.createElement(ke.a,{id:"result-tree__checkbox__uncategorized",checked:v,className:t.checkbox,onClick:function(e){rt(r.code,a,v?s.filter((function(e){return JSON.stringify(e)!==JSON.stringify(["uncategorized"])})):[].concat(Object(Je.a)(s),[["uncategorized"]])),e.stopPropagation()}})),o.a.createElement(b.a,{style:{width:"100%"},item:!0},u("commons.catalog.uncategorized")," ",o.a.createElement("span",{className:t.resCount},"(",d,")"))),classes:{label:t.item}})))})),Ms=n(557),Rs=n.n(Ms),Is=n(964),Bs=function(e){return{rdf:{backgroundColor:"#3f51b5",color:"white"},html:{backgroundColor:"#00bcd4"},csv:{backgroundColor:"#ffeb3b"},xml:{backgroundColor:"#ff5722"},json:{backgroundColor:"#ff9800"},xls:{backgroundColor:"#4caf50"}}[e]||{}},Ls=fi()((function(){return{collapsedDescription:{marginTop:8,height:49,overflow:"hidden"},expandedDescription:{marginTop:8},resultSource:{fontSize:14,color:"rgba(0, 0, 0, 0.54)"},cardContent:{padding:"16px !important"},description:{"& > p":{margin:0}},downloadChipDeleteIcon:{backgroundColor:"white"},counterAvatar:{width:16,height:16,marginLeft:-4,marginRight:4}}}))((function(e){var t=e.dataset,n=e.classes,a=e.isExpanded,r=e.onViewDataset,l=e.onExpand,s=e.onCollapse,c=e.xs,d=Object(i.useState)(!1),u=Object(ne.a)(d,2),m=u[0],h=u[1],g=Object(i.useState)(null),p=Object(ne.a)(g,2),v=p[0],C=p[1],A=Object(ue.a)().t,_=[];(t.attachedDataFiles||[]).forEach((function(e){var t=e.format,n=e.url,a=_.find((function(e){return e.extension===t.toLowerCase()}));a?a.urls.push(n):_.push({extension:t.toLowerCase(),urls:[n]})}));var S=o.a.createElement(i.Fragment,null,o.a.createElement(b.a,{container:!0,justify:"space-between",spacing:2,alignItems:"center"},o.a.createElement(b.a,{item:!0},o.a.createElement(f.a,{variant:"h6"},t.title)),_.length>0&&o.a.createElement(b.a,{item:!0},o.a.createElement(b.a,{container:!0,spacing:1},_.map((function(e,t){return o.a.createElement(b.a,{item:!0,key:t},o.a.createElement(Dn.a,{className:"download-btn--".concat(e.extension.toLowerCase()),label:e.extension.toUpperCase(),deleteIcon:e.urls.length>1?o.a.createElement(Is.a,{style:{fontSize:12,color:"black"},classes:{root:n.counterAvatar}},e.urls.length):null,onDelete:e.urls.length>1?function(t){t.stopPropagation(),h(!0),C(e)}:null,size:"small",onClick:function(t){t.stopPropagation(),e.urls.length>1?(h(!0),C(e)):window.open(e.urls[0],"_blank")},style:Object(B.a)({cursor:"pointer"},Bs(e.extension)),classes:{deleteIconSmall:n.downloadChipDeleteIcon}}))}))))),t.source&&o.a.createElement(f.a,{variant:"body1",className:n.resultSource},t.source)),O="ONLY_FILE"!==t.catalogType?o.a.createElement(w.a,{onClick:r},S):S,T=(t.description||t.keywords&&t.keywords.length>0)&&o.a.createElement(f.a,{component:"div",variant:"body1",className:a?n.expandedDescription:n.collapsedDescription},o.a.createElement(Te,{html:t.description,className:n.description}),t.keywords&&t.keywords.length>0&&o.a.createElement(b.a,{container:!0,spacing:1},t.keywords.map((function(e,t){return o.a.createElement(b.a,{item:!0,key:t},o.a.createElement(Dn.a,{label:e,size:"small"}))})))),x=o.a.createElement(b.a,{container:!0,justify:"flex-end"},o.a.createElement(b.a,{item:!0},o.a.createElement(P.a,{onClick:a?s:l},a?o.a.createElement(Rs.a,null):o.a.createElement(Xe.a,null))));return o.a.createElement(i.Fragment,null,o.a.createElement(b.a,{item:!0,xs:c},o.a.createElement(k.a,null,o.a.createElement(y.a,{className:n.cardContent},o.a.createElement(b.a,{container:!0},o.a.createElement(b.a,{item:!0,xs:12},O)),T,T&&x))),o.a.createElement(ae.a,{open:!!m,disableEscapeKeyDown:!0,disableBackdropClick:!0,onClose:function(){return h(!1)},onExited:function(){return C(null)}},o.a.createElement(re.a,null,o.a.createElement(Cs.a,null,null===v||void 0===v?void 0:v.urls.map((function(e,t){return o.a.createElement(ys.a,{key:t},o.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e))}))),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){return h(!1)}},A("commons.confirm.close"))))))})),zs=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={expandedIndexes:[],configIsListMode:"List"===e.props.hub.nodes.find((function(t){return t.code.toLowerCase()===e.props.nodeCode.toLowerCase()})).catalogNavigationMode,isListMode:"List"===e.props.hub.nodes.find((function(t){return t.code.toLowerCase()===e.props.nodeCode.toLowerCase()})).catalogNavigationMode},e.expand=function(t){return e.setState({expandedIndexes:[].concat(Object(Je.a)(e.state.expandedIndexes),[t])})},e.collapse=function(t){return e.setState({expandedIndexes:Object(Je.a)(e.state.expandedIndexes.filter((function(e){return e!==t})))})},e.onListModeToggle=function(){e.setState({isListMode:!e.state.isListMode})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.query,i=t.hub,r=t.catalog,l=t.node,s=t.nodeCode,c=t.isDefault,d=t.categoryPath,u=t.datasets,m=t.subCategories,h=t.filters,g=t.categoryGroupsWithCount,p=t.uncategorizedDatasetsCount,v=t.t,C=t.isAccessible,y=t.onAccessibleDatasetFetch,A=this.state,_=A.expandedIndexes,S=A.isListMode,E=i.nodes.find((function(e){return e.code.toLowerCase()===s.toLowerCase()})),O=[];if(d)if("uncategorized"===d[0])O=[v("commons.catalog.uncategorized")];else{var T;T=r.categoryGroups.length>1?r.categoryGroups.find((function(e){return e.id===d[0]})):r.categoryGroups[0].categories.find((function(e){return e.id===d[0]})),O.push(T.label);for(var x=function(e){T=(T.childrenCategories||T.categories).find((function(t){return t.id===d[e]})),O.push(T.label)},D=1;D<d.length;D++)x(D)}return o.a.createElement(I,null,o.a.createElement(fs,{hub:i.hub,query:a,nodes:i.nodes,catalog:r,title:E.name,node:l,nodeId:E.nodeId,isDefault:c,selectedCategoryPath:d}),o.a.createElement("div",{className:n.fullWidthContainer},o.a.createElement(gs.a,{className:n.container},o.a.createElement(b.a,{container:!0,justify:"space-between",alignItems:"center",className:n.toolbar},o.a.createElement(b.a,{item:!0},a?o.a.createElement(f.a,{variant:"h5"},v("scenes.results.searchTitle",{query:a})):o.a.createElement(Ps.a,null,o.a.createElement(z.a,{underline:"none",onClick:function(){return lt(l.code)},style:{cursor:"pointer"}},o.a.createElement(f.a,null,s.toUpperCase())),d.map((function(e,t){return t>=(r&&1===r.categoryGroups.length?0:1)?o.a.createElement(z.a,{key:t,underline:"none",onClick:t>=(r&&1===r.categoryGroups.length?0:1)?function(){return it(l.code,d.slice(0,t+1))}:null,style:t<d.length-1?{cursor:"pointer"}:void 0},o.a.createElement(f.a,null,"uncategorized"===e?v("commons.catalog.uncategorized"):O[t])):o.a.createElement(f.a,{key:"idx",color:"primary"},"uncategorized"===e?v("commons.catalog.uncategorized"):O[t])})))),o.a.createElement(b.a,{item:!0},o.a.createElement(b.a,{container:!0,alignItems:"center",justify:"flex-end",spacing:1},o.a.createElement(b.a,{item:!0},u.length>0&&o.a.createElement(P.a,{onClick:this.onListModeToggle},S?o.a.createElement(xs.a,null):o.a.createElement(ft.a,null)))))),o.a.createElement(b.a,{container:!0,spacing:2,className:n.results},a&&o.a.createElement(b.a,{item:!0,style:{width:256,transform:"translateX(-24px)"}},o.a.createElement(Ds,{query:a,filters:h,catalog:r,node:l,datasets:u,categoryGroupsWithCount:g,uncategorizedDatasetsCount:p})),o.a.createElement(b.a,{item:!0,style:{width:a?"calc(100% - 256px)":"100%"}},m&&m.length?o.a.createElement(b.a,{container:!0,spacing:2,className:n.row},m.map((function(e){var t=e.id,a=e.label,i=e.datasetIdentifiers;return o.a.createElement(b.a,{item:!0,key:t},o.a.createElement(k.a,{className:n.subCat},o.a.createElement(w.a,{onClick:function(){return it(l.code.toLowerCase(),[].concat(Object(Je.a)(d),[t]))}},o.a.createElement(b.a,{container:!0,spacing:1},o.a.createElement(b.a,{item:!0},o.a.createElement(pt.a,null)),o.a.createElement(b.a,{item:!0},o.a.createElement(f.a,{variant:"body1"},a," ",i&&i.length?"(".concat(i.length,")"):""))))))}))):null,a&&u.length?o.a.createElement(f.a,{variant:"body1",className:n.row},u.length>1?v("scenes.results.datasetsCount.plural",{datasetsCount:u.length}):v("scenes.results.datasetsCount.singular",{datasetsCount:u.length}),":"):null,o.a.createElement(b.a,{container:!0,spacing:2},u.length>0?u.map((function(t,n){return o.a.createElement(Ls,{key:n,isExpanded:_.includes(n),onViewDataset:function(){return C?y(t):ot(l.code,t.categoryPath,t.identifier,void 0)},dataset:t,onExpand:function(){return e.expand(n)},onCollapse:function(){return e.collapse(n)},xs:S?12:4})})):!a&&m&&m.length?null:o.a.createElement(b.a,{container:!0},o.a.createElement(b.a,{item:!0},v("scenes.results.datasetsCount.none")))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n="List"===e.hub.nodes.find((function(t){return t.code.toLowerCase()===e.nodeCode.toLowerCase()})).catalogNavigationMode;return n!==t.configIsListMode?Object(B.a)(Object(B.a)({},t),{},{configIsListMode:n,isListMode:n}):null}}]),n}(i.Component),Vs=Object(he.d)(Object(g.a)((function(e){return{fullWidthContainer:{width:"100%",paddingTop:64,backgroundColor:"#f5f5f5",minHeight:"100%"},container:{width:1024},results:{marginTop:e.spacing(1)},toolbar:{marginTop:e.spacing(2),marginBottom:e.spacing(1)},subCat:{padding:e.spacing(1)},row:{marginBottom:e.spacing(1)}}})),Object(vt.a)())(zs),js=Object(g.a)((function(){return{fullWidthContainer:{backgroundColor:"#f5f5f5",width:"100%",minHeight:"100%"}}}))((function(e){var t,n=e.classes,a=e.hub,i=e.node,r=e.isDefault,l=e.catalog,s=e.categoryPath,c=e.isAccessible,d=e.datasetId,u=e.datasetTitle,m=e.viewId,h=e.notes,f=e.attachedFiles,g=e.referenceMetadataUrl,p={};(null===i||void 0===i?void 0:i.extras)&&i.extras.map((function(e){var t=e.key,n=e.value;return p[t]=JSON.parse(n)}));var v=JSON.parse(a.hub.extras||"{}");return o.a.createElement(I,null,o.a.createElement(fs,{hub:a.hub,nodes:null===a||void 0===a?void 0:a.nodes,catalog:l,title:null===i||void 0===i?void 0:i.name,node:i,nodeId:null===i||void 0===i?void 0:i.nodeId,isDefault:r,selectedCategoryPath:s}),o.a.createElement("div",{style:{paddingTop:64},className:n.fullWidthContainer},o.a.createElement("div",{style:{marginLeft:16}}),o.a.createElement(Kl,{nodeId:null===i||void 0===i?void 0:i.nodeId,nodeCode:null===i||void 0===i?void 0:i.code,isAccessible:c,datasetId:d,datasetTitle:u,viewId:m,notes:h,attachedFiles:f,referenceMetadataUrl:g,hubExtras:v,nodeExtras:p,maxObservation:null===a||void 0===a||null===(t=a.hub)||void 0===t?void 0:t.maxObservationsAfterCriteria})))})),Fs=Object(H.b)((function(e){return{dataset:e.dataset,defaultLanguage:e.app.language,languages:e.app.languages}}),(function(e){return{onFetchStructureEnable:function(t,n,a,i){return e(function(e,t,n,a){return{type:"dataset/structure/fetch/enable",payload:{datasetId:n,nodeCode:e,categoryPath:t,viewId:a}}}(t,n,a,i))},fetchStructure:function(t){var n=t.nodeId,i=t.datasetId,o=t.viewId,r=t.defaultLanguage,l=t.languages;return e(function(e,t,n,i,o){return $("dataset/structure/fetch",function(e,t,n){return"nodes/".concat(e,"/datasets/").concat(t,"/structure").concat(n?"/".concat(n):"")}(e,t,n),a.GET,void 0,(function(e){return{onStart:e("scenes.dashboard.actions.fetchingDatasetStructure")}}),{viewId:n,defaultLanguage:i,languages:o})}(n,i,o,r,l))},onDatasetReset:function(){return e({type:"dataset/state/reset"})}}}))((function(e){var t=e.dataset,n=e.defaultLanguage,a=e.languages,r=e.hub,l=e.node,s=e.nodeCode,c=e.isDefault,d=e.catalog,u=e.categoryPath,m=e.isAccessible,h=e.datasetId,f=e.datasetTitle,g=e.notes,p=e.attachedFiles,v=e.referenceMetadataUrl,b=e.viewId,k=e.onFetchStructureEnable,C=e.fetchStructure,y=e.onDatasetReset;Object(i.useEffect)((function(){return r&&l&&d&&l.nodeId===d.nodeId&&l.code.toLowerCase()===s.toLowerCase()&&k(s,u,h,b),function(){return y()}}),[y,k,r,l,d,s,u,h,f,b]);var w=null!==t&&s===t.nodeCode&&(u||[]).join()===(t.categoryPath||[]).join()&&h===t.datasetId&&(b||"")===((null===t||void 0===t?void 0:t.viewId)||"");return o.a.createElement(Zi,{cb:C,cbParam:{nodeId:l?l.nodeId:null,datasetId:h,viewId:b,defaultLanguage:n,languages:a},disabled:!l||!l.nodeId||!h||!t||t.isFetchStructureDisabled},w&&o.a.createElement(js,{hub:r,node:l,isDefault:c,catalog:d,categoryPath:u,isAccessible:m,datasetId:h,datasetTitle:f,viewId:b,notes:g,attachedFiles:p,referenceMetadataUrl:v}))})),Ns=window.jQuery,Gs=function(e){var t={};return function(e,t,n){var a=[];return function e(i){return i?i.map((function(i){return n&&n(i)&&a.push(Me.a.cloneDeep(i)),i[t]&&i[t].length&&e(i[t]),null})):[]}(e),a}(e,"children",(function(){return!0})).forEach((function(e){var n=e.id,a=e.name;return t[n]=a})),t};var Us=fi()((function(e){return{root:{},filter:{display:"inline-block",verticalAlign:"bottom",marginRight:16,"& label":{fontSize:16}},item:{fontSize:14},dialogContent:{padding:"8px !important"}}}))((function(e){var t=e.classes,n=e.filters,a=e.selectValues,r=e.setSelectValues,l=e.lastValorizedIdx,s=e.setLastValorizedIdx,c=e.filterLevels,d=e.onFilterApply,u=n.labels,m=n.values,h=Object(ue.a)().t,f=Object(i.useState)(!1),g=Object(ne.a)(f,2),p=g[0],v=g[1],b=Object(i.useState)(null),k=Object(ne.a)(b,2),C=k[0],y=k[1],w=Object(i.useState)(Gs(m)),A=Object(ne.a)(w,1)[0],_=[];return null!==C&&(_=0===C?m:function e(t,n,a){if(null===t||!t.length)return null;var i=t.filter(a);if(i.length)return i[0];var o=t.filter((function(e){return e[n]})).map((function(t){return e(t[n],n,a)})).filter((function(e){return null!==e}));return o.length?o[0]:null}(m,"children",(function(e){return e.id===a[u[C-1]]})).children),o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:t.root},function(){var e=[],n=-1;u.forEach((function(e,t){!0===(null===c||void 0===c?void 0:c[u[t]])&&(n=t)}));for(var i=Ns("<span>").css({visibility:"hidden",position:"absolute",fontSize:16}).appendTo("body").get(0),r=function(n){var r=u[n],l=ki(r,i)+32;e.push(o.a.createElement("div",{key:n,className:t.filter},o.a.createElement(se.a,{style:{display:"inline-block",verticalAlign:"bottom"}},o.a.createElement(Fo.a,null,Wi(h)[r]),o.a.createElement(No.a,{open:!1,style:{minWidth:l},value:a[r]||"",renderValue:function(e){return A[e]},className:t.item,onOpen:function(){return y(n)}},po(m,"children",n+1).map((function(e,t){var n=e.id;return o.a.createElement(xe.a,{key:t,value:n},n)}))))))},s=0;s<=Math.min(l+1,n);s++)r(s);return Ns(i).remove(),n>=0&&e.push(o.a.createElement(E.a,{key:u.length,onClick:function(){d(a[u[l]]),v(!0)},disabled:p||l<0||!1===(null===c||void 0===c?void 0:c[u[l]])},h("commons.confirm.apply"))),e}()),o.a.createElement(ae.a,{open:null!==C,onClose:function(){return y(null)},fullWidth:!0,maxWidth:"md"},o.a.createElement(re.a,{className:t.dialogContent},o.a.createElement(Ni,{data:_,getRowKey:function(e){return e.id},showHeader:!1,columns:[{title:"ID",dataIndex:"id",minWidth:100},{title:"Label",dataIndex:"name",minWidth:150}],onRowClick:function(e){return function(e,t){var n={},i=!1;u.forEach((function(o){i?n[o]="":o!==e?n[o]=a[o]:(i=!0,n[o]=t)})),r(n),s(C),y(null),v(!1)}(u[C],e.id)},getRowStyle:function(e){return{background:e.id===a[u[C]]?"#fff9e5":void 0}}})),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:function(){return y(null)},color:"primary"},h("commons.confirm.cancel")))))})),Hs=function(){var e=document.getElementById("node-header")?document.getElementById("node-header").offsetHeight:0,t=document.getElementById("dashboards-domain_header")?document.getElementById("dashboards-domain_header").offsetHeight:0,n=document.getElementById("dashboards-domain_filters")?document.getElementById("dashboards-domain_filters").offsetHeight:0;document.getElementById("dashboards-domain")&&document.getElementById("dashboards-domain").setAttribute("style","padding-top: ".concat(e,"px")),document.getElementById("dashboards-domain_dashboards")&&document.getElementById("dashboards-domain_dashboards").setAttribute("style","height: calc(100% - ".concat(n+t,"px)"))};var qs=Object(he.d)(Object(H.b)((function(e){var t;return{hub:e.hub,node:e.node,nodeId:null===(t=e.node)||void 0===t?void 0:t.nodeId,catalog:e.catalog,languages:e.app.languages,defaultLanguage:e.app.language,dashboards:e.dashboard.dashboards,isFetchDatasetDisabled:e.dashboard.isFetchDatasetDisabled,jsonStats:e.dashboard.jsonStats,layouts:e.dashboard.layouts,filterTrees:e.dashboard.filterTrees,maps:e.dashboard.maps,updatedDashboardId:e.dashboard.updatedDashboardId}}),(function(e){return{fetchDashboard:function(t){return e(function(e){return $("dashboards/dashboard/fetch",te(e),a.GET,void 0,(function(e){return{onStart:e("scenes.dashboard.actions.fetchingDashboard")}}),{dashboardId:e})}(t))},clearDashboards:function(){return e(Yl())},resetUpdatedDashboardId:function(){return e({type:"dashboards/updated/dashboard/id/reset"})},setDatasetFetchEnableStatus:function(t){return e(function(e){return{type:"dashboards/dataset/fetch/enableStatus/set",payload:{disabled:!e}}}(t))},fetchDataset:function(t,n,i,o,r,l){return e(function(e,t,n,i,o,r){return $("dashboards/dataset/fetch",Z(t,n),a.POST,la(i),(function(e){return{onStart:e("scenes.dashboard.actions.fetchingDataset")}}),{dashboardId:e,requestIds:o,worker:r},"",(function(){return!0}),!0)}(t,n,i,o,r,l))},onFilterSet:function(t,n,a,i){return e(function(e,t,n,a){return{type:"dashboards/dataset/filter/set",payload:{dashboardId:e,viewIdx:t,dimension:n,value:a}}}(t,n,a,i))},fetchMapGeometries:function(t,n,i,o){return e(function(e,t,n,i){return $("dashboards/map/geometries/fetch","Geometry",a.POST,n,(function(e){return{onStart:e("scenes.dashboard.actions.fetchingGeometries")}}),{dashboardId:e,viewIdx:t,t:i},"",(function(){return!0}),!0)}(t,n,i,o))},downloadCsv:function(t,n,i,o){return e(function(e,t,n,i){return $("dashboards/dataset/download/submit",X(e,t,"csv"),a.POST,la(i),(function(e){return{onStart:e("scenes.dataset.actions.downloadingDataset")}}),{fileSave:{name:"".concat(n,".csv"),type:"text/plain;charset=utf-8"}},"",(function(e){return 406===e}))}(t,n,i,o))}}})),Object(g.a)((function(){return{root:{backgroundColor:"#f5f5f5",width:"100%",height:"100%"},fullWidthContainer:{padding:8,width:"100%",height:"100%"},commonsFilters:{padding:"16px 8px"},dashboardHeader:{padding:8},dashboardTabs:{},dashboardTitle:{padding:"8px 0",fontSize:20,fontWeight:500},dashboard:{overflow:"auto",margin:"0 8px"}}})))((function(e){var t,n=e.classes,a=e.defaultLanguage,r=e.languages,l=e.hub,s=e.node,c=e.nodeId,d=e.nodeCode,u=e.isDefault,m=e.catalog,h=e.dashboardId,f=e.dashboards,g=e.isFetchDatasetDisabled,p=e.jsonStats,v=e.layouts,b=e.filterTrees,k=e.maps,C=e.updatedDashboardId,y=e.fetchDashboard,w=e.clearDashboards,A=e.resetUpdatedDashboardId,_=e.setDatasetFetchEnableStatus,S=e.fetchDataset,E=e.onFilterSet,O=e.fetchMapGeometries,T=e.downloadCsv,x=Object(ue.a)().t,P=Object(i.useState)(""),D=Object(ne.a)(P,2),M=D[0],R=D[1],I=Object(i.useState)({}),z=Object(ne.a)(I,2),j=z[0],F=z[1],N=Object(i.useState)(-1),G=Object(ne.a)(N,2),U=G[0],H=G[1],q=Object(i.useState)(null),W=Object(ne.a)(q,2),K=W[0],Y=W[1],J=Object(i.useState)(null),$=Object(ne.a)(J,2),Q=$[0],Z=$[1],X=Object(i.useState)(0),ee=Object(ne.a)(X,2),te=ee[0],ae=ee[1],ie=Object(i.useState)((function(){return new Worker("./workers/fetchDashboardDatasetAsyncHandlerWorker.js")})),oe=Object(ne.a)(ie,1)[0];Object(i.useEffect)((function(){return function(){oe&&oe.terminate()}}),[oe]),Object(i.useEffect)((function(){C&&(Z((function(e){return Object(B.a)(Object(B.a)({},e),{},Object(L.a)({},C,{static:!1,dynamic:!1}))})),A())}),[C,A]),Object(i.useEffect)((function(){Hs()}),[f]),Object(i.useEffect)((function(){return window.addEventListener("resize",Hs),function(){return window.removeEventListener("resize",Hs)}}),[]),Object(i.useEffect)((function(){if(l&&(!d||s&&m&&c===m.nodeId&&s.code.toLowerCase()===d.toLowerCase())){var e=c&&l.nodes.find((function(e){return e.nodeId===c})).dashboards||[],t=l.hub.dashboards||[],n=h?[{id:h}]:c?Me.a.uniqBy(t.concat(e),"id"):t;Y(n);var a={};n.forEach((function(e){var t=e.id;return a[t]={static:!1,dynamic:!1}})),Z(a)}else w(),R(""),Y(null);return function(){w()}}),[l,c,d,s,m,h,w]);var re=function(e){if(e!==M){R(e),_(!0);var t=Me.a.cloneDeep(Q);K.forEach((function(e){var n=e.id;return t[n]=Object(B.a)(Object(B.a)({},Q[n]),{},{dynamic:!1})})),Z(t)}},le=function(e){var t=e.dashboardId,n=e.fetchStatic,a=e.fetchDynamic,i=e.dynamicFilterValue,o=Me.a.cloneDeep(Q);n&&(o[t].static=!0),a&&i&&(o[t].dynamic=!0),Z(o);var r=[];f[t].dashboardConfig.forEach((function(e,o){e.forEach((function(e,l){if("view"===e.type){var s=f[t].views[e.value];if(s){var c=(null===s||void 0===s?void 0:s.criteria)||{},d=!1,u=e.filterDimension;if(u&&0!==u.length?a&&(d=!0,c=i?Object(B.a)(Object(B.a)({},c),{},Object(L.a)({},u,Object(B.a)(Object(B.a)({},c[u]),{},{id:u,type:"CodeValues",filterValues:[i]}))):Object(B.a)(Object(B.a)({},c),{},Object(L.a)({},u,Object(B.a)(Object(B.a)({},c[u]),{},{id:u,type:"CodeValues",filterValues:[ii.defaultFilterValue]})))):d=n,d){var m=r.find((function(e){var t=e.nodeId,n=e.datasetId,a=e.criteria;return t===s.nodeId&&n===s.datasetId&&Me.a.isEqual(a,c)}));void 0===m?r.push({nodeId:s.nodeId,datasetId:s.datasetId,criteria:c,requestIds:[ai(o,l)]}):m.requestIds.push(ai(o,l))}}}}))})),r.forEach((function(e){var n=e.nodeId,a=e.datasetId,i=e.criteria,o=e.requestIds;return S(t,n,a,i,o,oe)}))},se=h||((null===K||void 0===K||null===(t=K[te])||void 0===t?void 0:t.id)?K[te].id:null);return o.a.createElement("div",{key:h,className:n.root},l&&(c?o.a.createElement(fs,{hub:l.hub,nodes:l.nodes,node:s,nodeId:c,isDefault:u,title:null===s||void 0===s?void 0:s.name,catalog:m,defaultNodeConfigOpen:e.defaultNodeConfigOpen,defaultAppConfigOpen:e.defaultAppConfigOpen,defaultUserConfigOpen:e.defaultUserConfigOpen,defaultNodesConfigOpen:e.defaultNodesConfigOpen}):o.a.createElement(fs,{noNode:!0,hub:l.hub,nodes:l.nodes,defaultNodeConfigOpen:e.defaultNodeConfigOpen,defaultAppConfigOpen:e.defaultAppConfigOpen,defaultUserConfigOpen:e.defaultUserConfigOpen,defaultNodesConfigOpen:e.defaultNodesConfigOpen})),o.a.createElement("div",{className:n.fullWidthContainer,id:"dashboards-domain"},se?o.a.createElement(Zi,{cb:y,cbParam:se,disabled:null!==f&&null!==f[se]&&void 0!==f[se]},o.a.createElement(Zi,{cb:le,cbParam:{dashboardId:se,fetchStatic:!0,fetchDynamic:!M,dynamicFilterValue:null},disabled:!f||!f[se]||!Q||!0===Q[se].static},o.a.createElement(i.Fragment,null,o.a.createElement("div",{id:"dashboards-domain_filters"},function(){var e=function(e){if(!e)return!1;var t=!1;e.dashboardConfig.forEach((function(e){e.forEach((function(e){(e.filterDimension||"").length>0&&(t=!0)}))}));var n=-1;return ii.labels.forEach((function(t,a){var i;!0===(null===e||void 0===e||null===(i=e.filterLevels)||void 0===i?void 0:i[ii.labels[a]])&&(n=a)})),t&&n>=0}(null===f||void 0===f?void 0:f[se]),t=o.a.createElement(Us,{filters:ii,selectValues:j,setSelectValues:F,lastValorizedIdx:U,setLastValorizedIdx:H,filterLevels:(null===f||void 0===f?void 0:f[se])?f[se].filterLevels:null,onFilterApply:re});return h?e&&o.a.createElement("div",{className:n.commonsFilters},t):o.a.createElement("div",{className:n.commonsFilters,style:{height:77}},t)}()),function(){if(null===f||void 0===f?void 0:f[se]){var e=M;return o.a.createElement(Zi,{cb:le,cbParam:{dashboardId:se,fetchStatic:!1,fetchDynamic:!!e,dynamicFilterValue:e},disabled:g||!0===Q[se].dynamic||!0!==Q[se].static},o.a.createElement(i.Fragment,null,o.a.createElement("div",{id:"dashboards-domain_header",className:n.dashboardHeader},(K||[]).length>1?o.a.createElement(V.a,{position:"static",color:"default",className:n.dashboardTabs},o.a.createElement(wt.a,{value:te,variant:"scrollable",scrollButtons:"auto",indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return ae(t)}},K.map((function(e,t){e.id;var n=e.title;return o.a.createElement(At.a,{key:t,label:n})})))):o.a.createElement("div",{className:n.dashboardTitle},Ie(f[se].title,a,r))),o.a.createElement("div",{id:"dashboards-domain_dashboards",className:n.dashboard},f[se]&&o.a.createElement(ts,{key:se,dashboardId:se,dashboard:f[se],filterValue:M,jsonStats:(null===p||void 0===p?void 0:p[se])||null,layouts:(null===v||void 0===v?void 0:v[se])||null,filterTrees:(null===b||void 0===b?void 0:b[se])||null,maps:(null===k||void 0===k?void 0:k[se])||null,onFilterSet:E,fetchMapGeometries:O,downloadCsv:T}))))}}()))):o.a.createElement(Ii,{text:x(c?"scenes.dashboard.noDashboard.node":"scenes.dashboard.noDashboard.hub")})))})),Ws=Object(H.b)((function(e){return{hub:e.hub,node:e.node,catalog:e.catalog}}),(function(e){return{fetchNode:function(t){return e(Es(t))},fetchCatalog:function(t){return e(Os(t))},onCsvFetch:function(t,n,i,o){return e(function(e,t,n,i){return $("node/dataset/csv/fetch",X(e,t,"csv"),a.POST,la(n),(function(e){return{onStart:e("domains.node.messages.datasetCsvFetch.start",{title:i})}}),{fileSave:{name:"".concat(i,".csv")}})}(t,n,i,o))}}}))((function(e){var t=e.hub,n=e.nodeCode,a=e.node,r=e.catalog,l=e.isDefault,c=e.fetchNode,d=e.fetchCatalog,u=e.onCsvFetch,m=Object(i.useState)(null),h=Object(ne.a)(m,2),f=h[0],g=h[1];Object(i.useEffect)((function(){if(t&&(!a||n.toLowerCase()!==a.code.toLowerCase())){var e=t.nodes.find((function(e){return e.code.toLowerCase()===n.toLowerCase()}));e&&(c(e.nodeId),d(e.nodeId))}}),[t,n,a]);var p=function e(i){var c=i.path,d=i.match;return o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:d.url,render:function(e){var i,s,d,u=e.location,m=new URLSearchParams(u.search).get("view"),h=new URLSearchParams(u.search).get("accessible");if(1===c.length&&r.datasets[c[0]])return o.a.createElement(Fs,{hub:t,node:a,nodeCode:n,isDefault:l,catalog:r,categoryPath:[],datasetId:c[0],datasetTitle:r.datasets[c[0]].title,notes:null===(i=r.datasets[c[0]])||void 0===i?void 0:i.note,attachedFiles:null===(s=r.datasets[c[0]])||void 0===s?void 0:s.attachedDataFiles,referenceMetadataUrl:null===(d=r.datasets[c[0]])||void 0===d?void 0:d.referenceMetadata,viewId:m||void 0,isAccessible:!!h});if(1===c.length&&r.uncategorizedDatasets.find((function(e){return e.identifier===c[0]}))){var f=r.uncategorizedDatasets.find((function(e){return e.identifier===c[0]}));return o.a.createElement(Fs,{hub:t,node:a,nodeCode:n,isDefault:l,catalog:r,categoryPath:[],datasetId:c[0],datasetTitle:f.title,notes:null===f||void 0===f?void 0:f.note,attachedFiles:null===f||void 0===f?void 0:f.attachedDataFiles,referenceMetadataUrl:null===f||void 0===f?void 0:f.referenceMetadata,viewId:m||void 0,isAccessible:!!h})}if(c.length>0&&"uncategorized"===c[0]&&r.uncategorizedDatasets&&r.uncategorizedDatasets.length>0){if(1===c.length)return o.a.createElement(Vs,{hub:t,node:a,nodeCode:n,isDefault:l,catalog:r,categoryPath:c,datasets:r.uncategorizedDatasets.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{categoryPath:c})})),isAccessible:!!h,onAccessibleDatasetFetch:g});if(2===c.length){var p=r.uncategorizedDatasets.find((function(e){return e.identifier===c[1]}));if(p)return o.a.createElement(Fs,{hub:t,node:a,nodeCode:n,isDefault:l,catalog:r,categoryPath:c.slice(0,-1),datasetId:p.identifier,datasetTitle:p.title,notes:null===p||void 0===p?void 0:p.note,attachedFiles:null===p||void 0===p?void 0:p.attachedDataFiles,referenceMetadataUrl:null===p||void 0===p?void 0:p.referenceMetadata,isAccessible:!!h})}}else if(r.categoryGroups.length>0){var v,b,k,C=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t.length>0)if(1===t.length){var i=a.find((function(e){return e===t[0]}));if(i)return i;var o=n.find((function(e){return e.id===t[0]}));if(o)return{datasetIds:o.datasetIdentifiers,subCategories:o.categories||o.childrenCategories}}else{var r=n.find((function(e){return e.id===t[0]}));if(r)return e(t.slice(1),r.categories||r.childrenCategories,r.datasetIdentifiers)}return null}(c,1===r.categoryGroups.length?r.categoryGroups[0].categories:r.categoryGroups,[]);if(null===C||void 0===C?void 0:C.datasetIds)return o.a.createElement(Vs,{hub:t,node:a,nodeCode:n,isDefault:l,catalog:r,categoryPath:c,datasets:C.datasetIds.map((function(e){return Object(B.a)(Object(B.a)({},r.datasets[e]),{},{identifier:e,categoryPath:c})})),subCategories:C.subCategories,isAccessible:!!h,onAccessibleDatasetFetch:g});if(C)return o.a.createElement(Fs,{hub:t,node:a,nodeCode:n,isDefault:l,catalog:r,categoryPath:c.slice(0,-1),datasetId:C,datasetTitle:r.datasets[C].title,notes:null===(v=r.datasets[C])||void 0===v?void 0:v.note,attachedFiles:null===(b=r.datasets[C])||void 0===b?void 0:b.attachedDataFiles,referenceMetadataUrl:null===(k=r.datasets[C])||void 0===k?void 0:k.referenceMetadata,isAccessible:!!h});lt(n)}lt(n)}}),o.a.createElement(s.a,{path:"".concat(d.url,"/:categoryId"),render:function(t){var n=t.match;return o.a.createElement(e,{match:n,path:[].concat(Object(Je.a)(c),[n.params.categoryId])})}}))};return o.a.createElement("div",{style:{width:"100%",height:"100%"},id:(null===a||void 0===a?void 0:a.code)?"node__"+a.code:null},o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:l?["/:lang/:nodeCode","/:lang"]:"/:lang/:nodeCode",render:function(e){return o.a.createElement(Ss,Object.assign({},e,{nodeCode:n,hub:t,node:a,catalog:r,isDefault:l}))}}),o.a.createElement(s.a,{exact:!0,path:["/:lang/:nodeCode/dashboards","/:nodeCode/dashboards"],render:function(){return o.a.createElement(qs,{nodeCode:n,isDefault:l})}}),a&&r&&a.code.toLowerCase()===n.toLowerCase()&&a.nodeId===r.nodeId&&o.a.createElement(s.a,{path:"/:lang/:nodeCode/search",render:function(e){var i=e.location,s=new URLSearchParams(i.search).get("q"),c=(new URLSearchParams(i.search).get("c")||"").split("//").filter((function(e){return e.length>0})).map(decodeURIComponent).map((function(e){return e.split("/")})).filter((function(e){return e.length>0})),d=[];if(c.forEach((function(e){return e.forEach((function(e){return d.push(e)}))})),d=Object(Je.a)(new Set(d)),s&&s.length>0){var u=function(e){var t;return(e.title||"").toLowerCase().includes(s.toLowerCase())||!!(null===(t=e.keywords)||void 0===t?void 0:t.find((function(e){return e.toLowerCase().includes(s.toLowerCase())})))},m=function(e){return 0===d.length||d.includes(e.id)},h=[],f=[];r.uncategorizedDatasets&&r.uncategorizedDatasets.length>0&&r.uncategorizedDatasets.forEach((function(e){e.categoryPath=["uncategorized"],u(e)&&(h.push(e),(0===d.length||d.includes("uncategorized"))&&f.push(e))}));var p=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var i=a||m(t);t.datasetIdentifiers.forEach((function(e){var a=Object(B.a)(Object(B.a)({},r.datasets[e]),{},{identifier:e,categoryPath:[].concat(Object(Je.a)(n),[t.id])});u(a)&&(h.push(a),i&&f.push(a))})),e(t.childrenCategories,[].concat(Object(Je.a)(n),[t.id]),i)}))};r.categoryGroups.length>1?r.categoryGroups.forEach((function(e){return p(e.categories,[e.id])})):1===r.categoryGroups.length&&p(r.categoryGroups[0].categories,[]);var v={};h.forEach((function(e){return v[e.identifier]=e}));var b=function e(t){return t.map((function(t){var n,a=e(t.childrenCategories||t.categories).filter((function(e){return e.count>0}));return Object(B.a)(Object(B.a)({},t),{},{childrenCategories:t.childrenCategories?a:void 0,categories:t.categories?a:void 0,count:a.reduce((function(e,t){return e+t.count}),0)+((null===(n=t.datasetIdentifiers)||void 0===n?void 0:n.filter((function(e){return void 0!==v[e]})).length)||0)})})).filter((function(e){return e.count>0}))}(r.categoryGroups),k=r.uncategorizedDatasets.filter((function(e){var t=e.identifier;return void 0!==v[t]})).length,C={};f.forEach((function(e){return C[e.identifier]=e}));var y=new URLSearchParams(i.search).get("accessible");return o.a.createElement(Vs,{query:s,filters:c,filtered:!0,hub:t,node:a,nodeCode:n,isDefault:l,catalog:r,datasets:Object.keys(C).map((function(e){return C[e]})),categoryGroupsWithCount:b,uncategorizedDatasetsCount:k,isAccessible:!!y,onAccessibleDatasetFetch:g})}lt(n)}}),a&&r&&a.code.toLowerCase()===n.toLowerCase()&&a.nodeId===r.nodeId&&o.a.createElement(s.a,{path:"/:lang/:nodeCode/:path",render:function(e){var t=e.match;return o.a.createElement(p,{match:t,path:[t.params.path]})}})),o.a.createElement(Zi,{cb:function(e){var t=e.nodeId,n=e.datasetId,a=e.criteria,i=e.datasetTitle;u(t,n,a,i),g(null)},cbParam:{nodeId:null===a||void 0===a?void 0:a.nodeId,datasetId:null===f||void 0===f?void 0:f.identifier,criteria:{},datasetTitle:null===f||void 0===f?void 0:f.title},disabled:!f},o.a.createElement("span",null)))})),Ks=n(561),Ys=Object(H.b)((function(e){return{appLanguage:e.app.language,languages:e.app.languages,node:e.node}}),(function(e){return{setAppLanguage:function(t,n){return e(function(e,t){return{type:"app/languageSet",payload:{language:e,nodeId:t}}}(t,n))}}}))((function(e){var t=e.language,n=e.languages,a=e.appLanguage,o=e.setAppLanguage,r=e.children,l=e.node,c=Object(s.f)();return Object(i.useEffect)((function(){a!==t&&n.includes(t)?o(t,l?l.nodeId:null):void 0===t||n.includes(t)?n.includes(t)||st():st(!0)}),[t,n,o,a,l,c.pathname]),a===t&&n.includes(t)?r:null})),Js=n(944),$s=n(181),Qs=n(953),Zs=n(231),Xs={palette:{text:{primary:"#00295a"},primary:{main:"#00295a",light:"#3b5187",dark:"#000030",contrastText:"#ffffff"},secondary:{main:"#f8a81e",light:"#ffd956",dark:"#c07900",contrastText:"#00295a"}}},ec=Object(vt.a)()((function(e){var t=e.t,n=Object(i.useState)(!1),a=Object(ne.a)(n,2),r=a[0],l=a[1],s=Object(i.useState)(!1),c=Object(ne.a)(s,2),d=c[0],u=c[1];return Object(i.useEffect)((function(){d||(window.notImplemented={show:function(){l(!0)}},u(!0))}),[d]),o.a.createElement(hr.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r,autoHideDuration:5e3,onClose:function(){return l(!1)},ClickAwayListenerProps:{onClickAway:function(){}}},o.a.createElement(de.a,{severity:"warning"},t("components.notImplementedSnackbar.label")))})),tc=function(){var e=Object(i.useState)(!1),t=Object(ne.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),l=Object(ne.a)(r,2),s=l[0],c=l[1],d=Object(i.useState)(null),u=Object(ne.a)(d,2),m=u[0],h=u[1],f=Object(i.useState)(null),g=Object(ne.a)(f,2),p=g[0],v=g[1];return Object(i.useEffect)((function(){n||(window.error={show:function(e,t){c(!0),h(e),v(void 0===t||t)}},a(!0))}),[n]),o.a.createElement(hr.a,{open:s,autoHideDuration:5e3,onClose:function(){c(!1)},onExited:function(){h(null),v(null)},ClickAwayListenerProps:{onClickAway:function(){}},anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(de.a,{severity:p?"error":"success"},o.a.createElement(Te,{component:"span",html:m})))},nc=Object(H.b)((function(e){return{response:e.deleteConflictModal.response}}),(function(e){return{onClose:function(){return e({type:"deleteConflictModal/close"})}}}))((function(e){var t,n=e.response,a=e.onClose,i=e.onForce,r=Object(ue.a)().t;return o.a.createElement(ae.a,{open:!!n,disableEscapeKeyDown:!0,disableBackdropClick:!0,maxWidth:"xs",fullWidth:!0,onClose:a},o.a.createElement(oe.a,null,r("components.deleteConflictModal.title")),(null===n||void 0===n||null===(t=n.usedBy)||void 0===t?void 0:t.length)>0&&o.a.createElement(re.a,null,i?o.a.createElement("p",null,r("components.deleteConflictModal.contentTitleWithForce")):o.a.createElement("p",null,r("components.deleteConflictModal.contentTitle")),o.a.createElement("div",null,n.usedBy.map((function(e,t){var n=e.type,a=e.title,i=e.id;return o.a.createElement("ul",{key:t},function(e){return{dashboard:e("components.deleteConflictModal.objectType.dashboard"),view:e("components.deleteConflictModal.objectType.view"),node:e("components.deleteConflictModal.objectType.node")}}(r)[n]," ",i," - ",a)})))),o.a.createElement(ie.a,null,o.a.createElement(E.a,{onClick:a},r("commons.confirm.close")),i&&o.a.createElement(E.a,{onClick:i},r("components.deleteConflictModal.force"))))})),ac=Object(he.d)(Object(g.a)((function(e){return{root:{height:440},field:{marginTop:e.spacing(3)},paper:{marginTop:e.spacing(2),padding:e.spacing(3)},tabContent:{overflowY:"auto",overflowX:"hidden",height:"calc(100% - 56px)",marginTop:8,padding:"0 4px"},title:{fontSize:16}}})),i.forwardRef)((function(e,t){e.classes,e.config;var n,a,r,l=e.onSubmit,s=Object(ce.a)(),c=s.register,d=s.errors,u=s.handleSubmit,m=s.watch,h=Object(i.useState)(!1),f=Object(ne.a)(h,2),g=f[0],p=f[1],v=Object(i.useState)(!1),k=Object(ne.a)(v,2),C=k[0],y=k[1],w=Object(ue.a)().t;return Object(i.useImperativeHandle)(t,(function(){return{submit:function(e){u((function(t){l(t),e(t)}))()},cancel:function(e){e()}}})),o.a.createElement(b.a,{container:!0,spacing:3},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"email",label:w("components.userSetPasswordDialog.fields.email"),error:!!d.email,helperText:null===(n=d.email)||void 0===n?void 0:n.message,variant:"outlined",required:!0,inputRef:c({required:w("commons.validation.required")}),InputProps:{endAdornment:o.a.createElement(ye.a,{position:"end"},o.a.createElement(P.a,{onClick:function(){return p(!g)}},g?o.a.createElement(we.a,null):o.a.createElement(Ae.a,null)))}}))),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"password",label:w("components.userSetPasswordDialog.fields.password"),error:!!d.password,helperText:null===(a=d.password)||void 0===a?void 0:a.message,variant:"outlined",required:!0,type:g?void 0:"password",inputRef:c({required:w("commons.validation.required")}),InputProps:{endAdornment:o.a.createElement(ye.a,{position:"end"},o.a.createElement(P.a,{onClick:function(){return p(!g)}},g?o.a.createElement(we.a,null):o.a.createElement(Ae.a,null)))},inputProps:{autoComplete:"new-password"}}))),o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(se.a,{fullWidth:!0},o.a.createElement(le.a,{name:"passwordConfirm",label:w("components.userSetPasswordDialog.fields.passwordConfirm"),error:!!d.passwordConfirm,helperText:null===(r=d.passwordConfirm)||void 0===r?void 0:r.message,variant:"outlined",required:!0,type:C?void 0:"password",inputRef:c({required:w("commons.validation.required"),validate:function(e){return e===m("password")||w("components.userSetPasswordDialog.validation.passwordMustBeEqual")}}),InputProps:{endAdornment:o.a.createElement(ye.a,{position:"end"},o.a.createElement(P.a,{onClick:function(){return y(!C)}},C?o.a.createElement(we.a,null):o.a.createElement(Ae.a,null)))},inputProps:{autoComplete:"new-password"}}))))})),ic=Object(he.d)(Object(H.b)((function(e){return{config:e.usersConfig.user,userErrors:e.usersConfig.userErrors}}),(function(e){return{sendConfig:function(t,n){return e(function(e,t,n){return $("USER_PASSWORD_SET","Users/ResetPassword",a.POST,{username:e,token:t,password:btoa(n)},(function(e){return{onStart:e("components.userSetPasswordForm.messages.submit.start")}}))}(n.email,t,n.password))}}}),null,{forwardRef:!0}),i.forwardRef)((function(e,t){e.config;var n=e.token,a=e.sendConfig,r=e.userErrors;return o.a.createElement(i.Fragment,null,o.a.createElement(ge,{errors:r}),o.a.createElement(ac,{ref:t,onSubmit:function(e){return a(n,e)}}))})),oc=Object(H.b)((function(e){return{user:e.user}}),(function(e){return{onClose:function(){return e({type:"USER_SET_PASSWORD_FORM_HIDE"})}}}))((function(e){var t=e.user,n=e.onClose,a=Object(ue.a)().t,r=Object(i.useRef)();return o.a.createElement(me,{title:a("components.userSetPasswordDialog.title"),maxWidth:"xs",open:t.isSetPasswordDialogOpen||!1,onClose:function(){r.current?r.current.cancel((function(){n()})):n()},onSubmit:function(){r.current&&r.current.submit((function(){}))},hasSubmit:!0,noMinHeight:!0},o.a.createElement(ic,{ref:r,token:t.setPasswordToken}))})),rc=(n(875),n(559)),lc=n.n(rc),sc=n(444),cc=Object(he.d)(Object(g.a)((function(e){return{container:{width:"100%",height:"100%"},overlay:{position:"absolute",width:"100%",height:"100%",zIndex:2e3},progressContainer:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},progress:{width:320,maxWidth:"50%"},messagesContainer:{position:"relative",width:"100%",height:"100%",textAlign:"center"},messages:{display:"inline-block",marginTop:"calc(50vh + 48px)"},childrenContainer:{position:"absolute",top:0,width:"100%",height:"100%"},messageRow:{height:32}}})),Sa.a,Object(H.b)((function(e){return{messages:e.spinner.messages}}),(function(e){return{flushSpinner:function(){return e({type:"spinner/flush"})}}})))((function(e){var t=e.classes,n=e.theme,a=e.children,r=e.messages,l=e.flushSpinner,s=Object(i.useState)(!1),c=Object(ne.a)(s,2),d=c[0],u=c[1];return Object(i.useEffect)((function(){d||(window.addEventListener("popstate",(function(){l()})),u(!0))}),[l,d]),o.a.createElement(h.a,{className:t.container},o.a.createElement(h.a,{id:"spinner",className:t.overlay+" "+(0===r.length?"invisible":""),style:{background:"rgba(0, 0, 0, 0.7)"}},o.a.createElement(h.a,{className:t.progressContainer},o.a.createElement(sc.a,{className:t.progress,color:"secondary"})),o.a.createElement(h.a,{className:t.messagesContainer},o.a.createElement(h.a,{className:t.messages},r.map((function(e){var a=e.uid,i=e.message,l=e.removed,s=e.isError;return o.a.createElement(b.a,{container:!0,key:a,justify:r.filter((function(e){return e.removed})).length>0?"space-between":"center",className:t.messageRow,spacing:2},o.a.createElement(b.a,{item:!0},o.a.createElement(f.a,{color:"secondary"},i," ",!l&&"...")),l&&o.a.createElement(b.a,{item:!0,style:{color:s?n.palette.error.main:n.palette.success.main}},s?o.a.createElement(Et.a,{fontSize:"small"}):o.a.createElement(lc.a,{fontSize:"small"})))}))))),o.a.createElement(h.a,{className:t.childrenContainer,style:{overflow:r.length>0?"hidden":"initial"}},a))})),dc=n(560),uc=n.n(dc),mc=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(d.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){var e=this.props.classes;return this.state.hasError?o.a.createElement("div",{className:e.container,style:{color:"white"}},o.a.createElement("div",null,o.a.createElement(b.a,{container:!0,justify:"center",className:e.icon},o.a.createElement(b.a,{item:!0},o.a.createElement(uc.a,{fontSize:"inherit"}))),o.a.createElement(b.a,{container:!0,justify:"center"},o.a.createElement(b.a,{item:!0},"Something went wrong")),o.a.createElement(b.a,{container:!0,justify:"center",className:e.goHome},o.a.createElement(b.a,{item:!0},o.a.createElement("div",{onClick:function(){st(),window.location.reload()}},"Go to home"))))):this.props.children}}]),n}(o.a.Component),hc=Object(g.a)((function(e){return{container:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",position:"absolute",width:"100%",overflow:"hidden",fontSize:24},icon:{marginBottom:e.spacing(1),fontSize:38},goHome:{marginTop:e.spacing(2),textDecoration:"underline",cursor:"pointer",color:e.palette.secondary.main}}}))(mc),fc=Object(Zs.a)((function(e){var t=e.children,n=e.getPath,a=Object(i.useState)(void 0),r=Object(ne.a)(a,2),l=r[0],s=r[1];return Object(i.useEffect)((function(){fetch("./custom.css").then((function(e){return e.text()})).then((function(e){var t=document.implementation.createHTMLDocument(""),a=document.createElement("style");a.textContent=String(e),t.body.appendChild(a);var i={};Object.values(a.sheet.cssRules).filter((function(e){var t=e.selectorText,a=e.style;return n(t)&&"color"===a[0]&&a.color.length>0&&null!==Gl.a.get.rgb(a.color)})).forEach((function(e){var t=e.selectorText,a=e.style,o=n(t).split("-"),r=i;o.forEach((function(e,t){t===o.length-1?r[e]=Gl.a.to.rgb(Gl.a.get.rgb(a.color)):(r[e]||(r[e]={}),r=r[e])}))})),s(Object($s.a)(Me.a.merge(Me.a.cloneDeep(Xs),i)))}))}),[n]),l?o.a.createElement(i.Fragment,null,o.a.createElement(p.b,null,o.a.createElement("body",{style:"background-color: "+l.palette.primary.main})),o.a.createElement(Qs.a,null),o.a.createElement(Js.a,{theme:l},o.a.createElement(hc,null,o.a.createElement(cc,null,o.a.createElement(ec,null),o.a.createElement(tc,null),o.a.createElement(nc,null),o.a.createElement(oc,null),t)))):null})),gc=Object(H.b)((function(e){return{isA11y:e.app.isA11y}}),(function(e){return{onChange:function(t){return e({type:"app/isA11ySet",payload:{isA11y:t}})}}}))((function(e){var t=e.isA11y,n=e.children,a=e.onChange,r=Object(s.f)(),l="true"===new URLSearchParams(r.search).get("accessible");return Object(i.useEffect)((function(){l!==t&&a(l)}),[l,t,a]),l===t?o.a.createElement("div",{className:t?"a11y":void 0},n):null})),pc=function(e){var t=e.children,n=e.nodeCode,a=e.isA11y;return o.a.createElement(fc,{getPath:function(e){var t=".theme__node__"+n+"__",i=".a11y-theme__node__"+n+"__";return e.startsWith(t)?e.substr(t.length):e.startsWith(".theme__")&&!e.startsWith(".theme__node__")?e.substr(".theme__".length):a&&e.startsWith(i)?e.substr(i.length):!(!a||!e.startsWith(".a11y-theme__")||e.startsWith(".a11y-theme__node__"))&&e.substr(".a11y-theme__".length)}},t)},vc=function(e){var t=e.children,n=e.isA11y;return o.a.createElement(fc,{getPath:function(e){return e.startsWith(".theme__")&&!e.startsWith(".theme__node__")?e.substr(".theme__".length):!(!n||!e.startsWith(".a11y-theme__")||e.startsWith(".a11y-theme__node__"))&&e.substr(".a11y-theme__".length)}},t)},bc=Object(H.b)((function(e){return{hub:e.hub,defaultLanguage:e.app.language,isA11y:e.app.isA11y}}),(function(e){return{fetchHub:function(){return e(ks())},onUserSetPasswordFormShow:function(t){return e(function(e){return{type:"USER_SET_PASSWORD_FORM_SHOW",payload:{token:e}}}(t))}}}))((function(e){var t=e.hub,n=e.fetchHub,a=e.isA11y,r=e.onUserSetPasswordFormShow;Object(i.useEffect)((function(){t||n()}),[t,n]);var l=null===t||void 0===t?void 0:t.nodes.find((function(e){return!0===e.default}));return o.a.createElement(i.Fragment,null,t&&o.a.createElement(Ks.a,null,o.a.createElement(gc,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/",exact:!0,render:function(e){return void 0!==l?o.a.createElement(Ys,{language:e.match.params.lang},o.a.createElement(pc,{nodeCode:l.code,isA11y:a},o.a.createElement(Ws,Object.assign({},e,{nodeCode:l.code,isDefault:!0})))):o.a.createElement(vc,{isA11y:a},o.a.createElement(bs,e))}}),o.a.createElement(s.a,{path:"/:lang",exact:!0,render:function(e){return void 0!==l?o.a.createElement(Ys,{language:e.match.params.lang},o.a.createElement(pc,{nodeCode:l.code,isA11y:a},o.a.createElement(Ws,Object.assign({},e,{nodeCode:l.code,isDefault:!0})))):o.a.createElement(Ys,{language:e.match.params.lang},o.a.createElement(vc,{isA11y:a},o.a.createElement(bs,e)))}}),o.a.createElement(s.a,{path:"/:lang/dashboards",exact:!0,render:function(e){return o.a.createElement(Ys,{language:e.match.params.lang},o.a.createElement(vc,{isA11y:a},o.a.createElement(qs,Object.assign({isDefault:void 0!==l},e))))}}),o.a.createElement(s.a,{path:"/:lang/dashboards/:dashboardId",render:function(e){return o.a.createElement(Ys,{language:e.match.params.lang},o.a.createElement(vc,{isA11y:a},o.a.createElement(qs,Object.assign({},e,{dashboardId:e.match.params.dashboardId,isDefault:void 0!==l}))))}}),o.a.createElement(s.a,{path:"/:lang/resetPassword",render:function(e){var t=new URLSearchParams(e.location.search).get("token");if(t)return o.a.createElement(Ys,{language:e.match.params.lang},o.a.createElement(Zi,{cb:r,cbParam:t},o.a.createElement(vc,{isA11y:a},o.a.createElement(bs,e))));st()}}),o.a.createElement(s.a,{path:"/:lang/:nodeCode",render:function(e){var n=t.nodes.find((function(t){return t.code.toLowerCase()===e.match.params.nodeCode.toLowerCase()}));if(n)return o.a.createElement(Ys,{language:e.match.params.lang},o.a.createElement(pc,{nodeCode:n.code,isA11y:a},o.a.createElement(Ws,Object.assign({},e,{nodeCode:e.match.params.nodeCode,isDefault:(null===l||void 0===l?void 0:l.nodeId)===n.nodeId}))));st()}})))))})),kc=Object(H.b)((function(e){return{language:e.app.language}}))((function(e){var t=e.language;return o.a.createElement(i.Fragment,null,o.a.createElement(p.b,null,o.a.createElement("html",{lang:t})),o.a.createElement(bc,null))})),Cc=(n(876),n(877),n(878),n(879),n(566)),yc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"hub/clear":return null;case K:switch(t.payload.label){case"hub/fetch":return{hub:t.payload.response.hub,nodes:t.payload.response.nodes};default:return e}default:return e}},wc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"node/clear":return null;case K:switch(t.payload.label){case"node/fetch":return t.payload.response;case"node/dataset/csv/fetch":return Object(B.a)({},e);default:return e}default:return e}},Ac=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;Object(c.a)(this,e),this.categoryGroups=void 0,this.datasets=void 0,this.uncategorizedDatasets=void 0,this.nodeId=void 0,this.datasets=n||{},this.categoryGroups=t||[],this.uncategorizedDatasets=a||[],this.nodeId=i||-1}return Object(d.a)(e,[{key:"searchCategories",value:function(e){var t,n=[];return e&&(t=e.text.toLowerCase()),this.categoryGroups.forEach((function(e){t?e.categories.forEach((function(e){e.label.toLowerCase().indexOf(t)>=0&&n.push(e)})):n.push.apply(n,Object(Je.a)(e.categories))})),n}},{key:"searchDataset",value:function(e){return[]}}]),e}(),_c={spinner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{messages:[],timeout:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"spinner/addMessage":return Object(B.a)(Object(B.a)({},e),{},{messages:[].concat(Object(Je.a)(e.messages),[{uid:t.payload.uid,message:t.payload.message,removed:!1}])});case"spinner/removeMessage":return Object(B.a)(Object(B.a)({},e),{},{messages:Object(Je.a)(e.messages.map((function(e){return e.uid!==t.payload.uid?e:Object(B.a)(Object(B.a)({},e),{},{removed:!0,isError:t.payload.isError})})))});case"spinner/setTimeout":return Object(B.a)(Object(B.a)({},e),{},{timeout:t.payload.timeout});case"spinner/clearTimeout":return Object(B.a)(Object(B.a)({},e),{},{timeout:null});case"spinner/flush":return e.timeout&&clearTimeout(e.timeout),Object(B.a)(Object(B.a)({},e),{},{timeout:null,messages:[]});default:return e}},appConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kt:return t.payload.appConfig;default:return e}},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kt:return{baseURL:t.payload.baseURL};default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kt:var n={language:t.payload.defaultLanguage,languages:t.payload.supportedLanguages,isA11y:!1};return Me.a.merge(n)||n;case"app/languageSet":return Object(B.a)(Object(B.a)({},e),{},{language:t.payload.language});case"app/isA11ySet":return Object(B.a)(Object(B.a)({},e),{},{isA11y:t.payload.isA11y});default:return e}},hub:yc,node:wc,nodeTemplatesConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{templates:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"nodeTemplatesConfig/clear":return Object(B.a)(Object(B.a)({},e),{},{templates:null});case K:switch(t.payload.label){case"nodeTemplatesConfig/fetch":return Object(B.a)(Object(B.a)({},e),{},{templates:t.payload.response.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{datasetId:e.datasetId?e.datasetId.split("+").join(","):void 0})}))});default:return e}default:return e}},catalog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"catalog/clear":return null;case K:switch(t.payload.label){case"catalog/fetch":return new Ac(t.payload.response.categoryGroups,t.payload.response.datasetMap,t.payload.response.datasetUncategorized,t.payload.extra.nodeId);default:return e}default:return e}},dataset:Ko,hubConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hub:null,hubDashboards:null,allDashboards:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"hubConfig/clear":return Object(B.a)(Object(B.a)({},e),{},{hub:null});case"hubConfig/dashboards/clear":return Object(B.a)(Object(B.a)({},e),{},{hubDashboards:null});case"hubConfig/dashboards/clearAll":return Object(B.a)(Object(B.a)({},e),{},{allDashboards:null});case K:switch(t.payload.label){case"hubConfig/fetch":return Object(B.a)(Object(B.a)({},e),{},{hub:t.payload.response[0]});case"hubConfig/send":return Object(B.a)(Object(B.a)({},e),{},{hub:null,hubDashboards:null});case"hubConfig/dashboards/fetch":return Object(B.a)(Object(B.a)({},e),{},{hubDashboards:t.payload.response});case"hubConfig/dashboards/fetchAll":return Object(B.a)(Object(B.a)({},e),{},{allDashboards:t.payload.response});case"hubConfig/dashboards/addDashboard":return Object(B.a)(Object(B.a)({},e),{},{allDashboards:null,hubDashboards:null});case"hubConfig/dashboards/removeDashboard":case"hubConfig/dashboards/sendOrders":return Object(B.a)(Object(B.a)({},e),{},{hubDashboards:null});default:return e}default:return e}},nodesConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:null,node:null,nodeDashboards:null,allDashboards:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"nodesConfig/clearNodes":return Object(B.a)(Object(B.a)({},e),{},{nodes:null});case"nodesConfig/clearNode":return Object(B.a)(Object(B.a)({},e),{},{node:null});case"nodesConfig/nodeDashboards/clear":return Object(B.a)(Object(B.a)({},e),{},{nodeDashboards:null});case"nodesConfig/nodeDashboards/clearAll":return Object(B.a)(Object(B.a)({},e),{},{allDashboards:null});case"request/start":switch(t.payload.label){case"nodesConfig/editNode":return Object(B.a)(Object(B.a)({},e),{},{node:null});default:return e}case K:switch(t.payload.label){case"nodesConfig/fetchNodes":return Object(B.a)(Object(B.a)({},e),{},{nodes:t.payload.response});case"nodesConfig/fetchNode":return Object(B.a)(Object(B.a)({},e),{},{node:t.payload.response});case"nodesConfig/createNode":case"nodesConfig/editNode":return Object(B.a)(Object(B.a)({},e),{},{node:null});case"nodesConfig/nodeDashboards/fetch":return Object(B.a)(Object(B.a)({},e),{},{nodeDashboards:t.payload.response});case"nodesConfig/nodeDashboards/fetchAll":return Object(B.a)(Object(B.a)({},e),{},{allDashboards:t.payload.response});case"nodesConfig/nodeDashboards/addDashboard":return Object(B.a)(Object(B.a)({},e),{},{allDashboards:null,nodeDashboards:null});case"nodesConfig/nodeDashboards/removeDashboard":case"nodesConfig/nodeDashboards/sendOrders":return Object(B.a)(Object(B.a)({},e),{},{nodeDashboards:null});default:return e}default:return e}},cacheConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:switch(t.payload.label){case"cache/fetch":return t.payload.response;case"cache/update":var n=(e||[]).map((function(e){return e.id===t.payload.extra.cacheId&&e.nodeId===t.payload.extra.nodeId&&(e.ttl=t.payload.extra.ttl),e}));return n;case"cache/create":var a=(e||[]).map((function(e){return e.dataflowId===t.payload.extra.oldData.dataflowId&&e.nodeId===t.payload.extra.oldData.nodeId&&(e.ttl=t.payload.response.ttl,e.id=t.payload.response.id),e}));return a;case"cache/delete":var i=(e||[]).map((function(e){return e.id===t.payload.extra.cacheId&&e.nodeId===t.payload.extra.nodeId&&(e.cacheSize=0,e.cachedDataflow=0),e}));return i;default:return e}case W:switch(t.payload.label){case"cache/fetch":return null;default:return e}case"cache/clear":return null;default:return e}},otherConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{views:null,needDashboards:!1,dashboards:null,dashboard:null,dashboardViews:null,dashboardJsonStats:null,dashboardLayouts:null,dashboardFilterTrees:null,dashboardMaps:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"otherConfig/clearViews":return Object(B.a)(Object(B.a)({},e),{},{views:null});case"otherConfig/dashboard/views/clear":return Object(B.a)(Object(B.a)({},e),{},{dashboardViews:null});case"otherConfig/clearDashboards":return Object(B.a)(Object(B.a)({},e),{},{dashboards:null});case"otherConfig/dashboard/create":case"otherConfig/dashboard/change":return Object(B.a)(Object(B.a)({},e),{},{dashboard:t.payload.dashboard});case"otherConfig/dashboard/hide":return Object(B.a)(Object(B.a)({},e),{},{dashboard:null});case"otherConfig/dashboard/dataset/clear":return Object(B.a)(Object(B.a)({},e),{},{dashboardJsonStats:null,dashboardMaps:null});case"otherConfig/dashboard/dataset/filter/set":return Object(B.a)(Object(B.a)({},e),{},{dashboardLayouts:Object(B.a)(Object(B.a)({},e.dashboardLayouts),{},Object(L.a)({},t.payload.viewIdx,Object(B.a)(Object(B.a)({},e.dashboardLayouts[t.payload.viewIdx]),{},{layout:Xn(t.payload.dimension,t.payload.value,e.dashboardJsonStats[t.payload.viewIdx],e.dashboardLayouts[t.payload.viewIdx].layout,e.dashboardFilterTrees[t.payload.viewIdx])})))});case"request/init":switch(t.payload.label){case"otherConfig/fetchDashboards":return Object(B.a)(Object(B.a)({},e),{},{needDashboards:!1});case"otherConfig/dashboard/dataset/fetch":var n=Me.a.cloneDeep(e.dashboardJsonStats),a=Me.a.cloneDeep(e.dashboardLayouts),i=Me.a.cloneDeep(e.dashboardFilterTrees);return(t.payload.extra.requestIds||[]).forEach((function(e){n=Object(B.a)(Object(B.a)({},n),{},Object(L.a)({},e,"DASHBOARD_VIEW_STATE_FETCHING")),a=Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e,null)),i=Object(B.a)(Object(B.a)({},i),{},Object(L.a)({},e,null))})),Object(B.a)(Object(B.a)({},e),{},{dashboardJsonStats:n,dashboardLayouts:a,dashboardFilterTrees:i});default:return e}case K:switch(t.payload.label){case"otherConfig/fetchViews":return Object(B.a)(Object(B.a)({},e),{},{views:t.payload.response.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{datasetId:e.datasetId?e.datasetId.split("+").join(","):void 0})}))});case"otherConfig/dashboard/views/fetch":return Object(B.a)(Object(B.a)({},e),{},{dashboardViews:t.payload.response.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{datasetId:e.datasetId?e.datasetId.split("+").join(","):void 0})}))});case"otherConfig/deleteView":return Object(B.a)(Object(B.a)({},e),{},{views:null});case"otherConfig/fetchDashboards":return Object(B.a)(Object(B.a)({},e),{},{dashboards:t.payload.response});case"otherConfig/dashboard/update":var o,r;return Object(B.a)(Object(B.a)({},e),{},{dashboard:Object(B.a)(Object(B.a)({},t.payload.response),{},{dashboardConfig:(null===(o=t.payload.response)||void 0===o?void 0:o.dashboardConfig)?JSON.parse(t.payload.response.dashboardConfig):{},filterLevels:(null===(r=t.payload.response)||void 0===r?void 0:r.filterLevels)?JSON.parse(t.payload.response.filterLevels):{}})});case"otherConfig/dashboard/create":case"otherConfig/dashboard/create/submit":case"otherConfig/dashboard/update/submit":return Object(B.a)(Object(B.a)({},e),{},{needDashboards:!0});case"otherConfig/dashboard/dataset/fetch":var l=Me.a.cloneDeep(e.dashboardJsonStats),s=Me.a.cloneDeep(e.dashboardLayouts),c=Me.a.cloneDeep(e.dashboardFilterTrees);return e.dashboard.dashboardConfig.forEach((function(n,a){n.forEach((function(n,i){var o=ai(a,i);if("view"===n.type&&t.payload.extra.requestIds.includes(o)){var r,d=e.dashboard.views[n.value];if(0===((null===(r=t.payload.response)||void 0===r?void 0:r.id)||[]).length)l[o]="",s[o]=null,c[o]=null;else{var u,m=JSON.parse(d.layouts);u=m.tableLayout?$n(m.tableLayout,t.payload.response):m.mapLayout?Qn(m.mapLayout,t.payload.response):Zn(m.chartLayout,t.payload.response),l[o]=t.payload.response,s[o]={layout:u,tableEmptyChar:m.tableEmptyChar,mapDetailLevel:m.mapDetailLevel,chartStacked:m.chartStacked,chartLegendPosition:m.chartLegendPosition,chartColors:m.chartColors},c[o]=n.enableFilters?Kn(u,t.payload.response):null}}}))})),Object(B.a)(Object(B.a)({},e),{},{dashboardJsonStats:l,dashboardLayouts:s,dashboardFilterTrees:c});case"otherConfig/dashboard/map/geometry/fetch":return Object(B.a)(Object(B.a)({},e),{},{dashboardMaps:Object(B.a)(Object(B.a)({},e.dashboardMaps),{},Object(L.a)({},t.payload.extra.viewIdx,{geometries:t.payload.response,geometryDetailLevels:Ao(t.payload.response,!1,t.payload.extra.t)}))});default:return e}case W:switch(t.payload.label){case"otherConfig/fetchDashboards":return Object(B.a)(Object(B.a)({},e),{},{dashboards:404===t.payload.statusCode?[]:null});case"otherConfig/dashboard/dataset/fetch":var d=Me.a.cloneDeep(e.dashboardJsonStats),u=Me.a.cloneDeep(e.dashboardLayouts),m=Me.a.cloneDeep(e.dashboardFilterTrees);return(t.payload.extra.requestIds||[]).forEach((function(e){d=Object(B.a)(Object(B.a)({},d),{},Object(L.a)({},e,"DASHBOARD_VIEW_STATE_ERROR")),u=Object(B.a)(Object(B.a)({},u),{},Object(L.a)({},e,null)),m=Object(B.a)(Object(B.a)({},m),{},Object(L.a)({},e,null))})),Object(B.a)(Object(B.a)({},e),{},{dashboardJsonStats:d,dashboardLayouts:u,dashboardFilterTrees:m});default:return e}default:return e}},user:Qt,usersConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:null,user:null,userErrors:null,userId:null,setPasswordToken:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"usersConfig/showForm":return Object(B.a)(Object(B.a)({},e),{},{userId:t.payload.userId});case"usersConfig/hideForm":return Object(B.a)(Object(B.a)({},e),{},{user:null,userId:null,userErrors:null});case"usersConfig/clearUsers":return Object(B.a)(Object(B.a)({},e),{},{users:null});case"usersConfig/clearUser":return Object(B.a)(Object(B.a)({},e),{},{user:null});case"request/start":switch(t.payload.label){case"usersConfig/editUser":return Object(B.a)(Object(B.a)({},e),{},{user:null});default:return e}case"USER_REGISTER_MODAL_HIDE":return Object(B.a)(Object(B.a)({},e),{},{userErrors:null});case K:switch(t.payload.label){case"usersConfig/fetchUsers":return Object(B.a)(Object(B.a)({},e),{},{users:t.payload.response});case"usersConfig/fetchUser":return Object(B.a)(Object(B.a)({},e),{},{user:t.payload.response});case"usersConfig/createUser":case"usersConfig/editUser":return t.payload.response.haveError?Object(B.a)(Object(B.a)({},e),{},{userErrors:t.payload.response.errors}):Object(B.a)(Object(B.a)({},e),{},{user:null,userErrors:null,userId:null});case"USER_PASSWORD_SET":case"USER_PASSWORD_CHANGE":return Object(B.a)(Object(B.a)({},e),{},{userErrors:null});default:return e}case W:switch(t.payload.label){case"USER_PASSWORD_SET":case"USER_PASSWORD_CHANGE":return t.payload.response.haveError?Object(B.a)(Object(B.a)({},e),{},{userErrors:t.payload.response.errors}):e;default:return e}default:return e}},dashboard:Ql,nodePermissionsConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{permissions:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"nodePermissionsConfig/clear":return Object(B.a)(Object(B.a)({},e),{},{permissions:null});case K:switch(t.payload.label){case"nodePermissionsConfig/fetch":return{state:e,permissions:t.payload.response};case"nodePermissionsConfig/send":return{permissions:null};default:return e}default:return e}},deleteConflictModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{response:null,onForce:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:var n;return 409===t.payload.statusCode&&t.payload.method===a.DELETE?Object(B.a)(Object(B.a)({},e),{},{response:t.payload.response,onForce:(null===(n=t.payload.extra)||void 0===n?void 0:n.onDeleteConflictForce)||null}):e;case"deleteConflictModal/close":return Object(B.a)(Object(B.a)({},e),{},{response:null,onForce:null});default:return e}}},Sc=function(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(i){var o,r,l,s,c,d=a();return"request/init"===i.type&&"hub/fetch"!==i.payload.label&&"node/fetch"!==i.payload.label&&"USER_REFRESH"!==i.payload.label&&d.user.isAuthenticated&&null!==d.user.tokenReceivedTime&&null!==d.user.tokenTTL&&new Date((new Date).getTime()-d.user.tokenReceivedTime).getMinutes()>=d.user.tokenTTL-1?(c=t({type:"NOP"}),window.error&&window.error.show(e("middlewares.user.sessionExpired")),n({type:"USER_CLEAR"})):c=t(i),(null===(o=i.payload)||void 0===o||null===(r=o.extra)||void 0===r?void 0:r.responseHeaders)&&i.payload.extra.responseHeaders["token-expired"]&&(window.error&&window.error.show(e("middlewares.user.sessionExpired")),n({type:"USER_CLEAR"})),i.type===K&&"USER_REFRESH"===(null===(l=i.payload)||void 0===l?void 0:l.label)&&d.user.delayedRequest&&n(d.user.delayedRequest),i.type!==K||"USER_PASSWORD_CHANGE"!==i.payload.label&&"USER_PASSWORD_SET"!==i.payload.label?i.type===K&&"USER_RESET_PASSWORD_EMAIL_SEND"===i.payload.label?window.error.show(e("middlewares.user.resetPasswordEmailSent"),!1):i.type===K&&"usersConfig/createUser"===i.payload.label&&!i.payload.response.haveError&&(null===(s=i.payload.extra)||void 0===s?void 0:s.isAnonymous)&&window.error.show(e("middlewares.user.userRegisterSuccess"),!1):window.error.show(e("middlewares.user.passwordChangedLoginNecessary"),!1),c}}}},Ec=n(562),Oc=n.n(Ec),Tc=function(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(i){var o=function(t,a){e.onSuccess&&e.onSuccess(t,a.data,{responseHeaders:a.headers}),n(function(e,t,n){return{type:K,payload:Object(B.a)(Object(B.a)({},e),{},{response:t,extra:Object(B.a)(Object(B.a)({},n),e.extra)})}}(t,a.data,{responseHeaders:a.headers,status:a.status}))},r=function(t,a){!e.onGenericError||(null===t||void 0===t?void 0:t.getHideErrorMessage)&&t.getHideErrorMessage(null===a||void 0===a?void 0:a.status)||e.onGenericError(t,null===a||void 0===a?void 0:a.status),n(Q(t,null===a||void 0===a?void 0:a.status,null===a||void 0===a?void 0:a.data,{responseHeaders:null===a||void 0===a?void 0:a.headers}))},l=function(t,a){(null===a||void 0===a?void 0:a.data)&&void 0!==a.data.usedBy?function(t,a){!e.onManagedServerError||(null===t||void 0===t?void 0:t.getHideErrorMessage)&&t.getHideErrorMessage(null===a||void 0===a?void 0:a.status)||e.onManagedServerError(t,a.status,a.data),n(Q(t,a.status,a.data,{responseHeaders:a.headers}))}(t,a):r(t,a)},s=t(i);if("request/init"!==i.type)return s;var c=i;n({type:"request/start",payload:c.payload});var d=c.payload,u=d.method,m=d.url,h=d.data,f=d.baseURL,g=d.contentType,p=d.doNotTransformResponse,v=a().user.token;return Oc.a.request({method:u,url:(f&&f.length>0?f:a().config.baseURL)+m,data:h,headers:{UserLang:a().app.language,Authorization:v?"bearer ".concat(v):void 0,"Content-Type":g||void 0},withCredentials:!0,transformResponse:p?function(e){return e}:void 0}).then((function(e){"2"===e.status.toString()[0]?o(c.payload,e):l(c.payload,e)})).catch((function(e){console.log(e),l(c.payload,e.response)})),s}}}},xc=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){var i,o,r=n(),l=e(a);"request/start"===a.type&&"nodesConfig/deleteNode"===a.payload.label&&(r.node&&r.node.nodeId===(null===(o=a.payload.extra)||void 0===o?void 0:o.nodeId)&&st());if(a.type===K)switch(a.payload.label){case"hubConfig/send":st(),t(ks());break;case"hubConfig/dashboards/addDashboard":case"hubConfig/dashboards/removeDashboard":case"hubConfig/dashboards/sendOrders":t(_t());break;case"nodesConfig/nodeDashboards/addDashboard":case"nodesConfig/nodeDashboards/removeDashboard":case"nodesConfig/nodeDashboards/sendOrders":t(Vn(a.payload.extra.nodeId));break;case"nodesConfig/sendNodesOrder":t(zn());break;case"nodesConfig/editNode":t(zn()),r.node&&r.node.nodeId===a.payload.extra.nodeId&&(st(),t(Es(a.payload.extra.nodeId)));break;case"nodesConfig/createNode":case"nodesConfig/deleteNode":t(zn());break;case"usersConfig/editUser":case"usersConfig/deleteUser":var s;a.payload.response.haveError||(null===(s=a.payload.extra)||void 0===s?void 0:s.isAnonymous)||t(Ce());break;case"usersConfig/createUser":a.payload.response.haveError||(null===(i=a.payload.extra)||void 0===i?void 0:i.isAnonymous)||t(Ce());break;case"otherConfig/deleteView":t(oi());break;case"nodeTemplatesConfig/deleteTemplate":t(xa(a.payload.extra.nodeId));break;case"cache/deleteAll":t(_a(a.payload.extra.nodeId));break;case"cache/deleteCatalog":r.node&&r.node.nodeId===a.payload.extra.nodeId&&(st(),t(Os(a.payload.extra.nodeId)));break;case"otherConfig/dashboard/update/submit":r.dashboard.dashboards&&r.dashboard.dashboards[a.payload.extra.dashboardId]&&t(Yl(a.payload.extra.dashboardId))}return l}}},Pc=n(563),Dc=n.n(Pc),Mc=function(){return function(e){return function(t){var n=e(t);if(t.type===K&&t.payload.extra.fileSave&&("query/log/download"===t.payload.label||"dataset/download/submit"===t.payload.label||"dashboards/dataset/download/submit"===t.payload.label||"node/dataset/csv/fetch"===t.payload.label)){var a,i,o=t.payload.extra.fileSave.name;Dc.a.saveAs(new Blob((null===(a=t.payload)||void 0===a||null===(i=a.extra)||void 0===i?void 0:i.stringifyResponse)?[JSON.stringify(t.payload.response,null,2)]:[t.payload.response],{type:t.payload.extra.fileSave.type}),o)}return n}}},Rc=n(96),Ic=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(a){var i=e(a);return window.language=t().app.language,"app/languageSet"===a.type&&Rc.a.changeLanguage(a.payload.language,(function(){n({type:"hub/clear"}),a.payload.nodeId&&(n({type:"catalog/clear"}),n({type:"node/clear"}))})),i}}},Bc=n(247),Lc=function(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(i){if(("request/start"===i.type||i.type===K||i.type===W)&&i.payload.messages){var o,r,l=i.payload.messages(e);if(l.onStart)"request/start"!==i.type||i.payload.hideSpinner?i.type!==K||(null===(o=i.payload.response)||void 0===o?void 0:o.haveError)?(i.type===W||i.type===K&&(null===(r=i.payload.response)||void 0===r?void 0:r.haveError))&&n(Pt(i.payload.uuid,!0)):n(Pt(i.payload.uuid)):n(xt(i.payload.uuid,l.onStart))}var s=t(i),c=a().spinner;return"spinner/addMessage"===i.type?c.timeout&&(clearTimeout(c.timeout),n({type:"spinner/clearTimeout"})):"spinner/removeMessage"===i.type&&!c.timeout&&c.messages.length>0&&0===c.messages.filter((function(e){return!e.removed})).length&&n({type:"spinner/setTimeout",payload:{timeout:setTimeout((function(){return n({type:"spinner/flush"})}),1e3)}}),s}}}},zc=function(e){return function(t){var n=t.getState;return function(t){return function(a){var i=t(a),o=n();return a.type!==K||"catalog/fetch"!==a.payload.label||o.catalog.uncategorizedDatasets&&0!==o.catalog.uncategorizedDatasets.length||o.catalog.datasets&&0!==Object.keys(o.catalog.datasets).length||window.error.show(e("middlewares.feedback.emptyCatalog")),i}}}},Vc=function(e){return function(t){var n=t.dispatch;return function(t){return function(a){var i,o=t(a);if("dataset/fetch"===(null===a||void 0===a||null===(i=a.payload)||void 0===i?void 0:i.label))if("request/init"===a.type)n({type:"fetch/dataset/async/handler/init"});else if(a.type===K){var r=Object(q.a)();n(xt(r,e("middlewares.fetchDatasetAsyncHandlerMiddlewareFactory.spinners.layoutHandling")));var l=new Worker("./workers/fetchDatasetAsyncHandlerWorker.js");l.onmessage=function(e){var t=e.data,i=t.cellCount,o=t.isTooBigData,s=t.isEmptyData,c=t.isPartialData,d=t.isResponseNotValid,u=t.tableLayout,m=t.mapLayout,h=t.chartLayout,f=t.tableFilterTree,g=t.mapFilterTree,p=t.chartFilterTree;n(function(e,t,n,a,i,o,r,l,s,c,d,u,m,h,f){return{type:"fetch/dataset/async/handler/success",payload:{response:e,statusCode:t,responseHeaders:n,cellCount:a,isTooBigData:i,isEmptyData:o,isPartialData:r,isResponseNotValid:l,tableLayout:s,tableFilterTree:c,mapLayout:d,mapFilterTree:u,chartLayout:m,chartFilterTree:h,worker:f}}}(a.payload.response,a.payload.extra.status,a.payload.extra.responseHeaders,i,o,s,c,d,u,f,m,g,h,p,l)),n(Pt(r))},l.onerror=function(){n(bo()),n(Pt(r,!0)),window.error.show(e("middlewares.fetchDatasetAsyncHandlerMiddlewareFactory.feedback.layoutHandlingError"))},l.postMessage({response:a.payload.response,extra:a.payload.extra})}else a.type===W&&n(bo(a.payload.statusCode));return o}}}},jc=function(e){return function(t){var n=t.getState,a=t.dispatch;return function(t){return function(i){var o,r=t(i);if("dashboards/dataset/fetch"===(null===i||void 0===i||null===(o=i.payload)||void 0===o?void 0:o.label)){var l=i.payload.extra,s=l.dashboardId,c=l.requestIds,d=l.worker;if("request/init"===i.type)a(function(e){return{type:"fetch/dashboard/dataset/async/handler/init",payload:{dashboardId:e}}}(s));else if(i.type===K){var u=n();d.onmessage=function(e){var t=e.data,n=t.dashboardId,i=t.dashboardJsonStats,o=t.dashboardLayouts,r=t.dashboardFilterTrees;a(function(e,t,n,a){return{type:"fetch/dashboard/dataset/async/handler/success",payload:{dashboardId:e,dashboardJsonStats:t,dashboardLayouts:n,dashboardFilterTrees:a}}}(n,i,o,r))},d.onerror=function(){a(Jl(s,c)),window.error.show(e("middlewares.fetchDatasetAsyncHandlerMiddlewareFactory.feedback.layoutHandlingError"))},d.postMessage({dashboardId:s,requestIds:c,response:i.payload.response,dashboard:u.dashboard.dashboards[s]})}else i.type===W&&a(Jl(s,c))}return r}}}},Fc=function(e){var t=e.getState;return function(e){return function(n){var a=e(n);return window.isA11y=t().app.isA11y,a}}},Nc=function(){return"?random="+Math.floor(16777215*Math.random()).toString(16)};(function(e){fetch("./".concat("config.json").concat(Nc())).then((function(e){return e.json()})).then((function(t){var n=t.baseURL;fetch("./".concat("appConfig.json").concat(Nc())).then((function(e){return e.json()})).then((function(t){fetch("".concat(n).concat("hub/minimalInfo")).then((function(e){return e.json()})).then((function(a){var i=a.hub;Promise.all(["en"].concat(Object(Je.a)(i.supportedLanguages)).map((function(e){return fetch("./i18n/".concat(e,".json").concat(Nc())).then((function(e){return-1!==e.headers.get("content-type").indexOf("application/json")?e.json():null})).catch(yo)}))).then((function(a){var o={};["en"].concat(Object(Je.a)(i.supportedLanguages)).forEach((function(e,t){a[t]&&(o[e]={translation:a[t]})}));var r=Object.keys(o);r.length<2?alert("Unable to find translation file for at least one configured language. Please check app configuration and translations file."):i.supportedLanguages.includes("en")||(r=r.filter((function(e){return"en"!==e})),delete o.en);var l=o[i.defaultLanguage]?i.defaultLanguage:r[0];Rc.a.use(Bc.e).init({lng:l,resources:o,returnEmptyString:!1,interpolation:{escapeValue:!1}});var s,c=Object(Cc.a)({reducer:_c,middleware:[Sc(Rc.a.t.bind(Rc.a)),Tc({onGenericError:(s=Rc.a.t.bind(Rc.a),function(){window&&window.error?window.error.show(s("errors.generic")):console.error(s("errors.generic"))})}),Lc(Rc.a.t.bind(Rc.a)),Mc,Yt,Ic,Fc,xc,zc(Rc.a.t.bind(Rc.a)),Vc(Rc.a.t.bind(Rc.a)),jc(Rc.a.t.bind(Rc.a))]});c.dispatch(function(e,t,n,a){return{type:Kt,payload:{baseURL:e,supportedLanguages:t,defaultLanguage:n,appConfig:a}}}(n,r,l,t)),e(c)})).catch(yo)})).catch(yo)})).catch(yo)})).catch(yo)})((function(e){return l.a.render(o.a.createElement(H.a,{store:e},o.a.createElement(kc,null)),document.getElementById("root"))}))}},[[581,1,2]]]);
//# sourceMappingURL=main.66412d5b.chunk.js.map